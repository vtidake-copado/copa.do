@IsTest
private class Test_DataTemplateImportExtension {
    @TestSetup
    static void setupData() {
        List<User> userList = TestDataFactory.createUsers();
        TestUtilities.enableLicenses(2, 2, 2, 2, 2);
        FeatureManagement.setPackageIntegerValue('CBM_Branches', 2);
        PermissionSet ps = [SELECT Id FROM PermissionSet WHERE Name = 'Copado_User'];
        insert new PermissionSetAssignment(AssigneeId = userList[0].Id, PermissionSetId = ps.Id);
    }

    /**
     * Import data template
     */
    @IsTest
    static void importDataTemplate() {
        User sysUser = [SELECT Id, Name, LastName, Email, Username FROM User WHERE Email = 'test1@test1.com' LIMIT 1];
        TestUtilities.assignLicense(String.valueOf(sysUser.Username), true, true, true, true, true);

        System.runAs(sysUser) {
            //Environment creation
            List<Environment__c> envList = TestDataFactory.createEnvironments(3);

            // Org Credential creation
            List<Org__c> orgList = TestDataFactory.createOrgCredentials(3, sysUser.Username, envList);

            Test.startTest();
            PageReference pReference = Page.DataTemplateImport;
            Test.setCurrentPage(pReference);

            pReference.getParameters().put('jsonValue', attachmentBody);
            ApexPages.StandardSetController sc = new ApexPages.StandardSetController(new List<Data_Template__c>());
            DataTemplateImportExtension controller = new DataTemplateImportExtension(sc);

            controller.parseImportedFile();
            System.assertNotEquals(null, controller.templateInformationList);
            System.assertEquals(6, controller.templateInformationList.size());
            String textMessage = controller.getTextMessage();
            System.assertEquals('(6) new records will be created.', textMessage);

            controller.checkValidationCondition();
            Integer pageMessagesSize = controller.getPageMessageSize();
            System.assertEquals(1, pageMessagesSize);

            controller.template.Template_Source_Org__c = orgList[2].Id;
            controller.checkValidationCondition();
            pageMessagesSize = controller.getPageMessageSize();
            System.assertEquals(0, pageMessagesSize);

            controller.getOrgCalloutDataJSON();

            pReference.getParameters().put('errorString', 'There is JS error');
            controller.populateErrorMessages();
            pageMessagesSize = controller.getPageMessageSize();
            System.assertEquals(1, pageMessagesSize);

            Data_Template__c dt = TestDataFactory.createDataTemplate(
                'Account Read-Only Test',
                'Account',
                '1 OR (2 AND (3 OR 4 OR 5) AND 6)',
                orgList[2].Id
            );
            Data_Template__c dt1 = TestDataFactory.createDataTemplate(
                'Account Read-Only Test',
                'Account',
                '1 OR (2 AND (3 OR 4 OR 5) AND 6)',
                orgList[2].Id
            );
            Data_Template__c dt2 = TestDataFactory.createDataTemplate(
                'Contact Read-Only Test',
                'Contact',
                '1 OR (2 AND (3 OR 4 OR 5) AND 6)',
                orgList[2].Id
            );

            insert new List<Data_Template__c>{ dt, dt1, dt2 };
            String tempIds = dt.Id + ',' + dt1.Id + ',' + dt2.Id;
            pReference.getParameters().put('templateIds', tempIds);
            controller.listImportedTemplates();

            pReference.getParameters().put('relTemplateId', dt.Id);
            controller.openRelationTemplate();

            controller.finishImportAndClose();

            DataTemplateImportExtension.TemplateInformation templateInformationWrapper = new DataTemplateImportExtension.TemplateInformation();
            templateInformationWrapper.templateUUId = '44b1b73f-bcc2-443a-8e78-5f25ebd2f163';
            templateInformationWrapper.values = new DataTemplateImportExtension.Values();

            DataTemplateImportExtension.Values valueWrapper = new DataTemplateImportExtension.Values();
            valueWrapper.dataTemplate = new DataTemplateImportExtension.DataTemplate();
            valueWrapper.content = new DataTemplateImportExtension.Content();
            valueWrapper.relationList = new List<DataTemplateImportExtension.RelationTemplateDetails>();

            DataTemplateImportExtension.DataTemplate dataTemplateWrapper = new DataTemplateImportExtension.DataTemplate();
            dataTemplateWrapper.templateName = 'Test';
            dataTemplateWrapper.templateMainObject = 'Test';
            dataTemplateWrapper.templateDescription = 'Test';
            dataTemplateWrapper.templateMatchOwners = false;
            dataTemplateWrapper.templateMatchRecordTypes = false;
            dataTemplateWrapper.templateAttachmentOption = 'Test';
            dataTemplateWrapper.templateContinueOnError = 'Test';
            dataTemplateWrapper.templateBatchSize = 0;
            dataTemplateWrapper.templateQueryLimit = 0;

            DataTemplateImportExtension.RelationTemplateDetails relationTemplateWrapper = new DataTemplateImportExtension.RelationTemplateDetails();
            relationTemplateWrapper.templateId = 'Test';
            relationTemplateWrapper.relationName = 'Test';

            DataTemplateImportExtension.ObjectFields objectFieldsWrapper = new DataTemplateImportExtension.ObjectFields();
            objectFieldsWrapper.name = 'Test';
            objectFieldsWrapper.apiName = 'Test';

            DataTemplateImportExtension.ChildObjects childObjectWrapper = new DataTemplateImportExtension.ChildObjects();
            childObjectWrapper.field = 'Test';
            childObjectWrapper.relationshipName = 'Test';
            childObjectWrapper.childSObject = 'Test';
            childObjectWrapper.childSObjectLabel = 'Test';

            DataTemplateImportExtension.Content contenteWrapper = new DataTemplateImportExtension.Content();
            contenteWrapper.objectFields = new List<DataTemplateImportExtension.ObjectFields>();
            contenteWrapper.parentFields = new List<DataTemplateImportExtension.ObjectFields>();
            contenteWrapper.childObjects = new List<DataTemplateImportExtension.ChildObjects>();

            Test.stopTest();
        }
    }

    private static String attachmentBody = '[{"templateUUId": "44b1b73f-bcc2-443a-8e78-5f25ebd2f163","values": { "dataTemplate": { "templateName": "Main Account Template FO", "templateMainObject": "Account", "templateQueryLimit": null, "templateDescription": null, "templateFilterLogic": "1 OR (2 AND (3 OR 4 OR 5) AND 6)", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": false }, "content": { "objectFields": [ { "name": "FO Currency", "apiName": "FO_Currency__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "External Id", "apiName": "ExternalId__c", "useAsExternalId": true, "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SLA Expiration Date", "apiName": "SLAExpirationDate__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" }, "fieldContentUpdate": "replace", "replaceValueDate": "2019-01-01" }, { "name": "SLA Serial Number", "apiName": "SLASerialNumber__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Upsell Opportunity", "apiName": "UpsellOpportunity__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Number of Locations", "apiName": "NumberofLocations__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Active", "apiName": "Active__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SLA", "apiName": "SLA__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Customer Priority", "apiName": "CustomerPriority__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SIC Description", "apiName": "SicDesc", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Year Started", "apiName": "YearStarted", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "NAICS Description", "apiName": "NaicsDesc", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "NAICS Code", "apiName": "NaicsCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "D-U-N-S Number", "apiName": "DunsNumber", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Clean Status", "apiName": "CleanStatus", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Jigsaw Company ID", "apiName": "JigsawCompanyId", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Data.com Key", "apiName": "Jigsaw", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Site", "apiName": "Site", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Rating", "apiName": "Rating", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" }, "fieldContentUpdate": "replace", "replaceValue": "123" }, { "name": "Account Description", "apiName": "Description", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Ownership", "apiName": "Ownership", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Employees", "apiName": "NumberOfEmployees", "contentValueUpdateValues": { "Replace Value": "replace" }, "fieldContentUpdate": "replace" }, { "name": "Annual Revenue", "apiName": "AnnualRevenue", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Industry", "apiName": "Industry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SIC Code", "apiName": "Sic", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Photo URL", "apiName": "PhotoUrl", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Website", "apiName": "Website", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Account Number", "apiName": "AccountNumber", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" }, "fieldContentUpdate": "scramble" }, { "name": "Account Fax", "apiName": "Fax", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Account Phone", "apiName": "Phone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Shipping Geocode Accuracy", "apiName": "ShippingGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Longitude", "apiName": "ShippingLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Latitude", "apiName": "ShippingLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Country", "apiName": "ShippingCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Zip/Postal Code", "apiName": "ShippingPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping State/Province", "apiName": "ShippingState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping City", "apiName": "ShippingCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Street", "apiName": "ShippingStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Geocode Accuracy", "apiName": "BillingGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Longitude", "apiName": "BillingLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Latitude", "apiName": "BillingLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Country", "apiName": "BillingCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Zip/Postal Code", "apiName": "BillingPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing State/Province", "apiName": "BillingState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing City", "apiName": "BillingCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Street", "apiName": "BillingStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Type", "apiName": "Type", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } } ], "parentObjects": [ { "name": "Parent Account ID", "apiName": "ParentId" } ], "childObjects": [ { "field": "AccountId", "relationshipName": "Opportunities", "childSObject": "Opportunity", "childSObjectLabel": "Opportunity" }, { "field": "AccountId", "relationshipName": "Contacts", "childSObject": "Contact", "childSObjectLabel": "Contact" } ] }, "relationList": [ { "templateUUId": "afc49635-e780-4054-bae7-a8e10e171572", "relationName": "ParentId" }, { "templateUUId": "4d4dbe0a-cdb2-4a3a-b818-22b2351e2c94", "relationName": "Contacts", "childSObject": "Contact" }, { "templateUUId": "5a869bcd-419d-4db9-be4d-f0cd1420f06e", "relationName": "Opportunities", "childSObject": "Opportunity" } ], "filterList": [ { "order": 1, "operator": "e", "fieldName": "AccountNumber", "fieldType": "STRING", "finalValue": "AccountNumber = \'test account\'", "input": "test account" }, { "order": 2, "operator": "e", "fieldName": "IsDeleted", "fieldType": "BOOLEAN", "finalValue": "IsDeleted = true", "input": "true" }, { "order": 3, "operator": "n", "fieldName": "CreatedDate", "fieldType": "DATETIME", "finalValue": "CreatedDate != YESTERDAY", "input": "YESTERDAY" }, { "order": 4, "operator": "m", "fieldName": "SLAExpirationDate__c", "fieldType": "DATE", "finalValue": "SLAExpirationDate__c <= LAST_N_QUARTERS:1", "input": "LAST_N_QUARTERS:n", "numberInput": 1 }, { "order": 5, "operator": "e", "fieldName": "SLAExpirationDate__c", "fieldType": "DATE", "finalValue": "SLAExpirationDate__c = 2019-09-26", "input": "customDate", "dateInput": "2019-09-26" }, { "order": 6, "operator": "g", "fieldName": "FO_Currency__c", "fieldType": "CURRENCY", "finalValue": "FO_Currency__c > 4.0", "numberInput": 4 } ] } }, { "templateUUId": "afc49635-e780-4054-bae7-a8e10e171572", "values": { "dataTemplate": { "templateName": "Parent Account Template FO", "templateMainObject": "Account", "templateQueryLimit": null, "templateDescription": "", "templateFilterLogic": "1", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": true }, "content": { "objectFields": [ { "name": "FO Currency", "apiName": "FO_Currency__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "External Id", "apiName": "ExternalId__c", "useAsExternalId": true, "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SLA Expiration Date", "apiName": "SLAExpirationDate__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SLA Serial Number", "apiName": "SLASerialNumber__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Upsell Opportunity", "apiName": "UpsellOpportunity__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Number of Locations", "apiName": "NumberofLocations__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Active", "apiName": "Active__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SLA", "apiName": "SLA__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Customer Priority", "apiName": "CustomerPriority__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SIC Description", "apiName": "SicDesc", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Year Started", "apiName": "YearStarted", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "NAICS Description", "apiName": "NaicsDesc", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "NAICS Code", "apiName": "NaicsCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Tradestyle", "apiName": "Tradestyle", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "D-U-N-S Number", "apiName": "DunsNumber", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Source", "apiName": "AccountSource", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Clean Status", "apiName": "CleanStatus", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Jigsaw Company ID", "apiName": "JigsawCompanyId", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Data.com Key", "apiName": "Jigsaw", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Site", "apiName": "Site", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Rating", "apiName": "Rating", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Description", "apiName": "Description", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Ticker Symbol", "apiName": "TickerSymbol", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Ownership", "apiName": "Ownership", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Employees", "apiName": "NumberOfEmployees", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Annual Revenue", "apiName": "AnnualRevenue", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Industry", "apiName": "Industry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "SIC Code", "apiName": "Sic", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Photo URL", "apiName": "PhotoUrl", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Website", "apiName": "Website", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Account Number", "apiName": "AccountNumber", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Fax", "apiName": "Fax", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Account Phone", "apiName": "Phone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Shipping Geocode Accuracy", "apiName": "ShippingGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Longitude", "apiName": "ShippingLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Latitude", "apiName": "ShippingLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Country", "apiName": "ShippingCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Zip/Postal Code", "apiName": "ShippingPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping State/Province", "apiName": "ShippingState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping City", "apiName": "ShippingCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Shipping Street", "apiName": "ShippingStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Geocode Accuracy", "apiName": "BillingGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Longitude", "apiName": "BillingLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Latitude", "apiName": "BillingLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Country", "apiName": "BillingCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Zip/Postal Code", "apiName": "BillingPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing State/Province", "apiName": "BillingState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing City", "apiName": "BillingCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Billing Street", "apiName": "BillingStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Type", "apiName": "Type", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Account Name", "apiName": "Name", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } } ], "parentObjects": [], "childObjects": [] }, "relationList": [], "filterList": [] } }, { "templateUUId": "4d4dbe0a-cdb2-4a3a-b818-22b2351e2c94", "values": { "dataTemplate": { "templateName": "Contact FO", "templateMainObject": "Contact", "templateQueryLimit": null, "templateDescription": "", "templateFilterLogic": "1", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": true }, "content": { "objectFields": [ { "name": "Languages", "apiName": "Languages__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Level", "apiName": "Level__c", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Clean Status", "apiName": "CleanStatus", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Jigsaw Contact ID", "apiName": "JigsawContactId", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Data.com Key", "apiName": "Jigsaw", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Photo URL", "apiName": "PhotoUrl", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Is Email Bounced", "apiName": "IsEmailBounced", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Email Bounced Date", "apiName": "EmailBouncedDate", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Email Bounced Reason", "apiName": "EmailBouncedReason", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Last Stay-in-Touch Save Date", "apiName": "LastCUUpdateDate", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Last Stay-in-Touch Request Date", "apiName": "LastCURequestDate", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Contact Description", "apiName": "Description", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Birthdate", "apiName": "Birthdate", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Lead Source", "apiName": "LeadSource", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Assistant\'s Name", "apiName": "AssistantName", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Department", "apiName": "Department", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Title", "apiName": "Title", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Email", "apiName": "Email", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Asst. Phone", "apiName": "AssistantPhone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Other Phone", "apiName": "OtherPhone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Home Phone", "apiName": "HomePhone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Mobile Phone", "apiName": "MobilePhone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Business Fax", "apiName": "Fax", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Business Phone", "apiName": "Phone", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Mailing Geocode Accuracy", "apiName": "MailingGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing Longitude", "apiName": "MailingLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing Latitude", "apiName": "MailingLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing Country", "apiName": "MailingCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing Zip/Postal Code", "apiName": "MailingPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing State/Province", "apiName": "MailingState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing City", "apiName": "MailingCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Mailing Street", "apiName": "MailingStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Geocode Accuracy", "apiName": "OtherGeocodeAccuracy", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Longitude", "apiName": "OtherLongitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Latitude", "apiName": "OtherLatitude", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Country", "apiName": "OtherCountry", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Zip/Postal Code", "apiName": "OtherPostalCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other State/Province", "apiName": "OtherState", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other City", "apiName": "OtherCity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Other Street", "apiName": "OtherStreet", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Full Name", "apiName": "Name", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Salutation", "apiName": "Salutation", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "First Name", "apiName": "FirstName", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Last Name", "apiName": "LastName", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } } ], "parentObjects": [], "childObjects": [] }, "relationList": [], "filterList": [] } }, { "templateUUId": "5a869bcd-419d-4db9-be4d-f0cd1420f06e", "values": { "dataTemplate": { "templateName": "Opportunity FO", "templateMainObject": "Opportunity", "templateQueryLimit": null, "templateDescription": null, "templateFilterLogic": "1", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": true }, "content": { "objectFields": [ { "name": "Private", "apiName": "IsPrivate", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Name", "apiName": "Name", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Description", "apiName": "Description", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Stage", "apiName": "StageName", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Amount", "apiName": "Amount", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Probability (%)", "apiName": "Probability", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Expected Amount", "apiName": "ExpectedRevenue", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Quantity", "apiName": "TotalOpportunityQuantity", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Close Date", "apiName": "CloseDate", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Opportunity Type", "apiName": "Type", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Next Step", "apiName": "NextStep", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Lead Source", "apiName": "LeadSource", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Closed", "apiName": "IsClosed", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Won", "apiName": "IsWon", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Forecast Category", "apiName": "ForecastCategory", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Forecast Category", "apiName": "ForecastCategoryName", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Has Line Item", "apiName": "HasOpportunityLineItem", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Fiscal Quarter", "apiName": "FiscalQuarter", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Fiscal Year", "apiName": "FiscalYear", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Fiscal Period", "apiName": "Fiscal", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Has Open Activity", "apiName": "HasOpenActivity", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Has Overdue Task", "apiName": "HasOverdueTask", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Delivery/Installation Status", "apiName": "DeliveryInstallationStatus__c", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Tracking Number", "apiName": "TrackingNumber__c", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Order Number", "apiName": "OrderNumber__c", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Current Generator(s)", "apiName": "CurrentGenerators__c", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } }, { "name": "Main Competitor(s)", "apiName": "MainCompetitors__c", "contentValueUpdateValues": { "Replace Value": "replace", "Scramble Value": "scramble" } } ], "parentObjects": [ { "name": "Price Book ID", "apiName": "Pricebook2Id" } ], "childObjects": [ { "field": "OpportunityId", "relationshipName": "OpportunityLineItems", "childSObject": "OpportunityLineItem", "childSObjectLabel": "Opportunity Product" } ] }, "relationList": [ { "templateUUId": "d23a522f-e810-4392-8424-d1cbbe457e5a", "relationName": "Pricebook2Id" }, { "templateUUId": "00a666a5-daeb-4449-be21-a60500e21ce0", "relationName": "OpportunityLineItems", "childSObject": "OpportunityLineItem" } ], "filterList": [] } }, { "templateUUId": "d23a522f-e810-4392-8424-d1cbbe457e5a", "values": { "dataTemplate": { "templateName": "Pricebook FO", "templateMainObject": "Pricebook2", "templateQueryLimit": null, "templateDescription": "", "templateFilterLogic": "1", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": true }, "content": { "objectFields": [ { "name": "Is Standard Price Book", "apiName": "IsStandard", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Description", "apiName": "Description", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Active", "apiName": "IsActive", "contentValueUpdateValues": { "Replace Value": "replace" } }, { "name": "Price Book Name", "apiName": "Name", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } } ], "parentObjects": [], "childObjects": [] }, "relationList": [], "filterList": [] } }, { "templateUUId": "00a666a5-daeb-4449-be21-a60500e21ce0", "values": { "dataTemplate": { "templateName": "Opportunity Line Item FO", "templateMainObject": "OpportunityLineItem", "templateQueryLimit": null, "templateDescription": "", "templateFilterLogic": "1", "templateBatchSize": 200, "templateMatchOwners": true, "templateMatchRecordTypes": true, "templateContinueOnError": "Continue deployment until blocker issue", "templateActive": true }, "content": { "objectFields": [ { "name": "Line Description", "apiName": "Description", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Date", "apiName": "ServiceDate", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "List Price", "apiName": "ListPrice", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Sales Price", "apiName": "UnitPrice", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Total Price", "apiName": "TotalPrice", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Quantity", "apiName": "Quantity", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Opportunity Product Name", "apiName": "Name", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Product Code", "apiName": "ProductCode", "contentValueUpdateValues": { "Scramble Value": "scramble", "Replace Value": "replace" } }, { "name": "Sort Order", "apiName": "SortOrder", "contentValueUpdateValues": { "Replace Value": "replace" } } ], "parentObjects": [], "childObjects": [] }, "relationList": [], "filterList": [] } } ]';
}