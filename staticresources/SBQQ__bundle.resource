(()=>{var __webpack_modules__={5418:(t,e,n)=>{var i={"./assets/selection/routes/sb-asset-lookup/AssetLookup.route":716,"./assets/selection/routes/sb-asset-lookup/AssetLookup.route.js":716,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route":1100,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js":1100,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route":7079,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js":7079,"./docgen/sb-docgen-preview/DocgenPreview.route":7220,"./docgen/sb-docgen-preview/DocgenPreview.route.js":7220,"./favorites/sb-favorite-lookup/FavoriteLookup.route":7485,"./favorites/sb-favorite-lookup/FavoriteLookup.route.js":7485,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route":5341,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js":5341,"./products/config/routes/sb-option-lookup/OptionLookup.route":9893,"./products/config/routes/sb-option-lookup/OptionLookup.route.js":9893,"./products/config/routes/sb-product-config/ProductConfig.route":8424,"./products/config/routes/sb-product-config/ProductConfig.route.js":8424,"./products/selection/routes/sb-product-lookup/ProductLookup.route":8965,"./products/selection/routes/sb-product-lookup/ProductLookup.route.js":8965,"./quotes/pages/sb-line-editor/LineEditor.route":5074,"./quotes/pages/sb-line-editor/LineEditor.route.js":5074,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route":2519,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route.js":2519,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route":6473,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js":6473};function o(t){return r(t).then(n)}function r(t){return Promise.resolve().then((()=>{if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}))}o.keys=()=>Object.keys(i),o.resolve=r,o.id=5418,t.exports=o},716:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AssetLookup:()=>b});var i,o=n(1305),r=(n(6190),n(3737),n(6733),n(3345)),s=n(5775),a=n(9497),l=n(9685),d=(n(2758),n(5799),n(461),n(2724),n(566)),c=(n(9229),n(9815));n(549),n(3046),n(9107),n(4589),n(2150),n(5310),n(5677),n(4561);const u=(0,n(1510).f)(i||(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],p||(p=h.slice(0)),i=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(p)}}))));var h,p,f;class b extends((0,s.Q)((0,a.P)(l.T3))){static get is(){return"sb-asset-lookup"}static get properties(){return(0,r.l7)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:Boolean,quote:Object,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},groupKey:{type:String,computed:"getGroupKey(ctx.params)"}},l.T3.properties)}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.preLoadObjects()}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.$.smLoadService.quote=this.quote=t.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=t.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new c.s(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount}.bind(this))}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(){this.$.af.focusFirstField()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}deSelectAll(){this.$.lookupLayout.deSelectAll()}onSelect(){if(this.selectedProducts&&Object.keys(this.selectedProducts).length>0)return this.navigateToAssetUpgradeRoute();this.onCancel()}navigateToAssetUpgradeRoute(){let t={qId:this.lineEditorModel.quote.record.Id,pIds:Object.keys(this.selectedProducts)};return Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),void 0!==this.groupKey&&(t.groupKey=this.groupKey),this.nav("#",t,["asset","upgrade"],!1)}onCancel(){this.spinner=!0;let t={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.$.af.runService(),this.closeDrawer()}bindFilterEnterCallBacks(){this.$.af.enterCallback=this.runSearcher.bind(this)}clearFilterFields(){this.filterData=this.searcher.clearFields()}preLoadObjects(){this.assetLookupObjects=["Asset"]}getGroupKey(){if(void 0!==this.ctx.params)return this.ctx.params.groupKey}clearStackTrace(){this.errors[0]&&(this.error=(0,d.Z)(this.errors))}static get template(){return(0,o.dy)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<sb-describe objects="[[assetLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="AssetLookupServiceProvider.SearchModelLoader" action-id="[[ctx.params.aId]]" error="{{errors}}" send-quote-record="true" line-aggregation-method="getUpgradedAssetIdsAsArray"></sb-search-model-load>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Asset Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t\x3c!--This is the list of records to be upgraded--\x3e\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tclass="main"\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols="[[primaryMobileColumn]]"\n\t\t\t\t\tselection-id-data-path="Id"\n\t\t\t\t\tparent-attributes-path="attributes"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer slot="drawer" class="panel">\n\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t</header>\n\n                \x3c!--this is the filter panel--\x3e\n                <sb-filter-layout id="af"\n                                  send-quote-record="true"\n                                  search-model="{{searchModel}}"\n                                  filter-path="searchFilters"\n                                  filter-delegator="{{searcher}}"\n                                  service-loader="AssetLookupServiceProvider.SearchModelSearcher"\n                                  quote="[[quote]]"\n                                  search-filter-data="{{filterData}}"\n                                  spinner="{{spinner}}"\n                                  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t  error="{{errors}}"\n                ></sb-filter-layout>\n                <paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n                <text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n            </div>\n\t\t</paper-drawer-panel>\n\t\t'])),u)}}customElements.define(b.is,b)},1100:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AssetUpgrade:()=>f});var i,o=n(4253),r=n(9685),s=n(3345),a=n(566),l=n(5775),d=n(1305);const c=(0,n(1510).f)(i||(u=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .title {\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.datatable {\n  position: relative;\n}\n.scrollContent {\n  overflow: auto;\n}\n.upgradeSourceName {\n  padding-top: 30px;\n  padding-left: 20px;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n"],h||(h=u.slice(0)),i=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(h)}}))));var u,h,p;n(5310),n(5677),n(4561),n(8228),n(6190),n(9229),n(1609),n(9294),n(9712),n(4589),n(9277),n(2516),n(2758),n(461),n(2724);class f extends((0,l.Q)(r.T3)){static get is(){return"sb-asset-upgrade"}static get properties(){return(0,s.l7)({upgrades:Array,upgradeSourceMap:Object,upgradeTargetMap:Object,errors:{type:Array,value:[],notify:!0},validationMessages:{type:Array,value:[]},assetHeaderSelectable:{type:Boolean,value:!1}},r.T3.properties)}static get observers(){return["_renderUpgradesObserver(upgrades, recordKeys)","getUpgrades(ctx.params.pIds)"]}connectedCallback(){super.connectedCallback(),this.handleAddProductResponse(),this.handleLineEditorModelResponse(),this.handleSelectionResponse(),this.handleMetaDataResponse()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.initializeServiceSpinners(),this.initializeProperties(),this.preLoadObjects(),this.handleUpgradeSelected()}initializeProperties(){this.upgradeSourceMap={},this.upgradeTargetMap={}}initializeServiceSpinners(){this.$.addProducts.background=!1,this.$.smSelectService.background=!1}onSelect(){let t=this.getSelectedUpgrades();!1!==t&&(this.$.addProducts.products=t)}navigateToLineEditor(){let t=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.ctx.params.qId;this.nav("#",{qId:t},["quote","le"],!1)}_renderUpgradesObserver(t,e){if(void 0!==t&&void 0!==e)return this.renderUpgrades(t,e)}renderUpgrades(){for(let t of this.upgrades){this.upgradeSourceMap[t.record.Product2Id]=this.upgradeSourceMap[t.record.Product2Id]||[],this.upgradeSourceMap[t.record.Product2Id].push({upgradeSelected:!1,Id:t.record.Id,name:t.record.Name}),t._transient_=t._transient_||{},t._transient_.index=this.upgradeSourceMap[t.record.Product2Id].length-1;for(let e of t.availableUpgrades)this.setUpgradeTargetMap(t,e)}this.upgradeResults=this.upgrades}setUpgradeTargetMap(t,e){const n=t.record.Product2Id;this.upgradeTargetMap[e.record.Id]=this.upgradeTargetMap[e.record.Id]||{},this.upgradeTargetMap[e.record.Id][n]=this.upgradeTargetMap[e.record.Id][n]||[],this.upgradeTargetMap[e.record.Id][n].push({upgradeSelected:!1})}getUpgrades(){void 0===this.ctx.params.pIds&&this.navigateToLineEditor(),this.$.smSelectService.selectedProducts=this.ctx.params.pIds.split(",")}getSelectedProducts(){let t=this.getSelectedUpgrades(),e={};for(let n of t||[])e[n.record.Id]={record:n.record,upgradedAssetId:n.upgradedAssetId};return e}applyUpgrades(){let t=this.$.upgrades.getUpgrades();!1!==t&&(this.$.addProducts.products=t)}getSelectedUpgrades(){let t=[],e=[];for(let t of this.upgrades){let e=t._transient_.index;for(let n of t.availableUpgrades){let i=n.record.Id,o=t.record.Product2Id,r=this.upgradeTargetMap[i][o][e],s=this.upgradeSourceMap[o][e];!0!==s.upgradeSelected&&(s.upgradeSelected=r.upgradeSelected,s.upgrade=r.rowData,s.index=e)}}for(let n in this.upgradeSourceMap)for(let i of this.upgradeSourceMap[n])!1!==i.upgradeSelected?t.push({record:i.upgrade,upgradedAssetId:i.Id,index:i.index}):e.push("You must select an upgrade for "+i.name);if(this.validationMessages=e,!(e.length>0))return t}handleUpgradeSelected(){this.addEventListener("selection-changed",function(t){this.ifRadioSelectedClearOtherRadioSelections(t);const e=t.detail.selected,n=t.detail.rowData._transient_.sourceProduct,i=this.upgradeTargetMap[t.detail.rowData.Id][n][t.detail.index];i.upgradeSelected=e,i.rowData=!0===e?t.detail.rowData:void 0}.bind(this))}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(t){let e=[],n=[],i={},r={},s={},a={};t.detail.value.fields.forEach(function(t){let o=t.name;e.push(o),n.push(t.label),i[o]=t.label,r[o]=t,s[t.label.replace(/\W/g,"")]=t.type,a[o]=t.type}.bind(this)),this.headerClassMap=new o.o(Object.keys(s),"Th",s,null,!0).build(),this.rowClassMap=new o.o(e,"Td",a).build(),this.mdMap=r,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=i}.bind(this))}handleAddProductResponse(){this.$.addProducts.addEventListener("psm-response-changed",function(t){void 0!==t.detail.value.quote&&(this.lineEditorModel.quote=t.detail.value.quote,void 0!==t.detail.value.configuredProducts&&t.detail.value.configuredProducts.length>0?this.handleConfigurableProducts(t):this.navigateToLineEditor())}.bind(this))}handleConfigurableProducts(t){let e=t.detail.value,n={},i=this.getConfigProductIds(e);n.qId=t.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(n.groupKey=this.ctx.params.groupKey),n.pId=i,e.selectedProducts=this.getSelectedProducts(),this.nav("#",n,["product","pc"],!1)}getConfigProductIds(t){let e=[];for(let n of t.configuredProducts)e.push(n.record.Id);return e.join(",")}handleLineEditorModelResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.$.addProducts.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.addProducts.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.addProducts.quote=this.$.smSelectService.quote=this.quote=t.detail.value.quote}.bind(this))}handleSelectionResponse(){this.$.smSelectService.useCache=!1,this.$.smSelectService.addEventListener("result-changed",function(t){if(void 0===t.detail.value[0]||!1===Array.isArray(t.detail.value[0].availableUpgrades))return this.navigateToLineEditor();this.upgrades=t.detail.value}.bind(this))}preLoadObjects(){this.assetUpgradeObjects=["Product2"]}get fieldPrefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}ifRadioSelectedClearOtherRadioSelections(t){if(!1===t.detail.selected||void 0===t.detail.selected)return;let e=t.composedPath()[0],n=e.parentElement.querySelectorAll("sb-table-row");for(let t of n)"radio"===t.selectionType&&t!==e&&(t.selected=!1)}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,a.Z)(this.errors))}buildRowDataArray(t){let e=[];for(let n of t.availableUpgrades||[])n.record._transient_=n.record._transient_||{},Object.assign(n.record._transient_,{sourceProduct:t.record.Product2Id,sourceProductIndex:t._transient_.index}),e.push(n);return e}static get template(){return(0,d.dy)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\t\t<sb-describe objects="[[assetUpgradeObjects]]" error="{{errors}}"></sb-describe>\n\t\t\x3c!--field set is static.  doesn\'t have to be, but it was previously built that way--\x3e\n\t\t<sb-field-md id="md" fields=\'["Product2.Name", "Product2.ProductCode", "Product2.Description"]\' error="{{errors}}"></sb-field-md>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-select id="smSelectService" send-quote-record="true" target-group-key="[[ctx.params.groupKey]]" saver="AssetLookupServiceProvider.SearchModelSelector" error="{{errors}}"></sb-search-model-select>\n\t\t\x3c!--TODO: make this common?--\x3e\n\t\t<sb-pc-option-save id="addProducts" cache="searchModel" group-key="[[ctx.params.groupKey]]"></sb-pc-option-save>\n\n\t\t<sb-page-header device>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Asset Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="navigateToLineEditor" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<div class="scrollContent" device>\n\t\t\t\x3c!--first we repeat over each upgrade that was picked from the selection page--\x3e\n\t\t\t<template is="dom-repeat" items="{{upgradeResults}}" as="upgrade">\n\t\t\t\t\x3c!--the name of the record selected to be upgraded--\x3e\n\t\t\t\t<h3 class="upgradeSourceName">[[upgrade.record.Name]]</h3>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t header-class-map="[[headerClassMap]]" selection-type="radio" selectable="[[assetHeaderSelectable]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t\x3c!--we repeat over the available upgrades for the asset that was selected to upgrade--\x3e\n\t\t\t\t\t\t<template is="dom-repeat" items="[[buildRowDataArray(upgrade)]]" as="row">\n\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\trow-data="[[row.record]]"\n\t\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "Product2.Description"]\'\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\tselection-type="radio"\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\troute-source="AssetUpgrade"\n\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\tindex="[[row.record._transient_.sourceProductIndex]]"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),c)}}customElements.define(f.is,f)},3345:(t,e,n)=>{"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return(/^[0-9]/.test(t)?"_"+t:t).replace(/\W/g,"")}function a(t,e){for(let n=0;n<e.length&&t;n++)t=t[e[n]];return t}function l(t,e,n){const i=(t,e,n,r)=>{if(r>=e.length)return n;const s=t?t[e[r]]:void 0;let a=i(s,e,n,r+1);return s===a?t:isNaN(e[r])?function(t,e,n){const i=o({},t);return i[e]=n,i}(t,e[r],a):function(t,e,n){const i=void 0===t?[]:[...t];return i[e]=n,i}(t,e[r],a)};return i(t,e,n,0)}function d(t,e,n){for(let n=0;n<e.length-1;n++)t[e[n]]||(t[e[n]]=isNaN(e[n])?{}:[]),t=t[e[n]];t[e[e.length-1]]=n}function c(t,e){if(t){if(Array.isArray(e))return e.map(((e,n)=>c(t[n],e)));if(e&&"object"==typeof e){const n=o({},t);for(let i in e)n[i]=c(t[i],e[i]);return n}}return void 0===e?t:e}function u(t){let e=t?new Date(t):new Date;return isNaN(e)&&"string"==typeof t&&(e=new Date(t.substring(0,t.length-2)+":00")),e}function h(t,e){const n={attributes:t.attributes};for(let i of e)void 0!==t[i]&&(n[i]=t[i]);return n}function p(t,e,n){const i=new Set(t);for(let t of n)i.has(t.record[e])&&(t.record[e]=null)}n.d(e,{Cg:()=>u,GC:()=>m,NI:()=>y,Rc:()=>_,UK:()=>c,WW:()=>l,Zr:()=>f,eK:()=>h,k2:()=>d,l7:()=>g,og:()=>b,q6:()=>a,u3:()=>p,wC:()=>v,xn:()=>s});class f{static deepEquals(t,e){return"object"==typeof t&&"object"==typeof e?JSON.stringify(t)===JSON.stringify(e):t===e}static deepClone(t){return null==t?t:JSON.parse(JSON.stringify(t))}static pad(t,e,n){return n=n||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(n)+t}static toIsoDate(t){return(t="number"==typeof t?new Date(t):t).getUTCFullYear()+"-"+f.pad(t.getUTCMonth()+1,2)+"-"+f.pad(t.getUTCDate(),2)+"T"+f.pad(t.getUTCHours(),2)+":"+f.pad(t.getUTCMinutes(),2)+":"+f.pad(t.getUTCSeconds(),2)+"Z"}static notifyTopObjects(t,e,n){for(let i of Object.keys(e))t.notifyPath(n+"."+i,e[i])}static arithmeticOperatorConversion(t,e,n){switch((null===t&&void 0===e||void 0===t&&null===e)&&(e=t),"boolean"==typeof t&&("true"===e.toLowerCase()?e=!0:"false"===e.toLowerCase()&&(e=!1)),n){case"equals":return t===e;case"not equals":return t!=e;case"less than":return t<e;case"less or equals":return t<=e;case"greater than":return t>e;case"greater or equals":return t>=e;case"starts with":return(t=t||"").toLowerCase().startsWith(e.toLowerCase());case"ends with":return(t=t||"").toLowerCase().endsWith(e.toLowerCase());case"contains":return(t=t||"").toLowerCase().includes(e.toLowerCase())}}static toHTML(t){return null!=t&&null!=t.replace&&(t=t.replace(/(?:\r\n|\r|\n)/g,"<br>")),t}static horizontalBound(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((()=>{const n=t.getBoundingClientRect().left+t.getBoundingClientRect().width;n>window.innerWidth&&(t.style.left=t.offsetLeft-(n-window.innerWidth)-e+"px")}))}}if(f.Map=Map,!Map||!Map.prototype.get||!Map.prototype.set){let t=document.createElement("iframe");document.body.appendChild(t),f.Map=t.contentWindow.Map,t.parentNode.removeChild(t)}function b(t,e,n){(n=n||this)&&n.classList&&(1!=arguments.length&&null!==e||(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t))}function g(t,e){if(t&&e){var n=Object.getOwnPropertyNames(e);for(let i,o=0;o<n.length&&(i=n[o]);o++){let n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}}return t||e}function m(t){let e=t&&t.getRootNode?t.getRootNode():null;return e?e.host:void 0}function y(t){const e=document.createDocumentFragment();return function t(e,n){let i=e.cloneNode();n.appendChild(i),e.shadowRoot?o(e.shadowRoot.firstChild,i.attachShadow({mode:"open"})):o(e.firstChild,i);function o(e,n){for(;e;)t(e,n),e=e.nextSibling}}(t,e),e.firstChild}function v(t){return t?t+"__":t||""}function _(t){return t.substring(0,15).toUpperCase()}},922:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var i=n(6416);class o{constructor(t){this._quote=t,this._linesByKey=new Map,null!=this._quote.lineItems&&this._quote.lineItems.forEach((t=>{this._linesByKey.set(t.key,t)}));var e="Quote__c"===t.record.attributes.type?"":t.record.attributes.type.slice(0,-8);this._constants=new i.g(e)}mapPriorBundledQuantityByLineKey(){let t={};return null!=this._quote.lineItems&&this._quote.lineItems.forEach((e=>{t[e.key+""]=this._getPriorBundledQuantity(e)})),t}getUpgradedAssetIdsAsArray(){let t=new Set,e=this._constants.UPGRADED_ASSET_FIELD;null!=this._quote.lineItems&&this._quote.lineItems.forEach((n=>{let i=n.record[e];null!=i&&t.add(i)}));let n=[];return t.forEach((t=>{n.push(t)})),n}getExistingProductIdsFromLines(){let t=new Set,e=this._constants.EXISTING_FIELD,n=this._constants.PRODUCT;null!=this._quote.lineItems&&this._quote.lineItems.forEach((i=>{i.record[e]&&t.add(i.record[n])}));let i=[];return t.forEach((t=>{i.push(t)})),i}getSegmentTemplatesByDimensionTypeForGroupKey(t){let e,n,i,o,r={},s=[],a=[],l=[],d=[],c=this._constants.DIMENSION_ID_FIELD,u=this._constants.DIMENSION_FIELD,h=this._constants.TYPE_FIELD,p=this._constants.SEGMENT_KEY_FIELD;return this._quote.lineItems&&this._quote.lineItems.forEach((r=>{if(r.parentGroupKey==t){let t=r.dimensionType||(r.record[c]?r.record[u][h]:null),f=r.record[p];switch(t){case this._constants.TYPE_CUSTOM_DIMENSION:e&&e!=f||(e=f,s.push(r));break;case this._constants.TYPE_YEARLY_DIMENSION:n&&n!=f||(n=f,l.push(r));break;case this._constants.TYPE_MONTHLY_DIMENSION:i&&i!=f||(i=f,a.push(r));break;case this._constants.TYPE_QUARTERLY_DIMENSION:o&&o!=f||(o=f,d.push(r))}}})),r[this._constants.TYPE_CUSTOM_DIMENSION]=s,r[this._constants.TYPE_MONTHLY_DIMENSION]=a,r[this._constants.TYPE_YEARLY_DIMENSION]=l,r[this._constants.TYPE_QUARTERLY_DIMENSION]=d,r}getKeysOfEmptyGroups(){if(!this._quote.lineItemGroups||0==this._quote.lineItemGroups.length)return[];let t=new Set;this._quote.lineItemGroups.forEach((e=>{t.add(e.key)})),this._quote.lineItems&&this._quote.lineItems.forEach((e=>{t.delete(e.parentGroupKey)}));let e=[];return t.forEach((t=>{e.push(t)})),e}_getPriorBundledQuantity(t){let e,n;return this._isCarryoverLine(t)?(e=this._getCarryoverQuantity(t),n=this._linesByKey.get(t.parentItemKey).record[this._constants.QUANTITY_FIELD]):(e=t.record[this._constants.PRIOR_QUANTITY_FIELD],n=this._linesByKey.get(t.parentItemKey)?this._linesByKey.get(t.parentItemKey).record[this._constants.PRIOR_QUANTITY_FIELD]:null),null!=n&&null!=e&&this._optionTypeIsComponent(t)?e/n:e}_isCarryoverLine(t){return 1==t.record[this._constants.CARRYOVER_LINE_FIELD]}_getCarryoverQuantity(t){let e=t.record[this._constants.PRIOR_QUANTITY_FIELD],n=this._linesByKey.get(t.parentItemKey);if(null!=t.sourceLineKey&&n){let i=this._linesByKey.get(t.sourceLineKey);i&&(e=this._getPriorBundledQuantity(i),this._optionTypeIsComponent(i)&&(e*=n.record[this._constants.QUANTITY_FIELD]))}return e}_optionTypeIsComponent(t){let e=t.record[this._constants.OPTION_TYPE_FIELD];return null!=e&&"component"===e.toLowerCase()}}},5775:(t,e,n)=>{"use strict";n.d(e,{Q:()=>u,q:()=>c});var i=n(4473),o=n(1929),r=n(3345);let s,a,l=0,d=0;function c(){return a||(o.I.hasInitialized()||o.I.init(window.sb.userSettings),a=o.I.isPhone?["--phone","--mobile"]:o.I.isTablet?["--tablet","--mobile"]:["--desktop"],a)}const u=(0,i.o)((t=>class extends t{ready(){super.ready&&super.ready();let t=this.shadowRoot.querySelectorAll("*[device]")||[],e=c();for(let n of e){(0,r.og)(n,!0,this);for(let e of t)(0,r.og)(n,!0,e)}this.deviceClasses=e.join(" ")}startPerformanceCheck(){s=performance.now()}stopPerformanceCheck(){var t=performance.now()-s;l+=t,d++,t>1?console.warn("total (".concat(l.toFixed(2),"ms) | current (").concat(t.toFixed(2),"ms) | totalComponents (").concat(d,") | component (").concat(this.tagName.toLowerCase(),")")):console.log("total (".concat(l.toFixed(2),"ms) | current (").concat(t.toFixed(2),"ms) | totalComponents (").concat(d,") | component (").concat(this.tagName.toLowerCase(),")"))}}))},1019:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});const i=(0,n(4473).o)((t=>class extends t{ready(){super.ready&&super.ready()}connectedCallback(){if(super.connectedCallback&&super.connectedCallback(),!this._eventBehaviorInitialized&&this.events){this._eventBehaviorListeners={};for(let t in this.events){let e=this.events[t];if(e&&"function"==typeof e){let n=e.bind(this);this._eventBehaviorListeners[t]=n,window.addEventListener(t,n)}}this._eventBehaviorInitialized=!0}}disconnectedCallback(){if(super.disconnectedCallback&&super.disconnectedCallback(),this._eventBehaviorListeners){for(let t in this._eventBehaviorListeners)window.removeEventListener(t,this._eventBehaviorListeners[t]);this._eventBehaviorInitialized=!1}}}))},8205:(t,e,n)=>{"use strict";n.d(e,{M:()=>i});const i=(0,n(4473).o)((t=>class extends t{static get properties(){return{variant:{type:String,value:""},applyFocus:{type:Boolean,observer:"_applyFocus"}}}_applyFocus(){this.applyFocus&&this.focus()}}))},2576:(t,e,n)=>{"use strict";n.d(e,{J:()=>i});const i=(0,n(4473).o)((t=>class extends t{connectedCallback(){super.connectedCallback(),this._polymerSet=this._polymerSet||this.set,this.set=this._set}_set(t,e){this.get(t)===e?this.notifyPath(t):this._polymerSet(t,e)}}))},9497:(t,e,n)=>{"use strict";n.d(e,{P:()=>i});const i=(0,n(4473).o)((t=>class extends t{ready(){super.ready&&super.ready(),this.handleProductsLoadServerResponse(),this.handleHideSearchFilterIfNoSearchColumnsDisplayed(),this.bindFilterEnterCallBacks()}handleHideSearchFilterIfNoSearchColumnsDisplayed(){this.addEventListener("no-displayed-filters",function(){this.removeFilter()}.bind(this))}}))},5234:(t,e,n)=>{"use strict";n.d(e,{S:()=>r});var i=n(4473),o=n(834);const r=(0,i.o)((t=>class extends t{observeNode(t,e){this._nodeObservers=this._nodeObservers||[],this._nodeObservers.push(new o.o(t,e))}disconnectedCallback(){if(super.disconnectedCallback&&super.disconnectedCallback(),this._nodeObservers){for(const t of this._nodeObservers)t.disconnect();this._nodeObservers=[]}}}))},7953:(t,e,n)=>{"use strict";n.d(e,{G:()=>i});class i{constructor(t){this.upgradeHandler=t}setQuantitiesByRatio(){let t,e,n=this.upgradeHandler.isSourceLine();n?(t=this.upgradeHandler.getLine(),e=this._getUpgrade(t,null)):(e=this.upgradeHandler.getLine(),t=this._getSource(null,e)),t&&e&&(this.upgradeHandler.setSourceAndUpgrade(t,e),this._setAutomaticQuantity(t,e,n))}_getSource(t,e){return this.upgradeHandler.getSourceOrUpgrade(t,e)}_getUpgrade(t,e){return this.upgradeHandler.getSourceOrUpgrade(t,e)}_setAutomaticQuantity(t,e,n){let i=this._getUpgradeRatio(t,e,this.upgradeHandler.getSourceIdField(),this.upgradeHandler.getUpgradeConversionRateField());if(null==i)return;let o=this.upgradeHandler.getSourceCurrentQuantityField(t),r=this.upgradeHandler.getUpgradeCurrentQuantityField(e),s=i.split(":")[0],a=i.split(":")[1],l=o,d=r,c=this.upgradeHandler.getSourcePriorQuantity(t);o<0?(t.invalidQuantity=o,t.validQuantity=0):r<0&&(e.invalidQuantity=r,e.validQuantity=0),this.upgradeHandler.didSourceQuantityChange(n,t,e)?d=a/s*(c-o):this.upgradeHandler.didUpgradeQuantityChange(n,t)&&(l=c-r*(s/a)),l<0?(l=0,this.upgradeHandler.isSelected(e)&&(d=c*(a/s),r>d&&(e.invalidQuantity=r,e.validQuantity=d))):d<0&&(d=0,this.upgradeHandler.isSelected(t)&&(l=c,o>l&&(t.invalidQuantity=o,t.validQuantity=l))),this.upgradeHandler.setUpdatedQuantity(t,e,l,d)}_getUpgradeRatio(t,e,n,i){for(let o in e.upgradeSourcesBySourceProductId)if(o===t.record[n])return e.upgradeSourcesBySourceProductId[o][i]}}},1929:(t,e,n)=>{"use strict";n.d(e,{I:()=>c,M:()=>d});var i=n(1305),o=n(4799);let r={},s={},a={},l=window&&window.sb||{};function d(t,e){return o.o.localize(t,e)}l.ui=l.ui||{},l.common=l.common||{},l.common.core=l.common.core||{},window.sb=l;class c extends i.H3{ready(){super.ready()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}static init(t){return c.buildUserAndOrgFromSettings(t),c.device="desktop",navigator.userAgent.match(/Tablet|iPad|iPod/i)&&!navigator.userAgent.match(/Tablet PC/i)||navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobi/i)?c.device="tablet":navigator.userAgent.match(/Mobi/i)&&(c.device="phone"),new Promise(((t,e)=>{let n={labels:o.o.getLabels(),user:s};o.o.init(null,n.labels,c.org.currencySymbol,s.locale),t(n)}))}static hasInitialized(){return!0===c.userAndOrgSettingsSet}static buildUserAndOrgFromSettings(t){t&&(c.userAndOrgSettingsSet=!0,c.user={lang:t.language,locale:t.locale,id:t.userId,fullname:t.fullName,username:t.userName,device:t.device,inCommunity:t.inCommunity,hasQuoteEditPermission:t.hasQuoteEditPermission,oik:t.oik},c.org={prefix:void 0!==t.developerPrefix?t.developerPrefix:"",scPrefix:void 0!==t.scDeveloperPrefix?t.scDeveloperPrefix:"",isMultiCurrencyOrg:t.isMultiCurrencyOrg,isServiceCloudEnabled:t.isServiceCloudEnabled,calculateImmediately:t.calculateImmediately,defaultCurrency:t.defaultCurrency,currencySymbol:t.currencySymbol,currencyDecimalScale:t.currencyDecimalScale,quantityScale:t.quantityScale,isOAuth:t.isOAuth,orgUrl:t.orgUrl,orgInstanceUrl:t.orgInstanceUrl,siteUrl:t.siteUrl,additionalLookupSearchTypes:t.additionalLookupSearchTypes,maxLookupSearchFields:t.maxLookupSearchFields,isJSProductRulesEnabled:t.isJSProductRulesEnabled,hasQuoteSelectionProductRules:t.hasQuoteSelectionProductRules,isUI3Enabled:!0,isBundleCollapsible:t.isBundleCollapsible,defaultBundleSetting:t.defaultBundleSetting,apiVersion:57,isPricingGuidanceEnabled:t.isPricingGuidanceEnabled,isCompactModeEnabled:t.isCompactModeEnabled,isManualEditsForUBPEnabled:t.isManualEditsForUBPEnabled,isColumnResizingEnabled:t.isColumnResizingEnabled,viewEncryptedDataEnabled:t.viewEncryptedDataEnabled,hideFeatureNoOptionEnabled:t.hideFeatureNoOptionEnabled,externalConfiguratorNestedBundlesEnabled:t.externalConfiguratorNestedBundlesEnabled,hideProductSearchBarEnabled:t.hideProductSearchBar})}static get properties(){return{app:{type:Object,value:function(){return{user:s,labels:o.o.getLabels(),org:r,deviceContext:{isDesktop:c.isDesktop,isTablet:c.isTablet,isPhone:c.isPhone,isMobile:c.isPhone||c.isTablet}}}},i18n:{type:Object,value:function(){return o.o}}}}get user(){return s}get labels(){return o.o.getLabels()}get org(){return r}static get user(){return s}static get labels(){return o.o.getLabels()}static get org(){return r}static get device(){return a}static set user(t){s=t}static set org(t){r=t}static set device(t){a=t}static get isDesktop(){return s.device?"desktop"===s.device:"desktop"===a}static get isTablet(){return s.device?"tablet"===s.device:"tablet"===a}static get isPhone(){return s.device?"phone"===s.device:"phone"===a}static isIE(){let t=window.navigator.userAgent;return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}static isChrome(){return window.navigator.userAgent.indexOf("Chrome")>=0}static isFirefox(){return window.navigator.userAgent.indexOf("Firefox")>=0}static isSafari(){let t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0}static get apiVersion(){return c.org.apiVersion}static get apiVersionString(){return c.org.apiVersion+".0"}static set apiVersion(t){c.org.apiVersion=t}static get i18n(){return o.o}static get isMobile(){return c.properties.app.value().deviceContext.isMobile}static isBundleCollapsible(t){return c.org.isBundleCollapsible&&!this.isMobile&&t.data.settings.bundleKeptTogether&&t.largeQuoteExperienceEnabled&&t.isProductHierarchyVisualized()}static get defaultBundleSetting(){return c.org.defaultBundleSetting}static get isPricingGuidanceEnabled(){return c.org.isPricingGuidanceEnabled}static get isCompactModeEnabled(){return c.org.isCompactModeEnabled}static get isManualEditsForUBPEnabled(){return c.org.isManualEditsForUBPEnabled}static get isColumnResizingEnabled(){return c.org.isColumnResizingEnabled}static get viewEncryptedDataEnabled(){return c.org.viewEncryptedDataEnabled}static get isHideFeatureNoOptionEnabled(){return c.org.hideFeatureNoOptionEnabled}static get isExternalConfiguratorNestedBundlesEnabled(){return c.org.externalConfiguratorNestedBundlesEnabled}}l.common.core.AppContext=c},4166:(t,e,n)=>{"use strict";n.d(e,{BX:()=>o,FU:()=>r,oG:()=>a,oW:()=>s,zW:()=>i});const i=Object.freeze({AUTO_LAUNCH_POPUP:"sf-auto-launch-popup",BUILD_LAYOUT:"sf-build-layout",CLEAR_PRODUCT_FILTER:"sf-clear-product-filter",CLOSE_GROUP_PANEL:"sf-close-group-panel",CLOSE_LOOKUP_DIALOG:"sf-close-lookup-dialog",COL_WIDTHS_CHANGED:"sf-col-widths-changed",DELETE_GROUPS:"sf-delete-groups",DESELECT_CHECKBOX:"sf-deselect-checkbox",GROUP_ADDED:"sf-group-added",GROUP_DELETED:"sf-group-deleted",GROUP_EXPANDED:"sf-group-expanded",GROUP_PANEL_CREATED:"sf-group-panel-created",GROUP_PANEL_TOGGLED:"sf-group-panel-toggled",GROUP_TOGGLED:"sf-group-toggled",IRON_LIST_RESIZED:"sf-iron-list-resized",LINE_SPLICE_COMPLETE:"sf-line-splice-complete",NAVIGATION_CHANGED:"sf-navigation-changed",OPEN_LOOKUP_DIALOG:"sf-open-lookup-dialog",OPEN_RTE_DIALOG:"sf-open-rte-dialog",OPEN_SEARCH_BAR_DIALOG:"sf-open-search-bar-dialog",PAGE_RESIZED:"sf-page-resized",PANEL_CLOSED:"sf-panel-closed",QUOTE_SAVED:"sf-quote-saved",REFRESH_LINE_ACTIONS:"sf-refresh-line-actions",REFRESH_TABLE:"sf-refresh-table",RENDER_NEW_TAB:"sf-render-new-tab",RESET_ON_ACTION:"sf-reset-on-action",RESET_COL_SIZES:"sf-reset-col-sizes",ROWS_RENUMBERED:"sf-rows-renumbered",SCHEDULE_ACTION:"sf-schedule-action",SORT_LINES_REQUIRED:"sf-sort-lines-required",TOGGLE_OPTIONAL_CLICKED:"sf-toggle-optional-clicked",TOGGLE_PANEL_CLICKED:"sf-toggle-panel-clicked",UPDATE_IRON_LIST:"sf-update-iron-list",VIEWPORT_CHANGED:"sf-viewport-changed",UBP_ROW_REFRESH:"sf-ubp-row-refresh",TOGGLE_QUICKSAVE:"sf-toggle-quicksave",COL_SIZE_ERR:"sf-col-size-err",GENERIC_ERROR:"sf-generic-error",MDQ_LINE_DELETED:"sf-mdq-line-deleted"});function o(t,e){t&&window&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent(t,{detail:e}))}function r(t){return new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}function s(t,e){t&&t.addEventListener&&e&&Object.entries(e).map((e=>{let[n,i]=e;null!=n&&null!=i&&t.addEventListener(n,t[i])}))}function a(t,e){t&&t.removeEventListener&&e&&Object.entries(e).map((e=>{let[n,i]=e;null!=n&&null!=i&&t.removeEventListener(n,t[i])}))}},4799:(t,e,n)=>{"use strict";n.d(e,{o:()=>f});var i=n(4127),o=n(3345);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let l,d,c,u,h=new o.Zr.Map,p=new o.Zr.Map;class f{static init(t,e,n,i){u=t,d=e,l=n,c=i}static getLabels(){return(window&&window.sb||{}).labels||i.w}static localize(t,e){let n=f.getLabels()[t]||t;return/{[0-9]}/.test(n)&&e&&e.length>0&&(n=function(t,e){for(let n=0,i=e.length;n<i;n++)t=t.replace(new RegExp("{["+n+"]}","g"),e[n]);return t}(n,e)),n}static l(t,e){return f.localize(t,e)}static addLocaleData(t){t&&(u=t)}static getLocaleData(t){return u}static format(t,e,n){let i=e||{},r=m(n);if(t||0==t){if(t instanceof Date||i.date)return g(r,s(s({},i),{},{timeZone:"UTC"}),!0).format((0,o.Cg)(t));{let e=g(r,i,!1).format(t);return"currency"===i.style&&(e=function(t,e){let n;if("XXX"===t.currency)if(e.includes("XXX")){const t=e.indexOf("XXX");n=e.substr(0,t)+l+e.substring(t+3)}else n=l+e;else{let i;"code"===t.currencyDisplay&&(i=e.indexOf("-")>-1,i&&(e=e.replace("-","")));const o=i?" -":"";n=e.replace(t.currency,t.currency+o)}return n=b(n,160," "),n=b(n,164," "),n.trim()}(i,e)),e}}return""}static formatTime(t,e){let n=m(e);if(null!=t){const e=new Date("1970-01-01T".concat(t));if(!isNaN(e))return e.toLocaleTimeString(n,{timeZone:"UTC",hour:"numeric",minute:"numeric"})}return""}static parseTime(t){const e=/\d?\d:\d\d *(am)?(pm)?/i;if(e.test(t)){t=t.match(e)[0]+" UTC";const n=new Date("1970/01/01 ".concat(t));if(!isNaN(n))return n.toISOString().split("T")[1]}return null}}function b(t,e,n){if(t.indexOf(String.fromCharCode(e))>-1){const i=new RegExp(String.fromCharCode(e),"g");return t.replace(i,n)}return t}function g(t,e,n){let i=null;if(t&&e){let r=n?h.get(t):p.get(t);if(!r){r=new o.Zr.Map,(n?h:p).set(t,r)}let s=JSON.stringify(e);i=r.get(s),i||(i=n?new Intl.DateTimeFormat(t,e):new Intl.NumberFormat(t,e),r.set(s,i))}return i}function m(t){let e=(t||{}).locale||c;return"no-NO"===e?"nb-NO":e}},8401:(t,e,n)=>{"use strict";n.d(e,{C:()=>a});let i=[""],o=[["product","lookup"]];class r{static push(t,e){this._trackHistory(t,e)&&(i[0]=t)}static pop(){return i[0]}static popPath(){return this._parsePath(this.pop())}static resetHistory(){i=[""]}static _trackHistory(t,e){let n=this._parsePath(t),i=this._parsePath(e);if(n[0]!==i[0])return!0;for(let t of o)if(n[0]===t[0]&&n[1]===t[1])return!0;return!1}static _parsePath(t){let e=0===t.indexOf("#/")?2:1;return(t=t.substring(e,t.length)).split("?")[0].split("/")}}var s=n(4166);class a{static nav(t,e,n,i,o){let s=this._getLocation(e,n,t);r.push(window.location.hash,s),this._nav(o,s,t)}static back(t,e,n){let i=r.pop();i&&i!==window.location.hash||(i=this._getLocation(e,n)),this._nav(t,i)}static getPreviousRoute(){return r.popPath().join("/")}static _getLocation(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",i=e?e.length:0,o=t?Object.keys(t):[],r=o.length;if(e)for(let t=0;t<i;t++)null!=e[t]&&null!=e[t]&&""!=e[t]&&(n+="/"+encodeURIComponent(e[t]));for(let e=0;e<r;e++)n+=0==e?"?":"&",n+=encodeURIComponent(o[e])+"="+encodeURIComponent(t[o[e]]);return n}static _nav(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";(0,s.BX)(s.zW.NAVIGATION_CHANGED,{url:n,location:e}),window.location.hash=e}}},9685:(t,e,n)=>{"use strict";n.d(e,{T3:()=>a});var i=n(1361),o=n(1929),r=n(8401),s=window&&window.sb||{};s.ui=s.ui||{},s.common=s.common||{},s.common.core=s.common.core||{},window.sb=s;class a extends o.I{ready(){super.ready()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}nav(t,e,n,i){r.C.nav(t,e,n,i,this)}static get properties(){return{ctx:{type:Object,value:function(){return{}}},viewport:{type:Object,value:function(){return i._.getViewport()}}}}}},2758:(t,e,n)=>{"use strict";var i=n(1305),o=n(1929),r=n(4799);class s extends i.H3{static get is(){return"sb-i18n"}static get properties(){return{locale:{type:String,notify:!1,value:function(){return""}},key:{type:String,notify:!1},value:{type:String,value:null},values:{type:Array,value:[]}}}static get observers(){return["_localizeObserver(key, value, values)"]}connectedCallback(){super.connectedCallback(),this.key=this.key?this.key:this.innerHTML,/{[0-9]}/.test(this.innerHTML)&&(this.innerHTML="")}_localizeObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.localize(t,e,n)}localize(){this.innerHTML=this.l(this.key,this.value?[this.value]:this.values)}l(t,e){return r.o.localize(t,e)}format(t,e){return r.o.format(t,e,o.I.user)}formatTime(t){return r.o.formatTime(t,o.I.user)}parseTime(t){return r.o.parseTime(t)}}customElements.define(s.is,s)},5799:(t,e,n)=>{"use strict";var i=n(1305),o=n(1361);class r extends i.H3{static get is(){return"sb-loading-spinner"}static get properties(){return{show:{type:Boolean,value:!1,observer:"toggle"},isReady:{type:Boolean,value:!1},previousState:{type:Boolean,value:!1}}}ready(){super.ready(),this.isReady=!0}disconnectedCallback(){super.disconnectedCallback(),!1!==this.previousState&&o._.toggleSpinner(!1)}toggle(t){!0!==this.isReady&&!1===t||t!==this.previousState&&(o._.toggleSpinner(t),this.previousState=t)}}customElements.define(r.is,r)},1361:(t,e,n)=>{"use strict";n.d(e,{_:()=>O});var i=n(1305),o=n(8544),r=n(1929),s=n(4166);n(9862),n(9287);let a,l,d=/:[a-z0-9_$]*/g;class c extends i.H3{static get is(){return"sb-router"}static get properties(){return{autoHash:{type:Boolean,value:function(){return!1}},route:{type:String,observer:"routeChanged"},router:{type:Object,readOnly:!0,value:function(){return a||(a=new window.Router),a}}}}init(t){this.router.init();let e=Object.keys(t);if(!l&&e.length){l=t;let n=this.router,i=e?e.length:0;for(let t=0;t<i;t++){let i=e[t],o=Object.keys(l[i]),r=o?o.length:0;for(let t=0;t<r;t++){let e=o[t],r=e?e.match(d):null,s=[],a={};r&&(s=r.map((function(t,e){let n=t.substring(1);return a[n]=null,n}))),n.on(i+e,function(t,e,n,i){let o=JSON.parse(JSON.stringify(i)),r=Array.prototype.slice.call(arguments,4),s=r?r.length:0;for(let t=0;t<s;t++)o[n[t]]=r[t];this.routeHandler(t,e,o)}.bind(this,i,e,s,a))}}n.on("/*",(function(){console.log("got an unknown route. need to show 404 here")})),n.on("",(function(){console.log("Got the <empty> route")}))}}routeHandler(t,e,n){let i=window.location.hash.slice(1),o=i.indexOf("?"),r={};o>=0&&i.length>o&&(r=queryString.parse(i.substring(o+1))),this.dispatchEvent((0,s.FU)("sb-route-complete",{mod:t,path:e,route:l[t][e],pathParams:n,params:r}))}routeChanged(t,e){if(this.autoHash&&t){let e=window.location.hash.slice(1)==this.route;window.location.hash=this.route,e&&this.router.dispatch("on",t)}}}customElements.define(c.is,c);var u;n(2724),n(9929);const h=(0,n(1510).f)(u||(p=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbPageBgColor);\n  font-family: var(--sbPageFontFamily);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  overflow: auto;\n  font-size: var(--sbFontSizeDefault);\n  color: var(--sbFontColor, #3C3D3E);\n  border-color: var(--sbPageBorderColor);\n}\n:host #content {\n  height: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n'],f||(f=p.slice(0)),u=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));var p,f,b;n(5310);let g=480,m=800,y=1024,v=1200,_=window.matchMedia("screen and (max-width: 480px)"),w=window.matchMedia("screen and (min-width: 481px) and (max-width: 800px)"),x=window.matchMedia("screen and (min-width: 801px) and (max-width: 1024px)"),C=window.matchMedia("screen and (min-width: 1025px) and (max-width: 1200px)"),k=window.matchMedia("screen and (min-width: 1201px)"),S=0;class O extends i.H3{static get properties(){return{route:String,allRoutes:{type:Object,observer:"_allRoutesChanged"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return this._buildViewport(_.matches,w.matches,x.matches,C.matches,k.matches)}}}}static get is(){return"sb-page-container"}_buildViewport(t,e,n,i,o){let s={XS:{},S:{},M:{},L:{},XL:{},current:function(){return this.XS.only?{size:"XS",window:[0,g]}:this.S.only?{size:"S",window:[481,m]}:this.M.only?{size:"M",window:[801,y]}:this.L.only?{size:"L",window:[1025,v]}:this.XL.only?{size:"XL",window:[v,1e4]}:void 0},isMobile:function(){return this.isPhone()||this.isTablet()},isPhone:function(){return r.I.isPhone},isTablet:function(){return r.I.isTablet},isDesktop:function(){return r.I.isDesktop}};return s.XS.only=t&&!e&&!n&&!i&&!o,s.XS.down=s.XS.only,s.XS.up=t||e||n||i||o,s.S.only=!t&&e&&!n&&!i&&!o,s.S.down=(t||e)&&!n&&!i&&!o,s.S.up=!t&&(e||n||i||o),s.M.only=!t&&!e&&n&&!i&&!o,s.M.down=(t||e||n)&&!i&&!o,s.M.up=!t&&!e&&(n||i||o),s.L.only=!t&&!e&&!n&&i&&!o,s.L.down=(t||e||n||i)&&!o,s.L.up=!t&&!e&&!n&&(i||o),s.XL.only=!t&&!e&&!n&&!i&&o,s.XL.down=!0,s.XL.up=s.XL.only,s}ready(){super.ready(),this._setupViewportListeners()}renderPage(t,e,i){if(e.route.comp&&""!=e.route.comp){let t={};t.params=e.params,t.pathParams=e.pathParams;const i=function(t,e){return"<"+t.route.comp+" ctx='"+JSON.stringify(e)+"'></"+t.route.comp+">"}(e,t);e.route.mod?n(5418)("./"+e.route.mod).then((t=>{this._updateContent(i)})).catch((function(t){console.log(t),console.log(t.originalErr)})):this._updateContent(i)}else this.$.ajax.url=e.route.view,this.$.ajax.url&&this.$.ajax.go()}_updateContent(t){this.$.content.innerHTML=t,this._viewportChanged(),(0,o.y)(),this._updateThemeVariables()}_updateThemeVariables(t){const{userTheme:e}=window.__vfsettings||{};if(e){const t=this.$.content.firstChild.shadowRoot.querySelector("style");t&&(t.innerText+=window.atob(e))}}_allRoutesChanged(t){this.$.router.init(t)}_viewportChanged(){let t=this.$.content.querySelector("*:first-child");t&&(t.viewport=this.viewport),setTimeout(function(){(0,s.BX)(s.zW.VIEWPORT_CHANGED,{viewport:this.viewport})}.bind(this),10)}_setupViewportListeners(){var t=this;function e(e){e.matches&&(t.viewport=t._buildViewport(_.matches,w.matches,x.matches,C.matches,k.matches))}_.addListener(e),w.addListener(e),x.addListener(e),C.addListener(e),k.addListener(e)}static getContainer(){return document.querySelector("#"+O.domId)}static getViewport(){let t=O.getContainer();return t?t.viewport:null}static isMobile(){const t=O.getViewport();return t&&t.isMobile()}static toggleSpinner(t){S+=!0===t?1:-1;const e=O.getContainer();null!==e&&(e.$.spinner.show=S>0)}static get template(){return(0,i.dy)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<style id="topLevelStyle"></style>\x3c!-- used for themes --\x3e\n\n\t\t\t\x3c!-- Route controller --\x3e\n\t\t\t<sb-router id="router" route="[[route]]" on-sb-route-complete="renderPage" auto-hash></sb-router>\n\t\t\t<sb-toast id="errorToast" type="error"></sb-toast>\n\t\t\t<sf-loading-spinner id="spinner" class="loadingSpinner" show="true"></sf-loading-spinner>\n\n\t\t\t<div style="max-width:100%;" id="content"></div>\n\t\t'])),h)}}O.domId="sbPageContainer",customElements.define(O.is,O)},461:(t,e,n)=>{"use strict";n.d(e,{m:()=>mt});var i,o=n(1305),r=n(1361),s=n(4166),a=n(5775),l=n(1019),d=n(3345),c=(n(5310),n(5677),n(1510));const u=(0,c.f)(i||(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background: var(--sbPageHeaderBgColor);\n  width: 100%;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .sticker {\n  background-color: #5876a3;\n  height: 25px;\n  width: 350px;\n  margin-bottom: 10px;\n  margin-top: -10px;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border-width: 5px;\n  border-radius: 5px;\n  text-align: center;\n  padding-top: 3px;\n  display: none;\n}\n:host .eptLabel,\n:host .bptLabel,\n:host .sptLabel {\n  color: white;\n  padding: 5px 5px 5px 5px;\n  font-size: var(--sbTableRowFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n  display: inline;\n}\n.header {\n  min-height: var(--sbPageHeaderMinHeight);\n  padding-top: var(--sbPageHeaderPaddingTop);\n  padding-right: var(--sbPageHeaderPaddingRight);\n  padding-bottom: var(--sbPageHeaderPaddingBottom);\n  padding-left: var(--sbPageHeaderPaddingLeft);\n}\n.header[class*='--mobile'] {\n  z-index: 2;\n}\n[class*='--mobile'] .header {\n  z-index: 2;\n}\n.header [hidden] {\n  display: none !important;\n}\n.header[class*='--mobile'] {\n  background-color: transparent;\n}\n[class*='--mobile'] .header {\n  background-color: transparent;\n}\n.header .centered {\n  margin-top: 7px;\n}\n#icon {\n  padding-top: 6px;\n}\n.titles {\n  padding-top: 3px;\n  line-height: 1.25;\n}\n#full-title {\n  display: none;\n}\n#full-title[class*='--mobile'] {\n  display: block;\n  position: absolute;\n  white-space: nowrap;\n}\n[class*='--mobile'] #full-title {\n  display: block;\n  position: absolute;\n  white-space: nowrap;\n}\n#buttons[class*='--mobile'] {\n  z-index: 99999 !important;\n}\n[class*='--mobile'] #buttons {\n  z-index: 99999 !important;\n}\n#buttons.normal {\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n}\n#buttons:not(.normal) {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 100;\n  display: none;\n}\n#buttons:not(.normal).open {\n  display: block;\n}\n#buttons:not(.normal).autoLaunch {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n}\n#searchbar {\n  position: relative;\n  text-align: right;\n}\n#searchbar[class*='--mobile'] {\n  left: 18px;\n  position: absolute;\n  top: 70px;\n  width: calc(96% - 48px);\n}\n[class*='--mobile'] #searchbar {\n  left: 18px;\n  position: absolute;\n  top: 70px;\n  width: calc(96% - 48px);\n}\n#menuButton > .sf-icon-down {\n  margin: -10px;\n  font-size: var(--sbIcon16);\n}\n#menuButton:active {\n  background-color: #f0f2f5;\n  color: #005FB2;\n}\n#fullScreenMode {\n  margin: 7px 0 0 10px;\n}\n"],p||(p=h.slice(0)),i=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(p)}}))));var h,p,f;n(6679),n(6190),n(2674),n(8741),n(9713),n(8719);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const b=(0,c.d)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  <style css-build=\"shadow\">html {\n  --paper-font-common-base_-_font-family:  'Roboto', 'Noto', sans-serif;\n--paper-font-common-base_-_-webkit-font-smoothing:  antialiased;;\n\n      --paper-font-common-code_-_font-family:  'Roboto Mono', 'Consolas', 'Menlo', monospace;\n--paper-font-common-code_-_-webkit-font-smoothing:  antialiased;;\n\n      --paper-font-common-expensive-kerning_-_text-rendering:  optimizeLegibility;;\n\n      --paper-font-common-nowrap_-_white-space:  nowrap;\n--paper-font-common-nowrap_-_overflow:  hidden;\n--paper-font-common-nowrap_-_text-overflow:  ellipsis;;\n\n      \n\n      --paper-font-display4_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display4_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display4_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-display4_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-display4_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-display4_-_font-size:  112px;\n--paper-font-display4_-_font-weight:  300;\n--paper-font-display4_-_letter-spacing:  -.044em;\n--paper-font-display4_-_line-height:  120px;;\n\n      --paper-font-display3_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display3_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display3_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-display3_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-display3_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-display3_-_font-size:  56px;\n--paper-font-display3_-_font-weight:  400;\n--paper-font-display3_-_letter-spacing:  -.026em;\n--paper-font-display3_-_line-height:  60px;;\n\n      --paper-font-display2_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display2_-_font-size:  45px;\n--paper-font-display2_-_font-weight:  400;\n--paper-font-display2_-_letter-spacing:  -.018em;\n--paper-font-display2_-_line-height:  48px;;\n\n      --paper-font-display1_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-display1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-display1_-_font-size:  34px;\n--paper-font-display1_-_font-weight:  400;\n--paper-font-display1_-_letter-spacing:  -.01em;\n--paper-font-display1_-_line-height:  40px;;\n\n      --paper-font-headline_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-headline_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-headline_-_font-size:  24px;\n--paper-font-headline_-_font-weight:  400;\n--paper-font-headline_-_letter-spacing:  -.012em;\n--paper-font-headline_-_line-height:  32px;;\n\n      --paper-font-title_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-title_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-title_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-title_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-title_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-title_-_font-size:  20px;\n--paper-font-title_-_font-weight:  500;\n--paper-font-title_-_line-height:  28px;;\n\n      --paper-font-subhead_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-subhead_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-subhead_-_font-size:  16px;\n--paper-font-subhead_-_font-weight:  400;\n--paper-font-subhead_-_line-height:  24px;;\n\n      --paper-font-body2_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-body2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-body2_-_font-size:  14px;\n--paper-font-body2_-_font-weight:  500;\n--paper-font-body2_-_line-height:  24px;;\n\n      --paper-font-body1_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-body1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-body1_-_font-size:  14px;\n--paper-font-body1_-_font-weight:  400;\n--paper-font-body1_-_line-height:  20px;;\n\n      --paper-font-caption_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-caption_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-caption_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-caption_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-caption_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-caption_-_font-size:  12px;\n--paper-font-caption_-_font-weight:  400;\n--paper-font-caption_-_letter-spacing:  0.011em;\n--paper-font-caption_-_line-height:  20px;;\n\n      --paper-font-menu_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-menu_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-menu_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-menu_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-menu_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-menu_-_font-size:  13px;\n--paper-font-menu_-_font-weight:  500;\n--paper-font-menu_-_line-height:  24px;;\n\n      --paper-font-button_-_font-family:  var(--paper-font-common-base_-_font-family);\n--paper-font-button_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);\n--paper-font-button_-_white-space:  var(--paper-font-common-nowrap_-_white-space);\n--paper-font-button_-_overflow:  var(--paper-font-common-nowrap_-_overflow);\n--paper-font-button_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);\n--paper-font-button_-_font-size:  14px;\n--paper-font-button_-_font-weight:  500;\n--paper-font-button_-_letter-spacing:  0.018em;\n--paper-font-button_-_line-height:  24px;\n--paper-font-button_-_text-transform:  uppercase;;\n\n      --paper-font-code2_-_font-family:  var(--paper-font-common-code_-_font-family);\n--paper-font-code2_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);\n--paper-font-code2_-_font-size:  14px;\n--paper-font-code2_-_font-weight:  700;\n--paper-font-code2_-_line-height:  20px;;\n\n      --paper-font-code1_-_font-family:  var(--paper-font-common-code_-_font-family);\n--paper-font-code1_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);\n--paper-font-code1_-_font-size:  14px;\n--paper-font-code1_-_font-weight:  500;\n--paper-font-code1_-_line-height:  20px;;\n}\n\n</style>\n"])));b.setAttribute("style","display: none;"),document.head.appendChild(b.content);n(1883);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const g=document.createElement("template");g.setAttribute("style","display: none;"),g.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style scope="paper-dialog-shared-styles">:host {\n  display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        font-family: var(--paper-font-body1_-_font-family);\n -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n font-size: var(--paper-font-body1_-_font-size);\n font-weight: var(--paper-font-body1_-_font-weight);\n line-height: var(--paper-font-body1_-_line-height);\n        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);\n        ;\n}\n\n:host > ::slotted(*) {\n  margin-top: 20px;\n        padding: 0 24px;\n}\n\n:host > ::slotted(.no-padding) {\n  padding: 0;\n}\n\n:host > ::slotted(*:first-child) {\n  margin-top: 24px;\n}\n\n:host > ::slotted(*:last-child) {\n  margin-bottom: 24px;\n}\n\n:host > ::slotted(h2) {\n  position: relative;\n        margin: 0;\n\n        font-family: var(--paper-font-title_-_font-family);\n -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n white-space: var(--paper-font-title_-_white-space);\n overflow: var(--paper-font-title_-_overflow);\n text-overflow: var(--paper-font-title_-_text-overflow);\n font-size: var(--paper-font-title_-_font-size);\n font-weight: var(--paper-font-title_-_font-weight);\n line-height: var(--paper-font-title_-_line-height);\n        ;\n}\n\n:host > ::slotted(h2:first-child) {\n  margin-top: 24px;\n        ;\n}\n\n:host > ::slotted(h2:last-child) {\n  margin-bottom: 24px;\n        ;\n}\n\n:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {\n  position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);\n justify-content: var(--layout-end-justified_-_justify-content);\n}\n\n</style>\n  </template>\n</dom-module>',document.head.appendChild(g.content);var m=n(8458),y=n(8591),v=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const _={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(t,e){e&&(t?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(t){this.closingReason=this.closingReason||{},this.closingReason.confirmed=t},_onDialogClick:function(t){for(var e=(0,v.vz)(t).path,n=0,i=e.indexOf(this);n<i;n++){var o=e[n];if(o.hasAttribute&&(o.hasAttribute("dialog-dismiss")||o.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(o.hasAttribute("dialog-confirm")),this.close(),t.stopPropagation();break}}}},w=[y.$,_];var x;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,n(1440).k)({_template:(0,c.d)(x||(x=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-dialog">:host {\n  display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        font-family: var(--paper-font-body1_-_font-family);\n -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n font-size: var(--paper-font-body1_-_font-size);\n font-weight: var(--paper-font-body1_-_font-weight);\n line-height: var(--paper-font-body1_-_line-height);\n        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);\n        ;\n}\n\n:host > ::slotted(*) {\n  margin-top: 20px;\n        padding: 0 24px;\n}\n\n:host > ::slotted(.no-padding) {\n  padding: 0;\n}\n\n:host > ::slotted(*:first-child) {\n  margin-top: 24px;\n}\n\n:host > ::slotted(*:last-child) {\n  margin-bottom: 24px;\n}\n\n:host > ::slotted(h2) {\n  position: relative;\n        margin: 0;\n\n        font-family: var(--paper-font-title_-_font-family);\n -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n white-space: var(--paper-font-title_-_white-space);\n overflow: var(--paper-font-title_-_overflow);\n text-overflow: var(--paper-font-title_-_text-overflow);\n font-size: var(--paper-font-title_-_font-size);\n font-weight: var(--paper-font-title_-_font-weight);\n line-height: var(--paper-font-title_-_line-height);\n        ;\n}\n\n:host > ::slotted(h2:first-child) {\n  margin-top: 24px;\n        ;\n}\n\n:host > ::slotted(h2:last-child) {\n  margin-bottom: 24px;\n        ;\n}\n\n:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {\n  position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);\n justify-content: var(--layout-end-justified_-_justify-content);\n}\n\n</style>\n    <slot></slot>\n']))),is:"paper-dialog",behaviors:[w,m.t],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});n(6733),n(5969);var C,k=n(707);n(549),n(7308),n(6175),n(6802);const S=(0,c.f)(C||(C=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  cursor: default;\n}\nsb-lookup[class*='--desktop'] {\n  --sb-lookup-pill-container-min-height: 2.125rem;\n  --sb-lookup-pill-container-min-width: 440px;\n  --sb-lookup-pill-text-min-width: 405px;\n}\nsb-lookup[class*='--desktop']::shadow #typeahead::shadow #itemLabel {\n  width: 440px;\n  min-height: 2.125rem;\n}\nsb-lookup[class*='--desktop']::shadow #typeahead::shadow #selector {\n  min-width: 440px;\n}\nsb-dialog[class*='--desktop'] {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerzIndex: 10002;\n  --sbDialogContainerTransform: translate(0, 0);\n}\nsb-toast[class*='--desktop'] {\n  --sbToastzIndex: 10003;\n}\n.separator[class*='--desktop'] {\n  margin: 1rem 0 0 0;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid #d8dde6;\n}\n.headerDetails[class*='--desktop'] {\n  height: initial;\n  position: relative;\n  background-color: #ffffff;\n  padding: 0.75rem 0 1rem 0;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n}\n.headerDetails[class*='--desktop'] .name {\n  display: block;\n  position: relative;\n  font-size: 1rem;\n  font-weight: 300;\n  margin-bottom: 0.25rem;\n  color: #16325c;\n}\n.headerDetails[class*='--desktop'] .numResults {\n  font-size: 0.75rem;\n  font-weight: 400;\n  color: #54698d;\n}\n#tbody[class*='--desktop'] {\n  overflow: auto;\n  display: block;\n}\n[class*='--desktop'] sb-lookup {\n  --sb-lookup-pill-container-min-height: 2.125rem;\n  --sb-lookup-pill-container-min-width: 440px;\n  --sb-lookup-pill-text-min-width: 405px;\n}\n[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #itemLabel {\n  width: 440px;\n  min-height: 2.125rem;\n}\n[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #selector {\n  min-width: 440px;\n}\n[class*='--desktop'] sb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerzIndex: 10002;\n  --sbDialogContainerTransform: translate(0, 0);\n}\n[class*='--desktop'] sb-toast {\n  --sbToastzIndex: 10003;\n}\n[class*='--desktop'] .separator {\n  margin: 1rem 0 0 0;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--desktop'] .headerDetails {\n  height: initial;\n  position: relative;\n  background-color: #ffffff;\n  padding: 0.75rem 0 1rem 0;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n}\n[class*='--desktop'] .headerDetails .name {\n  display: block;\n  position: relative;\n  font-size: 1rem;\n  font-weight: 300;\n  margin-bottom: 0.25rem;\n  color: #16325c;\n}\n[class*='--desktop'] .headerDetails .numResults {\n  font-size: 0.75rem;\n  font-weight: 400;\n  color: #54698d;\n}\n[class*='--desktop'] #tbody {\n  overflow: auto;\n  display: block;\n}\n.datatable {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\nsb-dialog {\n  --sbDialogContentHeight: none;\n}\n#tbody[class*='--mobile'] {\n  -webkit-overflow-scrolling: touch;\n}\n.content[class*='--mobile'] {\n  background: #f0f1f2;\n}\n.separator[class*='--mobile'] {\n  display: none;\n}\n.numResults[class*='--mobile'] {\n  display: none;\n}\nh2.headerDetails[class*='--mobile'] {\n  width: 100%;\n  border-top: 1px solid #d8dde6;\n  background-color: #f4f6f9;\n}\nh2[class*='--mobile'] > .name {\n  display: block;\n  font-weight: bold;\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n}\nsb-lookup[class*='--mobile'] {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContentOverflow: hidden;\n}\n[class*='--mobile'] #tbody {\n  -webkit-overflow-scrolling: touch;\n}\n[class*='--mobile'] .content {\n  background: #f0f1f2;\n}\n[class*='--mobile'] .separator {\n  display: none;\n}\n[class*='--mobile'] .numResults {\n  display: none;\n}\n[class*='--mobile'] h2.headerDetails {\n  width: 100%;\n  border-top: 1px solid #d8dde6;\n  background-color: #f4f6f9;\n}\n[class*='--mobile'] h2 > .name {\n  display: block;\n  font-weight: bold;\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] sb-lookup {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContentOverflow: hidden;\n}\niron-list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n"])));var O,I=n(1929),E=(n(2758),n(2724),n(9929),n(8011),n(9229),n(9712),n(9470),n(6067)),T=n(4253);n(2596),n(8560),n(1609),n(9294),n(4298);const M="CPQ_Lookup",B="CPQ_Lookup_Search",P=["string","picklist","multipicklist"],D=P.concat(["textarea","date","datetime","int","number","currency","percent","double","reference"]);class A extends((0,a.Q)(o.H3)){static get is(){return"sb-lookup-dialog"}static get properties(){return{value:{type:String,value:null},label:String,tableName:String,tableLabel:String,fieldLabel:String,labelName:String,selectedLabel:String,searchValue:String,metadata:Object,numResults:Number,results:Object,invoker:{type:Object,observer:"initialize"},isOAuth:{type:Boolean,value:function(){return!!I.I.org&&I.I.org.isOAuth}},openSpinner:{type:Boolean,value:!1},recordSpinner:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return r._.getViewport()}},isMobile:{type:Boolean,computed:"_isMobile(viewport)"},hideCancel:{type:Boolean,computed:"_hideCancel(isMobile, openSpinner, recordSpinner)"},layoutFields:{type:Array,value:[]},searchFields:{type:Array,value:[]},lookupSearchTypes:{type:Array,value:function(){return P.concat(I.I.org?I.I.org.additionalLookupSearchTypes:[])}},maxSearchFields:{type:Number,value:function(){return I.I.org?I.I.org.maxLookupSearchFields:1}},fieldSetPrefix:{type:String,value:function(){return I.I.org.prefix?I.I.org.prefix+"__":""}},i18n:{type:Object,value:function(){return I.I.properties.i18n.value()}}}}static get observers(){return["_getMetadataObserver(tableName, viewport)","_processCPQLayoutFieldsObserver(fieldSets, i18n)"]}ready(){super.ready(),this.addEventListener("sb-close-dialog",this.cancel.bind(this)),this.addEventListener("lookup-value-changed",this.setValues.bind(this)),this.$.field.addEventListener("md-changed",this.processListFields.bind(this)),this.addEventListener("sb-link-tapped",this.updateLookup.bind(this)),this.setResultsHeightHandler=this.setResultsHeight.bind(this),window.addEventListener("resize",this.setResultsHeightHandler),this.$.list.assignParentResizable({stopResizeNotificationsFor:function(){window.removeEventListener("resize",this.setResultsHeightHandler)}.bind(this),_interestedResizables:[],_subscribeIronResize:()=>{}})}initialize(){this.invoker&&(this.labelName=this.invoker.labelName,this.label=this.invoker.label,this.selectedLabel=this.invoker.selectedLabel,this.tableName=this.invoker.tableName,this.fieldLabel=this.invoker.fieldLabel,this.currentRecordFilters=this.invoker.currentRecordFilters,this.controllingFields=this.invoker.controllingFields,this.record=this.invoker.record,this.hasFilter=!(this.currentRecordFilters&&Object.keys(this.currentRecordFilters).length>0&&I.I.apiVersion<39)&&this.invoker.hasFilter,this.fieldFullName=this.invoker.fieldFullName)}open(t){this.$.dialog.toggle(),this.invoker.dialogOpened(),this.$.lookup.$.typeahead.blurred=!0,this.$.lookup.$.typeahead.hasList=!1,this.$.lookup.$.typeahead.labelValue=t,this.invoker.$.typeahead.$.itemLabel.blur(),this.searchValue=t}cancel(){this.close()}saveAndDeferredClose(){this.syncSelection(),this.deferredClose()}save(){this.syncSelection(),this.close()}syncSelection(){this.invoker.value=void 0,this.invoker.label=this.label,this.invoker.value=this.value}clearAndSave(){this.label="",this.value=null,this.save()}close(){this.$.dialog.toggle(),this.$.lookup.$.typeahead.suggest({}),this.invoker.dialogClosed(),this.reset(),this.clearSelected()}deferredClose(){setTimeout(function(){this.close()}.bind(this),350)}reset(){this.value=null,this.label=null,this.results=null,this.tableLabel=null,this.fieldLabel=null,this.fieldFullName=void 0,this.hasFilter=!1,this.currentRecordFilters=null,this.controllingFields=null,this.record=null,this.tableName=null,this.numResults=0,this.metadata=void 0,this.layoutFields=[],this.searchFields=[],this.$.header.cols=void 0,this.$.header.$.header.destroyGroup(),this.$.fs.response=null,this.$.fs.context=void 0,this.invoker=null,this.errors=null}setValues(t){this.value=t.detail.value,this.label=t.detail[this.labelName]}updateLookup(t){this.label=void 0,this.value=t.detail.Id,this.label=this.getSelectedLabelValueById(t.detail.Id)}getSelectedLabelValueById(t){for(let e of this.results)if(e.Id===t)return e[this.selectedLabel]}_getMetadataObserver(t,e){if(void 0!==t&&void 0!==e)return this.getMetadata(t,e)}getMetadata(){this.tableName&&(this.openSpinner=!0,this.$.fs.context={fieldSets:[{tableName:this.tableName,name:M},{tableName:this.tableName,name:B}]})}initSearchFieldsAndReturnOnesNotInLayout(t,e){let n=[],i=this.getCpqLookupSearchFields(t);if(!i)return n;this.searchFields=i.names;let o=i.fields;for(let t of o)t!==this.tableName+"."+this.selectedLabel&&-1===e.indexOf(t)&&n.push(t);return n}_processCPQLayoutFieldsObserver(t,e){if(void 0!==t&&void 0!==e)return this.processCPQLayoutFields(t,e)}processCPQLayoutFields(t){if(!t)return;if(this.tableLabel=t[0].tableLabel,this.isMobile)return void this.initMobileMetadata();let e=this.getCpqLookupLayoutFields(t);e||(e={fields:[],names:[]},this.warnUserAboutCPQLayoutFieldSet());let n=this.getNameFieldIfOmittedFrom(e.fields);n&&(e.fields=[n.field].concat(e.fields),e.names.push(n.name)),this.layoutFields=e.names;let i=this.initSearchFieldsAndReturnOnesNotInLayout(t,e.fields),o=e.fields.concat(i);this.$.field.fields=o}processListFields(t){let e=t.detail.value.fields,n=[],i=[],o={},r={},s={},a=[];for(let t=0,l=e.length;t<l;t++){let l=e[t],d={type:l.type,link:0===t};-1!==this.layoutFields.indexOf(l.name)&&(n.push(l.name),i.push(l.label)),o[l.name]=l.type,r[l.name]=d,l.scale&&(r[l.name].scale=l.scale),s[l.label.replace(/\W/g,"")]=l.type,"reference"!==l.type&&"id"!==l.type||a.push({name:l.name,table:l.referenceTo[0]})}this.headerClassMap=new T.o(Object.keys(s),"Th",s,null,!0).build(),this.rowClassMap=new T.o(n,"Td",o).build();let l=this.sanitizeAdditionalSearchFields(r);this.metadata={fieldNames:n,fieldLabels:i,fieldTypeObjByName:r,fieldsOfTypeLookup:a,additionalSearchFields:l},this.querySearchResults()}sanitizeAdditionalSearchFields(t){let e=0,n=0,i=[];for(let o of this.searchFields){if(o===this.selectedLabel){n=1;continue}let r=t[o].type;if(-1!==this.lookupSearchTypes.indexOf(r)&&-1!==D.indexOf(r)&&(i.push(o),++e===this.maxSearchFields))break}return i.length<this.searchFields.length-n&&this.warnUserAboutSanitizedCPQSearchFieldSet(i),i}querySearchResults(){this.recordSpinner=!this.openSpinner;let t=new E.v(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,101,this.currentRecordFilters,this.record,!1,this.metadata).build(this.searchValue,!0,!0);this.$.query.query({soql:t}).then(this.handleSearchResults.bind(this,100))}handleSearchResults(t,e){this.clearSelected();let n=e.totalSize>t?"+":"",i=Math.min(t,e.totalSize);this.numResults=i+n,this.results=this.getResults(e,t),this.recordSpinner=!1,this.openSpinner=!1,this.isMobile&&(this.$.tbody.style.overflow=null),(0,k.T8)(this,function(){this.setResultsHeight()}.bind(this))}getResults(t,e){let n=t.records,i=t.totalSize,o=this.isMobile&&n.length>i,r=o?n.pop():null;for(;i>e;)n.pop(),i--;return o&&r&&r[this.selectedLabel]&&""!==r[this.selectedLabel]&&(n.push(r),n[i][this.selectedLabel]=r[this.selectedLabel]),n}setResultsHeight(){let t=this.isMobile?document.documentElement.clientHeight:this.$.dialog.shadowRoot.querySelector("#footer").offsetTop,e=t-this.$.tbody.offsetTop,n=e<this.$.tbody.scrollHeight?e+"px":null;this.$.tbody.style.height=n;let i=t-this.$.datatable.offsetTop+"px";this.$.datatable.style.height=i;let o=this.$.spinner.shadowRoot.querySelector("#mask");o.style.height=e+"px",this.isMobile?this.$.tbody.style.overflow="auto":o.style.marginLeft="-24px",(0,k.T8)(this,function(){this.shadowRoot.querySelector("#list").notifyResize()}.bind(this))}getCpqLookupLayoutFields(t){return this.getCpqLookupFields(t,!1)}getCpqLookupSearchFields(t){return this.getCpqLookupFields(t,!0)}getCpqLookupFields(t,e){let n=[],i=[];for(let o of t){if(!this.validCPQFieldSet(o,e))continue;let t=o.displayedFields,r=t?t.constructor===Array?t:[t]:[];for(let t of r){let e=t.field||t;1===e.split(".").length&&(i.push(e),n.push(this.tableName+"."+e))}return{fields:n,names:i}}return null}validCPQFieldSet(t,e){return!(e||t.label!==M&&t.fullName!==this.fieldSetPrefix+M)||!(!e||t.label!==B&&t.fullName!==this.fieldSetPrefix+B)}getNameFieldIfOmittedFrom(t){if(-1===t.indexOf(this.tableName+"."+this.selectedLabel))return{field:this.tableName+"."+this.selectedLabel,name:this.selectedLabel}}warnUserAboutCPQLayoutFieldSet(){this.errors=[this.i18n.l("FieldSetWarning",[this.tableLabel])]}warnUserAboutSanitizedCPQSearchFieldSet(t){console.warn("The ".concat(this.tableLabel,".").concat(this.fieldSetPrefix).concat(B," field set either contains fields of unsupported types or the field set size exceeds the max size (").concat(this.maxSearchFields,").\nActual: ").concat(t.join(","),"\nExpect: ").concat(this.searchFields.join(",")))}initMobileMetadata(){let t={};t[this.selectedLabel]="lookupItemTd",this.rowClassMap=t,this.metadata={fieldNames:[this.selectedLabel],fieldLabels:[],fieldTypeObjByName:{},fieldsOfTypeLookup:[],additionalSearchFields:[]},this.$.lookup.lookupResultsCallback(this.searchValue)}mobileSelection(t){if(!this.isMobile)return;let e=t.target;this.setSelected(e),e.hasAttribute("data-search")?(this.searchValue=e.getAttribute("data-search"),this.querySearchResults()):(this.value=e.getAttribute("data-id"),this.label=e.getAttribute("data-name"),this.saveAndDeferredClose())}getSearchValue(t){if(t&&!t.Id)return t.__md__.searchValue}getNameValue(t){return t[this.selectedLabel]}setSelected(t){this.selected=t.$.row.shadowRoot.querySelector("sb-table-cell"),(0,d.og)("selectedLookupItem",!0,this.selected)}clearSelected(){this.selected&&(0,d.og)("selectedLookupItem",!1,this.selected)}_hideCancel(){return!this.isMobile||this.openSpinner||this.recordSpinner}_isMobile(){return this.viewport&&this.viewport.isMobile()}static get template(){return(0,o.dy)(O||(O=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-service id="fs" cache="fs" uid="" response={{fieldSets}} loader="FieldSetServiceProvider" background="true"></sb-service>\n\t\t<sb-field-md id="field" background="true" do-not-fix-object-name="true"></sb-field-md>\n\t\t<sb-service id="query" background="true"></sb-service>\n    <sb-toast id="toast" type="warning" messages="{{errors}}"></sb-toast>\n\n\t\t<sb-dialog device id="dialog" modal="true">\n\t\t\t<div slot="title" class="title" style="font-size: 1.25rem;">[[fieldLabel]]</div>\n\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t<paper-button slot="paper-button" class="primary" on-click="save" hidden$="[[!value]]"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t</template>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<sf-loading-spinner show="[[openSpinner]]"></sf-loading-spinner>\n\t\t\t\t<sb-lookup\n\t\t\t\t\t\tid="lookup"\n\t\t\t\t\t\tvalue="[[value]]"\n\t\t\t\t\t\tlabel="[[label]]"\n\t\t\t\t\t\tlabel-name="[[labelName]]"\n\t\t\t\t\t\tselected-label="[[selectedLabel]]"\n\t\t\t\t\t\ttable-name="[[tableName]]"\n\t\t\t\t\t\tin-dialog="true"\n\t\t\t\t\t\tblur-disabled="true"\n\t\t\t\t\t\tpill-class="dialog"\n\t\t\t\t\t\tfocus-disabled="[[isMobile]]"\n\t\t\t\t\t\thide-cancel-icon="[[hideCancel]]"\n\t\t\t\t\t\tfield-full-name="[[fieldFullName]]"\n\t\t\t\t\t\thas-filter="[[hasFilter]]"\n\t\t\t\t\t\tcontrolling-fields="[[controllingFields]]"\n\t\t\t\t\t\trecord="[[record]]"\n\t\t\t\t\t\tdialog-metadata="[[metadata]]"\n\t\t\t\t\t\tvariant="dialog"\n\t\t\t\t></sb-lookup>\n\t\t\t\t<hr class="separator">\n\t\t\t\t<h2 class="headerDetails">\n\t\t\t\t\t<div class="name">[[tableLabel]]</div>\n\t\t\t\t\t<div class="numResults" hidden$="[[!results]]"><sb-i18n key="numResults" value="[[numResults]]">{0} Results</sb-i18n></div>\n\t\t\t\t</h2>\n\t\t\t\t<div class="datatable" id="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[metadata.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t header-class-map="[[headerClassMap]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<sf-loading-spinner id="spinner" show="[[recordSpinner]]" position="absolute"></sf-loading-spinner>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<iron-list scroll-target="tbody" id="list" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\t\tcols="[[metadata.fieldNames]]"\n\t\t\t\t\t\t\t\t\t\tcols-display="[[metadata.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\trow-data="[[row]]"\n\t\t\t\t\t\t\t\t\t\tmodel="[[metadata.fieldTypeObjByName]]"\n\t\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\tdata-name$="[[getNameValue(row, row.Id)]]"\n\t\t\t\t\t\t\t\t\t\tdata-id$="[[row.Id]]"\n\t\t\t\t\t\t\t\t\t\tdata-search$="[[getSearchValue(row)]]"\n\t\t\t\t\t\t\t\t\t\ton-click="mobileSelection"\n\t\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\t\tno-data-propagation="true"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</sb-dialog>\n\t\t'])),S)}}customElements.define(A.is,A);var L;n(2660);const F=(0,c.f)(L||(L=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*=\'--desktop\'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*=\'--desktop\'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*=\'--mobile\'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*=\'--mobile\'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*=\'--mobile\'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*=\'--mobile\'] .icon {\n  display: none;\n}\n[class*=\'--mobile\'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*=\'--mobile\'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*=\'--mobile\'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*=\'--mobile\'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  /** BEGINNING OF quill.core.css **/\n  /*!\n\t * Quill Editor v1.3.7\n\t * https://quilljs.com/\n\t * Copyright (c) 2014, Jason Chen\n\t * Copyright (c) 2013, salesforce.com\n\t */\n  /** END OF quill.core.css **/\n  /** BEGINNING OF quill.snow.css **/\n  /*!\n     * Quill Editor v1.3.7\n     * https://quilljs.com/\n     * Copyright (c) 2014, Jason Chen\n     * Copyright (c) 2013, salesforce.com\n     */\n  /** END OF quill.snow.css **/\n  --sbDialogContentPadding: 0;\n  cursor: default;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-snow.ql-toolbar:after,\n:host .ql-snow .ql-toolbar:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow.ql-toolbar button,\n:host .ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n:host .ql-snow.ql-toolbar button svg,\n:host .ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n:host .ql-snow.ql-toolbar button:active:hover,\n:host .ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n:host .ql-snow.ql-toolbar input.ql-image[type=file],\n:host .ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n:host .ql-snow.ql-toolbar button:hover,\n:host .ql-snow .ql-toolbar button:hover,\n:host .ql-snow.ql-toolbar button:focus,\n:host .ql-snow .ql-toolbar button:focus,\n:host .ql-snow.ql-toolbar button.ql-active,\n:host .ql-snow .ql-toolbar button.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-stroke,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n:host .ql-snow {\n  box-sizing: border-box;\n}\n:host .ql-snow * {\n  box-sizing: border-box;\n}\n:host .ql-snow .ql-hidden {\n  display: none;\n}\n:host .ql-snow .ql-out-bottom,\n:host .ql-snow .ql-out-top {\n  visibility: hidden;\n}\n:host .ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n:host .ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n:host .ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n:host .ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-formats:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-fill,\n:host .ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n:host .ql-snow .ql-empty {\n  fill: none;\n}\n:host .ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n:host .ql-snow .ql-thin,\n:host .ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n:host .ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n:host .ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n:host .ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n:host .ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n:host .ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n:host .ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n:host .ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n:host .ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n:host .ql-snow .ql-editor code,\n:host .ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n:host .ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n:host .ql-snow .ql-editor code {\n  font-size: 85%;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n:host .ql-snow .ql-editor img {\n  max-width: 100%;\n}\n:host .ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n:host .ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n:host .ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n:host .ql-snow .ql-color-picker,\n:host .ql-snow .ql-icon-picker {\n  width: 28px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label,\n:host .ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label svg,\n:host .ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n:host .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=\'\'])::before {\n  content: attr(data-label);\n}\n:host .ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  content: \'Heading 1\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  content: \'Heading 2\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  content: \'Heading 3\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  content: \'Heading 4\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  content: \'Heading 5\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  content: \'Heading 6\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  font-size: 2em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  font-size: 1em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \'Sans Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: \'Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: \'Monospace\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: \'Small\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: \'Large\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: \'Huge\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n:host .ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n:host .ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n:host .ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: \'Helvetica Neue\', \'Helvetica\', \'Arial\', sans-serif;\n  padding: 8px;\n}\n:host .ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n:host .ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n:host .ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n:host .ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n:host .ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-tooltip::before {\n  content: "Visit URL:";\n  line-height: 26px;\n  margin-right: 8px;\n}\n:host .ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n:host .ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n:host .ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: \'Edit\';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n:host .ql-snow .ql-tooltip a.ql-remove::before {\n  content: \'Remove\';\n  margin-left: 8px;\n}\n:host .ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-preview,\n:host .ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n:host .ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \'Save\';\n  padding-right: 0px;\n}\n:host .ql-snow .ql-tooltip[data-mode=link]::before {\n  content: "Enter link:";\n}\n:host .ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: "Enter formula:";\n}\n:host .ql-snow .ql-tooltip[data-mode=video]::before {\n  content: "Enter video:";\n}\n:host .ql-snow a {\n  color: #06c;\n}\n:host .ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n:host .content {\n  display: inline-block;\n}\n:host #rteContainer {\n  cursor: text;\n  width: 768px;\n  font-size: 16px;\n  color: black;\n}\n:host #rteContainer:hover:after {\n  display: inline;\n}\n:host #rteContainer:hover,\n:host #rteContainer:focus {\n  outline: none;\n}\n:host #rteContainer .ql-editor {\n  min-height: 150px;\n  max-height: 250px;\n  padding: 12px 15px;\n}\n:host #rteToolbar {\n  background-color: #fafafa;\n}\n:host #rteToolbar #ql-picker-options-0,\n:host #rteToolbar #ql-picker-options-2 {\n  height: 150px;\n  overflow-y: auto;\n}\n:host .ql-tooltip {\n  z-index: 9999;\n}\n:host .ql-font span[data-value="arial"]::before {\n  font-family: "arial";\n}\n:host .ql-font span[data-value="courier"]::before {\n  font-family: "courier";\n}\n:host .ql-font span[data-value="dosis"]::before {\n  font-family: "dosis";\n}\n:host .ql-font span[data-value="droid sans"]::before {\n  font-family: "droid sans";\n}\n:host .ql-font span[data-value="droid serif"]::before {\n  font-family: "droid serif";\n}\n:host .ql-font span[data-value="helvetica"]::before {\n  font-family: "helvetica";\n}\n:host .ql-font span[data-value="merriweather"]::before {\n  font-family: "merriweather";\n}\n:host .ql-font span[data-value="montserrat"]::before {\n  font-family: "montserrat";\n}\n:host .ql-font span[data-value="noto sans jp"]::before {\n  font-family: "noto sans jp";\n}\n:host .ql-font span[data-value="noto sans kr"]::before {\n  font-family: "noto sans kr";\n}\n:host .ql-font span[data-value="noto sans sc"]::before {\n  font-family: "noto sans sc";\n}\n:host .ql-font span[data-value="noto sans tc"]::before {\n  font-family: "noto sans tc";\n}\n:host .ql-font span[data-value="open sans"]::before {\n  font-family: "open sans";\n}\n:host .ql-font span[data-value="play"]::before {\n  font-family: "play";\n}\n:host .ql-font span[data-value="pt sans"]::before {\n  font-family: "pt sans";\n}\n:host .ql-font span[data-value="pt serif"]::before {\n  font-family: "pt serif";\n}\n:host .ql-font span[data-value="roboto"]::before {\n  font-family: "roboto";\n}\n:host .ql-font span[data-value="roboto light"]::before {\n  font-family: "roboto light";\n}\n:host .ql-font span[data-value="times"]::before {\n  font-family: "times";\n}\n:host .ql-font span[data-value="titillium web"]::before {\n  font-family: "titillium web";\n}\n:host .ql-font span[data-value="ubuntu"]::before {\n  font-family: "ubuntu";\n}\nsb-dialog {\n  --sbDialogHeaderBackgroundColor: #f0f0f0;\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 768px;\n  --sbDialogContentOverflow: unset;\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogFooterDisplay: block;\n}\n'],['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*=\'--desktop\'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*=\'--desktop\'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*=\'--mobile\'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*=\'--mobile\'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*=\'--mobile\'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*=\'--mobile\'] .icon {\n  display: none;\n}\n[class*=\'--mobile\'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*=\'--mobile\'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*=\'--mobile\'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*=\'--mobile\'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  /** BEGINNING OF quill.core.css **/\n  /*!\n\t * Quill Editor v1.3.7\n\t * https://quilljs.com/\n\t * Copyright (c) 2014, Jason Chen\n\t * Copyright (c) 2013, salesforce.com\n\t */\n  /** END OF quill.core.css **/\n  /** BEGINNING OF quill.snow.css **/\n  /*!\n     * Quill Editor v1.3.7\n     * https://quilljs.com/\n     * Copyright (c) 2014, Jason Chen\n     * Copyright (c) 2013, salesforce.com\n     */\n  /** END OF quill.snow.css **/\n  --sbDialogContentPadding: 0;\n  cursor: default;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n:host .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n:host .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n:host .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n:host .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n:host .ql-editor > * {\n  cursor: text;\n}\n:host .ql-editor p,\n:host .ql-editor ol,\n:host .ql-editor ul,\n:host .ql-editor pre,\n:host .ql-editor blockquote,\n:host .ql-editor h1,\n:host .ql-editor h2,\n:host .ql-editor h3,\n:host .ql-editor h4,\n:host .ql-editor h5,\n:host .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol,\n:host .ql-editor ul {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol > li,\n:host .ql-editor ul > li {\n  list-style-type: none;\n}\n:host .ql-editor ul > li::before {\n  content: \'\\\\2022\';\n}\n:host .ql-editor ul[data-checked=true],\n:host .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n:host .ql-editor ul[data-checked=true] > li *,\n:host .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before,\n:host .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n:host .ql-editor ul[data-checked=true] > li::before {\n  content: \'\\\\2611\';\n}\n:host .ql-editor ul[data-checked=false] > li::before {\n  content: \'\\\\2610\';\n}\n:host .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n:host .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n:host .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n:host .ql-editor ol li:not(.ql-direction-rtl),\n:host .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n:host .ql-editor ol li.ql-direction-rtl,\n:host .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n:host .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n:host .ql-editor ol li:before {\n  content: counter(list-0, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n:host .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n:host .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n:host .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n:host .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n:host .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n:host .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) \'. \';\n}\n:host .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n:host .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) \'. \';\n}\n:host .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n:host .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) \'. \';\n}\n:host .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n:host .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n:host .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) \'. \';\n}\n:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n:host .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n:host .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n:host .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n:host .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n:host .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n:host .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n:host .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n:host .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n:host .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n:host .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n:host .ql-editor .ql-color-white {\n  color: #fff;\n}\n:host .ql-editor .ql-color-red {\n  color: #e60000;\n}\n:host .ql-editor .ql-color-orange {\n  color: #f90;\n}\n:host .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n:host .ql-editor .ql-color-green {\n  color: #008a00;\n}\n:host .ql-editor .ql-color-blue {\n  color: #06c;\n}\n:host .ql-editor .ql-color-purple {\n  color: #93f;\n}\n:host .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n:host .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n:host .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n:host .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n:host .ql-editor .ql-align-center {\n  text-align: center;\n}\n:host .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n:host .ql-editor .ql-align-right {\n  text-align: right;\n}\n:host .ql-editor.ql-blank::before {\n  color: rgba(0, 0, 0, 0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  left: 15px;\n  pointer-events: none;\n  position: absolute;\n  right: 15px;\n}\n:host .ql-snow.ql-toolbar:after,\n:host .ql-snow .ql-toolbar:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow.ql-toolbar button,\n:host .ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n:host .ql-snow.ql-toolbar button svg,\n:host .ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n:host .ql-snow.ql-toolbar button:active:hover,\n:host .ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n:host .ql-snow.ql-toolbar input.ql-image[type=file],\n:host .ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n:host .ql-snow.ql-toolbar button:hover,\n:host .ql-snow .ql-toolbar button:hover,\n:host .ql-snow.ql-toolbar button:focus,\n:host .ql-snow .ql-toolbar button:focus,\n:host .ql-snow.ql-toolbar button.ql-active,\n:host .ql-snow .ql-toolbar button.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n:host .ql-snow.ql-toolbar button:hover .ql-stroke,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n:host .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n:host .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n:host .ql-snow {\n  box-sizing: border-box;\n}\n:host .ql-snow * {\n  box-sizing: border-box;\n}\n:host .ql-snow .ql-hidden {\n  display: none;\n}\n:host .ql-snow .ql-out-bottom,\n:host .ql-snow .ql-out-top {\n  visibility: hidden;\n}\n:host .ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n:host .ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n:host .ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n:host .ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-formats:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n:host .ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n:host .ql-snow .ql-fill,\n:host .ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n:host .ql-snow .ql-empty {\n  fill: none;\n}\n:host .ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n:host .ql-snow .ql-thin,\n:host .ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n:host .ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n:host .ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n:host .ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n:host .ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n:host .ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n:host .ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n:host .ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n:host .ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n:host .ql-snow .ql-editor code,\n:host .ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n:host .ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n:host .ql-snow .ql-editor code {\n  font-size: 85%;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n:host .ql-snow .ql-editor img {\n  max-width: 100%;\n}\n:host .ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n:host .ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n:host .ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n:host .ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n:host .ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n:host .ql-snow .ql-color-picker,\n:host .ql-snow .ql-icon-picker {\n  width: 28px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label,\n:host .ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-label svg,\n:host .ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n:host .ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n:host .ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n:host .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=\'\'])::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=\'\'])::before {\n  content: attr(data-label);\n}\n:host .ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  content: \'Heading 1\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  content: \'Heading 2\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  content: \'Heading 3\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  content: \'Heading 4\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  content: \'Heading 5\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  content: \'Heading 6\';\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  font-size: 2em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  font-size: 1.5em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  font-size: 1.17em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  font-size: 1em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  font-size: 0.83em;\n}\n:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  font-size: 0.67em;\n}\n:host .ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \'Sans Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: \'Serif\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: \'Monospace\';\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n:host .ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \'Normal\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: \'Small\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: \'Large\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: \'Huge\';\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n:host .ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n:host .ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n:host .ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: \'Helvetica Neue\', \'Helvetica\', \'Arial\', sans-serif;\n  padding: 8px;\n}\n:host .ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n:host .ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n:host .ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n:host .ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n:host .ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n:host .ql-snow .ql-tooltip::before {\n  content: "Visit URL:";\n  line-height: 26px;\n  margin-right: 8px;\n}\n:host .ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n:host .ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n:host .ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: \'Edit\';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n:host .ql-snow .ql-tooltip a.ql-remove::before {\n  content: \'Remove\';\n  margin-left: 8px;\n}\n:host .ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-preview,\n:host .ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n:host .ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n:host .ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \'Save\';\n  padding-right: 0px;\n}\n:host .ql-snow .ql-tooltip[data-mode=link]::before {\n  content: "Enter link:";\n}\n:host .ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: "Enter formula:";\n}\n:host .ql-snow .ql-tooltip[data-mode=video]::before {\n  content: "Enter video:";\n}\n:host .ql-snow a {\n  color: #06c;\n}\n:host .ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n:host .content {\n  display: inline-block;\n}\n:host #rteContainer {\n  cursor: text;\n  width: 768px;\n  font-size: 16px;\n  color: black;\n}\n:host #rteContainer:hover:after {\n  display: inline;\n}\n:host #rteContainer:hover,\n:host #rteContainer:focus {\n  outline: none;\n}\n:host #rteContainer .ql-editor {\n  min-height: 150px;\n  max-height: 250px;\n  padding: 12px 15px;\n}\n:host #rteToolbar {\n  background-color: #fafafa;\n}\n:host #rteToolbar #ql-picker-options-0,\n:host #rteToolbar #ql-picker-options-2 {\n  height: 150px;\n  overflow-y: auto;\n}\n:host .ql-tooltip {\n  z-index: 9999;\n}\n:host .ql-font span[data-value="arial"]::before {\n  font-family: "arial";\n}\n:host .ql-font span[data-value="courier"]::before {\n  font-family: "courier";\n}\n:host .ql-font span[data-value="dosis"]::before {\n  font-family: "dosis";\n}\n:host .ql-font span[data-value="droid sans"]::before {\n  font-family: "droid sans";\n}\n:host .ql-font span[data-value="droid serif"]::before {\n  font-family: "droid serif";\n}\n:host .ql-font span[data-value="helvetica"]::before {\n  font-family: "helvetica";\n}\n:host .ql-font span[data-value="merriweather"]::before {\n  font-family: "merriweather";\n}\n:host .ql-font span[data-value="montserrat"]::before {\n  font-family: "montserrat";\n}\n:host .ql-font span[data-value="noto sans jp"]::before {\n  font-family: "noto sans jp";\n}\n:host .ql-font span[data-value="noto sans kr"]::before {\n  font-family: "noto sans kr";\n}\n:host .ql-font span[data-value="noto sans sc"]::before {\n  font-family: "noto sans sc";\n}\n:host .ql-font span[data-value="noto sans tc"]::before {\n  font-family: "noto sans tc";\n}\n:host .ql-font span[data-value="open sans"]::before {\n  font-family: "open sans";\n}\n:host .ql-font span[data-value="play"]::before {\n  font-family: "play";\n}\n:host .ql-font span[data-value="pt sans"]::before {\n  font-family: "pt sans";\n}\n:host .ql-font span[data-value="pt serif"]::before {\n  font-family: "pt serif";\n}\n:host .ql-font span[data-value="roboto"]::before {\n  font-family: "roboto";\n}\n:host .ql-font span[data-value="roboto light"]::before {\n  font-family: "roboto light";\n}\n:host .ql-font span[data-value="times"]::before {\n  font-family: "times";\n}\n:host .ql-font span[data-value="titillium web"]::before {\n  font-family: "titillium web";\n}\n:host .ql-font span[data-value="ubuntu"]::before {\n  font-family: "ubuntu";\n}\nsb-dialog {\n  --sbDialogHeaderBackgroundColor: #f0f0f0;\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 768px;\n  --sbDialogContentOverflow: unset;\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogFooterDisplay: block;\n}\n'])));var q;n(6009),n(50);const N=(0,c.f)(q||(q=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .content #source,\n:host .content #dimensions {\n  position: relative;\n  float: left;\n  padding: 0 96px 16px 0;\n}\n:host #dimensionsInput {\n  display: inline-flex;\n}\n:host #dimensionsInput sb-input {\n  --sbInputMaxWidth: 48px;\n  --sbInputMinWidth: 24px;\n}\n:host #sourceInput sb-input {\n  --sidePanelInputWidth: 256px;\n  --sbInputMaxWidth: 256px;\n  --sbInputMinWidth: 128px;\n}\n:host sb-dialog {\n  --sbDialogContentPadding: 12px !important;\n  --sbDialogMaxHeight: 256px;\n  --sbDialogHeaderBackgroundColor: #fff !important;\n  --sbDialogContentTextAlign: center;\n  --sbDialogFooterDisplay: block;\n  --sbDialogFooterColor: #fff !important;\n}\n"])));var R;class j extends o.H3{static get is(){return"rte-image-dialog"}static get properties(){return{img:{type:Object,value:null},originalWidth:String,originalHeight:String,widthDim:{type:Number},heightDim:{type:Number},imageSrc:{type:String,value:"",observer:"_setupNewImage"},isChecked:{type:Boolean,value:!0}}}static get observers(){return["_updateImageSizesObserver(widthDim, heightDim, img, isChecked)"]}ready(){super.ready(),this.$.imageDialog.open(),this.addEventListener("rte-image-dialog-cancel",this.onCancel)}onSave(){let t=this.img;this.imageSrc&&(t.width&&t.height||(t.width=this.originalWidth,t.height=this.originalHeight),this.dispatchEvent((0,s.FU)("rte-image-saved",t))),this.close()}onCancel(){this.close()}close(){this.$.imageDialog.close(),this.dispatchEvent((0,s.FU)("rte-image-closed",void 0)),this.removeEventListener("rte-image-dialog-cancel",this.onCancel)}_setupNewImage(){this.img||(this.img=new Image),this.img.src=this.imageSrc,this.imageSrc?this.img.onload=()=>{this.originalWidth=this.img.width,this.originalHeight=this.img.height,this.widthDim=this.originalWidth,this.heightDim=this.originalHeight}:(this.originalWidth=0,this.originalHeight=0,this.widthDim="",this.heightDim="")}_updateImageSizesObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this._updateImageSizes(t,e,n,i)}_updateImageSizes(t,e,n,i){let o=parseInt(t),r=parseInt(e),s=n.width,a=n.height;if(!(o===s&&r===a||isNaN(o)||isNaN(r)||0===o||0===r))if(i)if(o!==s){let t=this._conversion(o,s,r);this.img.width=o,this.img.height=t,this.heightDim=t}else{let t=this._conversion(r,a,o);this.img.width=t,this.img.height=r,this.widthDim=t}else this.img.width=o,this.img.height=r}_conversion(t,e,n){let i=Math.floor(t*n/e);return isNaN(i)||i===1/0?n:i}static get template(){return(0,o.dy)(R||(R=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t        <div device>\n            <sb-dialog id="imageDialog" modal="true" hideCloseIcon="true" close-dialog="rte-image-dialog-cancel" ignore-mask-tap="true">\n                <div slot="title" class="title"><sb-i18n>Insert Image</sb-i18n></div>\n                <div slot="content" class="content">\n                    <div id="sourceInput">\n                        <span id="source"><sb-i18n>Source</sb-i18n></span>\n                        <sb-input id="imageInput" value="{{imageSrc}}" focus="true"></sb-input>\n                    </div>\n                    <div id="dimensionsInput">\n                        <span id="dimensions"><sb-i18n>Dimensions</sb-i18n></span>\n                        <sb-input id="widthDimension" value="{{widthDim}}" focus="true"></sb-input>\n                        <span>&nbsp;x&nbsp;</span>\n                        <sb-input id="heightDimension" value="{{heightDim}}" focus="true"></sb-input>\n\n                        <div id="constrainInput">\n                            <sb-checkbox id="hasConstrains" value="{{isChecked}}"></sb-checkbox>\n                            <span><sb-i18n>Constrain proportions</sb-i18n></span>\n                        </div>\n                    </div>\n                </div>\n                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n            </sb-dialog>\n        </div>\n\t    '])),N)}}customElements.define(j.is,j);var z;n(624);const H=["selectionchange","mousedown","mouseup","click"],U="//fonts.googleapis.com/css?family=Dosis|Droid+Sans|Droid+Serif|Merriweather|Montserrat|Open+Sans|Play|PT+Sans|PT+Serif|Roboto:300,400|Titillium+Web|Ubuntu",V=Quill.import("delta"),W=Quill.import("attributors/style/size"),Q=Quill.import("attributors/style/font"),G=Quill.import("attributors/style/align"),$=Quill.import("attributors/style/direction"),K=Quill.import("blots/inline"),Y=Quill.import("parchment"),X=Quill.import("blots/block/embed"),J=Quill.import("blots/block");J.tagName="DIV",W.whitelist=["11px","13px","16px","19px","24px","32px","48px"],Q.whitelist=["arial","courier","dosis","droid sans","droid serif","helvetica","montserrat","noto sans jp","noto sans kr","noto sans sc","noto sans tc","open sans","play","pt sans","pt serif","roboto","roboto light","times","titillium web","ubuntu"];class Z extends K{}Z.blotName="SFDCTags",Z.tagName=["address","big","br","blockquote","caption","col","colgroup","del","dfn","hr","ins","kbd","q","samp","small","strike","tfoot","tt","var","p"];class tt extends X{}tt.blotName="divider",tt.tagName="hr";class et extends K{}et.blotName="HeaderLowercase",et.tagName=["h1","h2","h3","h4","h5","h6"];class nt extends X{static create(t){return t}static value(t){var e="";return"DL"===t.tagName&&(e=t),e}}nt.blotName="DefinitionTag",nt.tagName=["dl","dt","dd"];class it extends K{static create(t){const e=super.create();return"string"==typeof t&&e.setAttribute("title",t),e}static formats(t){const e=t.getAttribute("title");return e||!0}}it.blotName="abbr",it.tagName=["ABBR","acronym"];class ot extends K{static create(t){let e=super.create();return e.setAttribute("dir",t),e}static formats(t){return t.getAttribute("dir")}}ot.blotName="bdo",ot.tagName="BDO";class rt extends X{static create(t){const[e,n,i]=t;let o=super.create(t),r=document.createElement("TBODY");return e.forEach((t=>{var e=document.createElement("TR");r.appendChild(e),t.forEach((t=>{let n=document.createElement("TD");n.colSpan&&n.setAttribute("colspan",n.colSpan),n.rowSpan&&n.setAttribute("rowspan",n.rowSpan),n.innerHTML=t,e.appendChild(n)}))})),n&&o.appendChild(n),i&&o.appendChild(i),o.appendChild(r),o}static value(t){var e,n,i=[];if("TABLE"===t.tagName){e=t.caption?t.caption:"",n=t.querySelector("colgroup")?t.querySelector("colgroup"):"";let o=t.rows;for(let t=0;t<o.length;t++){i[t]=[];for(let e=0;e<o[t].cells.length;e++)i[t].push(o[t].cells[e].innerHTML)}}return[i,e,n]}offset(t){return t.domNode.innerText.length-this.domNode.innerText.length}deleteAt(t,e){super.deleteAt(t,e)}index(t,e){}}rt.blotName="table",rt.className="table",rt.tagName="TABLE";class st extends K{static create(t){let e=super.create();return e.setAttribute("href",t.href),t.title&&e.setAttribute("title",t.title),t.target&&e.setAttribute("target",t.target),e}static formats(t){return{href:t.href,title:t.title,target:t.target,innerHTML:t.innerHTML}}}st.blotName="AnchorBlot",st.tagName="a";class at extends K{static create(t){return super.create(t)}static formats(t){return t.innerHTML}}at.blotName="CiteBlot",at.tagName="cite";class lt extends Y.Attributor.Style{add(t,e){return 0===e?(this.remove(t),!0):super.add(t,"".concat(e,"em"))}}const dt=new lt("indent","margin-left",{scope:Y.Scope.BLOCK,whitelist:["1em","2em","3em","4em","5em","6em","7em","8em","9em"]}),ct=new Y.Attributor.Style("text-decoration","text-decoration",{scope:Y.Scope.BLOCK,whitelist:["underscore","line-through"]});Quill.register("formats/text-decoration",ct,!0),Quill.register(W,!0),Quill.register(Q,!0),Quill.register(G,!0),Quill.register($,!0),Quill.register(dt,!0),Quill.register(J,!0),Quill.register(Z,!0),Quill.register(tt,!0),Quill.register(et,!0),Quill.register(nt,!0),Quill.register(it,!0),Quill.register(ot,!0),Quill.register(rt,!0),Quill.register(st,!0),Quill.register(at,!0);class ut extends o.H3{static get is(){return"sb-rte-dialog"}static get properties(){return{value:{type:String,observer:"_valueChanged",notify:!0},tooltipTextMap:{type:Object},imageDialogOpened:{type:Boolean,value:!1},currentSelection:{type:Number},saving:{type:Boolean,value:!1}}}ready(){super.ready(),this.$.rteToolbar.addEventListener("rte-open-image-dialog",this._openImageDialog.bind(this)),this.$.rteContainer.addEventListener("rte-image-saved",this._imageURLValueSaved.bind(this)),this.$.rteContainer.addEventListener("rte-image-closed",this._imageDialogClosed.bind(this)),this._encapsulateStyle=!1;let t=document.querySelectorAll("head > link[rel=stylesheet]"),e=t?t.length:0;for(let n=0;n<e;n++)if(t[n].getAttribute("href")==U)return;let n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",U),document.head.appendChild(n)}connectedCallback(){super.connectedCallback(),this.tooltipTextMap=this._getTooltipMap()}disconnectedCallback(){super.disconnectedCallback(),this._removeQuillEmitterEventListeners&&"function"==typeof this._removeQuillEmitterEventListeners&&this._removeQuillEmitterEventListeners()}_initialize(){let t=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.getFormat(e.index,e.length),o=i&&i.indent?i.indent:"0em",r=parseInt(o.substring(0,o.length-2));if(n&&0===r)return;let s=n?r-1:r+1;t.format("indent",s)},e={indent:{key:9,format:["indent","list"],handler:function(e){t(this.quill,e)}},outdent:{key:9,format:["indent","list"],shiftKey:!0,handler:function(e){t(this.quill,e,!0)}},"outdent backspace":{key:8,format:["indent","list"],offset:0,handler:function(e,n){null!=n.format.indent?t(this.quill,e,!0):null!=n.format.list&&this.quill.format("list",!1)}}},n={modules:{toolbar:{container:this.shadowRoot.querySelector("#rteToolbar"),handlers:{image:function(){this.container.dispatchEvent(new Event("rte-open-image-dialog",{bubbles:!0}))}}},clipboard:{matchVisual:!1},keyboard:{bindings:e}},theme:"snow"};this.quillInstance=new Quill(this.shadowRoot.querySelector("#rteContainer"),n),this._removeQuillEmitterEventListeners=this._applyEmitterShadowDOMFix(this.quillInstance),this.shadowRoot.querySelector("#rteContainer .ql-editor").classList.add("style-scope","sb-rte-dialog"),this.shadowRoot.querySelector(".ql-undo").addEventListener("click",(()=>{this.quillInstance.history.undo()})),this.shadowRoot.querySelector(".ql-redo").addEventListener("click",(()=>{this.quillInstance.history.redo()}))}onSave(){this.saving=!0;let t=this.quillInstance.root.innerHTML,e=I.I.properties.i18n.value().l("Click to edit description");this.value=t!==e?t:null,this.rte.value=this.value,this.rte.dispatchEvent((0,s.FU)("rte-value-changed",{value:this.value})),this.rte.dispatchEvent((0,s.FU)("rte-saved",void 0)),this.close()}onCancel(){this.imageDialogOpened||(this.rte.dispatchEvent((0,s.FU)("rte-esc",{keyCode:27})),this.close())}open(){let t=I.I.properties.i18n.value().l("Click to edit description");this.$.dialog.open(),this.value!==t&&null!=this.value||(this.value=null),this.$.rteContainer.focus(),this.shadowRoot.querySelector(".title").innerHTML=I.I.properties.i18n.value().l("Edit ".concat(this.rte.label)),this.quillInstance?this.quillInstance.root.innerHTML!==this.value&&this._valueChanged():(this._initialize(),this._valueChanged()),this.quillInstance.history.clear(),this.addEventListener("sb-rte-cancel",this.onCancel)}close(){this.saving=!1;let t=I.I.properties.i18n.value().l("Click to edit description");this.rte.dispatchEvent((0,s.FU)("rte-blur",void 0)),this.$.dialog.close(),this.value===t&&(this.value=null),this.removeEventListener("sb-rte-cancel",this.onCancel)}_imageURLValueSaved(t){let e=t.detail;this.quillInstance.updateContents((new V).retain(this.currentSelection).insert({image:e.src},{width:e.width,height:e.height}))}_imageDialogClosed(t){this.imageDialogOpened=!1,this.shadowRoot.querySelector("#rteContainer").removeChild(this.shadowRoot.querySelector("rte-image-dialog"))}_openImageDialog(t){let e=this.quillInstance.getSelection();this.currentSelection=e?e.index:0;let n=this.shadowRoot.querySelector("#rteContainer"),i=document.createElement("rte-image-dialog");n.appendChild(i),this.imageDialogOpened=!0}_valueChanged(){if(this.saving)return;if(this.shadowRoot.querySelector("#rteContainer .ql-editor")){let t=this.value;this.setContentToQuill(t)}}setContentToQuill(t){this.quillInstance.setText(""),this.quillInstance.clipboard.dangerouslyPasteHTML(0,t);const e=this.quillInstance.editor.delta;if(e.ops.length>=1&&e.ops[e.ops.length-1].insert.endsWith("\n")){const t=e.length();this.quillInstance.updateContents((new V).retain(t-1).delete(1))}}_getTooltipMap(){return{bold:I.I.properties.i18n.value().l("Bold"),italic:I.I.properties.i18n.value().l("Italic"),underline:I.I.properties.i18n.value().l("Underline"),strike:I.I.properties.i18n.value().l("Strikethrough"),fontSize:I.I.properties.i18n.value().l("Font size"),headerSize:I.I.properties.i18n.value().l("Header size"),fontFamily:I.I.properties.i18n.value().l("Font family"),alignLeft:I.I.properties.i18n.value().l("Align left"),center:I.I.properties.i18n.value().l("Center"),alignRight:I.I.properties.i18n.value().l("Align right"),textColor:I.I.properties.i18n.value().l("Text color"),backgroundColor:I.I.properties.i18n.value().l("Background color"),subscript:I.I.properties.i18n.value().l("Subscript"),superscript:I.I.properties.i18n.value().l("Superscript"),numberedList:I.I.properties.i18n.value().l("Numbered list"),bulletList:I.I.properties.i18n.value().l("Bullet list"),decreaseIndent:I.I.properties.i18n.value().l("Decrease indent"),increaseIndent:I.I.properties.i18n.value().l("Increase indent"),blockQuote:I.I.properties.i18n.value().l("Block quote"),link:I.I.properties.i18n.value().l("Insert or edit link"),image:I.I.properties.i18n.value().l("Insert or edit image"),clearFormatting:I.I.properties.i18n.value().l("Clear formatting"),undo:I.I.properties.i18n.value().l("Undo"),redo:I.I.properties.i18n.value().l("Redo")}}_applyEmitterShadowDOMFix(t){const e={};return H.forEach((n=>{function i(){t&&t.emitter&&t.emitter.handleDOM(arguments[0])}document.addEventListener(n,i),e[n]=i})),function(){H.forEach((t=>{document.removeEventListener(t,e[t])}))}}static get template(){return(0,o.dy)(z||(z=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n    \t\t\n\t        <div device>\n            <sb-dialog id="dialog" modal="true" close-dialog="sb-rte-cancel" ignore-mask-tap="true">\n                <div slot="title" class="title"><sb-i18n>Edit [[rte.label]]</sb-i18n></div>\n                <div slot="content" class="content">\n                    <div id="rteToolbar">\n                        <span class="ql-formats">\n                            <button class="ql-bold" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bold]]"></button>\n                            <button class="ql-italic" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.italic]]"></button>\n                            <button class="ql-underline" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.underline]]"></button>\n                            <button class="ql-strike" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.strike]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-size" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontSize]]">\n                                <option value="11px">8pt</option>\n                                <option value="13px">10pt</option>\n                                <option selected value="16px">12pt</option>\n                                <option value="19px">14pt</option>\n                                <option value="24px">18pt</option>\n                                <option value="32px">24pt</option>\n                                <option value="48px">36pt</option>\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-header" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.headerSize]]">\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-font" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontFamily]]">\n                                <option selected value="arial">Arial</option>\n                                <option value="courier">Courier</option>\n                                <option value="dosis">Dosis</option>\n                                <option value="droid sans">Droid Sans</option>\n                                <option value="droid serif">Droid Serif</option>\n                                <option value="helvetica">Helvetica</option>\n\t\t\t\t\t\t\t\t<option value="merriweather">Merriweather</option>\n                                <option value="montserrat">Montserrat</option>\n                                <option value="noto sans jp">Noto Sans JP</option>\n                                <option value="noto sans kr">Noto Sans KR</option>\n                                <option value="noto sans sc">Noto Sans SC</option>\n                                <option value="noto sans tc">Noto Sans TC</option>\n                                <option value="open sans">Open Sans</option>\n                                <option value="play">Play</option>\n                                <option value="pt sans">PT Sans</option>\n                                <option value="pt serif">PT Serif</option>\n                                <option value="roboto">Roboto</option>\n                                <option value="roboto light">Roboto Light</option>\n                                <option value="times">Times</option>\n                                <option value="titillium web">Titillium Web</option>\n                                <option value="ubuntu">Ubuntu</option>\n                            </select>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-clean" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.clearFormatting]]"></button>\n                        </span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-undo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.undo]]">\n                                <svg viewbox="0 0 18 18">\n                                    <polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"></polygon>\n                                    <path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"></path>\n                                </svg>\n                            </button>\n                            <button class="ql-redo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.redo]]">\n                                <svg viewbox="0 0 18 18">\n                                    <polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"></polygon>\n                                    <path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"></path\n                                </svg>\n                            </button>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="" title="[[tooltipTextMap.alignLeft]]"></button>\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="center" title="[[tooltipTextMap.center]]"></button>\n\t\t\t\t\t\t\t<button class="ql-align" data-toggle="tooltip" value="right" title="[[tooltipTextMap.alignRight]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <select class="ql-color" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.textColor]]">\n                            </select>\n                            <select class="ql-background" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.backgroundColor]]">\n                            </select>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-script" value="sub" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.subscript]]"></button>\n                            <button class="ql-script" value="super" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.superscript]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-list" value="ordered" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.numberedList]]"></button>\n                            <button class="ql-list" value="bullet" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bulletList]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-blockquote" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.blockQuote]]"></button>\n                        </span>\n                        <span class="ql-formats">\n                            <button class="ql-link" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.link]]"></button>\n                        </span>\n\t\t\t\t\t\t<span class="ql-formats">\n                            <button class="ql-image" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.image]]"></button>\n                        </span>\n                    </div>\n                    <div id="rteContainer"></div>\n                </div>\n                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n            </sb-dialog>\n        </div>\n\t    '])),F)}}customElements.define(ut.is,ut);var ht;n(5491),n(8228),n(4561);const pt=(0,c.f)(ht||(ht=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sb-table-row-border-bottom-style: solid;\n  --sb-table-row-border-bottom-color: #d0d0d0;\n  --sb-table-row-border-bottom-width: 1px;\n  --sbTableInnerTdPadding: 8px 6px 8px 25px;\n}\n#search {\n  width: calc(100% - 60px);\n  position: absolute;\n  --headerSearchRight: 21px;\n}\n#search .searchActions {\n  right: 21px !important;\n}\n.close {\n  margin-left: 14px !important;\n  float: left;\n  border: white;\n  font-size: 20px !important;\n  width: 40px;\n}\n.searchbar {\n  height: 38px;\n  margin: 10px 0;\n}\n.datatable {\n  border-top-color: #d0d0d0;\n  border-top-style: solid;\n  border-top-width: 1px;\n}\n"])));var ft,bt;class gt extends o.H3{static get is(){return"sb-search-bar-dialog"}static get properties(){return{value:String,cols:{type:Array,value:["DisplayName"]},colsDisplay:{type:Array,value:["DisplayName"]},results:Array}}ready(){super.ready(),this.attachSearchProperties(),this.attachSearchEvents()}attachSearchProperties(){this.$.search.searchResultCallback=this.handleSearchResults.bind(this)}attachSearchEvents(){this.$.search.addEventListener("sb-search-invoked",this.toggle.bind(this)),this.$.search.addEventListener("sb-search-nil-search-invoked",this.updateSearchResults.bind(this))}open(){this.$.search.value=this.value,""===this.value&&(this.results=[]),this.toggle(),this.$.search.$.typeahead.focus()}close(){this.blur(),this.toggle()}toggle(){this.$.dialog.toggle()}handleSearchResults(t){this.results=t}updateSearchResults(){let t=[];for(let e of this.results)e.Name===this.$.search.value&&t.push(e);this.results=t}mobileSelection(t){let e=t.target,n=e.getAttribute("data-name");this.$.search.value=n;let i=e.getAttribute("data-id");this.dispatchEvent((0,s.FU)("sb-search-item-selected",{item:this.$.search.getSearchResultRow(i),searchValue:n})),setTimeout(function(){this.toggle()}.bind(this),350),this.updateSearchResults()}clearSearchResults(){this.results=[]}static get template(){return(0,o.dy)(ft||(ft=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-dialog device id="dialog" modal="true" hide-header="true">\n\t\t\t<sb-i18n slot="title" class="title dialog">Product Search</sb-i18n>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<div class="searchbar">\n\t\t\t\t\t<paper-button class="close" noink on-click="close"><icon class="icon sf-icon-close"></icon></paper-button>\n\t\t\t\t\t<sb-search-bar id="search" quote="[[quote]]" search-service="ProductLookupServiceProvider.SearchModelSearcher"></sb-search-bar>\n\t\t\t\t</div>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" cols="[[cols]]"></sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[cols]]"\n\t\t\t\t\t\t\t\t\tcols-display="[[colsDisplay]]"\n\t\t\t\t\t\t\t\t\trow-data="[[row]]"\n\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\ton-click="mobileSelection"\n\t\t\t\t\t\t\t\t\tdata-name$="[[row.Name]]"\n\t\t\t\t\t\t\t\t\tdata-id$="[[row.Id]]"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</sb-dialog>\n\t\t'])),pt)}}customElements.define(gt.is,gt);class mt extends((0,a.Q)((0,l.U)(o.H3))){static get is(){return"sb-page-header"}static get properties(){return{viewport:{type:Object,observer:"_viewportChanged",value:function(){return r._.getViewport()}},showMenu:{type:Boolean,value:function(){return!0}},menuClosed:{type:Boolean,value:function(){return!0}},hideFullTitle:{type:Boolean,value:!1},searchbar:{type:Boolean,observer:"_setSearchbarStyles"},debugMode:Boolean,ept:{type:Number,value:0},bpt:{type:Number,value:0},spt:{type:Number,value:0},showLookupDialog:Boolean}}get events(){let t={};return t[s.zW.AUTO_LAUNCH_POPUP]=this.allowAutoLaunchPopup,t[s.zW.NAVIGATION_CHANGED]=this.navigationChanged,t[s.zW.OPEN_LOOKUP_DIALOG]=this.openLookupDialog,t[s.zW.CLOSE_LOOKUP_DIALOG]=this.closeLookupDialog,t[s.zW.OPEN_RTE_DIALOG]=this.openRteDialog,t[s.zW.OPEN_SEARCH_BAR_DIALOG]=this.openSearchDialog,t[s.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}ready(){super.ready(),this.debugMode=window.sb.mode&&window.sb.mode.debugMode||!1,this.debugMode&&this._setupMetricsServiceListeners()}_showFullTitle(t){this.viewport.isMobile()&&(this.hideFullTitle||this.children[1].textContent)&&(this.hideFullTitle=!this.hideFullTitle,this.$["full-title"].innerText=this.hideFullTitle?this.children[1].textContent:"",this.$["full-title"].style.opacity=this.hideFullTitle?1:0)}viewportChanged(t){this.viewport=t.detail.viewport}navigationChanged(){this._closeMenu()}_closeMenu(){(0,d.og)("open",!1,this.$.buttons),(0,d.og)("autoLaunch",!1,this.$.buttons),setTimeout(function(){this.menuClosed=!0}.bind(this),1)}_changeMenu(t){t.composedPath().find((t=>t.getAttribute&&"Popup"==t.getAttribute("data-target")))||(this.menuClosed=mt.changeMenu(t,this.menuClosed,this.$.buttons,"open",this),this.menuClosed&&this.dispatchEvent(new CustomEvent("sb-menu-closed")))}_viewportChanged(){this.showMenu=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.showMenu?(this.$.buttons.classList.remove("normal"),this.updateClassForActionsContainers(!1)):(this.$.buttons.classList.add("normal"),this.updateClassForActionsContainers(!0))}updateClassForActionsContainers(t){const e=this.querySelectorAll('div[slot="actions"]');for(const n of e)t?n.classList.add("normal"):n.classList.remove("normal")}_setSearchbarStyles(){}static changeMenu(t,e,n,i,o){let r=t.currentTarget.getBoundingClientRect(),s=n.style;return s.top=r.bottom+2+"px",s.right=window.innerWidth-r.right+"px",(0,d.og)(i,e,n),!e}openLookupDialog(t){this.showLookupDialog=!0,(0,k.T8)(this,(()=>{let e=this.shadowRoot.querySelector("#lookup");e.invoker=t.detail.lookup,e.open(t.detail.searchValue)}))}closeLookupDialog(t){this.showLookupDialog=!1}openRteDialog(t){let e=this.$.rte;e.value=t.detail.value,e.rte=t.detail.rte,e.open()}openSearchDialog(t){let e=this.$.search;e.value=t.detail.value,e.quote=t.detail.quote,e.open()}allowAutoLaunchPopup(){this.showMenu&&((0,d.og)("open",!0,this.$.buttons),(0,d.og)("autoLaunch",!0,this.$.buttons),this.menuClosed=!1)}_setupMetricsServiceListeners(){document.addEventListener("metrics-changed",function(t){let e=t.detail,n=this.querySelector(".header .sticker");null!=e.ept&&(this.ept=Math.round(e.ept)),null!=e.bpt&&(this.bpt=Math.round(e.bpt)),null!=e.spt&&(this.spt=Math.round(e.spt)),n&&(n.style.display="block",this.ept<=2e3?n.style.backgroundColor="#468847":this.ept>2e3&&this.ept<=3e3?n.style.backgroundColor="#daa520":n.style.backgroundColor="#b72020")}.bind(this))}static get template(){return(0,o.dy)(bt||(bt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="iron-flex iron-flex-alignment"></style>\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<header class="header" device>\n\t\t\t\x3c!-- dom-if needed here due to iron-list bug with fully recycling rows when closing-reopening --\x3e\n\t\t\t<template is="dom-if" if="[[showLookupDialog]]" restamp>\n\t\t\t\t<sb-lookup-dialog id="lookup"></sb-lookup-dialog>\n\t\t\t</template>\n\t\t\t<sb-search-bar-dialog id="search"></sb-search-bar-dialog>\n\t\t\t<sb-rte-dialog id="rte"></sb-rte-dialog>\n\n\t\t\t<template is="dom-if" if="[[debugMode]]">\n\t\t\t\t<div class="sticker">\n\t\t\t\t\t<div class="eptLabel">EPT: [[ept]] ms</div>\n\t\t\t\t\t<div class="bptLabel">BPT: [[bpt]] ms</div>\n\t\t\t\t\t<div class="sptLabel">SPT: [[spt]] ms</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t\x3c!--this is the row--\x3e\n\t\t\t<div class="layout horizontal">\n\t\t\t\t<div>\n\t\t\t\t\t<slot name="messages"></slot>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- header icon--\x3e\n\t\t\t\t<span id="icon" class="sbHeaderIcon"><slot name="icon"></slot></span>\n\n\t\t\t\t\x3c!--titles--\x3e\n\t\t\t\t<div class="titles">\n\t\t\t\t\t<p id="sub-title"><slot name="h2"></slot></p>\n\t\t\t\t\t<p id="title" on-click="_showFullTitle"><slot name="h1"></slot></p>\n\t\t\t\t\t<p id="full-title"></p>\n\n\t\t\t\t\t<p id="quoteTotal"><slot name="quoteTotal"></slot></p>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!--buttons--\x3e\n\t\t\t\t<template is="dom-if" if="[[searchbar]]">\n\t\t\t\t<div class="flex centered" id="searchbar">\n\t\t\t\t\t<slot name="headersearch"></slot>\n\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div class="flex layout horizontal wrap end-justified start centered">\n\t\t\t\t\t<div id="fixed" class="normal">\n\t\t\t\t\t\t<slot name="fixedActions"></slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="buttons" class="normal" on-click="_changeMenu">\n\t\t\t\t\t\t<slot name="actions"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="layout horizontal centered start end-justified" hidden$="{{!showMenu}}">\n\t\t\t\t\t<paper-button noink id="menuButton" on-click="_changeMenu"><i class="sf-icon-down"></i></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<p id="fullScreenMode"><slot name="fullScreenMode"></slot></p>\n\t\t\t\t\x3c!--buttons--\x3e\n\n\t\t\t</div>\n\t\t</header>\n\n\t\t'])),u)}}customElements.define(mt.is,mt)},2724:(t,e,n)=>{"use strict";var i,o=n(1305),r=(n(5969),n(8228),n(5775)),s=n(3345);const a=(0,n(1510).f)(i||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host #toastContainer {\n  z-index: var(--sbToastzIndex, 10000);\n  box-sizing: border-box;\n  width: 100%;\n  left: 0;\n  top: 0;\n  position: absolute;\n  text-align: center;\n  pointer-events: none;\n}\n:host .repeat {\n  animation: shake 1s;\n}\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%,\n  80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%,\n  60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n:host .msgIcon {\n  margin-right: 12px;\n  vertical-align: middle;\n  font-size: var(--sbFontSizeDefault);\n  float: left;\n}\n:host .slds-notify_container {\n  position: relative;\n  text-align: center;\n}\n:host .slds-notify_container ::selection {\n  background: #faffbd;\n  text-shadow: none;\n  color: #fff;\n}\n:host .slds-notify--toast {\n  border-radius: 4px;\n  padding: 12px 24px;\n  display: inline-block;\n  text-align: left;\n  box-sizing: border-box;\n  min-width: var(--sbToastMinWidth, 480px);\n  margin: 8px 8px 0px 8px;\n  border-bottom: 1px solid #d8dde6;\n}\n:host .slds-notify--toast[class*='--mobile'] {\n  min-width: 0px;\n}\n:host [class*='--mobile'] .slds-notify--toast {\n  min-width: 0px;\n}\n:host .slds-button__icon {\n  color: #fff;\n  font-size: var(--sbFontSizeDefault);\n}\n:host .slds-notify__close {\n  float: right;\n}\n:host .slds-button--icon-inverse {\n  color: #fff;\n}\n:host .slds-button {\n  position: relative;\n  display: inline-block;\n  padding: 0;\n  width: 16px;\n  background: 0 0;\n  background-clip: padding-box;\n  border: 0;\n  color: #0070d2;\n  font-size: inherit;\n  text-decoration: none;\n  -webkit-appearance: none;\n  white-space: normal;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transition: color 50ms linear, background-color 50ms linear;\n  cursor: pointer;\n}\n:host .slds-grid {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: block;\n  position: relative;\n  align-items: center;\n  line-height: 21px;\n  margin-right: 24px;\n}\n:host .slds-notify {\n  color: #fff;\n  position: relative;\n  background: #54698d;\n  font-weight: 300;\n  pointer-events: auto;\n}\n:host .slds-notify > .notify__content > h2 {\n  padding-left: 26px;\n  display: block;\n  -webkit-margin-before: 0px;\n  -webkit-margin-after: 0px;\n  -webkit-margin-start: 0px;\n  -webkit-margin-end: 0px;\n  line-height: 21px;\n  font-weight: 300;\n  min-height: 21px;\n  -webkit-font-smoothing: auto;\n  font-size: var(--sbFontSizeDefault);\n  font-family: var(--sbPageFontFamily);\n}\n:host .slds-theme--error {\n  color: #fff;\n  background-color: #c23934;\n}\n:host .slds-theme--success {\n  color: #fff;\n  background-color: #04844b;\n}\n:host .slds-theme--warning {\n  background-color: #ffb75d;\n  color: #16325c;\n}\n:host .slds-theme--warning ::selection {\n  background: #faffbd;\n  text-shadow: none;\n  color: #16325c;\n}\n:host .slds-theme--warning .slds-button__icon {\n  fill: #54698d;\n}\n#toastContainer[class*='--mobile'] {\n  top: 9%;\n}\n.slds-notify--toast[class*='--mobile'] {\n  margin: 8px 0px 0px 0px;\n}\n[class*='--mobile'] #toastContainer {\n  top: 9%;\n}\n[class*='--mobile'] .slds-notify--toast {\n  margin: 8px 0px 0px 0px;\n}\n"],d||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c;n(5677);class u extends((0,r.Q)(o.H3)){static get is(){return"sb-toast"}static get properties(){return{messages:{type:Array,notify:!0},messagesModel:Array,hasMessages:Boolean,type:String}}ready(){super.ready(),this.hasMessages=!1,this.messagesModel=[],this.repeatHandlers={}}static get observers(){return["validation(messages)"]}validation(){if(!this.messages)return this.messagesModel=[],this.hasMessages=!1,void(this.repeatHandlers={});const t={type:"error",class:"slds-theme--error",msgs:[],icon:"sf-icon-error"},e={type:"success",class:"slds-theme--success",msgs:[],icon:"sf-icon-success"},n={type:"warning",class:"slds-theme--warning",msgs:[],icon:"sf-icon-warning"},i={type:"info",class:"",msgs:[],icon:"sf-icon-info"};if("object"==typeof this.messages[0])this.messages.forEach((o=>{let{type:r,msg:s}=o;const a=this.decodeHTML(s).split("\n");"error"===r?t.msgs.push(a):"warning"===r?n.msgs.push(a):"success"===r?e.msgs.push(a):i.msgs.push(a)}));else if("string"==typeof this.messages[0]){const o=this.messages.map((t=>this.decodeHTML(t).split("\n")));"error"===this.type?t.msgs=o:"success"===this.type?e.msgs=o:"warning"===this.type?n.msgs=o:i.msgs=o}this.messages&&this.messages.length>0?(this.hasMessages=!0,this.removeRepeatedMessages(t,"error"),t.msgs.length>0&&this.push("messagesModel",t),this.removeRepeatedMessages(e,"success"),e.msgs.length>0&&this.push("messagesModel",e),this.removeRepeatedMessages(e,"warning"),n.msgs.length>0&&this.push("messagesModel",n),this.removeRepeatedMessages(i,"info"),i.msgs.length>0&&this.push("messagesModel",i)):(this.hasMessages=!1,this.messages=void 0)}decodeHTML(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}removeRepeatedMessages(t,e){if(this.messagesModel)for(let n=0,i=this.messagesModel.length;n<i;n++){let i=this.messagesModel[n];if(e!==i.type)continue;let o=this.isMessageRepeated(i,t);o&&(t.msgs=[]),this.toggleRepeatClass(e,o,n)}}isMessageRepeated(t,e){for(let n=0,i=t.msgs.length;n<i;n++)for(let i=0,o=t.msgs[n].length;i<o;i++)if(void 0!==e.msgs[n]&&t.msgs[n][i]!==e.msgs[n][i])return!1;return!0}toggleRepeatClass(t,e,n){this.removeAnimationListeners(t,n);let i=this.addAnimationListeners(t,n);(0,s.og)("repeat",e,i)}removeAnimationListeners(t,e){let n=t+"_"+e,i=this.repeatHandlers[n];if(!i)return;let o=this.shadowRoot.querySelector("#"+n);o&&(o.removeEventListener("animationend",i),o.removeEventListener("webkitAnimationEnd",i))}addAnimationListeners(t,e){let n=t+"_"+e,i=this.shadowRoot.querySelector("#"+n),o=this.repeatHandlers[n]||this.removeRepeatClass.bind(this,i);if(this.repeatHandlers[n]=o,i){let t=this.repeatHandlers[n]||this.removeRepeatClass.bind(this,i);this.repeatHandlers[n]=t,i.addEventListener("animationend",t),i.addEventListener("webkitAnimationEnd",t)}return i}removeRepeatClass(t){(0,s.og)("repeat",!1,t)}closeMessage(t){let e=t.model.messages.type,n=0;for(let t=0;t<this.messagesModel.length;t++)this.messagesModel[t].type==e&&(delete this.repeatHandlers[e+"_"+n++],this.splice("messagesModel",t,1),t--);0==this.messagesModel.length&&(this.hasMessages=!1,this.messages=void 0)}static get template(){return(0,o.dy)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[hasMessages]]">\n\t\t\t<div id="toastContainer">\n\t\t\t\t<template is="dom-repeat" items="{{messagesModel}}" as="messages">\n\t\t\t\t\t<div class="slds-notify_container">\n\t\t\t\t\t\t<div id$="[[messages.type]]_[[index]]" class$="slds-notify slds-notify--toast [[messages.class]]">\n\t\t\t\t\t\t\t<button class="slds-button slds-button--icon-inverse slds-notify__close" on-click="closeMessage">\n\t\t\t\t\t\t\t\t<i class="slds-button__icon sf-icon-close"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div class="notify__content slds-grid">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{messages.msgs}}" as="msg">\n\t\t\t\t\t\t\t\t\t<i class$="msgIcon [[messages.icon]]"></i>\n\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{msg}}" as="msgLine">\n\t\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t  {{msgLine}}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</template>\n\t\t</span>\n\t\t'])),a)}}customElements.define(u.is,u)},9929:(t,e,n)=>{"use strict";var i,o=n(1305),r=n(6852);const s=(0,n(1510).f)(i||(a=["\n.sbLoadingMask {\n  background-color: var(--sbLoadingMaskColor);\n  opacity: 0.8;\n  z-index: 10001;\n  /* Firefox < 16 */\n  /* Safari, Chrome and Opera > 12.1 */\n  /* Internet Explorer */\n  /* Opera < 12.1 */\n}\n.sbLoadingMask .sfSpinnerMessage {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: 140px;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  color: #1589ee;\n  text-align: center;\n  font-family: var(--sbPageFontFamily);\n  font-size: 1.1rem;\n  -webkit-animation: fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: fadein 1s;\n  /* Firefox < 16 */\n  -ms-animation: fadein 1s;\n  /* Internet Explorer */\n  -o-animation: fadein 1s;\n  /* Opera < 12.1 */\n  animation: fadein 1s;\n}\n.sbLoadingMask .sfSpinnerMessage .sfSpinnerStatus {\n  margin-top: 20px;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-ms-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.fixed {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.absolute {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.relative {\n  position: relative;\n  opacity: initial;\n}\n.slds-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n  transform: translate(-50%, -50%) rotate(90deg);\n}\n*,\n:after,\n:before {\n  box-sizing: border-box;\n}\n.slds-spinner--brand .slds-spinner__dot-a:after,\n.slds-spinner--brand .slds-spinner__dot-a:before,\n.slds-spinner--brand .slds-spinner__dot-b:after,\n.slds-spinner--brand .slds-spinner__dot-b:before,\n.slds-spinner--brand.slds-spinner:after,\n.slds-spinner--brand.slds-spinner:before {\n  background-color: #1589ee;\n}\n.small {\n  width: 1.25rem;\n}\n.small .slds-spinner__dot-a:after,\n.small .slds-spinner__dot-a:before,\n.small .slds-spinner__dot-b:after,\n.small .slds-spinner__dot-b:before,\n.small.slds-spinner:after,\n.small.slds-spinner:before {\n  width: 0.25rem;\n  height: 0.25rem;\n}\n.small .slds-spinner__dot-a:before,\n.small .slds-spinner__dot-b:before,\n.small.slds-spinner:before {\n  -webkit-animation-name: dotsBounceBefore-medium;\n  animation-name: dotsBounceBefore-medium;\n  top: -0.125rem;\n  left: -0.125rem;\n}\n.small .slds-spinner__dot-a:after,\n.small .slds-spinner__dot-b:after,\n.small.slds-spinner:after {\n  -webkit-animation-name: dotsBounceAfter-medium;\n  animation-name: dotsBounceAfter-medium;\n  top: -0.125rem;\n  right: -0.125rem;\n}\n.large {\n  width: 2.75rem;\n}\n.large .slds-spinner__dot-a:after,\n.large .slds-spinner__dot-a:before,\n.large .slds-spinner__dot-b:after,\n.large .slds-spinner__dot-b:before,\n.large.slds-spinner:after,\n.large.slds-spinner:before {\n  width: 0.625rem;\n  height: 0.625rem;\n}\n.large .slds-spinner__dot-a:before,\n.large .slds-spinner__dot-b:before,\n.large.slds-spinner:before {\n  -webkit-animation-name: dotsBounceBefore-medium;\n  animation-name: dotsBounceBefore-medium;\n  top: -0.3125rem;\n  left: -0.3125rem;\n}\n.large .slds-spinner__dot-a:after,\n.large .slds-spinner__dot-b:after,\n.large.slds-spinner:after {\n  -webkit-animation-name: dotsBounceAfter-medium;\n  animation-name: dotsBounceAfter-medium;\n  top: -0.3125rem;\n  right: -0.3125rem;\n}\n.slds-spinner:after,\n.slds-spinner:before,\n.slds-spinner__dot-a:after,\n.slds-spinner__dot-a:before,\n.slds-spinner__dot-b:after,\n.slds-spinner__dot-b:before {\n  position: absolute;\n  content: '';\n  background: #9faab5;\n  border-radius: 50%;\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n}\n.slds-spinner:before {\n  -webkit-animation-delay: -0.083s;\n  animation-delay: -0.083s;\n}\n.slds-spinner:after {\n  -webkit-animation-delay: 0.416s;\n  animation-delay: 0.416s;\n}\n.slds-spinner__dot-a,\n.slds-spinner__dot-b {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.slds-spinner,\n.slds-spinner__dot-a,\n.slds-spinner__dot-b {\n  -webkit-transform-origin: 50% 50%;\n  transform-origin: 50% 50%;\n}\n.slds-spinner__dot-a {\n  -webkit-transform: rotate(60deg) translateY(0);\n  transform: rotate(60deg) translateY(0);\n}\n.slds-spinner__dot-b {\n  -webkit-transform: rotate(120deg) translateY(0);\n  transform: rotate(120deg) translateY(0);\n}\n.slds-spinner__dot-a:before {\n  -webkit-animation-delay: 0.083s;\n  animation-delay: 0.083s;\n}\n.slds-spinner__dot-b:before {\n  -webkit-animation-delay: 250ms;\n  animation-delay: 250ms;\n}\n.slds-spinner__dot-a:after {\n  -webkit-animation-delay: 0.583s;\n  animation-delay: 0.583s;\n}\n.slds-spinner__dot-b:after {\n  -webkit-animation-delay: 750ms;\n  animation-delay: 750ms;\n}\n@keyframes dotsBounceBefore-medium {\n  60% {\n    transform: translateX(0);\n    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n  }\n  80% {\n    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);\n    transform: translateX(-0.5rem);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes dotsBounceAfter-medium {\n  60% {\n    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);\n    transform: translateX(0);\n  }\n  80% {\n    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);\n    transform: translateX(0.5rem);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n"],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d;n(5677);class c extends((0,r.n)(o.H3)){static get is(){return"sf-loading-spinner"}static get properties(){return{show:{type:Boolean,value:!1},position:{type:String,value:"fixed"},size:{type:String,value:"large"},message:{type:String,observing:{id:"RootState",path:["spinnerMessage"]},value:null},status:{type:String,observing:{id:"RootState",path:["spinnerStatus"]},value:null},showMessage:{type:Boolean,observing:{id:"RootState",path:["showSpinnerMessage"]},value:!1}}}messageIsHidden(t,e){return!t||!e}static get template(){return(0,o.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-icons-styles"></style>\n\n\t\t<div id="mask" class$="sbLoadingMask [[position]]" hidden$="[[!show]]">\n\t\t\t<div class$="slds-spinner--brand slds-spinner [[size]]">\n\t\t\t\t<div class="slds-spinner__dot-a"></div>\n\t\t\t\t<div class="slds-spinner__dot-b"></div>\n\t\t\t</div>\n\n\t\t\t<div class="sfSpinnerMessage" hidden$="[[messageIsHidden(showMessage, message)]]">\n\t\t\t\t[[message]]\n\n\t\t\t\t<div class="sfSpinnerStatus" hidden$="[[!status]]">\n\t\t\t\t\t<sb-i18n>Status</sb-i18n>: [[status]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),s)}}customElements.define(c.is,c)},5178:(t,e,n)=>{"use strict";n.d(e,{C:()=>o});let i={};class o{static add(t,e,n,o,r){if(t&&e&&n){if(o||(o="value"),i[o]||(i[o]={}),!i[o][t]&&(i[o][t]={},r&&"value"==o&&"LineEditor"==t)){var s=document.createEvent("Event");s.initEvent(t+"-cached",!0,!0),document.dispatchEvent(s)}i[o][t][e]=n}}static get(t,e,n){return t&&e?(n||(n="value"),i[n]&&i[n][t]?i[n][t][e]:null):null}static remove(t,e,n){if(!t||!e||!n)return null;n||(n="value"),i[n]&&i[n][t]&&delete i[n][t][e]}}},8529:(t,e,n)=>{"use strict";n.d(e,{y:()=>l});var i=n(1929);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class s{constructor(t,e,n){this.sessionId=t,this.version=e||this._getApiVersion(),this.connectionOptions=n||{}}getConnection(){let t=new jsforce.Connection(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({sessionId:this.sessionId,version:this.version,instanceUrl:i.I.user.inCommunity?i.I.org.orgUrl:i.I.org.orgInstanceUrl},this.connectionOptions));return t.oik=i.I.user.oik,t}_getApiVersion(){if("undefined"!=typeof SB&&SB&&void 0!==SB.Constants&&SB.Constants&&void 0!==SB.Constants.apiVersion&&SB.Constants.apiVersion)return SB.Constants.apiVersion;throw new Error("Unable to process request: Could not determine API version")}}var a=n(6059);class l{constructor(t){this.prefix=t}getConnection(t){return"undefined"!=typeof Visualforce?Promise.resolve(this.getRemoteConnection(null,t)):(new a.f).getConnection()}getRemoteConnection(t,e){return new s(window.sb.vfSessionId,t,e).getConnection()}}},1068:(t,e,n)=>{"use strict";n.d(e,{S:()=>c});var i=n(8529),o=n(6059),r=n(6634),s=n(3729);class a{constructor(t,e){this.connection=t,this.metricsService=e||new r.K}read(t,e,n){return this.prefix=t,new Promise(function(t,i){this._getApex().then(function(o){let r="&reader="+e+"&uid="+n+"&spt="+this.metricsService.canGatherMetrics(),s=this.metricsService.startServiceRequest(r);o.get(this._getEndpoint()+r).then(function(e){this._resolve(this._parse(e),t,s)}.bind(this),function(t){this._reject(i,t.message||t,s)}.bind(this))}.bind(this),(function(t){i(t.message||t)}))}.bind(this))}load(t,e,n,i){return this.prefix=t,new Promise(function(t,o){this._getApex().then(function(r){let s="&loader="+e+"&uid="+n+"&spt="+this.metricsService.canGatherMetrics(),a=this.metricsService.startServiceRequest(s);r.patch(this._getEndpoint()+s,{context:JSON.stringify(i)}).then(function(e){this._resolve(this._parse(e),t,a)}.bind(this),function(t){this._reject(o,t.message||t,a)}.bind(this))}.bind(this),(function(t){o(t.message||t)}))}.bind(this))}save(t,e,n){return this.prefix=t,new Promise(function(t,i){this._getApex().then(function(o){let r=this.metricsService.startServiceRequest(e);o.post(this._getEndpoint()+"&spt="+this.metricsService.canGatherMetrics(),{saver:e,model:"string"==typeof n?n:JSON.stringify(n)}).then(function(e){this._resolve(this._parse(e),t,r)}.bind(this),function(t){this._reject(i,t.message||t,r)}.bind(this))}.bind(this),(function(t){i(t.message||t)}))}.bind(this))}describe(t){return this.getConnection().then((e=>e.describe(t)))}query(t){return this.getConnection().then((e=>e.query(t)))}requestPost(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getConnection().then((i=>i.requestPost(t,e,n)))}streamFileContents(t,e,n){return new Promise(((i,o)=>{this._getApex().then((r=>{let s=this.metricsService.startServiceRequest(e);r.post(null,{saver:"sobjects",model:"/sobjects/"+t+"/"+e+"/"+n}).then((t=>{this._resolve(this._parse(t),i,s)}),(t=>{this._reject(o,t.message||t,s)}))}),(t=>{o(t.message||t)}))}))}setConnection(t){this.connection=t}getConnection(){return this.connection?Promise.resolve(this.connection):"undefined"==typeof window?Promise.reject("Connection not set"):(this.oauth=this.oauth||new o.f,this._getConnection(this.oauth))}_getConnection(t){return new Promise(function(e,n){t.getConnection().then(function(t){this.connection=t,e(this.connection)}.bind(this),(function(t){n(t.message||t)}))}.bind(this))}_getApex(){return this.getConnection().then((t=>Promise.resolve(t.apex)))}_getEndpoint(){return this._getPrefix()+"/ServiceRouter?"+(void 0===this.connection.oik?"":"oik="+this.connection.oik)}_getPrefix(){return this.prefix?"/"+this.prefix:""}_resolve(t,e,n){let i=-1!=Object.keys(t).indexOf("spt")?t.spt:void 0;this.response=i||0===i?this._parse(t.response):t,this.metricsService.stopServiceRequest(n,i),e(this.response)}_reject(t,e,n){(new r.K).stopServiceRequest(n),t(this._adjustErrorMessage(e))}_adjustErrorMessage(t){return"expired access/refresh token"===t&&(t+=" - to authorize go to http://localhost:"+location.port+"/common/oauth"),t}_parse(t){try{return(new s.z).parse(t)}catch(e){return t}}}class l{constructor(t){this.VF_MAX_INPUT=1e6,this._remoteConnection=(new i.y).getRemoteConnection(),this._restClient=new a(this._remoteConnection),this.metricsService=t||new r.K}read(t,e,n){return this.prefix=t,this._remote("read",e,n)}load(t,e,n,i){this.prefix=t;let o=JSON.stringify(i);return!0===this._isPayloadTooLarge([o,n])?this._restClient.load(t,e,n,i):this._remote("load",e,n,o)}save(t,e,n){this.prefix=t;var i="string"==typeof n?n:JSON.stringify(n);return!0===this._isPayloadTooLarge([i,e])?this._restClient.save(t,e,n):this._remote("save",e,i)}describe(t){return this._remoteConnection.describe(t)}query(t,e){return(new i.y).getRemoteConnection(e).query(t)}requestPost(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._remoteConnection.requestPost(t,e,n)}_remote(t,e,n,i){var o=this._getAction()+"."+t;return new Promise(i?function(t,r){let s=this.metricsService.startServiceRequest(e);Visualforce.remoting.Manager.invokeAction(o,e,n,i,this.metricsService.canGatherMetrics(),function(e,n){this._callback(e,n,t,r,s)}.bind(this),{escape:!1,timeout:12e4})}.bind(this):function(t,i){let r=this.metricsService.startServiceRequest(e);Visualforce.remoting.Manager.invokeAction(o,e,n,this.metricsService.canGatherMetrics(),function(e,n){this._callback(e,n,t,i,r)}.bind(this),{escape:!1,timeout:12e4})}.bind(this))}_getAction(){return this._getPrefix()+"ServiceRouter"}_getPrefix(){return this.prefix?this.prefix+".":""}_callback(t,e,n,i,o){if(!e.status)return this.metricsService.stopServiceRequest(o),void i(e.message);let r=this._parse(t),s=-1!=Object.keys(r).indexOf("spt")?r.spt:void 0;r=s||0===s?this._parse(r.response):r,this.metricsService.stopServiceRequest(o,s),n(r)}_parse(t){try{return(new s.z).parse(t)}catch(e){return t}}_isPayloadTooLarge(t){return JSON.stringify(t).length>this.VF_MAX_INPUT}}var d=n(4888);class c{constructor(){this.client="undefined"!=typeof Visualforce?new l:new a}read(t,e,n){return this.client.read(t,e,n)}load(t,e,n,i){return this.client.load(t,e,n,i)}save(t,e,n){let i={stripValues:new Set(["fieldVisibility","fieldEditability"])};var o="string"==typeof n?n:new d.$(null,null,null,i).format(n,!0);return this.client.save(t,e,o)}md(t,e,n){return this.client.load(t,"OAuthExtension.MetadataReader",null,{type:e,items:n})}describe(t,e){return this.client.describe(e)}query(t,e){return this.client.query(t,e)}requestPost(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.requestPost(t,e,n)}streamFileContents(t,e,n){return this.client.streamFileContents(t,e,n)}setConnection(t){"function"==typeof this.client.setConnection&&this.client.setConnection(t)}}},4155:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var i=n(4888);class o{constructor(t){this.pretty=t,this.data={},this.formatterOptions={stripValues:new Set(["fieldVisibility","fieldEditability"])}}addQuote(t,e,n){return this.addObject(t,e,!0,n,!1)}addObject(t,e,n,o,r){return this.data[t]=null!=e?new i.$(n,o,this.pretty,this.formatterOptions).format(e,r):e,this}addInt(t,e){try{return e=parseInt(e),isNaN(e)||(this.data[t]=e),this}catch(t){return this}}add(t,e){return this.data[t]=e,this}build(){return this.data}}},566:(t,e,n)=>{"use strict";function i(t){let e=("string"==typeof t?t:t[0]).split("\n")[0].split(":");return e.length>1?e[0].startsWith("System")?[e.splice(1,e.length-1).join(":")]:[e.join(":")]:e}n.d(e,{Z:()=>i})},4888:(t,e,n)=>{"use strict";n.d(e,{$:()=>i});class i{constructor(t,e,n,i){this.omitNull=t,this.omitRelationships=e,this.pretty=n,this.formatterOptions=i||{}}format(t,e){if(void 0===t)return;if(null===t)return JSON.stringify(t);let n=this.pretty;"number"!=typeof n&&(n=n?2:null);let i=this,o=JSON.stringify(t,(function(t,e){return i._replacer(t,e,this)}),n);return!0===e?o:JSON.parse(o)}_replacer(t,e,n){if(void 0!==e&&"_transient_"!==t&&"ui_original_record"!==t){if(this.formatterOptions.cleanRootProperty===t){this.formatterOptions.cleanObj=n[this.formatterOptions.cleanPathFromRoot[0]];for(let t=1,e=this.formatterOptions.cleanPathFromRoot.length;t<e;t++)this.formatterOptions.cleanObj=this.formatterOptions.cleanObj?this.formatterOptions.cleanObj[this.formatterOptions.cleanPathFromRoot[t]]:void 0}if(!this.formatterOptions.stripValues||!this.formatterOptions.stripValues.has(t)){if(this.omitNull&&null===e){const e=n[this.formatterOptions.keepIfDirtyWhenParentContains];if(null==e)return;if(null!=this.formatterOptions.keepIfDirtyAllowList)for(let t in this.formatterOptions.keepIfDirtyAllowList)if(-1!==this.formatterOptions.keepIfDirtyAllowList[t].indexOf(e[t]))return null;return this.formatterOptions.cleanObj&&null!=this.formatterOptions.cleanObj[t]?null:void 0}if(!(this.omitRelationships&&t.endsWith&&t.endsWith("__r")))return"#Error!"===e?this.omitNull?void 0:null:e}}}}},267:(t,e,n)=>{"use strict";n.d(e,{d:()=>o});var i=n(922);class o{constructor(t,e,n,i,o){this.quote=t,this.products=e,this.groupKey=n,this.stripLinesThreshold=i,this.stripLinesMessage=o}reduceQuote(t){if(this.originalLines=this.quote.lineItems,this.quote.partialVO=!0,!1===t)return this.quote.lineItems=[],this.quote;let e=this.stripLinesMessage.replace("{0}",this.quote.record.Id).replace("{1}",this.stripLinesThreshold);return console.log(e),this._setAggregatedDataToQuote(),this._setNecessaryLineItemsToQuote(),this.quote}_setAggregatedDataToQuote(){let t=new i.z(this.quote);this.quote.existingProductIds=t.getExistingProductIdsFromLines();let e=t.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=e,this.quote.emptyGroupKeys=t.getKeysOfEmptyGroups()}_setNecessaryLineItemsToQuote(){this.products&&(this.requiredKeys=this._getNecessaryLineKeys());let t=[];for(let e of this.quote.lineItems)this.requiredKeys.has(e.key)&&t.push(e);this.quote.lineItems=t}revertQuote(){return this.quote.partialVO=!1,this.quote.lineItems=this.originalLines,delete this.quote.existingProductIds,delete this.quote.segmentTemplatesByDimensionTypeByGroupKey,delete this.quote.emptyGroupKeys,this.quote}getRequiredKeys(){return this.requiredKeys}_getNecessaryLineKeys(){let t="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),e=new Set;return this.products.forEach((n=>{if(n.configuration&&n.configuration.lineItemKey){let i=this.quote.lineItems.length;for(let o=0;o<i;o++){let i=this.quote.lineItems[o];if(i.key===n.configuration.lineItemKey){this._addLineKeyWithRecursiveCallOnChildrenAndSource(t,e,i);break}}}if(n.upgradedAssetId){let i=this.quote.lineItems.length;for(let o=0;o<i;o++){let i=this.quote.lineItems[o];if(i.record[t+"UpgradedAsset__c"]===n.upgradedAssetId&&i.record[t+"Existing__c"]){this._addLineKeyWithRecursiveCallOnChildrenAndSource(t,e,i);break}}}})),e}_addLineKeyWithRecursiveCallOnChildrenAndSource(t,e,n){if(e.has(n.key))return;let i=n.record[t+"Bundle__c"],o=null!=n.sourceLineKey;(i||o)&&this.quote.lineItems.forEach((r=>{let s=i&&r.parentItemKey===n.key,a=o&&r.key===n.sourceLineKey;(s||a)&&this._addLineKeyWithRecursiveCallOnChildrenAndSource(t,e,r)})),e.add(n.key)}}},3729:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var i=n(5178);class o{parse(t){return JSON.parse(t,this._reviver)}_reviver(t,e){if("ui_original_record"!==t)return e;if(!e)return e;let n=this.record,o=e.cacheName,r=e.cacheId,s=e.cachedOriginalRecordPath||[],a=e.cloneRecordIfNoCache,l=s.length;if(!(o&&r&&l>0))return a?JSON.parse(JSON.stringify(n)):null;let d=i.C.get(o,r.substring(0,15));if(!d)return a?JSON.parse(JSON.stringify(n)):null;let c=d[s[0]];for(let t=1;t<l;t++){let e=s[t];try{let t=parseInt(e);e=isNaN(t)?e:t}catch(t){}c=c?c[e]:null}return c||(a?JSON.parse(JSON.stringify(n)):null)}}},2337:(t,e,n)=>{"use strict";var i,o=n(5178),r=n(1305),s=(n(8011),n(7255),n(3729));class a extends r.H3{static get is(){return"sb-async-service"}static get properties(){return{reader:String,loader:String,saver:String,background:Boolean,response:{notify:!0},cache:String,uid:String,ignoreCache:{type:Boolean,value:!1},error:{type:Array,notify:!0}}}ready(){super.ready(),this.$.service.addEventListener("response-changed",this.handleServiceResponse.bind(this)),this.$.jobchecker.addEventListener("result-changed",this.handleAsyncResponse.bind(this))}setResponse(t){this.response=t}handleServiceResponse(t){let e=t.detail.value;!0===a.isAsyncResponse(e)?this.pollAsyncJob(e):this.setResponse(e)}handleAsyncResponse(t){let e=a.parseAsyncResponse(t.detail.value);this.swapCache(e),this.setResponse(e)}swapCache(t){if(!this.cache||!this.uid)return;let e=o.C.get(this.cache,this.uid);delete e.recordId,delete e.jobId,delete e.jobType,o.C.add(this.cache,this.uid,Object.assign(t,e))}pollAsyncJob(t){this.$.jobchecker.data={jobId:t.jobId,recordId:t.recordId,jobType:t.jobType}}static isAsyncResponse(t){return!!(t&&t.recordId&&t.jobId&&t.jobType)}static parseAsyncResponse(t){return(new s.z).parse(t.payload)}static get template(){return(0,r.dy)(i||(t=['\n\t\t<sb-service\n\t\t\tid="service"\n\t\t\tsaver="[[saver]]"\n\t\t\treader="[[reader]]"\n\t\t\tloader="[[loader]]"\n\t\t\tcache="[[cache]]"\n\t\t\tuid="[[uid]]"\n\t\t\tmodel="[[model]]"\n\t\t\tcontext="[[context]]"\n\t\t\tignore-cache="[[ignoreCache]]"\n\t\t\tbackground="[[background]]"\n\t\t\terror="{{error}}"\n\t\t></sb-service>\n\t\t<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(a.is,a)},9229:(t,e,n)=>{"use strict";var i,o=n(1305);n(5969),n(8011),n(5799);class r extends o.H3{static get is(){return"sb-describe"}static get properties(){return{objects:Array,fields:Array,cache:{type:String,value:"describe"},describe:{type:Object,notify:!0},error:{type:Object,notify:!0},background:{type:Boolean,value:!1}}}static get observers(){return["describeObjects(objects)","describeFields(fields)"]}constructor(){super(),this.waiting=!1}describeObjects(){let t=[];this.objects.forEach((function(e){t.push(e)})),this._describe(this.objects).then(function(e){let n=null,i={objects:t};for(let t=0,i=e.length;t<i;t++){let i=e[t];i&&(n=n||{},n[i.name]=i)}n&&(i.md=n,this.describe=i),this.waiting=!1}.bind(this),function(t){this.waiting=!1,this.error=t||t.message}.bind(this))}describeFields(){let t=[];this.fields.forEach((function(e){t.push(e)}));let e={};for(let t=0,n=this.fields.length;t<n;t++){let n=this.fields[t].split("."),i=n[0],o=n[1];e[i]=e[i]||{},e[i][o]=!0}this._describe(Object.keys(e)).then(function(n){let i=null,o={},r={fields:t},s=[];for(let t=0,r=n.length;t<r;t++){let r=n[t];if(!r)continue;i=i||{};let a=e[r.name];for(let t=0,e=r.fields.length;t<e;t++)o[r.name+"."+r.fields[t].name]=r.fields[t],a[r.fields[t].name]&&(i[r.name+"."+r.fields[t].name]=r.fields[t],r.fields[t].tableName=r.name,null!=r.fields[t].controllerName&&s.push(r.fields[t]))}s.forEach((t=>{let e=t.tableName+"."+t.controllerName;t.controllingField=o[e],t.controllingField.controllingPicklist=!0,i[e]=t.controllingField})),i&&(r.md=i,this.describe=r),this.waiting=!1}.bind(this),function(t){this.waiting=!1,this.error=t||t.message}.bind(this))}_describe(t){this.waiting=!0;let e=[];for(let n=0,i=t.length;n<i;n++)e.push(this.$.service.describe({sObject:t[n]}));return Promise.all(e)}static get template(){return(0,o.dy)(i||(t=['\n\t\t\t<template is="dom-if" if="[[!background]]">\n\t\t\t\t<sb-loading-spinner show="[[waiting]]"/>\n\t\t\t</template>\n\t\t\t<sb-service id="service" cache="[[cache]]" background="true"></sb-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(r.is,r)},8011:(t,e,n)=>{"use strict";var i,o=n(1305),r=n(1929),s=n(1068),a=n(5178),l=n(3345);class d extends o.H3{static get is(){return"sb-service"}static get properties(){return{reader:String,loader:String,saver:String,uid:String,model:Object,context:Object,mdType:String,mdItems:Array,sObject:String,soql:String,fileType:String,fileId:String,fileContentsField:String,cache:String,waiting:{type:Boolean,notify:!0},response:{type:Object,notify:!0},error:{type:Object,notify:!0},client:{type:Object,value:function(){return new s.S}},transient:{type:Boolean},background:{type:Boolean,value:!1},ignoreCache:{type:Boolean,value:!1},version:String}}static get observers(){return["_readObserver(reader, uid)","_saveObserver(saver, model)","_loadObserver(loader, uid, context)","_mdObserver(mdType, mdItems)","_describe(sObject)","_query(soql)","_streamFileContentsObserver(uid, fileType, fileId, fileContentsField)","_spinnerObserver(waiting, background)"]}get prefix(){return r.I.org.prefix?r.I.org.prefix:""}read(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.read(this.prefix,this.reader,this.uid))}load(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.load(this.prefix,this.loader,this.uid,this.context))}save(t){if((0,l.l7)(this,t),this.transient)return this._response(Promise.resolve(this.model));var e=this._returnCachedPromise(this.uid);return e||this._response(this.client.save(this.prefix,this.saver,this.model))}md(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.md(this.prefix,this.mdType,this.mdItems))}describe(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse(this.sObject);return e||this._response(this.client.describe(this.prefix,this.sObject),this.sObject)}streamFileContents(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.streamFileContents(this.fileType,this.fileId,this.fileContentsField))}query(t){(0,l.l7)(this,t);var e=this._returnPromiseIfCachedResponse();return e||this._response(this.client.query(this.soql,this.version))}_readObserver(t,e){if(void 0!==t&&void 0!==e)return this._read(t,e)}_read(){this.read().then((function(){}),(function(t){console.error(t.message||t)}))}_loadObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._load(t,e,n)}_load(){this.load().then((function(){}),(function(t){console.error(t.message||t)}))}_saveObserver(t,e){if(void 0!==t&&void 0!==e)return this._save(t,e)}_save(){this.save().then((function(){}),(function(t){console.error(t.message||t)}))}_mdObserver(t,e){if(void 0!==t&&void 0!==e)return this._md(t,e)}_md(){this.md().then((function(){}),(function(t){console.error(t.message||t)}))}_describe(){this.describe().then((function(){}),(function(t){console.error(t.message||t)}))}_query(){this.query().then((function(){}),(function(t){console.error(t.message||t)}))}_streamFileContentsObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this._streamFileContents(t,e,n,i)}_streamFileContents(){this.streamFileContents().then((()=>{}),(t=>{console.error(t.message||t)}))}_spinnerObserver(t,e){if(void 0!==t&&void 0!==e)return this._spinner(t,e)}_spinner(){this.spinner=this.waiting&&!this.background}_returnCachedPromise(t){var e=a.C.get(this.cache,t,"promise");return e?(e._services=e._services||[],-1===e._services.indexOf(this)&&e._services.push(this),e):this.transient?Promise.resolve(this.response):null}_returnPromiseIfCachedResponse(t){if(!0===this.ignoreCache)return!1;t=t||this.uid;var e=a.C.get(this.cache,t);return e?(this.response=e,Promise.resolve(this.response)):this._returnCachedPromise(t)}_response(t,e){return this.waiting=!0,a.C.add(this.cache,e||this.uid,t,"promise"),t.then(function(n){null!=n&&(this.response=n,(t._services||[]).forEach(function(t){t.response=this.response}.bind(this)),a.C.add(this.cache,e||this.uid,this.response,"value",this));return a.C.remove(this.cache,e||this.uid,"promise"),this.waiting=!1,Promise.resolve(this.response)}.bind(this),function(n){(this.waiting=!1,n)&&(this.error=this._createError(n),(t._services||[]).forEach(function(t){t.error=this.error}.bind(this)));return a.C.remove(this.cache,e||this.uid,"promise"),Promise.reject(this.error)}.bind(this))}createError(t){return this._createError(t)}_createError(t){var e,n=t.message||t,i={message:n,errorCode:t.errorCode};if(n.indexOf&&-1!=n.indexOf("ValidationException: [")||n.startsWith&&n.startsWith("[")){var o=n.indexOf("["),r=n.indexOf("]",o)+1;r>o&&(e=n.substring(o,r))}if(e)try{var s=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r"),a=JSON.parse(s);i.validations=a}catch(t){}return i}static get template(){return(0,o.dy)(i||(t=['\n\t\t<sb-loading-spinner show="[[spinner]]"/>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(d.is,d)},9815:(t,e,n)=>{"use strict";n.d(e,{s:()=>r});var i=n(1068),o=n(984);class r{constructor(t){this.model=t,this.searchFilterData={}}buildFields(t){return t}getSearchTable(){return this.model.targetObjectName}getGroupKey(t){return this.model.hasCustomSearchFilters?t.record.Id:t.targetFieldName}setDefaultFilterValues(t,e){let n={},i=[];if(this.model.hasCustomSearchFilters){for(let r of t)for(let t of this.model.searchFilters)if(t.record.Id===r){n[r]={value:void 0===this.searchFilterData[r]?t.stringValue:this.searchFilterData[r].value,field:void 0===this.searchFilterData[r]?t.targetFieldName?t.targetFieldName:"":this.searchFilterData[r].field,hidden:t.hidden},e&&t.stringValue&&this.isLookupType(e[r].model.type)&&i.push(this.queryLookupFilterName(n[r].value,e[r].model.referenceTo[0]).then((function(t){let e=t.records[0];if(!e)return;let i=new o.Z(e.attributes.type).getNameField();n[r].label=e[i]})));break}}else for(let i of t)n[i]={value:void 0===this.searchFilterData[i]?e[i].stringValue:this.searchFilterData[i].value,hidden:e[i].hidden},this.searchFilterData[i]&&this.searchFilterData[i].label&&(n[i].label=this.searchFilterData[i].label);return new Promise((t=>{Promise.all(i).then((()=>{this.searchFilterData=r.handleDynamicSearchFilters(n,this.dynamicSearchFilters),t(n)}))}))}static handleDynamicSearchFilters(t,e){if(!e)return t;for(let n of e)"Optional Filter"===n.type&&t[n.targetFieldName]&&(t[n.targetFieldName].value=n.stringValue);return t}getFieldSet(){return this.fieldSet}getFilterContext(){return this.model.hasCustomSearchFilters?this.loadCustomSearchFilterValues(this.model.searchFilters,this.searchFilterData):this.loadStandardSearchFilterValues(this.searchFilterData)}loadCustomSearchFilterValues(t,e){let n={};for(let i in e)for(let o of t)!0!==o.hidden&&i===o.record.Id&&void 0!==e[i]&&null!==e[i]&&!0!==this.isBlank(e[i].value)&&(n[o.targetFieldName]=e[i].value);return n}loadStandardSearchFilterValues(t){let e={};for(let n in t)!0!==this.isBlank(t[n].value)&&(e[n]=t[n].value);return e}getAdditionalProperties(){if(this.dynamicSearchFilters){let t=[];for(let e=0,n=this.dynamicSearchFilters.length;e<n;e++)"Default Filter"===this.dynamicSearchFilters[e].type&&t.push(JSON.stringify(this.dynamicSearchFilters[e]));return t}}clearFields(){let t={};for(let e in this.searchFilterData)t[e]=JSON.parse(JSON.stringify(this.searchFilterData[e])),t[e].value="";return this.searchFilterData=t}runOnLoad(t){this.searchFilterData=t}isLookupType(t){return"reference"===t||"id"===t}queryLookupFilterName(t,e){let n=new o.Z(e).getNameField(),r=t?"'".concat(t,"'"):null;return(new i.S).query("SELECT Id, ".concat(n," FROM ").concat(e," WHERE Id = ").concat(r))}hasSearchFilterValues(){let t=this.getFilterContext();for(let e in t)if(null!=t[e])return!0;return!1}isBlank(t){return null===t||""===t||void 0===t}}},2042:(t,e,n)=>{"use strict";n.d(e,{M:()=>d});var i=n(83),o=n(1929),r=n(1594),s=n(3841),a=n(8766),l=n(6057);class d{static formatFieldData(t,e,n,a){if(!n)return e;let c=n.type,u=new i.e(!1,n,o.I.i18n,c);switch(r.U.isDiscountField(n.name)&&(c="discount"),r.U.isMarkupField(n.name)&&(c="markup"),n&&"richtextarea"===n.extraTypeInfo&&(c="richtextarea"),c){case"double":return u.format(e,!1);case"currency":case"percent":return u.format(e,!0);case"discount":case"markup":return this.formatDiscountField(t,u);case"date":case"datetime":return o.I.i18n.format(e,{date:!0},o.I.user);case"time":return o.I.i18n.formatTime(e,o.I.user);case"reference":return d.formatReferenceField(n,a)||e;case"richtextarea":case"url":let i=s.V.sanitizeHtmlText(e);return null===i?"":i;case"string":if(n.calculatedFormula&&s.V.containsMarkup(e))return s.V.sanitizeHtmlText(e);break;case"picklist":case"multipicklist":return this.formatPicklistData(n,e);case"encryptedstring":if(!t.editorModel.data.settings.viewEncryptedDataEnabled)return(0,l.y)(e,n)}return e}static formatPicklistData(t,e){if(t.picklistValues&&e){let n=[];return e.toString().split(";").forEach((e=>{let i=this.findPickListValue(t,e);i?n.push(i.label):n.push(e)})),n.join(";")}return e}static findPickListValue(t,e){const n=t.name;return this._pickListValuesMap||(this._pickListValuesMap={}),this._pickListValuesMap[n]||(this._pickListValuesMap[n]={},t.picklistValues.forEach((t=>{this._pickListValuesMap[n][t.value]=t}))),this._pickListValuesMap[n][e]}static formatDiscountField(t,e){(0,a.r$)(t,e.metadata.name);const{displayValue:n,units:i,unit:o}=(0,a.DH)(t,e.metadata.name);if(null!==n&&!isNaN(n)){let t=i.find((t=>t.value===o)),r=t?t.label:"",s=e.format(n);return"".concat(s," ").concat(r)}return""}static formatReferenceField(t,e){let n="";return e&&t.relationshipName&&e[t.relationshipName]&&(n=e[t.relationshipName].Name),n}static toApexDate(t){return t&&t instanceof Date?t.toISOString().replace(new RegExp("[Tt].*"),""):""}static toApexDateTime(t){if(t&&t instanceof Date){var e=t.toISOString();return e.slice(0,e.length-1)+"+0000"}return""}}},3817:(t,e,n)=>{"use strict";n.d(e,{G:()=>o});var i=n(4799);class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stripTime=t;let e=(i.o.getLocaleData()?i.o.getLocaleData().date.formats.dateFormats.yMd:"M/D/YY").replace(new RegExp("[dD]+"),"D").replace(new RegExp("[mM]+"),"M").replace(new RegExp("[yY]+"),"Y");this.separator=e.match(new RegExp("[/.-]"))[0];let n=e.split(this.separator);this.dateIdx=n.indexOf("D"),this.monthIdx=n.indexOf("M"),this.yearIdx=n.indexOf("Y")}parse(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isValidYear;if("string"!=typeof t)return t;this.stripTime&&(t=t.split(" ")[0]);let n=!0,i=t.split(this.separator),o=i[this.dateIdx],r=i[this.monthIdx],s=i[this.yearIdx];if(s&&4==s.length&&r&&r.length>0&&r.length<=2&&o&&o.length>0&&o.length<=2){if(o=parseInt(o),r=parseInt(r),s=parseInt(s),i.length&&!isNaN(s)&&!isNaN(r)&&!isNaN(o)){if("function"==typeof e&&!e(s))return null;if(r>=1&&r<=12){var a=31;2==r?(a=28,s%4==0&&(s%100!=0||s%400==0)&&(a=29)):4!=r&&6!=r&&9!=r&&11!=r||(a=30),o>=1&&o<=a&&(n=!1)}}return n?null:new Date(Date.UTC(s,r-1,o))}return null}_isValidYear(t){return t>=1700&&t<=4e3}}},3095:(t,e,n)=>{"use strict";n.d(e,{S:()=>i});class i{constructor(t,e){this.controlledPicklist=t,this.controllingValue=e}build(){let t=this.controlledPicklist.picklistValues,e=[];return t.forEach(function(t){this._testBit(atob(t.validFor),this._getControllingValueIndex(this.controllingValue))&&e.push(t)}.bind(this)),e}_getControllingValueIndex(t){if("boolean"===this.controlledPicklist.controllingField.type)return!0===t?1:0;let e=this.controlledPicklist.controllingField.picklistValues;for(let n=0,i=e.length;n<i;n++)if(e[n].value==t)return n;return-1}_testBit(t,e){var n=Math.floor(e/8),i=7-e%8;return(Math.pow(2,i)&t.charCodeAt(n))>>i==1}}},3221:(t,e,n)=>{"use strict";n.d(e,{g:()=>o});var i=n(1929);class o{static get(){return i.I.user&&i.I.user.locale||"en-US"}static isCommaDecimal(t){return-1!==r.indexOf(t||o.get())}}const r=["ar-DZ","bg-BG","ca-ES","hr-HR","cs-CZ","da-DK","nl-AW","nl-BE","nl-NL","nl-SR","en-ZA","et-EE","fi-FI","fr-BE","fr-CA","fr-KM","fr-FR","fr-GN","fr-HT","fr-LU","fr-MR","fr-MC","fr-CH","fr-WF","de-AT","de-DE","de-LU","en-BE","el-GR","hu-HU","in-ID","it-IT","lv-LV","lt-LT","no-NO","pl-PL","pt-AO","pt-BR","pt-CV","pt-MZ","pt-PT","pt-ST","ro-MD","ro-RO","ru-RU","sr-BA","sr-RS","sr-CS","sk-SK","sl-SI","es-AR","es-BO","es-CL","es-CO","es-CR","es-EC","es-PY","es-ES","es-UY","es-VE","sv-SE","tr-TR","uk-UA","vi-VN"]},83:(t,e,n)=>{"use strict";n.d(e,{e:()=>s});var i=n(1361),o=n(1929),r=n(3221);class s{constructor(t,e,n,r,s){this.editable=t,this.metadata=e,this.i18n=n,this.type=r,this.viewport=s||i._.getViewport(),this.appContext=o.I}format(t,e){let n={};if(null!=this.metadata.scale&&this.metadata.scale>=0&&(n.minimumFractionDigits=this.metadata.scale,n.maximumFractionDigits=this.metadata.scale),e&&("currency"===this.type?this._setCurrencyFormatOptions(n):"percent"===this.type&&(this._setPercentFormatOptions(n),t=null!=t?t/100:null)),this.editable&&this.isMobile()&&!r.g.isCommaDecimal()&&(n.useGrouping=!1),this.isNil(t))return null;try{let e=this.i18n.format(t,n);if("NaN"===e)throw new Error("".concat(t," is not a number"));return e}catch(e){return t}}isNil(t){return null==t||""===t||isNaN(t)}isMobile(){return this.viewport&&this.viewport.isMobile()}_setCurrencyFormatOptions(t){t.style="currency",this.appContext.org.isMultiCurrencyOrg?(t.currency=this.metadata&&this.metadata.CurrencyIsoCode?this.metadata.CurrencyIsoCode:this.appContext.org.defaultCurrency,t.currencyDisplay="code"):(t.currencyDisplay="symbol",this.appContext.org.currencySymbol?t.currency="XXX":t.currency=this.appContext.org.defaultCurrency)}_setPercentFormatOptions(t){t.style="percent"}}},5936:(t,e,n)=>{"use strict";n.d(e,{d:()=>o});var i=n(3221);class o{constructor(t){this.locale=t||i.g.get(),this.isCommaDecimalLocale=i.g.isCommaDecimal(this.locale)}parse(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if("string"!=typeof t)return this.applyScale(t,n);t=this.replaceMinusCharacterToHyphenMinus(t),t=this.removeUnusualSeparators(t),t=this.removeNonDecimalCommas(t),t=this.removeDecimalSepartors(t),t=this.replaceCommaDecimalWithPeriod(t);let i=parseFloat(t);return e?i==t?this.applyScale(i,n):NaN:this.applyScale(i,n)}replaceMinusCharacterToHyphenMinus(t){return t.replace(new RegExp(/\u2212/,"u"),"-")}removeUnusualSeparators(t){return t.replace(new RegExp("[\\s]+","g"),"").replace(new RegExp("'","g"),"").replace(new RegExp("","g"),"")}removeNonDecimalCommas(t){return this.isCommaDecimalLocale?t:t.replace(new RegExp(",","g"),"")}removeDecimalSepartors(t){return this.isCommaDecimalLocale?t.replace(new RegExp("[.]","g"),""):t}replaceCommaDecimalWithPeriod(t){return this.isCommaDecimalLocale?t.replace(new RegExp(",","g"),"."):t}applyScale(t,e){return null==e||"number"!=typeof t?t:parseFloat(t.toFixed(e))}}},6009:(t,e,n)=>{"use strict";n.d(e,{X:()=>l});var i,o=n(1305),r=(n(5813),n(5775)),s=(n(5310),n(6175),n(4166)),a=n(6208);class l extends((0,r.Q)(o.H3)){static get is(){return"sb-checkbox"}static get properties(){return{focusOnAttached:Boolean,applyFocus:{type:Boolean,observer:"_applyFocus"},value:{notify:!0,observer:"_boolify"},hide:{type:Object,observer:"hideShow"}}}_boolify(){"boolean"!=typeof this.value&&(this.value=null!==this.value&&"true"===this.value.toLowerCase())}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&setTimeout(this.focus.bind(this),10)}focus(){this.$.checkbox.focus()}blur(){this.dispatchEvent((0,s.FU)("blur"))}hideShow(){new a.u(this.hide).applyTo(this.$.checkbox)}_applyFocus(){this.applyFocus&&this.focus()}static get template(){return(0,o.dy)(i||(t=['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\n\t\t<paper-checkbox tabindex$="[[tabIndex]]" device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]" hidden$="[[hidden]]" on-blur="blur"></paper-checkbox>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(l.is,l)},2596:(t,e,n)=>{"use strict";var i,o=n(1929),r=n(5936),s=n(20),a=n(3095),l=n(3841),d=n(4799),c=n(2042),u=n(5775),h=n(1305),p=n(4166),f=n(3345);const b=(0,n(1510).f)(i||(g=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  cursor: initial;\n  width: 100%;\n  word-wrap: var(--sbFieldWordWrap, normal);\n}\n:host #f {\n  white-space: var(--sbFieldWhiteSpace, inherit);\n}\n#formatted.link:not(.empty):hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n#formatted.search:before {\n  content: '\\e87f';\n  font-family: 'sf-icons';\n}\n/* A formatted field can receive focus if editable so prevent the focus outline here */\n#formatted {\n  outline: none;\n  font-size: var(--sbTableRowFontSize);\n}\n/* A dirty (or edited) formatted field appears as orange with a heavier font weight */\n#formatted.dirty {\n  color: var(--sbFieldEditedColor);\n  font-weight: 700;\n}\n/* A link style for non nil values, or nil values that displays as empty */\n#formatted.link,\n#formatted.link.empty:before {\n  color: #0070d2;\n  text-decoration: none;\n  -webkit-transition: color 0.1s linear;\n  transition: color 0.1s linear;\n}\n/* An empty link cell contains the text '(empty)' so it can be clicked */\n#formatted.link.empty:before {\n  content: '(empty)';\n}\n/* Hover over the over the '(empty)' text that is a link and it should be underlined */\n#formatted.link.empty:hover:before {\n  text-decoration: underline;\n  color: #0070d2;\n  cursor: pointer;\n}\n/* Hover over an editable field or a link field and change the cursor since there is something to click */\n#formatted.editable:hover {\n  cursor: pointer;\n}\n/* Not editable fields have lock icon hidden in desktop (shows on hover) */\n#formatted[class*='--desktop']:not(.editable):not(.empty).firstField:not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.firstField:not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty:not(.numericField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] #formatted:not(.editable):not(.empty).firstField:not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.firstField:not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty:not(.numericField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Editable field have pencil icon hidden (shows on hover or when dirty and empty) */\n#formatted.editable:not(.empty).firstField:not(.readOnly):after,\n#formatted.editable:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.editable:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Any formatted empty field show icon but make transparent color so appears hidden to allow clicking on it */\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: transparent;\n  display: inline;\n}\n/* Hover over any clean read-only field or any editable \"show\" field which will display its icon should be displayed as gray*/\n#formatted:not(.dirty):not(.editable):not(.empty).firstField:not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty):not(.numericField):not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.firstField:not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty:not(.numericField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.numericField:not(.firstField):not(.readOnly):hover:after,\n#formatted:not(.dirty).editable.show:not(.empty).firstField:not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.firstField:not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty:not(.numericField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n/*  An empty dirty formatted field or any \"show\" dirty formatted field displays the icon with the same color as its dirty text (but not same font-weight) */\n#formatted.dirty.show:not(.empty).firstField:not(.readOnly):after,\n#formatted.dirty.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.dirty.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.dirty.empty.firstField:not(.readOnly):before,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):before,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):after {\n  font-weight: 400;\n  color: inherit;\n  display: inline;\n}\n#formatted.dirty.empty.firstField:not(.readOnly):after,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):after,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):before {\n  display: none;\n}\n#formatted.boolean:not(.readOnly).show:after,\n#formatted.boolean:not(.readOnly):hover:after {\n  position: relative;\n  top: -5px;\n}\n.disabled[class*='--desktop'] {\n  font-weight: 300;\n}\n[class*='--desktop'] .disabled {\n  font-weight: 300;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n"],(m=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  cursor: initial;\n  width: 100%;\n  word-wrap: var(--sbFieldWordWrap, normal);\n}\n:host #f {\n  white-space: var(--sbFieldWhiteSpace, inherit);\n}\n#formatted.link:not(.empty):hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n#formatted.search:before {\n  content: '\\\\e87f';\n  font-family: 'sf-icons';\n}\n/* A formatted field can receive focus if editable so prevent the focus outline here */\n#formatted {\n  outline: none;\n  font-size: var(--sbTableRowFontSize);\n}\n/* A dirty (or edited) formatted field appears as orange with a heavier font weight */\n#formatted.dirty {\n  color: var(--sbFieldEditedColor);\n  font-weight: 700;\n}\n/* A link style for non nil values, or nil values that displays as empty */\n#formatted.link,\n#formatted.link.empty:before {\n  color: #0070d2;\n  text-decoration: none;\n  -webkit-transition: color 0.1s linear;\n  transition: color 0.1s linear;\n}\n/* An empty link cell contains the text '(empty)' so it can be clicked */\n#formatted.link.empty:before {\n  content: '(empty)';\n}\n/* Hover over the over the '(empty)' text that is a link and it should be underlined */\n#formatted.link.empty:hover:before {\n  text-decoration: underline;\n  color: #0070d2;\n  cursor: pointer;\n}\n/* Hover over an editable field or a link field and change the cursor since there is something to click */\n#formatted.editable:hover {\n  cursor: pointer;\n}\n/* Not editable fields have lock icon hidden in desktop (shows on hover) */\n#formatted[class*='--desktop']:not(.editable):not(.empty).firstField:not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n#formatted[class*='--desktop']:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.firstField:not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty:not(.numericField):not(.readOnly):before,\n#formatted[class*='--desktop']:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] #formatted:not(.editable):not(.empty).firstField:not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,\n[class*='--desktop'] #formatted:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.firstField:not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty:not(.numericField):not(.readOnly):before,\n[class*='--desktop'] #formatted:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Editable field have pencil icon hidden (shows on hover or when dirty and empty) */\n#formatted.editable:not(.empty).firstField:not(.readOnly):after,\n#formatted.editable:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.editable:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  content: '\\\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n/* Any formatted empty field show icon but make transparent color so appears hidden to allow clicking on it */\n#formatted.editable.empty.firstField:not(.readOnly):before,\n#formatted.editable.empty:not(.numericField):not(.readOnly):before,\n#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: transparent;\n  display: inline;\n}\n/* Hover over any clean read-only field or any editable \"show\" field which will display its icon should be displayed as gray*/\n#formatted:not(.dirty):not(.editable):not(.empty).firstField:not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty):not(.numericField):not(.readOnly):hover:after,\n#formatted:not(.dirty):not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.firstField:not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty:not(.numericField):not(.readOnly):hover:before,\n#formatted:not(.dirty):not(.editable).empty.numericField:not(.firstField):not(.readOnly):hover:after,\n#formatted:not(.dirty).editable.show:not(.empty).firstField:not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted:not(.dirty).editable.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.firstField:not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty:not(.numericField):not(.readOnly):before,\n#formatted:not(.dirty).editable.show.empty.numericField:not(.firstField):not(.readOnly):after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n/*  An empty dirty formatted field or any \"show\" dirty formatted field displays the icon with the same color as its dirty text (but not same font-weight) */\n#formatted.dirty.show:not(.empty).firstField:not(.readOnly):after,\n#formatted.dirty.show:not(.empty):not(.numericField):not(.readOnly):after,\n#formatted.dirty.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,\n#formatted.dirty.empty.firstField:not(.readOnly):before,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):before,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):after {\n  font-weight: 400;\n  color: inherit;\n  display: inline;\n}\n#formatted.dirty.empty.firstField:not(.readOnly):after,\n#formatted.dirty.empty:not(.numericField):not(.readOnly):after,\n#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):before {\n  display: none;\n}\n#formatted.boolean:not(.readOnly).show:after,\n#formatted.boolean:not(.readOnly):hover:after {\n  position: relative;\n  top: -5px;\n}\n.disabled[class*='--desktop'] {\n  font-weight: 300;\n}\n[class*='--desktop'] .disabled {\n  font-weight: 300;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n:host([class*='--mobile']) {\n  min-height: 1rem;\n}\n"])||(m=g.slice(0)),i=Object.freeze(Object.defineProperties(g,{raw:{value:Object.freeze(m)}}))));n(5677);var g,m,y,v=n(8544);let _="keyReadOnly",w="keyDownReadOnly",x="blurReadOnly",C="change",k="hideField",S="refDisplay";class O extends((0,u.Q)(o.I)){static get is(){return"sb-field"}static get properties(){return(0,f.l7)({obj:Object,property:String,model:{type:Object,value:null},md:Object,type:{type:String,computed:"getType(md)"},refObjects:{type:Array,value:[]},editing:{type:Boolean,value:!1},_wasEverEditable:{type:Boolean,computed:"_setWasEverEditable(editing)"},disabled:{type:Boolean,value:!1},hidden:{type:Object,value:!1,observer:"hiddenChanged"},link:Boolean,value:{observer:"_valueChanged"},refDisplay:{type:String,notify:!0},objAndRefObjects:Object,objKey:String,refObjectsKey:String,refTable:{type:String,computed:"computeRefTable(md)"},readOnly:Boolean,renderReadOnly:{type:Boolean,value:!1},formattedValue:Object,originalFormattedValue:String,hideFormattedValue:{type:Boolean,value:!1},focus:{type:Boolean,value:!1,observer:"applyFocus"},index:Number,recordId:{type:String,value:null,observer:"recordIdChanged"},numberParser:{type:Object,value:function(){return new r.d}},preventNumericAlignment:{type:Boolean,value:!1},signaler:Object,record:Object,tabIndex:Number,factoryData:Object,html:Object},o.I.properties)}static get observers(){return["_renderObserver(model, obj, property, md, refObjects, editing, renderReadOnly, html)","_setObjAndRefObjectsObserver(objAndRefObjects, objKey, refObjectsKey)","_setOriginalFormattedValueObserver(model, originalValue, md)","addControlledSelectListener(md)","recordChanged(record.*)","_valueChangedObserver(model, obj, md, property, html, value)","_disabledChangedObserver(model, obj, md, html, disabled)","_createObjObserver(value, property)"]}ready(){super.ready(),this.addEventListener("sb-row-focus-signal",this.handleRowFocusSignal.bind(this)),this.addEventListener("sb-field-edit",this.handleFieldEditSignal.bind(this)),this.html=new l.V(this)}connectedCallback(){super.connectedCallback(),this._tapHandler=this.linkOrEdit.bind(this),this.$.formatted.addEventListener("click",this._tapHandler,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this._tapHandler&&this.$.formatted&&this.$.formatted.removeEventListener("click",this._tapHandler)}_createObjObserver(t,e){if(void 0!==e)return this._createObj(t,e)}_createObj(t,e){if(this.obj&&!this.isInternalObject)return;this.isInternalObject=!0;const n=this.obj?this.obj:{};n[e]=t,this.obj=n}_setObjAndRefObjectsObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setObjAndRefObjects(t,e,n)}setObjAndRefObjects(t,e,n){this.obj=void 0,this.refObjects=void 0,this.refObjects=t[n],void 0===this.refObjects&&(this.refObjects={}),this.obj=""!==e?t[e]:t}_renderObserver(t,e,n,i,o,r,s,a){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==s&&void 0!==a)return this.render(t,e,n,i,o,r,s,a)}render(t,e,n,i,o,r,s,a){this.rendered=!0,this.isReadOnly()?this.updateTemplateData(t,e,i,a):(this._toggleEditing&&this._unrender(),this._render(t,e,i,a))}_render(t,e,n,i){if(this.domBind)return;this.domBind=document.createElement("dom-bind"),this.template=document.createElement("template"),this.domBind.appendChild(this.template);let o=this.updateTemplateData(t,e,n,i);this.createBaseElement(o.html),this.domBind[C]=this.onChange.bind(this),this.domBind[_]=t=>this.onKeyupReadOnly(this.model,this.obj,this.md,this.html,t),this.domBind[w]=this.onKeyDownReadOnly.bind(this),this.domBind[x]=t=>this.onBlurReadOnly(this.model,this.obj,this.md,this.html,t),this.isReadOnly()||(this.hideFormattedValue=!0),this.$.f.appendChild(this.domBind)}_unrender(){if(this.domBind)try{let t=this.$.f,e=t.lastElementChild;for(;e;)t.removeChild(e),e=t.lastElementChild;(0,v.y)(),this.domBind=null,this.template=null}catch(t){return}}_setOriginalFormattedValueObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._setOriginalFormattedValue(t,e,n)}_setOriginalFormattedValue(t,e,n){let i=this.getFormField(t,e,n),o=this.originalFormattedValue&&void 0!==this.originalFormattedValue.value&&this.originalFormattedValue.value!==e;this.originalFormattedValue=this.getFormattedValue(i,e),this.formattedValue&&o&&this.addFormattedDirtyClass(this.isEditable())}onChange(t){this._onChange(t);let e=!!t.detail&&t.detail.suppressImmediateCalculation;this.dispatchEvent((0,p.FU)("sb-field-on-change-field",{suppressImmediateCalculation:e}))}_onChange(t){if(this.internal)return;let e=this.getEventTarget(t),n=void 0!==e.value?e.value:t.detail?t.detail.value:null;this.refDisplay=void 0!==e[S]?e[S]:t.detail&&void 0!==t.detail[S]?t.detail[S]:this.refDisplay,this.isNumericType()?n=n&&0!==n?this.numberParser.parse(n,!1,this.md.scale):null:n instanceof Date&&(n="date"===this.type?c.M.toApexDate(n):c.M.toApexDateTime(n)),this.internal=!0,this.obj[this.property]=n,(0,f.GC)(this).value=n,this.internal=!1,this.fireCustomChangeEvents(t)}fireCustomChangeEvents(t){!this.md||t&&!t.detail||this.fireControllingSelectChangeEvent()}fireControllingSelectChangeEvent(){var t={tableName:this.md.tableName,fieldName:this.md.name,record:this.record},e=new CustomEvent("sb-controlling-select-changed",{bubbles:!1,detail:t});document.dispatchEvent(e)}onKeyDownReadOnly(t){if(!this.signaler||!this.isRenderReadOnly())return;if(9!==(t.keyCode||t.detail.keyCode))return;let e=t.shiftKey||t.detail.shiftKey;this.signaler.signalNextPreviousEditableTarget(this,!e)}onKeyupReadOnly(t,e,n,i,o){27===(o.keyCode||o.detail.keyCode)&&this.onBlurReadOnly(t,e,n,i,!1)}onBlurReadOnly(t,e,n,i,o){if(this.isReadOnly()&&!this.domBind[k]){if(o)this.setPreviouslyFormattedValue(),this.updateTemplateData(t,e,n,i);else{let o={target:{value:this.previouslyFormatted?this.previouslyFormatted.value:this.formattedValue.value}};this.isLookup()&&(o.target[S]=this.previouslyFormatted?this.previouslyFormatted.label:this.formattedValue.label),this._onChange(o),this.updateTemplateData(t,e,n,i)}this.domBind[k]=!0,this.hideFormattedValue=!1,this.isRenderReadOnly()&&this.enableSignals()}}updateTemplateData(t,e,n,i){let o=e[this.property],r=this.getFormField(t,o,n);if(r.defaultValue&&this.domBind&&this._onChange({target:{value:r.defaultValue}}),this.formattedValue=this.getFormattedValue(r,o),this.originalFormattedValue=this.originalFormattedValue||this.formattedValue,this.addFormattedValueClasses(r.numeric),this.isReadOnly()&&this.setFormattedDetails(i),this.domBind)return r.attachTo(this.domBind,_,w,x,C,k,this.isRenderReadOnly()),r}getFormField(t,e,n){let i=this.isEditable(!this._toggleEditing),o=this.getSelectOptions(n),r={refDisplay:this.refDisplay,refDisplayName:S,refTable:this.refTable,refObjects:this.refObjects,property:this.property,obj:this.obj,record:this.record};return(0,s.Z)(this.type,t,e,i,this.disabled,this.hidden,this.index,this.md,d.o,this.isRenderReadOnly(),o,r,this.tabIndex,this.factoryData)}getFormattedValue(t,e){return t.formattedValue||{value:e,label:e}}addFormattedValueClasses(t){let e=this.isEditable();(0,f.og)("editable",e,this.$.formatted),(0,f.og)("numericField",this.segmentedAlignment||!this.preventNumericAlignment&&t,this.$.formatted),(0,f.og)("firstField",0==this.index,this.$.formatted),(0,f.og)("readOnly",this.readOnly,this.$.formatted),this.addFormattedDirtyClass(e);let n=this.isBoolean(),i=!n&&(!1===this.formattedValue.value||this.isNil(this.formattedValue.label)&&!0!==this.formattedValue.value);(0,f.og)("empty",i,this.$.formatted),(0,f.og)("empty",i,this.$.me),(0,f.og)("link",this.link,this.$.formatted),(0,f.og)("link",this.link,this.$.me),(0,f.og)("boolean",n,this.$.formatted)}addFormattedDirtyClass(t){this.isDirty=t&&this.formattedValue.value!==this.originalFormattedValue.value&&!(this.isNil(this.formattedValue.value)&&this.isNil(this.originalFormattedValue.value)),(0,f.og)("dirty",this.isDirty,this.$.formatted)}signalRowFocus(){this.signaler&&(this.signaler.fireSignal("sb-row-focus-signal",!0),setTimeout(function(){this.signaler.disable()}.bind(this),20))}enableSignals(){this.signaler&&this.signaler.enable()}handleRowFocusSignal(t){this.signaler&&(this.signaler.toggleRowFocus(t),this.isEditable()&&(0,f.og)("show",t.detail.focused,this.$.formatted))}handleFieldEditSignal(t){"richtextarea"===this.md.extraTypeInfo?this.signaler.signalNextPreviousEditableTarget(this,t.detail.next):(this.ironList=this.signaler.ironList,this.ironList&&this.ironList.lastVisibleIndex==this.ironList.items.length-1&&(this.ironList.toggleScrollListener(!1),this.scrollListenerDetached=!0),setTimeout(function(){this.scrollListenerDetached&&(this.ironList.toggleScrollListener(!0),this.scrollListenerDetached=!1),this.edit()}.bind(this),0))}createBaseElement(t){var e=this.template.content.ownerDocument.createElement("div");e.innerHTML=t;let n=e.firstChild;this.template.content.appendChild(n)}isNumericType(){switch(this.type){case"double":case"number":case"currency":case"percent":return!0}return!1}getType(t){return t&&t.type?t.type.toLowerCase():""}_valueChanged(){this.rendered&&void 0===this.value&&this.valueChanged(this.model,this.obj,this.md,this.property,this.html,this.value)}_valueChangedObserver(t,e,n,i,o,r){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o&&void 0!==r)return this.valueChanged(t,e,n,i,o,r)}valueChanged(t,e,n,i,o,r){void 0===r&&this.isBoolean()||(this.internal&&this.domBind?this.domBind.value=r:this.obj[i]=r,this.setPreviouslyFormattedValue(),this.updateTemplateData(t,e,n,o))}setPreviouslyFormattedValue(){this.previouslyFormatted=void 0===this.formattedValue?null:JSON.parse(JSON.stringify(this.formattedValue))}_disabledChangedObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this.disabledChanged(t,e,n,i,o)}disabledChanged(t,e,n,i,o){(0,f.og)("disabled",o,this.$.formatted),this.domBind&&(this.domBind.disabled=o),this.isRenderReadOnly()&&this.editing&&this.updateTemplateData(t,e,n,i)}hiddenChanged(){this.domBind&&(this.domBind.hide=this.hidden)}recordIdChanged(){this.domBind&&(this.domBind.recordId=this.recordId)}recordChanged(t){this.domBind&&t&&t.path&&"record"!==t.path&&this.domBind.set(t.path,t.value)}computeRefTable(t){if(void 0!==t)return t.referenceTable?t.referenceTable:t.referenceTo&&t.referenceTo.length>0?t.referenceTo[0]:null}linkOrEdit(){this.link?this.dispatchEvent((0,p.FU)("sb-link-tapped",{value:this.value,Id:this.recordId})):this.edit(!0)}edit(t){this.isEditable()&&(this._render(this.model,this.obj,this.md,this.html),this.hideFormattedValue=!this.isRichText(),this.domBind[k]=!this.hideFormattedValue,this.domBind.__children&&this.domBind.__children[0].focus&&this.domBind.__children[0].focus(),t&&this.invertValueIfInlineBoolean(),this.isRenderReadOnly()&&this.signalRowFocus())}getEventTarget(t){try{return t.localTarget||t.target}catch(e){return t.target}}isNil(t){return null==t||""===t||"number"==typeof t&&t+""=="NaN"}applyFocus(){this.domBind&&(this.domBind.applyFocus=this.focus)}isEditable(t){return!(!t||!this._wasEverEditable)||!(this.readOnly||this.isRenderReadOnly()&&this.disabled)&&this.editing}isReadOnly(){return this.readOnly||this.isRenderReadOnly()||this.isFormulaHtml()}isRenderReadOnly(){return this.renderReadOnly||this.isRichText()}isFormulaHtml(){return this.md.htmlFormatted&&this.md.calculated}setFormattedDetails(t){t.isDirty=this.isDirty,t.link=!!this.link,t.type=this.type,t.booleanValue=this.isBoolean()?this.obj[this.property]:null,t.value=this.formattedValue.label,this.formattedValue.unit&&(t.value+=" "+this.formattedValue.unit),t.sanitizeAndSetInnerHTML()}isBoolean(){return"boolean"===this.type||"checkbox"===this.type}isLookup(){return"id"===this.type||"reference"===this.type}isRichText(){return"textarea"===this.type&&"richtextarea"===this.md.extraTypeInfo}addControlledSelectListener(t){t&&t.controllerName&&document.addEventListener("sb-controlling-select-changed",(t=>this.controllerSelectHandler(this.model,this.obj,this.md,this.html,t)))}controllerSelectHandler(t,e,n,i,o){let r=o.detail.tableName,s=o.detail.fieldName,a=o.detail.record,l="function"==typeof this.record.equals&&a?this.record.equals(a):this.record===a;r===n.tableName&&n.controllerName===s&&l&&(this.buildSelectOptions(n,!0)||this.updateTemplateData(t,e,n,i))}getSelectOptions(t){return this._selectOptions||this.buildSelectOptions(t),this._selectOptions}buildSelectOptions(t,e){if(!t.controllerName||!this.record)return this._selectOptions=t.picklistValues,!1;let n="function"==typeof this.record.getValue?this.record.getValue(t.controllerName):this.record[t.controllerName];return this._selectOptions=new a.S(t,n).build(),!!e&&this.clearValueIfNotAnOption(this._selectOptions)}clearValueIfNotAnOption(t){if(null===this.value)return!1;let e=!0;return t.forEach(function(t){t.value==this.value&&(e=!1)}.bind(this)),!!e&&("function"==typeof this.record.setValue?this.record.setValue(this.property,null):this.record[this.property]=null,this.onChange({target:{value:null},detail:!0}),!0)}invertValueIfInlineBoolean(){this.isRenderReadOnly()&&this.isBoolean()&&(this.value=!this.obj[this.property],this.internal=!0,(0,f.GC)(this).value=this.value,this.internal=!1,this.fireCustomChangeEvents(),this.dispatchEvent((0,p.FU)("sb-field-on-change-field",void 0)))}_setWasEverEditable(){return this._wasEverEditable||this.editing}toggleEditing(t){this.domBind&&!!t!=!!this.editing&&(this._toggleEditing=!0,this.editing=t,this._toggleEditing=!1)}static get template(){return(0,h.dy)(y||(y=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<span device>\n\t\t\t<div id="f"></div>\n\t\t\t<div id="formatted" hidden$="[[hideFormattedValue]]" on-focus="edit">\n\t\t\t\t<span id="me"></span>\n\t\t\t</div>\n\t\t</span>\n\t\t'])),b)}}customElements.define(O.is,O)},6057:(t,e,n)=>{"use strict";n.d(e,{w:()=>r,y:()=>s});var i=n(307),o=n(1929);function r(t,e){const n=s(t,e),o=(0,i.B)(n);return o.formattedValue=n,o}function s(t,e){if(o.I.viewEncryptedDataEnabled)return t;if(null==t)return t;if(!e)return"*********";const{mask:n,maskType:i}=e;if(!n||!i)return t;let r="",s="";switch(t=t.toString(),i){case"sin":r="XXX-XXX-XXX".replace(/X/g,n),s=t.length>3?t.substring(t.length-3):t;break;case"ssn":r="XXX-XX-XXXX".replace(/X/g,n),s=t.length>4?t.substring(t.length-4):t;break;case"lastFour":if(t.length>4){let e=t.substring(t.length-4);return t.replace(t,n.repeat(t.length-4)).concat(e)}return t;case"nino":return"XX XX XX XX X";case"creditCard":r="XXXX-XXXX-XXXX-XXXX".replace(/X/g,n),s=t.length>4?t.substring(t.length-4):t;break;case"all":return t.replace(t,n.repeat(t.length))}return r.substring(0,r.length-s.length).concat(s)}},20:(t,e,n)=>{"use strict";n.d(e,{Z:()=>ut});var i=n(3376),o=n(6009);var r=n(307),s=n(1361),a=n(50);function l(t,e,n,o,s,l,d){return e?function(t,e,n,o,r,s){let l=new i.W(a.I.is);return l.addAttribute("value",2,"value",t),l.addAttribute("disabled",1,"disabled",e),l.addAttribute("input-class",1,"inputClass",n),l.addAttribute("input-type",1,"inputType",o),l.addAttribute("render-read-only",1,"renderReadOnly",r),l.addAttribute("pattern",1,"pattern",s),l.readOnlyKeyEvent="sb-input-key",l}(t,n,o,s||"text",l,d):(0,r.B)(t)}var d,c=n(1305),u=(n(8228),n(3885)),h=n(707),p=n(5775),f=n(1019),b=n(8205),g=n(1929),m=n(4799),y=n(3817),v=n(4166),_=n(3345),w=n(1510);const x=(0,w.f)(d||(C=["\n:host {\n  font-family: var(--sbPageFontFamily);\n}\ninput::-ms-clear {\n  display: none;\n  width: 0;\n  height: 0;\n}\n#dateContainer {\n  display: inline-block;\n  white-space: nowrap;\n  width: var(--sidePanelInputWidth);\n}\n#dateContainer.inlineEdit {\n  width: 100%;\n  height: 100%;\n  padding-right: 12px;\n}\n#dateContainer.inlineEdit input#dateInput {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2;\n}\n#dateContainer.inlineEdit input#dateInput:focus {\n  outline: none;\n}\n#dateInput {\n  height: 23px;\n  width: var(--datePickerWidth, 120px);\n  border: 1px solid #d8dde6;\n  border-radius: 3px;\n  font-size: 14px;\n  padding: 0 0 0 10px;\n  box-sizing: var(--datePickerBoxSizing);\n  font-family: var(--sbPageFontFamily);\n}\n#dateInput[invalid] {\n  border: 1px solid #a94442;\n  color: #a94442;\n}\n#dateInput[invalid]:focus {\n  outline-color: lightcoral;\n}\n#datePicker:hover {\n  cursor: default;\n}\n#datePicker {\n  opacity: 1;\n  position: var(--sidePanelDatepicker, absolute);\n  right: var(--sidePanelDatepickerRight);\n  background-color: #fff;\n  max-width: var(--sidePanelDatepickerWidth, 301px);\n  min-width: 301px;\n  min-height: 275px;\n  z-index: 9001;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  padding: 5px;\n}\n#datePicker > #dateTable > .table {\n  font-size: 12px;\n  width: 100%;\n  table-layout: fixed;\n}\n#datePicker > #dateTable > .table > .thead > .tr > .th,\n#datePicker > #dateTable > .table > .tbody > .tr > .td {\n  font-family: inherit;\n  text-align: center;\n  color: #54698D;\n  width: 41px;\n  height: 38px;\n  border-bottom: none;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td {\n  vertical-align: middle;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td:hover {\n  background-color: #F4F6F9;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.current {\n  outline: none;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.selected {\n  background-color: #005FB2;\n  color: #fff;\n  border-radius: 50%;\n}\n#datePicker > #dateTable > .table > .tbody > .tr > .td.notCurrent {\n  color: lightgray;\n}\n#datePicker.sf-le-table-row #dateTable div.table div.tbody .tr .td {\n  width: 50px;\n}\n#today,\n#month,\n#month > span,\n#years {\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: -webkit-baseline-middle;\n}\nselect::-ms-expand {\n  display: none;\n  color: red;\n}\n#today {\n  font-style: italic;\n  font-weight: bold;\n  padding: 4px 0 0 10px;\n  cursor: pointer;\n}\n#month {\n  width: 65%;\n}\n#monthName {\n  width: 115px;\n  text-align: center;\n}\n#years {\n  width: 25%;\n}\n#dateBar > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  font-family: inherit;\n  padding: 0 14px;\n  height: 35px;\n  margin: 0;\n  text-transform: none;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K);\n  background-color: #fff;\n  background-position: 92% 50%;\n  background-repeat: no-repeat;\n  background-size: 18px 18px;\n  color: #000;\n  border: 1px solid #D8DDE6;\n  border-radius: 4px;\n  transition: border 0.1s linear, background-color 0.1s linear;\n}\n.sb-icon-calendar {\n  position: relative;\n  left: -25px;\n  cursor: pointer;\n}\n"],k||(k=C.slice(0)),d=Object.freeze(Object.defineProperties(C,{raw:{value:Object.freeze(k)}}))));var C,k,S,O;n(5677),n(4561),n(5310),n(2758);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class M extends((0,b.M)((0,u._)((0,f.U)((0,p.Q)(g.I))))){static get is(){return"sb-datepicker"}get events(){let t={};return t[v.zW.PANEL_CLOSED]=this.hideCalendar,t}static get properties(){return E(E({selectedDate:{type:Date,value:null,observer:"selectedDateChanged"},range:{type:Number,value:30},focusOnAttached:Boolean,i18n:{type:Object,value:function(){return g.I.properties.i18n.value()}},dateParser:{type:Object,value:function(){return new y.G}}},g.I.properties),b.M.properties)}ready(){super.ready();let t=m.o.getLocaleData();this.isActive=!1,this.weeks=[],this.weekDays=t&&t.date?t.date.calendars.gregory.days.short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.months=t&&t.date?t.date.calendars.gregory.months.long:["January","February","March","April","May","June","July","August","September","October","November","December"],this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months[this.month].toUpperCase(),this.day=this.date.getUTCDate()}getDate(t){return"object"!=typeof t?new Date(Date.UTC(this.year,this.month,t)):t.getUTCDate()}getMonthDay(t){if("object"!=typeof t)return this.month+"-"+t;return t.getUTCMonth()+1+"-"+t.getUTCDate()}getClass(t){"object"!=typeof t&&(t=new Date(Date.UTC(this.year,this.month,t)));var e="";return t.getUTCMonth()!==this.month?e+="notCurrent":(t.getUTCFullYear()===this.date.getUTCFullYear()&&t.getUTCMonth()===this.date.getUTCMonth()&&t.getUTCDate()===this.date.getUTCDate()&&(e+="selected"),t.getUTCFullYear()===this.year&&t.getUTCMonth()===this.month&&t.getUTCDate()===this.date.getUTCDate()&&(e+=" current")),e}selectedDateChanged(t,e){if(this.initialized||this.selectedDate)return""===this.selectedDate&&""!==this.dateFormatted?void(this.dateFormatted=""):void this._selectedDateChanged(e,this.selectedDate,null==this.selectedDate);this._selectedDateChanged(e,new Date,!0,!0),this.focus()}_selectedDateChanged(t,e,n,i){if(this.initialized=!0,this.date=(0,_.Cg)(e),this.updateVariables(),n||(this.dateFormatted=this.getLocaleDate()),!i){let n=void 0===t;this.dispatchEvent((0,v.FU)("selected-date-changed",{value:e,suppressImmediateCalculation:n}))}}showCalendar(){this.disabled||this.ensureProperYearInSelectedAndShowCalendar()}ensureProperYearInSelectedAndShowCalendar(){this.year===this.date.getUTCFullYear()&&this.haveEnsured&&this._showCalendar(),this.haveEnsured=!0,this.date.getUTCFullYear();let t=[];for(var e=this.year-this.range,n=this.year+this.range+1,i=e;i<n;i++)t.push(i);if(g.I.isIE()){if(!this.yearsCreated){this.$.years.remove(0);for(let e=0,n=t.length;e<n;e++)this._createOptionElements(this.$.years,t[e]);this.yearsCreated=!0}}else this.years=t;(0,h.T8)(this,(()=>{this.yearSelection=this.$.years,this.yearSelection.selectedOptions&&(this.yearSelection.selectedOptions[0].selected=""),this.yearSelection.options[this.range].selected="selected",this._showCalendar()}))}_createOptionElements(t,e){let n=document.createElement("option");n.label=e,n.value=e,t.appendChild(n)}_showCalendar(){this.isActive=!0,this.updateCalendar(),this.focus(),this.dispatchEvent((0,v.FU)("datepicker-opened",{datepicker:this.$.datePicker,dateContainer:this.$.dateContainer})),document.addEventListener("click",this._clickHandler.bind(this)),_.Zr.horizontalBound(this.$.datePicker,5)}_clickHandler(t){t.composedPath().some((t=>t===this))||this.hideCalendar()}hideCalendar(){this.isActive&&(this.isActive=!1,this.focus()),document.removeEventListener("click",this._clickHandler)}findToday(){this.selectedDate=new Date,this.updateYearPicklist(),this.updateVariables(),this.updateCalendar(),this.focus()}updateYearPicklist(){let t=this.yearSelection.options;for(let e=0,n=t.length;e<n;e++)t[e].selected=this.year==t[e].text}changeYear(){this.year=parseInt(this.yearSelection.selectedOptions[0].text),this.updateCalendar(),this.focus()}decreaseMonth(){this.month=this.month-1,this.month<0&&(this.month=11,this.year=this.year-1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}increaseMonth(){this.month=this.month+1,this.month>11&&(this.month=0,this.year=this.year+1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}selectDay(t){this.selectedDate=t.model?t.model.day:this.date,this.hideCalendar()}updateVariables(){this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.day=this.date.getUTCDate()}updateDate(t){this.date.setUTCDate(this.date.getUTCDate()+t),this.updateVariables(),this.updateCalendar()}updateCalendar(){this.weeks=[];for(var t=new Date(Date.UTC(this.year,this.month,1)),e=t.getUTCDay(),n=[],i=0,o=0;o<42;o++){var r=new Date(t);r.setUTCDate(t.getUTCDate()+(o-e)),n[i]=r,i++,(o+1)%7!=0&&o+1!==42||(this.push("weeks",n),n=[],i=0)}}validateInput(){if(this.noblur)return;let t,e=!1,n=this.$.dateInput.value,i=""===n.trim();if(n!==(i?"":this.getLocaleDate())||null===this.selectedDate&&!i){let i=this.dateParser.parse(n,function(t){return t>=this.year-this.range&&t<=this.year+this.range}.bind(this));e=null==i,e?t=this.i18n.l("Invalid Date."):(this.selectedDate=i,this.updateVariables())}let o="object"==typeof this.selectedDate||""!==this.selectedDate.trim();i&&o&&(this.dateFormatted="",this.selectedDate=null),this.invalidInput=e,this.dispatchEvent((0,v.FU)("field-change-validated",{error:t})),this.dispatchEvent((0,v.FU)("sb-date-blur"))}navigate(t){if(9!==t.keyCode)switch(t.keyCode){case 13:this.isActive?this.selectDay(t):this.validateInput();break;case 27:this.isActive?this.hideCalendar():(this.escaped=!0,this.dispatchEvent((0,v.FU)("sb-date-esc",{keyCode:27})));break;case 37:this.updateDate(-1);break;case 38:this.updateDate(-7);break;case 39:this.updateDate(1);break;case 40:this.isActive?this.updateDate(7):this.showCalendar()}else this.hideCalendar()}getLocaleDate(){try{return this.date.toLocaleDateString(this.user.locale,{timeZone:"UTC"})}catch(t){return this.date.toLocaleDateString()}}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.highlight(),this.$.dateInput.focus()}highlight(){this.dateFormatted&&this.$.dateInput.setSelectionRange(0,this.dateFormatted.length)}preventBlur(){this.noblur=!0}allowBlur(){this.noblur=!1}static get template(){return(0,c.dy)(S||(S=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\n\t\t<span device>\n\t\t<div id="dateContainer" class$="[[variant]]">\n\t\t\t<input id="dateInput" type="text" value="{{dateFormatted::input}}" on-keydown="navigate" invalid$="{{invalidInput}}" on-blur="validateInput" disabled$="[[disabled]]"/></input>\n\t\t\t<input id="selectedDate" type="hidden" value="{{selectedDate}}"></input>\n\t\t\t<span id="open" class="sb-icon-calendar" on-click="showCalendar" on-down="preventBlur" on-up="allowBlur"></span>\n\t\t</div>\n\n\t\t<div id="datePicker" hidden$="{{!isActive}}" on-down="preventBlur" on-up="allowBlur">\n\t\t\t<div id="dateBar">\n\t\t\t\t<div id="today" on-click="findToday"><sb-i18n>t</sb-i18n></div>\n\t\t\t\t<div id="month" on-change="changeMonth">\n\t\t\t\t\t<span class="sb-icon-left-dir" on-click="decreaseMonth"></span>\n\t\t\t\t\t<span id="monthName">\n\t\t\t\t\t\t<span>{{monthName}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="sb-icon-right-dir" on-click="increaseMonth"></span>\n\t\t\t\t</div>\n\n\t\t\t\t<select id="years" on-change="changeYear" tabindex="-1">\n\t\t\t\t\t<template is="dom-repeat" items="{{years}}" as="year">\n\t\t\t\t\t\t<option>{{year}}</option>\n\t\t\t\t\t</template>\n\t\t\t\t</select>\n\n\t\t\t</div>\n\n\t\t\t<div id="dateTable">\n\t\t\t\t<div class="table">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="{{weekDays}}">\n\t\t\t\t\t\t\t\t<div class="th">{{item}}</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{weeks}}" as="week">\n\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{week}}" as="day">\n\t\t\t\t\t\t\t\t\t<div class$="td {{getClass(day)}} {{getMonthDay(day)}}" on-click="selectDay">[[getDate(day)]]</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</span>\n\t\t'])),x)}}customElements.define(M.is,M);class B extends c.H3{static get is(){return"sb-daterange"}static get properties(){return{formattedValue:Object}}ready(){super.ready(),this.addEventListener("selected-date-changed",(()=>{this.dispatchEvent((0,v.FU)("selected-date-range-changed",{value:this.formattedValue}))}))}static get template(){return(0,c.dy)(O||(O=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<sb-datepicker id="start" selected-date="{{formattedValue.start}}"></sb-datepicker>\n\t\t<sb-datepicker id="end" selected-date="{{formattedValue.end}}"></sb-datepicker>\n\t\t'])))}}function P(t,e,n,o,a,d){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{range:!1},u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:s._;return e?u.isMobile()?function(t,e,n,i){return l(t,e,n,"dateInput",i)}(t,e,n,d):!0===c.range?function(t,e,n){let o=new i.W(B.is);null===t&&(t="");let r=void 0!==t.start,s=void 0!==t.end;return o.addAttribute("formatted-value",2,"value",{start:r?t.start:t,end:s?t.end:t}),o.addAttribute("disabled",1,"disabled",e),o.addAttribute("use-mask",1,"useMask",!n),o.readOnlyKeyEvent="sb-date-esc",o.readOnlyBlurEvent="sb-date-blur",o.changeEvent="selected-date-range-changed",o}(t,n,a):function(t,e,n){let o=new i.W(M.is);return o.addAttribute("selected-date",2,"value",t),o.addAttribute("disabled",1,"disabled",e),o.readOnlyKeyEvent="sb-date-esc",o.readOnlyBlurEvent="sb-date-blur",o.changeEvent="selected-date-changed",A(t,o,D(t,n)),o}(t,n,o):function(t,e){let n=D(t,e),i=(0,r.B)(n);return A(t,i,n),i}(t,o)}function D(t,e){return e.format(t,{date:!0})}function A(t,e,n){e.formattedValue={value:t,label:n}}customElements.define(B.is,B);var L,F=n(8766),q=n(5936),N=n(8832);const R=(0,w.f)(L||(L=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n#discount {\n  margin-right: -2px;\n}\n#discount[class*='--mobile'] {\n  margin-right: 0px;\n}\n[class*='--mobile'] #discount {\n  margin-right: 0px;\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 9000;\n}\nsb-input.inlineEdit iron-input {\n  width: 60%;\n  height: 100%;\n}\nsb-input.inlineEdit iron-input input {\n  height: 100%;\n  width: 100% !important;\n}\nsb-select.inlineEdit {\n  width: 40%;\n  height: 100%;\n}\nsb-select.inlineEdit select {\n  width: 100%;\n  height: 100%;\n}\n"])));var j,z=n(3510);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function U(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class V extends((0,b.M)((0,p.Q)(c.H3))){static get is(){return"sb-discount"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({model:{type:Object,observer:"_modelChanged"},property:String,focusOnAttached:Boolean,unitChanged:Object,numberParser:{type:Object,value:function(){return new q.d}},formatter:Object,displayValue:String,original:Object},b.M.properties)}static get observers(){return["_runConverterObserver(model, property)"]}ready(){super.ready();let t=this.$.discount.shadowRoot.querySelector(".myinput");t.addEventListener("change",this.checkThenSetDiscountValue.bind(this)),t.addEventListener("focus",this.focused.bind(this)),t.addEventListener("blur",this.deferBlur.bind(this)),t.addEventListener("keydown",this.tabBlur.bind(this,!0));let e=this.$.discountUnits.shadowRoot.querySelector(".myselect");e.addEventListener("change",this.convertDiscountValueThenUpdate.bind(this)),e.addEventListener("focus",this.focused.bind(this)),e.addEventListener("blur",this.deferBlur.bind(this)),e.addEventListener("keydown",this.tabBlur.bind(this,!1))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.discount.focus()}focused(){this.blurred&&clearTimeout(this.blurred)}deferBlur(){this.tabBlurred?this.tabBlurred=!1:this.blurred=setTimeout(function(){this.blurDiscount(!0)}.bind(this),1)}tabBlur(t,e){if(27===e.keyCode&&this.renderReadOnly)return void this.resetToOriginal();if(9!==e.keyCode)return;this.tabBlurred=!0,(t&&e.shiftKey||!t&&!e.shiftKey)&&this.blurDiscount(!1,e)}blurDiscount(t,e){t?this._blur(e):setTimeout(function(){this._blur(e)}.bind(this),10)}_blur(t){let e=""!==this.$.discount.value?this.numberParser.parse(this.$.discount.value):null;(0,F.CD)(this.model,this.property,e),this.dispatchEvent((0,v.FU)("sb-discount-blur",void 0)),t&&this.dispatchEvent((0,v.FU)("sb-discount-keydown",{keyCode:9,shiftKey:t.shiftKey}))}checkThenSetDiscountValue(t){const{displayValue:e}=(0,F.DH)(this.model,this.property);let n=""!==t.target.value?this.numberParser.parse(t.target.value):null;e!=n&&((0,F.CD)(this.model,this.property,n),this.dispatchEvent((0,v.FU)("sb-discount-change",{value:n})))}convertDiscountValueThenUpdate(t){(0,F.rr)(this.model,this.property,t.target.value),this.displayValue=void 0,this.displayValue=this.formatter.format((0,F.DH)(this.model,this.property).displayValue)}resetToOriginal(){this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.selectUnit((0,F.DH)(this.model,this.property).unit)}selectUnit(t){let e=this.$.discountUnits.shadowRoot.querySelector(".myselect"),n=e.options;for(let i=0,o=n.length;i<o;i++)if(n[i].value===t){e.selectedIndex=i;break}}_runConverterObserver(t,e){if(void 0!==t&&void 0!==e)return this._runConverter(t,e)}_runConverter(t,e){const{units:n,unit:i}=(0,F.DH)(t,e);this.$.discountUnits.value=i,this.$.discountUnits.options=n}_modelChanged(){(0,N.RM)(this)}static get template(){return(0,c.dy)(j||(j=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-input device id="discount" input-type="[[inputType]]" input-class="numberInput discount" pattern="[[pattern]]" value="{{displayValue}}" disabled="[[disabled]]" render-read-only="[[renderReadOnly]]" style="z-index:9001" variant="[[variant]]"></sb-input>\n\t\t<sb-select device id="discountUnits" select-class="discount" disabled="[[disabled]]" is-required="true" style="z-index:9001" variant="[[variant]]"></sb-select>\n\t\t'])),R)}}function W(t,e,n,o,r,s,a){(0,F.r$)(t,a);let{units:l,unit:d,displayValue:c}=(0,F.DH)(t,a);(0,F.CD)(t,a,c);const u=t.lineVO.record[t.constants.ADDITIONAL_DISCOUNT_FIELD];let h=new i.W(V.is);h.addAttribute("model",1,"model",t),h.addAttribute("property",1,"property",a),h.addAttribute("disabled",1,"disabled",e),h.addAttribute("render-read-only",1,"renderReadOnly",n),h.addAttribute("input-type",1,"inputType",o),h.addAttribute("pattern",1,"pattern",r),h.addAttribute("formatter",1,"formatter",s),h.readOnlyBlurEvent="sb-discount-blur",h.changeEvent="sb-discount-change",h.readOnlyKeyDownEvent="sb-discount-keydown";let p=s.format(c),f=function(t,e,n){if(!t||function(t){return null==t||""===t||isNaN(t)}(n))return{label:"",value:""};for(let n of t)if(n.value===e)return{label:n.label,value:n.value}}(l,d,u);return d=null!=p&&""!==p?f.label:"",h.formattedValue={value:u,label:p,unit:d,unitValue:f.value},h.addAttribute("display-value",1,"displayValue",p),h.addAttribute("original",1,"original",h.formattedValue),h}customElements.define(V.is,V);var Q=n(83),G=n(3221);var $,K=n(984),Y=n(549);function X(t,e,n,o,r,s){return e?function(t,e,n,o,r){let s=new i.W(Y.t.is),a=J(!1,t,n,o);s.formattedValue={value:t,label:a},s.addAttribute("id",0,"lookup"),s.addAttribute("value",2,"value",t),s.addAttribute("label",1,o.refDisplayName,s.formattedValue.label),s.addAttribute("label-name",1,"labelName",o.refDisplayName),s.addAttribute("table-name",1,"refTable",o.refTable),s.addAttribute("disabled",1,"disabled",e),s.addAttribute("field-full-name",1,"fieldFullName",n.tableName+"."+n.name),s.addAttribute("field-label",1,"fieldLabel",n.label),s.addAttribute("revert-on-escape",1,"revertOnEscape",r),s.addAttribute("calculate-list-position",1,"calculateListPosition",!1),s.addAttribute("has-filter",1,"hasFilter",!!n.filteredLookupInfo),s.addAttribute("record",1,"record",o.record),n.filteredLookupInfo&&n.filteredLookupInfo.controllingFields&&s.addAttribute("controlling-fields",1,"controllingFields",n.filteredLookupInfo.controllingFields);return s.readOnlyKeyEvent="sb-type-esc",s.readOnlyBlurEvent="sb-type-blur",s.changeEvent="lookup-value-changed",s}(t,n,o,r,s):function(t,e,n){let o=new i.W("span"),r=J(!0,t,e,n);return o.addAttribute("value",2,"_value_",t),o.addAttribute("class",1,"link","link","$="),o.setInnerText(n.refDisplayName,1,r),o.formattedValue={value:t,label:r},o.addEvent("click","refClick",(function(t){window.open(window.location.origin+"/"+t.target.value)})),o}(t,o,r)}function J(t,e,n,i){let o=i[i.refDisplayName];if(o)return o;if(t&&(o=function(t,e){if(!e)return;let n=e.property,i=e.obj,o=e.refObjects,r=n&&n.Name?n.Name:t.name;if(!r)return;let s=r.lastIndexOf("Id"),a=s>=0?r.substring(0,s):r.lastIndexOf("__c")>=0?r.replace("__c","__r"):null,l=i&&i[a]?i[a].attributes.type:null;if(a&&i&&i[a]&&l&&o&&o[l]){let t=o[l].nameField.fieldName;return i[a][t]?i[a][t]:i[a].Id}}(n,i)),!o&&i.refTable&&n.relationshipName&&i.record){let t=new K.Z(i.refTable).getNameField(),e=i.record[n.relationshipName];e&&(o=e[t])}return o||e||""}function Z(t,e,n,o,s,a,l,d){let c="multipicklist"===o;return e?function(t,e,n,o,r,s,a){let l=new i.W(z.P.is);!n.defaultValue||null!=t||n.controllerName||n.restrictedPicklist||(t=n.defaultValue,l.defaultValue=t);l.addAttribute("id",0,"picklist"),l.addAttribute("value",2,"value",t),l.addAttribute("md",1,"md",n),l.addAttribute("disabled",1,"disabled",e),l.addAttribute("options",1,"options",s),l.addAttribute("is-required",1,"isRequired",!!n.required),l.addAttribute("multi-select",1,"multiSelect",a),r&&l.addAttribute("none-label",1,"noneLabel","--".concat(o.l("None"),"--"));null!=n.precision&&l.addAttribute("size",1,"size",n.precision);return l.formattedValue={value:t,label:tt(t,s,a)},l}(t,n,s,a,l,d,c):(0,r.B)(tt(t,d,c))}function tt(t,e,n){if(!e)return t;let i=z.P.getValues(t,n);if(0===i.length)return t;let o=null;for(let t of e)-1!==i.indexOf(t.value)&&(n&&null!=o?o+=";"+t.label:o=t.label);return o||t}const et=(0,w.f)($||($=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host textarea[class*='--desktop'] {\n  border: 1px solid #d8dde6 !important;\n  width: var(--sidePanelInputWidth, 125px);\n  max-width: var(--sidePanelInputWidth);\n}\n:host [class*='--desktop'] textarea {\n  border: 1px solid #d8dde6 !important;\n  width: var(--sidePanelInputWidth, 125px);\n  max-width: var(--sidePanelInputWidth);\n}\n:host textarea.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2 !important;\n}\n:host textarea.inlineEdit:focus {\n  outline: none;\n}\n"])));var nt;n(6175);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ot(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class rt extends((0,b.M)((0,p.Q)(c.H3))){static get is(){return"sb-textarea"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,observer:"changed"},focusOnAttached:Boolean,viewport:{type:Object,value:function(){return s._.getViewport()}}},b.M.properties)}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.textarea.focus()}blur(){this.fireChangeOnBlur(),this.dispatchEvent((0,v.FU)("blur"))}highlight(){if(this.viewport&&this.viewport.isMobile())return;let t=this.value?this.value.length:0;this.$.textarea.setSelectionRange(0,t)}changed(t,e){void 0!==e?(this.changeOnNextBlur=!1,e!=t&&this.fireChangeEvent(t)):this.changeOnNextBlur=!0}fireChangeEvent(t){this.dispatchEvent((0,v.FU)("change",{value:t}))}fireChangeOnBlur(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}propagateEsc(t){27===t.keyCode&&(this.renderReadOnly&&(this.$.textarea.value=this.value),this.dispatchEvent((0,v.FU)("sb-textarea-key",{keyCode:27})))}static get template(){return(0,c.dy)(nt||(nt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\n\t\t<textarea device id="textarea" is="iron-autogrow-textarea" value="{{value::change}}" disabled$="[[disabled]]" on-focus="highlight" on-blur="blur" on-keyup="propagateEsc" class$="[[variant]]"></textarea>\n\t\t'])),et)}}function st(t,e,n,o){return e?function(t,e,n){null===t&&(t="");let o=new i.W(rt.is);return o.addAttribute("value",2,"value",t),o.addAttribute("disabled",1,"disabled",e),o.addAttribute("render-read-only",1,"renderReadOnly",n),o.readOnlyKeyEvent="sb-textarea-key",o}(t,n,o):(0,r.B)(t)}customElements.define(rt.is,rt);var at=n(2660);function lt(t,e,n,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s._;return e&&!a.isMobile()?function(t,e,n){null===t&&(t="");let o=new i.W(at.L.is);return o.addAttribute("value",2,"value",t),o.addAttribute("render-read-only",1,"renderReadOnly",e),o.addAttribute("label",1,"label",n.label),o.readOnlyKeyEvent="rte-esc",o.readOnlyBlurEvent="rte-blur",o.changeEvent="rte-value-changed",o}(t,n,o):(0,r.B)(t)}function dt(t,e,n,i,o,r){return"richtextarea"===i.extraTypeInfo?lt(t,e,o,i):((s=i.maxLength>255||"multiline"===i.format||"textarea"===r?st(t,e,n,o):l(t,e,n,"textInput","text",o)).formattedValue=_.Zr.toHTML(t),s);var s}var ct=n(6057);function ut(t,e,n,a,d,c,u,h,p,f,b,m,y,v){switch(t){case"boolean":case"checkbox":return function(t,e,n,r){let s=new i.W(o.X.is);return s.addAttribute("value",2,"value",t),s.addAttribute("disabled",1,"disabled",e),s.addAttribute("hide",1,"hide",n),s.addAttribute("tab-index",1,"tabIndex",r),s.formattedValue={value:t,label:""},s}(n,d,c,y);case"date":case"datetime":return P(n,a,d,p,f,t,v);case"discount":case"double":case"number":case"currency":case"percent":return function(t,e,n,i,o,r,a,d,c){let u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:s._;const h=u.isMobile()&&!G.g.isCommaDecimal()?"number":"text",p=new Q.e(n,o,r,c,u.getViewport());if(t&&(t.constants.ADDITIONAL_DISCOUNT_FIELD===o.name||t.constants.MARKUP_FIELD===o.name)){let e=W(t,i,a,h,null,p,o.name);return e.numeric=!0,e}let f=p.format(e,!0),b=l(n?p.format(e,!1):f,n,i,d,h,a);return b.formattedValue={value:e,label:f},b.numeric=!0,b}(e,n,a,d,h,p,f,0==u?"first numberInput":"numberInput",t);case"id":case"reference":return X(n,a,d,h,m,f);case"picklist":case"multipicklist":return Z(n,a,d,t,h,p,!f,b);case"string":case"textarea":case"phone":case"url":case"email":return dt(n,a,d,h,f,t);case"time":return dt(p.formatTime(n,g.I.user),a,d,h,f,t);case"encryptedstring":return(0,ct.w)(n,h);default:return(0,r.B)(n)}}},3376:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});let i={0:"",1:"[[",2:"{{"},o={0:"",1:"]]",2:"}}"};class r{constructor(t){this.name=t,this.attributes=[],this.events=[]}addAttribute(t,e,n,i,o){this.attributes.push({name:t,binding:e,variable:n,value:i,equals:o||"="})}addEvent(t,e,n){this.events.push({event:t,variable:e,handler:n})}setInnerText(t,e,n){this.innerText={variable:t,binding:e,value:n}}get formattedValue(){return this._formattedValue}set formattedValue(t){this._formattedValue=null!=t&&-1!==Object.keys(t).indexOf("label")?t:{value:t,label:t}}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get readOnlyKeyEvent(){return this._readOnlyKeyEvent||"keyup"}set readOnlyKeyEvent(t){this._readOnlyKeyEvent=t}get readOnlyKeyDownEvent(){return this._readOnlyKeyDownEvent||"keydown"}set readOnlyKeyDownEvent(t){this._readOnlyKeyDownEvent=t}get readOnlyBlurEvent(){return this._readOnlyBlurEvent||"blur"}set readOnlyBlurEvent(t){this._readOnlyBlurEvent=t}get changeEvent(){return this._changeEvent||"change"}set changeEvent(t){this._changeEvent=t}get numeric(){return!!this._numeric}set numeric(t){this._numeric=t}get html(){return this._html}attachTo(t,e,n,r,s,a,l){this._html="<".concat(this.name),this.attributes.forEach((e=>{this._html+=" ".concat(e.name).concat(e.equals,'"').concat(i[e.binding]).concat(e.variable).concat(o[e.binding],'"'),t[e.variable]=e.value})),this.events.forEach((e=>{this._html+=" on-".concat(e.event,'="').concat(e.variable,'"'),t[e.variable]=e.handler})),e&&(this._html+=" on-".concat(this.readOnlyKeyEvent,'="').concat(e,'"')),n&&(this._html+=" on-".concat(this.readOnlyKeyDownEvent,'="').concat(n,'"')),r&&(this._html+=" on-".concat(this.readOnlyBlurEvent,'="').concat(r,'"')),s&&(this._html+=" on-".concat(this.changeEvent,'="').concat(s,'"')),a&&(this._html+=' hidden$="[['.concat(a,']]"')),l&&(this._html+=' focus-on-attached="true"'),this._html+=' apply-focus="[[applyFocus]]"',this._html+=">",this.innerText&&(this._html+="".concat(i[this.innerText.binding]).concat(this.innerText.variable).concat(o[this.innerText.binding]),t[this.innerText.variable]=this.innerText.value),this._html+="</".concat(this.name,">")}}},307:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});var i=n(3376),o=n(8737);function r(t,e){let n=new i.W(o.Z.is);return n.addAttribute("value",1,"value",t),e&&n.addAttribute("class",1,"fieldClass",e,"$="),n}},50:(t,e,n)=>{"use strict";n.d(e,{I:()=>m});var i,o=n(1305),r=(n(5969),n(2740),n(707)),s=n(5775),a=n(8205);n(5310),n(6175),n(5677);const l=(0,n(1510).f)(i||(d=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host iron-input {\n  width: 100%;\n}\n:host iron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\n:host iron-input.inlineEdit.discount {\n  width: 60%;\n  margin-right: 0.25rem;\n}\n:host iron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2 !important;\n}\n:host iron-input.inlineEdit input:focus {\n  outline: none;\n}\n:host([class*='--mobile']) {\n  white-space: nowrap;\n}\n:host iron-input[class*='--mobile'] {\n  width: 95%;\n}\n:host iron-input.inlineEdit[class*='--mobile'] .discount {\n  width: 100%;\n}\n:host iron-input.inlineEdit[class*='--mobile'] input {\n  border: 1px solid #d8dde6 !important;\n  min-height: 41px;\n}\n:host .sb-icon-clear[class*='--mobile'] {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide[class*='--mobile'] {\n  visibility: hidden;\n}\n:host([class*='--mobile']) {\n  white-space: nowrap;\n}\n:host [class*='--mobile'] iron-input {\n  width: 95%;\n}\n:host [class*='--mobile'] iron-input.inlineEdit .discount {\n  width: 100%;\n}\n:host [class*='--mobile'] iron-input.inlineEdit input {\n  border: 1px solid #d8dde6 !important;\n  min-height: 41px;\n}\n:host [class*='--mobile'] .sb-icon-clear {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host [class*='--mobile'] .sb-icon-clear.hide {\n  visibility: hidden;\n}\n:host input[class*='--desktop'] {\n  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));\n  max-width: var(--sbInputMaxWidth);\n  min-width: var(--sbInputMinWidth);\n  border: var(--sbInputborder, 1px solid #d8dde6);\n  border-radius: var(--sbTextboxRadius, 3px);\n}\n:host [class*='--desktop'] input {\n  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));\n  max-width: var(--sbInputMaxWidth);\n  min-width: var(--sbInputMinWidth);\n  border: var(--sbInputborder, 1px solid #d8dde6);\n  border-radius: var(--sbTextboxRadius, 3px);\n}\n:host .numberInput[class*='--desktop'] {\n  text-align: right;\n}\n:host .numberInput.first[class*='--desktop'] {\n  text-align: left !important;\n}\n:host [class*='--desktop'] .numberInput {\n  text-align: right;\n}\n:host [class*='--desktop'] .numberInput.first {\n  text-align: left !important;\n}\n:host input::-ms-clear {\n  display: none;\n}\n"],c||(c=d.slice(0)),i=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(c)}}))));var d,c,u,h=n(3345),p=n(1361),f=n(4166);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class m extends((0,a.M)((0,s.Q)(o.H3))){static get is(){return"sb-input"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,observer:"changed",notify:!0},focusOnAttached:Boolean,inputType:{type:String,value:"text"},renderReadOnly:Boolean,viewport:{type:Object,value:function(){return p._.getViewport()}},showClear:{type:Boolean,computed:"_showClear(viewport, inputType, disabled)"},disabled:{type:Boolean,value:!1},focused:{type:Boolean,value:!1},inputClass:{type:String,value:""}},a.M.properties)}static get observers(){return["_hideClearIfEmptyObserver(value, showClear, focused)"]}_hideClearIfEmptyObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.hideClearIfEmpty(t,e,n)}hideClearIfEmpty(){this.showClear&&(this.shadowRoot.querySelector("#clear")?this._hideClearIfEmpty():(0,r.T8)(this,(()=>{this._hideClearIfEmpty()})))}_hideClearIfEmpty(){(0,h.og)("hide",this.focused||null==this.value||""===this.value,this.shadowRoot.querySelector("#clear"))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.myinput.focus()}blur(){this.fireChangeOnBlur(),this.dispatchEvent((0,f.FU)("blur")),this.focused=!1}clear(){this.value=null,this.$.myinput.blur()}highlight(){if(this.focused=!0,this.viewport&&this.viewport.isMobile())return;let t=this.value?this.value.length:0;this.$.myinput.setSelectionRange(0,t)}changed(t,e){void 0!==e?(this.changeOnNextBlur=!1,e!=t&&this.fireChangeEvent(t)):this.changeOnNextBlur=!0}fireChangeEvent(t){this.dispatchEvent((0,f.FU)("change",{value:t}))}fireChangeOnBlur(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}propagateEsc(t){27===t.keyCode&&(this.renderReadOnly&&(this.$.myinput.value=this.value),this.dispatchEvent((0,f.FU)("sb-input-key",{keyCode:27})))}_showClear(){return this.viewport&&this.viewport.isMobile()&&!this.disabled&&"date"!==this.inputType&&"datetime"!==this.inputType}static get template(){return(0,o.dy)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<iron-input device bind-value="{{value::change}}" class$="[[variant]]">\n\t\t\t<input id="myinput" device type$="[[inputType]]" pattern$="[[pattern]]" value="{{value::change}}" class$="myinput [[inputClass]]" on-focus="highlight" on-blur="blur" disabled$="[[disabled]]" on-keyup="propagateEsc">\n\t\t</iron-input>\n\t\t<span device>\n\t\t\t<template is="dom-if" if="[[showClear]]">\n\t\t\t\t<span id="clear" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>\n\t\t\t</template>\n\t\t</span>\n\t\t'])),l)}}customElements.define(m.is,m)},549:(t,e,n)=>{"use strict";n.d(e,{t:()=>m});var i,o=n(1305),r=(n(5969),n(2740),n(6733),n(3885)),s=n(5775);n(5310),n(6175),n(5677);const a=(0,n(1510).f)(i||(l=["\n.link {\n  color: #1589EE;\n}\n.link:hover {\n  cursor: pointer;\n  text-decoration: underline;\n}\n#container {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  border-radius: var(--sbTextboxRadius);\n  padding: 3px;\n  background-color: var(--sbTextboxBgColor);\n  width: var(--sidePanelInputWidth, 125px);\n  min-height: var(--sb-lookup-pill-container-min-height);\n  min-width: var(--sb-lookup-pill-container-min-width);\n}\n#container.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-color: #0070d2;\n}\n#container.inlineEdit:focus {\n  outline: none;\n}\n#container.inlineEdit span.pill {\n  padding-top: 5px;\n  vertical-align: middle;\n  text-align: left;\n}\n#container.inlineEdit span.pill span#label {\n  width: calc(100% - 6px);\n}\n.pill {\n  border: 1px solid #cccccc;\n  border-radius: 5px;\n  padding: 1px 4px;\n  display: block;\n  white-space: nowrap;\n  height: 100%;\n}\n.pill.dialog {\n  padding: 3px 4px;\n}\n.pill:hover {\n  background-color: #eeeeee;\n  cursor: default;\n}\n.pill .text {\n  width: var(--pillTextWidth, 92px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n  min-width: var(--sb-lookup-pill-text-min-width);\n}\n.pill .delete:after {\n  content: '\\e802';\n  font-family: 'sf-icons';\n  color: #888888;\n  cursor: pointer;\n}\n"],(d=["\n.link {\n  color: #1589EE;\n}\n.link:hover {\n  cursor: pointer;\n  text-decoration: underline;\n}\n#container {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  border-radius: var(--sbTextboxRadius);\n  padding: 3px;\n  background-color: var(--sbTextboxBgColor);\n  width: var(--sidePanelInputWidth, 125px);\n  min-height: var(--sb-lookup-pill-container-min-height);\n  min-width: var(--sb-lookup-pill-container-min-width);\n}\n#container.inlineEdit {\n  width: 100%;\n  height: 100%;\n  border-color: #0070d2;\n}\n#container.inlineEdit:focus {\n  outline: none;\n}\n#container.inlineEdit span.pill {\n  padding-top: 5px;\n  vertical-align: middle;\n  text-align: left;\n}\n#container.inlineEdit span.pill span#label {\n  width: calc(100% - 6px);\n}\n.pill {\n  border: 1px solid #cccccc;\n  border-radius: 5px;\n  padding: 1px 4px;\n  display: block;\n  white-space: nowrap;\n  height: 100%;\n}\n.pill.dialog {\n  padding: 3px 4px;\n}\n.pill:hover {\n  background-color: #eeeeee;\n  cursor: default;\n}\n.pill .text {\n  width: var(--pillTextWidth, 92px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n  min-width: var(--sb-lookup-pill-text-min-width);\n}\n.pill .delete:after {\n  content: '\\\\e802';\n  font-family: 'sf-icons';\n  color: #888888;\n  cursor: pointer;\n}\n"])||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c,u=n(3345),h=n(1929),p=n(1361),f=n(4166),b=(n(2724),n(8011),n(9229),n(9712),n(9470),n(984)),g=n(6067);class m extends((0,r._)((0,s.Q)(o.H3))){static get is(){return"sb-lookup"}static get properties(){return{tableName:{type:String,observer:"initTableLabel"},limit:{type:Number,value:5},value:{type:String,value:null},label:{type:String,value:null},disabled:{type:Boolean,value:!1},labelName:{type:String,value:"label"},selectedLabel:{type:String,computed:"getSelectedLabel(tableName)"},menuItemLabels:{type:Array,value:null},lookupCallback:{type:Function,value:function(){return this.lookupResultsCallback.bind(this)}},hideInputAndShowPill:{type:Boolean,value:!1},hideCancelIcon:{type:Boolean,value:!0},i18n:{type:Object,value:function(){return h.I.properties.i18n.value()}},inDialog:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},tableLabel:{type:String,value:""},placeholder:{type:String,value:null},labelValue:{type:String},labels:{type:Array,computed:"getLabels(selectedLabel, menuItemLabels)"},searchText:{type:String,computed:"getSearchText(placeholder, tableLabel, i18n)"},viewport:{type:Object,value:function(){return p._.getViewport()}},showSearchIcon:{type:Boolean,computed:"showSearch(viewport, inDialog)"},mobile:{type:Boolean,computed:"isMobile(viewport)"},fieldFullName:String,hasFilter:{type:Boolean,value:!1},controllingFields:{type:Array,value:[]},clearAfterSelection:{type:Boolean,value:!1},errors:Array,currentRecordFilters:Object,record:{type:Object,value:null},dialogMetadata:Object,variant:{type:String,value:""},pillClass:{type:String,value:""}}}static get observers(){return["_setSelectedItemObserver(value, selectedLabel)","_setLabelObserver(label, value, record)","setCallback(customCallback)","_handleMobileEventsObserver(viewport, inDialog)","setForceSuggest(record.*)","_initCurrentRecordFiltersObserver(hasFilter, controllingFields, fieldFullName)"]}ready(){super.ready(),this.$.object.addEventListener("describe-changed",this.setTableLabel.bind(this)),this.$.typeahead.addEventListener("enter-without-selection",this.handleEnterPressed.bind(this)),this.$.fields.addEventListener("md-changed",this.setCurrentRecordFilters.bind(this))}initTableLabel(){this.tableName&&(this.$.object.objects=[this.tableName])}setTableLabel(t){this.tableLabel=t.detail.value.md[this.tableName].labelPlural}setCallback(){this.lookupCallback=this.customCallback.bind(this)}lookupResultsCallback(t){return new Promise(function(e,n){this.tableName?this.queryLookupResults(t,e,n):e([])}.bind(this))}queryLookupResults(t,e,n){this.errors=null;let i=new g.v(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,this.limit,this.currentRecordFilters,this.record,!0,this.dialogMetadata).build(t,!1,this.inDialog);this.$.q.query({soql:i,version:h.I.apiVersionString}).then(function(n){let i=n.records,o=null==t?"":t,r={Id:"",__md__:{class:"search",searchValue:o,clearAfterSelection:!this.inDialog,noFocusAfterSelection:this.inDialog}},s=this.tableLabel;if(!s){let t=this.tableName.split("__");s=t[t.length>1?t.length-2:0]}if(this.isMobile())r[this.selectedLabel]=o?this.i18n.l('"{0}"',[o]):"",i.push(r);else{let t=o?'"{0}" in {1}':" in {1}";r[this.selectedLabel]=this.i18n.l(t,[o,s]),i=[r].concat(i)}this.inDialog&&this.isMobile()?(0,u.GC)(this).handleSearchResults(this.limit,{records:i,totalSize:n.totalSize}):e(i)}.bind(this),function(t){let e;e="INVALID_FIELD"===t.errorCode?this.i18n.l("lookupQueryError"):"SOQL Execution Error: "+i+" ("+(t&&t.message?t.message:t)+")",this.errors=[{type:"error",msg:e}],n(e)}.bind(this))}_setLabelObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setLabel(t,e,n)}setLabel(t,e,n){this._setLabel(t,e,n),null!=this.value&&null!=this.selectedLabel&&this.setSelectedItem()}_setSelectedItemObserver(t,e){if(void 0!==t&&void 0!==e)return this.setSelectedItem(t,e)}setSelectedItem(){if(this.internal)return;if(null==this.label)return;let t=this.getLabel(),e={Id:this.value};e[this.selectedLabel]=t,this.$.typeahead.items=this.$.typeahead.items||[e],this.$.typeahead.setSelectedItem(e),this.setHideInputAndShowPill(this.value),this.focus(),this._handleSelectedItemChanged||(this._handleSelectedItemChanged=this.handleSelectedItemChanged.bind(this),this.$.typeahead.addEventListener("selected-item-changed",this._handleSelectedItemChanged))}handleSelectedItemChanged(t){if(t.detail.path||""==t.detail.value)return;let e=t.detail.value.__md__,n=e&&void 0!==e.searchValue?e.searchValue:void 0;void 0===n?(this.setHideInputAndShowPill(t.detail.value.Id),this.focus(),this.internal=!0,this.value=t.detail.value.Id||null,this.label=t.detail.value[this.selectedLabel]||"",this.internal=!1,this._setLabel(),this.fireLookupValueChanged(this.value,this.label,t.detail.value)):this.applySearchValue(n)}applySearchValue(t){if(t&&t.detail&&(t=t.detail.value),this.inDialog){let e=(0,u.GC)(this);e.searchValue=t,e.querySearchResults()}else(0,f.BX)(f.zW.OPEN_LOOKUP_DIALOG,{lookup:this,searchValue:t})}handleEnterPressed(t){this.currentRecordFilters&&this.applySearchValue(t.detail.value)}fireLookupValueChanged(t,e,n){let i={value:t,obj:n,item:this.record?this.record.item:null};i[this.labelName]=e,this.dispatchEvent((0,f.FU)("lookup-value-changed",i))}focus(t){this.isMobile()||(this.hideInputAndShowPill?this.focusDisabled||this.$.container.focus():(this.$.typeahead.focus(t||this.forceSuggest),this.forceSuggest=!1))}getLabel(){this.labelsByValue=this.labelsByValue||{};let t=this._getLabelValueKey(),e=this.labelsByValue[t];return this.value&&!e&&(this.labelsByValue[t]=this.label,e=this.label),e}_setLabel(t,e,n){let i=this._getLabelValueKey();this.labelsByValue=this.labelsByValue||{},this.labelsByValue[i]=this.getDefaultLabelFromRecord(t,e,n)}_getLabelValueKey(){return this.value&&"string"==typeof this.value?this.value.substring(0,15):this.value}setHideInputAndShowPill(t){this.hideInputAndShowPill=!this.isMobile()&&!this.isNil(t)&&!this.clearAfterSelection}blurContainer(){this.hideInputAndShowPill&&!this.blurDisabled&&this.blur()}blur(){this.$.typeahead.setOriginalSelected(),this.dispatchEvent((0,f.FU)("sb-type-blur"))}propagateEscOrHandleDelete(t){27===t.keyCode?this.$.typeahead.suggest(t):8===t.keyCode&&(this.deletePill(),this.blurDisabled=!!this.previousBlurDisabled)}preventBlurOnDelete(t){this.previousBlurDisabled=this.blurDisabled,8===t.keyCode&&(this.blurDisabled=!0)}preventBlur(){this.previousBlurDisabled=this.blurDisabled,this.blurDisabled=!0}deletePill(){this.disabled||this.$.typeahead.clear(),this.blurDisabled=this.previousBlurDisabled}isNil(t){return null==t||""===t}dialogOpened(){this.blurDisabled=!0,this.focusDisabled=!0}dialogClosed(){this.blurDisabled=!1,this.focusDisabled=!1,this.focus(!0),(0,f.BX)(f.zW.CLOSE_LOOKUP_DIALOG,{lookup:this})}getDefaultLabelFromRecord(t,e,n){if(!(n&&n.model&&n.model.attributeMD&&n.model.attributeMD[n.item]))return t;let i=n.model.attributeMD[n.item];return i.value===e&&null!=i.referencedFieldValue?i.referencedFieldValue:t}getSelectedLabel(){return new b.Z(this.tableName).getNameField()}getLabels(){return this.menuItemLabels||[this.selectedLabel]}getSearchText(){return this.placeholder||this.buildSearchText()}buildSearchText(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search {0}",[this.tableLabel]):"Search ".concat(this.tableLabel)}_handleMobileEventsObserver(t,e){if(void 0!==t&&void 0!==e)return this.handleMobileEvents(t,e)}handleMobileEvents(){if(this.isMobile())if(this.inDialog){let t=(0,u.GC)(this);this._clearAndSave=this._clearAndSave||(t.clearAndSave?t.clearAndSave.bind(t):null),this._clearAndSave&&(this.$.typeahead.removeEventListener("sb-type-clear",this._clearAndSave),this.$.typeahead.addEventListener("sb-type-clear",this._clearAndSave))}else this._applySearchValue=this._applySearchValue||this.applySearchValue.bind(this),this.$.typeahead.removeEventListener("sb-type-focus",this._applySearchValue),this.$.typeahead.addEventListener("sb-type-focus",this._applySearchValue)}showSearch(){return this.isMobile()&&!this.inDialog}isMobile(){return this.viewport&&this.viewport.isMobile()}_initCurrentRecordFiltersObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.initCurrentRecordFilters(t,e,n)}initCurrentRecordFilters(){if(0===this.controllingFields.length)return void(this.currentRecordFilters={});let t=this.fieldFullName.split(".")[0],e=[];for(let n of this.controllingFields)e.push(t+"."+n);this.$.fields.fields=e}setCurrentRecordFilters(t){let e={};for(let n of t.detail.value.fields)e[n.name]=n.type;this.currentRecordFilters=e}setForceSuggest(t){if(this.forceSuggest)return;if(!t||!t.path||"record"===t.path)return;if(!this.hasFilter)return;let e=this.currentRecordFilters?Object.keys(this.currentRecordFilters):[];if(0===e.length)return;let n=t.path.split("."),i=n[n.length-1];-1!==e.indexOf(i)&&(this.forceSuggest=!0)}static get template(){return(0,o.dy)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-toast type="error" messages="[[errors]]"></sb-toast>\n\t\t<sb-service id="q" error="{{err}}" response="{{res}}" background="true"></sb-service>\n\t\t<sb-describe id="object" background="true"></sb-describe>\n\t\t<sb-field-md id="fields" background="true" do-not-fix-object-name="true"></sb-field-md>\n\t\t<sb-typeahead id="typeahead"\n\t\t\t\t\t  focus-on-attached="[[focusOnAttached]]"\n\t\t\t\t\t  disabled="[[disabled]]"\n\t\t\t\t\t  apply-focus="[[applyFocus]]"\n\t\t\t\t\t  hide-cancel-icon="[[hideCancelIcon]]"\n\t\t\t\t\t  show-search-icon="[[showSearchIcon]]"\n\t\t\t\t\t  clear-after-selection="[[clearAfterSelection]]"\n\t\t\t\t\t  value="[[selectedLabel]]"\n\t\t\t\t\t  labels="[[labels]]"\n\t\t\t\t\t  items-callback="[[lookupCallback]]"\n\t\t\t\t\t  placeholder="[[searchText]]"\n\t\t\t\t\t  label-value="{{labelValue}}"\n\t\t\t\t\t  hide-input="[[hideInputAndShowPill]]"\n\t\t\t\t\t  focus-disabled="[[focusDisabled]]"\n\t\t\t\t\t  blur-disabled="[[blurDisabled]]"\n\t\t\t\t\t  revert-on-escape="[[revertOnEscape]]"\n\t\t\t\t\t  calculate-list-position="[[calculateListPosition]]"\n\t\t\t\t\t  show-list-no-suggestion="true"\n\t\t\t\t\t  show-list-on-focus="[[!mobile]]"\n\t\t\t\t\t  has-filter="[[hasFilter]]"\n\t\t\t\t\t  variant="[[variant]]"\n\t\t\t\t\t  device\n\t\t></sb-typeahead>\n\t\t<div device id="container" hidden$="[[!hideInputAndShowPill]]" tabindex="0" on-keydown="preventBlurOnDelete" on-keyup="propagateEscOrHandleDelete" on-blur="blurContainer" class$="[[variant]]">\n\t\t\t<span class$="pill [[pillClass]]">\n\t\t\t\t<span id="label" class="text">{{labelValue}}</span>\n\t\t\t\t<paper-tooltip for="label" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t[[labelValue]]\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[!disabled]]">\n\t\t\t\t\t<span class="delete" on-down="preventBlur" on-click="deletePill"></span>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t</div>\n\t\t'])),a)}}customElements.define(m.is,m)},984:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const i={Contract:"ContractNumber",Case:"CaseNumber",WorkOrder:"WorkOrderNumber",ContractLineItem:"LineItemNumber",AssetDowntimePeriod:"AssetDowntimePeriodNumber"};class o{constructor(t){this.tableName=t}getNameField(){return i[this.tableName]||"Name"}}},6067:(t,e,n)=>{"use strict";n.d(e,{v:()=>a});var i=n(4316),o=n(1929),r=n(5936),s=n(3817);class a{constructor(t,e,n,i,o,a,l,d,c){this.tableName=t,this.searchField=e,this.hasFilter=n,this.lookupFieldFullName=i,this.resultsLimit=o,this.currentRecordFields=a,this.currentRecord=l,this.applyMruOptimization=d,this.fields=c,this.fieldTypeByName=c&&c.fieldTypeObjByName?c.fieldTypeObjByName:null,this.numberParser=new r.d,this.dateParser=new s.G(!0)}build(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="%",o="";null!=t&&""!==t&&(i=t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/%/g,"\\%").replace(/[*]+/g,"%"),o=t.replace(/\*/g,""),i.endsWith("%")||(i+="%"));let r=this.getScope(o),s="";this.hasFilter?s=" USING SCOPE ".concat(r,", LOOKUP ").concat(this.lookupFieldFullName):"mru"===r&&(s=" USING SCOPE mru");let a=this.getSelectClause(e),l=this.getWhereClause(i,t,n),d="mru"===r?"ORDER BY LastViewedDate DESC":"ORDER BY ".concat(this.searchField),c="".concat(a," FROM ").concat(this.tableName).concat(s," WHERE ").concat(l," ").concat(d," LIMIT ").concat(this.resultsLimit);if(this.hasFilter&&this.currentRecordFields&&Object.keys(this.currentRecordFields).length>0&&this.currentRecord){let t=0;for(let e in this.currentRecordFields){let n="function"==typeof this.currentRecord.getValue?this.currentRecord.getValue(e):this.currentRecord[e],i=this.currentRecordFields[e];this.omitField(n,i)||(0===t&&(c+=" BIND "),t++>0&&(c+=", "),c+="".concat(e," = ").concat(this.getBindValue(n,i)))}}return c}getScope(t){if(!this.applyMruOptimization)return"everything";let e=null==t?0:t.length;if(e>2)return"everything";let n=o.I.user.lang;return e>0&&("zh_CN"===n||"zh_TW"===n||"ja"===n||"ko"===n||"th"===n)?"everything":"mru"}omitField(t,e){return null==t&&(this.isNumericType(e)||this.isLookupType(e)||this.isDateType(e))}getBindValue(t,e){return null==t?"''":!0===t||!1===t||this.isNumericType(e)||this.isDateType(e)?t:"'".concat(t,"'")}isNumericType(t){switch(t){case"double":case"number":case"currency":case"percent":case"int":return!0}return!1}isLookupType(t){switch(t){case"id":case"reference":return!0}return!1}isDateType(t){switch(t){case"date":case"datetime":return!0}return!1}getSelectClause(t){let e=t&&this.fields&&this.fields.fieldNames?a._buildFields(this.fields):[this.searchField];return e=e.filter((t=>"Id"!==t&&""!==t)),"SELECT Id, ".concat(e.join(","))}getWhereClause(t,e,n){let i,o,r=["".concat(this.searchField," LIKE '").concat(t,"'")];if(!(n&&this.fields&&this.fields.additionalSearchFields&&this.fieldTypeByName))return r[0];let s=a._buildFields(this.fields,"additionalSearchFields");for(let n of s){let s=this.fieldTypeByName[n];if(null!=s&&null!=s.type&&(s=s.type),!this.isLookupType(s))if(this.isDateType(s)){if(null==e||""===e)continue;if(void 0===i&&(i=this.dateParser.parse(e)),null==i)continue;let t=i.toISOString().split("T")[0];"datetime"===s&&(t+="T00:00:00.000+0000"),r.push("".concat(n," >= ").concat(t))}else if(this.isNumericType(s)){if(null==e||""===e)continue;if(void 0===o&&(o=this.numberParser.parse(e,!0)),isNaN(o))continue;let t=o;"int"===s&&(t=parseInt(t)),r.push("".concat(n," >= ").concat(t))}else r.push("".concat(n," LIKE '").concat(t,"'"))}return r.join(" OR ")}static _buildFields(t){let e=[].concat(t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fieldNames"]),n=[];for(let o of t.fieldsOfTypeLookup)-1!==e.indexOf(o.name)&&n.push(i.Z.getRelationshipField(o.name,o.table));return n.length>0&&(e=e.concat(n)),e}}},3057:(t,e,n)=>{"use strict";var i,o=n(1305);n(5310),n(5677);const r=(0,n(1510).f)(i||(s=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  min-height: 46px;\n}\n:host([class*='--mobile']) {\n  min-height: 55px;\n}\n:host([class*='--mobile']) {\n  min-height: 55px;\n}\n.paginationBar {\n  background-color: var(--pagination-bar-background-color);\n  padding-bottom: var(--pagination-bar-padding-bottom);\n  padding-top: var(--pagination-bar-padding-top);\n  text-align: var(--pagination-bar-text-align);\n  box-shadow: var(--pagination-bar-box-shadow);\n  display: var(--pagination-bar-display);\n  width: var(--pagination-bar-width);\n}\n.pages {\n  color: #4F6892;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-pages-text-align);\n}\n.prevButton {\n  padding: 0px 20px 0px 20px;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-previous-text-align);\n}\n.nextButton {\n  padding: 0px 20px 0px 20px;\n  display: var(--pagination-parts-display);\n  text-align: var(--pagination-next-text-align);\n}\n"],a||(a=s.slice(0)),i=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(a)}}))));var s,a,l,d=n(5775),c=n(4166);n(6190);class u extends((0,d.Q)(o.H3)){static get is(){return"sb-pagination"}static get properties(){return{pageIndex:{type:Number,value:0},pageSize:Number,numItems:Number}}static get observers(){return["_setNumberOfPagesObserver(pageSize, numItems)","_setPageWindowObserver(pageIndex, pageSize, numItems)","_setNextDisabledObserver(pageIndex, numPages)","setPreviousDisabled(pageIndex)","setPageNum(pageIndex)"]}next(){this.pageIndex++,this.firePageEvent("next")}previous(){this.pageIndex--,this.firePageEvent("previous")}_setNumberOfPagesObserver(t,e){if(void 0!==t&&void 0!==e)return this.setNumberOfPages(t,e)}setNumberOfPages(){this.numPages=Math.ceil(this.numItems/this.pageSize)}_setPageWindowObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setPageWindow(t,e,n)}setPageWindow(){let t=this.pageIndex*this.pageSize,e=t+this.pageSize;e>=this.numItems&&(e=this.numItems),this.pageWindow=[t,e]}_setNextDisabledObserver(t,e){if(void 0!==t&&void 0!==e)return this.setNextDisabled(t,e)}setNextDisabled(){this.nextDisabled=this.pageIndex===this.numPages-1}setPreviousDisabled(){this.previousDisabled=0===this.pageIndex}setPageNum(){this.pageNum=this.pageIndex+1}firePageEvent(t){this.dispatchEvent((0,c.FU)("pagination-changed",{direction:t,page:this.pageNum,index:this.pageIndex,window:this.pageWindow}))}static get template(){return(0,o.dy)(l||(l=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div device class="paginationBar">\n\t\t\t<span class="prevButton">\n\t\t\t\t<paper-button id="prevButton" noink on-click="previous" disabled="{{previousDisabled}}"><i class="sf-icon-left"></i></paper-button>\n\t\t\t</span>\n\t\t\t<span class="pages">[[pageNum]] / [[numPages]]</span>\n\t\t\t<span class="nextButton">\n\t\t\t\t<paper-button id="nextButton" noink on-click="next" disabled="{{nextDisabled}}"><i class="sf-icon-right"></i></paper-button>\n\t\t\t</span>\n\t\t</div>\n\t\t'])),r)}}customElements.define(u.is,u)},2660:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var i,o=n(4166),r=n(1305);const s=(0,n(1510).f)(i||(a=["\n#clickable {\n  min-width: 25px;\n  height: 25px;\n  cursor: pointer;\n  display: inline-block;\n}\n"],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d;class c extends r.H3{static get is(){return"sb-rte"}static get properties(){return{value:{type:String,notify:!0}}}connectedCallback(){super.connectedCallback(),this.renderReadOnly&&this.focus()}focus(){(0,o.BX)(o.zW.OPEN_RTE_DIALOG,{rte:this,value:this.value})}static get template(){return(0,r.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t        <div id="clickable" on-click="focus">{{value}}</div>\n\t    '])),s)}}customElements.define(c.is,c)},5491:(t,e,n)=>{"use strict";var i,o=n(1305),r=(n(5969),n(6190),n(5775));n(5310),n(6175),n(5677);const s=(0,n(1510).f)(i||(a=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  text-align: center;\n  white-space: nowrap;\n}\n#typeahead {\n  --sidePanelInputWidth: 330px !important;\n  --sidePanelInputHeight: 36px !important;\n  --sbTypeaheadSelectorPadding: 4px 0px;\n  --sbTypeaheadSelectorItemPadding: 8px 15px 8px 15px;\n  --zIndex: 0;\n  --sbTypeaheadSelectorLeft: 0px;\n}\n#typeahead[class*='--mobile'] {\n  --sidePanelInputWidth: calc(98% - 60px) !important;\n}\n[class*='--mobile'] #typeahead {\n  --sidePanelInputWidth: calc(98% - 60px) !important;\n}\n.searchActions {\n  display: inline-flex;\n  margin-top: -3px;\n  position: relative;\n  right: 21px;\n}\n.searchActions .sbPrimaryAction {\n  border-color: var(--sbBrandedButtonBorderColor);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n  font-weight: 400;\n  width: initial;\n}\n.searchActions .sbPrimaryAction:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.noIcons {\n  right: 3px;\n}\n.disabled {\n  cursor: default;\n  pointer-events: none;\n  opacity: 0.2;\n}\n.shiftRight {\n  right: 4px;\n}\n"],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d,c=n(3345),u=n(4166),h=n(9685),p=n(1929),f=n(4155),b=n(2833);n(9470),n(8011),n(5799);class g extends((0,r.Q)(h.T3)){static get is(){return"sb-search-bar"}static get properties(){return(0,c.l7)({limit:{type:Number,value:5},value:{type:String,value:"",notify:!0},searchedValue:{type:String,notify:!0},label:{type:Array,value:["DisplayName"]},hideCancelIcon:{type:Boolean,value:!1},quote:Object,searchService:String,actionId:String,searchResultCallback:Function,showResetButton:{type:Boolean,value:!1},placeholder:{type:String,computed:"getPlaceholder(i18n)"},i18n:{type:Object,value:function(){return p.I.properties.i18n.value()}},searcher:Object},h.T3.properties)}static get observers(){return["valueChanged(value)","_realignObserver(reposition, isMobile)"]}ready(){super.ready(),this.$.typeahead.addEventListener("enter-without-selection",this.search.bind(this)),this.$.typeahead.addEventListener("selected-item-changed",this.handleItemSelected.bind(this)),this.$.typeahead.showAllResults=!0,this.$.typeahead.itemsCallback=this.typeAheadCallback.bind(this),this.localizer=new b.E(this.fieldPrefix)}valueChanged(){void 0===this.value||""===this.value?(this.dispatchEvent((0,u.FU)("sb-type-clear")),(0,c.og)("disabled",!1,this.$.search)):(0,c.og)("disabled",!1===this.isSearchValid(),this.$.search)}_realignObserver(t,e){if(void 0!==t&&void 0!==e)return this.realign(t,e)}realign(){this.isMobile&&(0,c.og)("shiftRight",!0,this.$.buttons)}handleItemSelected(t){this.value=t.detail.value.Name,void 0!==this.value&&this.dispatchEvent((0,u.FU)("sb-search-item-selected",{item:this.getSearchResultRow(t.detail.value.Id),searchValue:this.value}))}toggleResetButton(t){!0===this.showResetButton&&(0,c.og)("disabled",!1===t,this.shadowRoot.querySelector("#reset"))}reset(){this.dispatchEvent((0,u.FU)("sb-search-reset-clicked"))}search(){!1!==this.isSearchValid()?(this.spinner=!0,this.blur(),this.searchedValue=this.value,this.serviceCallout(null).then(function(t){this.dispatchEvent((0,u.FU)("sb-search-invoked",{searchModel:t,searchValue:this.value})),this.spinner=!1}.bind(this))):""!==this.value&&void 0!==this.value||this.dispatchEvent((0,u.FU)("sb-search-nil-search-invoked"))}getSearchResultRow(t){let e=Object.assign({},this.mostRecentResults);for(let n of e.results)if(n.record.Product2Id===t)return n}typeAheadCallback(){return new Promise(function(t){void 0!==this.searchService&&void 0!==this.quote&&!1!==this.isSearchValid()&&this.serviceCallout(this.limit).then(function(e){if(this.mostRecentResults=e,"function"==typeof this.searchResultCallback)return this.searchResultCallback(this.parseResults(e));t(this.parseResults(e))}.bind(this))}.bind(this))}getFilterContextFromSearcher(){return this.searcher?this.searcher.getFilterContext():{}}buildContext(t){return(new f.J).addObject("filterContext",this.getFilterContextFromSearcher(),void 0,void 0,!0).add("searchContext",this.getSearchContext()).add("resultLimit",t).add("pageNumber",null).add("actionId",this.actionId).addObject("quote",this.quote.record).build()}serviceCallout(t){return new Promise(function(e){this.$.service.client.load(this.prefix,this.searchService,null,this.buildContext(t)).then(function(t){e(this.localizer.localizeSearchModel(t))}.bind(this))}.bind(this))}parseResults(t){let e=[],n=this.getSearchContext();if(null===n)return e;for(let i of t.results){let t=i.record.Product2,o=new RegExp(n,"i"),r=t.Name.match(o);if(r){let e=t.Name.substring(0,r.index),i=t.Name.substring(r.index,r.index+n.length),o=t.Name.substring(r.index+n.length);t.DisplayName=e+"<b>"+i+"</b>"+o}else t.DisplayName=t.Name;e.push(t)}return e}get prefix(){return this.app.org.prefix}get fieldPrefix(){return void 0===this.app.org.prefix?"":this.app.org.prefix+"__"}getSearchContext(){return!0===this.isSearchValid()?this.value:null}isSearchValid(){if(void 0===this.value)return!1;return this.value.replace(/ /g,"").replace(/\*/g,"").replace(/\?/g,"").replace(/\(/g,"").replace(/\)/g,"").length>1}getPlaceholder(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search Products"):"Search Products"}static get template(){return(0,o.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-service id="service"></sb-service>\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\t\t<span device>\n\t\t\t<sb-typeahead\n\t\t\t\t\tid="typeahead"\n\t\t\t\t\tlabels="[[label]]"\n\t\t\t\t\tplaceholder="[[placeholder]]"\n\t\t\t\t\tlabel-value="{{value}}"\n\t\t\t\t\tshow-left-search-icon="true"\n\t\t\t\t\thide-cancel-icon="[[hideCancelIcon]]"\n\t\t\t\t\tdisjoint-label="true"\n\t\t\t\t\tvalue="Name"\n\t\t\t></sb-typeahead>\n\t\t\t<div device id="buttons" class="searchActions">\n\t\t\t\t<paper-button id="search" class="sbPrimaryAction sb-icon-search" noink on-click="search"></paper-button>\n\t\t\t\t<template is="dom-if" if="[[showResetButton]]">\n\t\t\t\t\t<paper-button id="reset" class="disabled sf-icon-undo" noink on-click="reset"></paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</span>\n\t\t'])),s)}}customElements.define(g.is,g)},3510:(t,e,n)=>{"use strict";n.d(e,{P:()=>b});var i,o=n(1305),r=(n(8228),n(1929)),s=n(5775),a=n(8205),l=n(4166);const d=(0,n(1510).f)(i||(c=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  position: relative;\n}\n:host select {\n  width: 100%;\n  max-width: 225px;\n}\n:host select.inlineEdit {\n  max-width: none;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2;\n  height: 100%;\n}\n:host select.inlineEdit:focus {\n  outline: none;\n}\n:host select.inlineEdit.discount {\n  width: 38%;\n}\n:host select.inlineEdit[class*='--mobile'] {\n  border: 1px solid #d8dde6;\n}\n:host [class*='--mobile'] select.inlineEdit {\n  border: 1px solid #d8dde6;\n}\n:host select:not([multiple]) {\n  min-width: var(--sidePanelInputWidth, var(--sbSelectMinWidth, 85px));\n}\n:host select[class*='--desktop']:not([multiple]) {\n  padding-right: 30px;\n}\n:host [class*='--desktop'] select:not([multiple]) {\n  padding-right: 30px;\n}\n:host select[multiple] {\n  min-width: var(--sidePanelInputWidth, var(--sbMultiSelectMinWidth, 125px));\n  min-height: var(--sbSelectMinHeight);\n}\n:host select[multiple] option {\n  padding: var(--sbSelectOptionPadding);\n}\n:host select:-moz-focusring {\n  color: transparent;\n  text-shadow: 0 0 0 #000;\n}\n:host .sbOption {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nselect::-ms-expand {\n  display: none;\n  width: 0;\n  height: 0;\n}\n"],u||(u=c.slice(0)),i=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}}))));var c,u,h;n(6175),n(5310);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class b extends((0,a.M)((0,s.Q)(o.H3))){static get is(){return"sb-select"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:{type:String,value:""},options:Array,isRequired:{type:Boolean,value:!1},noneLabel:{type:String,value:""},focusOnAttached:Boolean,multiSelect:{type:Boolean,observer:"_multiSelectChanged"},size:Number,_multiple:{type:Boolean,computed:"_setMultiple(multiSelect)"},_options:Array},a.M.properties)}_multiSelectChanged(t,e){void 0===e&&t&&this.buildOptions()}static get observers(){return["_buildOptionsObserver(options, isRequired)","_setSelectedObserver(value, _options)"]}_buildOptionsObserver(t,e){if(void 0!==t&&void 0!==e)return this.buildOptions(t,e)}buildOptions(){if(!this.options)return;let t=!0,e=[],n=this._getValues();for(let i=0,o=this.options.length;i<o;i++){let o=this.options[i],r=-1!==n.indexOf(o.value.toString());t=t&&!r,e.push({value:o.value,label:o.label,selected:r})}if(t&&n.length>0){for(let t of n)e.push({value:t,label:t,selected:!0});t=!1}if((t&&!this.multiSelect||!this.isRequired)&&(e=[{value:"",label:this.noneLabel,selected:t}].concat(e)),r.I.isIE()){let t=this.$.myselect,n=t.childNodes;for(let e=0,i=n.length;e<i;e++)t.removeChild(n[e]);for(let t=0,n=e.length;t<n;t++)this._createOptionElements(this.$.myselect,e[t])}else this._options=e}_createOptionElements(t,e){let n=document.createElement("option");n.label=e.label,n.value=e.value,n.selected=e.selected,t.appendChild(n)}_setSelectedObserver(t,e){if(void 0!==t&&void 0!==e)return this.setSelected(t,e)}setSelected(){if(this.internal)return;let t=this._getValues(),e=this.$.myselect;for(let n=0,i=this._options.length;n<i;n++)this._options[n].selected=-1!==t.indexOf(this._options[n].value.toString()),e.options[n]&&(e.options[n].selected=-1!==t.indexOf(e.options[n].value.toString()))}change(){let t=this.$.myselect.options,e=null;for(let n=0,i=t.length;n<i;n++)r.I.isIE()||(this._options[n].selected=t[n].selected),t[n].selected&&(this.multiSelect&&null!=e?e+=";"+t[n].value:e=t[n].value);this.internal=!0,this.value=e,this.internal=!1,this.dispatchEvent((0,l.FU)("change",{value:this.value}))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.myselect.focus()}blur(){this.dispatchEvent((0,l.FU)("blur"))}_applyFocus(){this.applyFocus&&this.focus()}_setMultiple(){return!!this.multiSelect||void 0}_getValues(){return b.getValues(this.value,this.multiSelect)}static getValues(t,e){return null!=t&&""!==t?e?t.split(";"):[t.toString()]:[]}handleKeyboardInteractions(t){switch(t.keyCode){case 38:case 40:t.stopPropagation()}}static get template(){return(0,o.dy)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\n\t\t<select id="myselect" device on-keydown="handleKeyboardInteractions" on-change="change" disabled$="[[disabled]]" class$="myselect [[selectClass]] [[variant]]" on-blur="blur" multiple$="[[_multiple]]" size$="[[size]]">\n\t\t\t<template is="dom-repeat" items="[[_options]]" as="option">\n\t\t\t\t<option id="[[option.value]]" value="[[option.value]]" selected="[[option.selected]]" class="sbOption" title="[[option.label]]">[[option.label]]</option>\n\t\t\t</template>\n\t\t</select>\n\t\t'])),d)}}customElements.define(b.is,b)},9470:(t,e,n)=>{"use strict";var i,o=n(1305),r=(n(5969),n(8228),n(3885)),s=(n(2740),n(8544)),a=n(8373),l=n(6008),d=n(5775),c=n(8205);n(5310),n(6175),n(5677);const u=(0,n(1510).f)(i||(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n:host .leftSearch {\n  padding-left: 40px !important;\n}\n:host .cancelIcon {\n  padding-right: 40px !important;\n}\n:host .leftSearchIcon {\n  margin: 9px 0px 9px 15px;\n  position: absolute;\n  z-index: 1;\n  color: var(--sbIconColor);\n}\n:host .leftSearchIcon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host input {\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  width: var(--sidePanelInputWidth, 125px);\n  height: var(--sidePanelInputHeight, initial);\n  position: relative;\n  font-size: var(--sbTypeaheadInputFontSize);\n  border-top-left-radius: var(--sbTypeaheadInputBorderRadius);\n  border-top-right-radius: var(--sbTypeaheadInputBorderRadius);\n}\n:host input:focus {\n  border: 1px solid #1589EE;\n  z-index: var(--zIndex, 902);\n}\n:host input[invalid] {\n  border: 1px solid #a94442;\n}\n:host .sb-icon-clear,\n:host .sb-icon-search {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide,\n:host .sb-icon-search.hide {\n  visibility: hidden;\n}\n:host iron-input {\n  width: var(--ironInputWidth);\n}\n:host iron-input[class*='--mobile'] {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host #itemLabel[class*='--mobile'] {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host #itemLabel[class*='--mobile']::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n:host [class*='--mobile'] iron-input {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host [class*='--mobile'] #itemLabel {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host [class*='--mobile'] #itemLabel::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 900;\n}\n#cancel,\n#selector {\n  z-index: 1;\n}\n#selector {\n  top: var(--sbTypeaheadSelectorTop);\n  left: var(--sbTypeaheadSelectorLeft, inherit);\n  text-align: left;\n  position: absolute;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: var(--sbTypeaheadSelectorBorderRadius, 3px) var(--sbTypeaheadSelectorBorderRadius, 3px) 3px 3px;\n  white-space: nowrap;\n  min-width: var(--sbTypeaheadSelectorMinWidth, var(--sidePanelInputWidth, 125px));\n  padding: var(--sbTypeaheadSelectorPadding);\n  z-index: 100;\n  width: var(--sbTypeaheadSelectorWidth);\n}\n#selector > div {\n  padding: var(--sbTypeaheadSelectorItemPadding, 8px 15px 8px 8px);\n  line-height: 1.2;\n}\n#selector > div > .small {\n  color: #54698d;\n  font-size: 0.75rem;\n}\n#selector > div:hover,\n#selector > div[selected] {\n  background: #d0d0d0;\n}\n#cancel {\n  color: var(--sbIconColor);\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-top: -1px;\n}\n#cancel:hover {\n  color: var(--sbIconHoverColor);\n}\n.option {\n  cursor: pointer;\n  text-align: left;\n}\n.option.search:before {\n  content: '\\e87f';\n  font-family: 'sf-icons';\n  padding-right: 5px;\n}\n#itemLabel::-webkit-input-placeholder {\n  /* Chrome/Opera/Safari */\n  font-size: 0.8125rem;\n}\n#itemLabel::-moz-placeholder {\n  /* Firefox 19+ */\n  font-size: 0.8125rem;\n}\n#itemLabel:-ms-input-placeholder {\n  /* IE 10+ */\n  font-size: 0.8125rem;\n}\n#itemLabel:-moz-placeholder {\n  /* Firefox 18- */\n  font-size: 0.8125rem;\n}\niron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\niron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2 !important;\n}\niron-input.inlineEdit input:focus {\n  outline: none;\n}\niron-input.dialog input {\n  height: 2.25em;\n}\niron-input.dialog input[class*='--desktop'] {\n  min-width: 40em;\n}\n[class*='--desktop'] iron-input.dialog input {\n  min-width: 40em;\n}\n"],(p=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  white-space: nowrap;\n}\n:host .leftSearch {\n  padding-left: 40px !important;\n}\n:host .cancelIcon {\n  padding-right: 40px !important;\n}\n:host .leftSearchIcon {\n  margin: 9px 0px 9px 15px;\n  position: absolute;\n  z-index: 1;\n  color: var(--sbIconColor);\n}\n:host .leftSearchIcon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host input {\n  border-width: var(--sbTextboxBorderWidth);\n  border-style: var(--sbTextboxBorderStyle);\n  border-color: var(--sbTextboxBorderColor);\n  width: var(--sidePanelInputWidth, 125px);\n  height: var(--sidePanelInputHeight, initial);\n  position: relative;\n  font-size: var(--sbTypeaheadInputFontSize);\n  border-top-left-radius: var(--sbTypeaheadInputBorderRadius);\n  border-top-right-radius: var(--sbTypeaheadInputBorderRadius);\n}\n:host input:focus {\n  border: 1px solid #1589EE;\n  z-index: var(--zIndex, 902);\n}\n:host input[invalid] {\n  border: 1px solid #a94442;\n}\n:host .sb-icon-clear,\n:host .sb-icon-search {\n  position: relative;\n  left: -30px;\n  top: 1px;\n  cursor: pointer;\n  color: #9faab5;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n:host .sb-icon-clear.hide,\n:host .sb-icon-search.hide {\n  visibility: hidden;\n}\n:host iron-input {\n  width: var(--ironInputWidth);\n}\n:host iron-input[class*='--mobile'] {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host #itemLabel[class*='--mobile'] {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host #itemLabel[class*='--mobile']::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n:host [class*='--mobile'] iron-input {\n  width: var(--sbTypeaheadIronInputWidthMobile, 95%);\n}\n:host [class*='--mobile'] #itemLabel {\n  width: var(--sbTypeaheadInputWidthMobile, 100%);\n  margin: var(--sbTypeaheadInputMarginMobile);\n  height: var(--sbTypeaheadInputHeightMobile, 41px);\n  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);\n  border-bottom-left-radius: var(--sbTextboxRadius);\n  border-bottom-right-radius: var(--sbTextboxRadius);\n  border: 1px solid #d8dde6 !important;\n}\n:host [class*='--mobile'] #itemLabel::-webkit-input-placeholder {\n  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);\n}\n#mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 900;\n}\n#cancel,\n#selector {\n  z-index: 1;\n}\n#selector {\n  top: var(--sbTypeaheadSelectorTop);\n  left: var(--sbTypeaheadSelectorLeft, inherit);\n  text-align: left;\n  position: absolute;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: var(--sbTypeaheadSelectorBorderRadius, 3px) var(--sbTypeaheadSelectorBorderRadius, 3px) 3px 3px;\n  white-space: nowrap;\n  min-width: var(--sbTypeaheadSelectorMinWidth, var(--sidePanelInputWidth, 125px));\n  padding: var(--sbTypeaheadSelectorPadding);\n  z-index: 100;\n  width: var(--sbTypeaheadSelectorWidth);\n}\n#selector > div {\n  padding: var(--sbTypeaheadSelectorItemPadding, 8px 15px 8px 8px);\n  line-height: 1.2;\n}\n#selector > div > .small {\n  color: #54698d;\n  font-size: 0.75rem;\n}\n#selector > div:hover,\n#selector > div[selected] {\n  background: #d0d0d0;\n}\n#cancel {\n  color: var(--sbIconColor);\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-top: -1px;\n}\n#cancel:hover {\n  color: var(--sbIconHoverColor);\n}\n.option {\n  cursor: pointer;\n  text-align: left;\n}\n.option.search:before {\n  content: '\\\\e87f';\n  font-family: 'sf-icons';\n  padding-right: 5px;\n}\n#itemLabel::-webkit-input-placeholder {\n  /* Chrome/Opera/Safari */\n  font-size: 0.8125rem;\n}\n#itemLabel::-moz-placeholder {\n  /* Firefox 19+ */\n  font-size: 0.8125rem;\n}\n#itemLabel:-ms-input-placeholder {\n  /* IE 10+ */\n  font-size: 0.8125rem;\n}\n#itemLabel:-moz-placeholder {\n  /* Firefox 18- */\n  font-size: 0.8125rem;\n}\niron-input.inlineEdit {\n  width: 100%;\n  height: 100%;\n}\niron-input.inlineEdit input {\n  height: 100%;\n  width: 100%;\n  border-radius: 0.25rem;\n  border: 1px solid #0070d2 !important;\n}\niron-input.inlineEdit input:focus {\n  outline: none;\n}\niron-input.dialog input {\n  height: 2.25em;\n}\niron-input.dialog input[class*='--desktop'] {\n  min-width: 40em;\n}\n[class*='--desktop'] iron-input.dialog input {\n  min-width: 40em;\n}\n"])||(p=h.slice(0)),i=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(p)}}))));var h,p,f,b=n(3345),g=n(1361),m=n(4166),y=n(3841);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const w=new RegExp("[*_%]+","g");class x extends((0,c.M)((0,r._)((0,d.Q)(o.H3)))){static get is(){return"sb-typeahead"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({items:{type:Array,value:[]},itemsCallback:{type:Object},debounceDelay:{type:Number,value:300},selectedItem:{type:Object,notify:!0},itemsList:{type:Array,observer:"itemsListChanged",notify:!0},labels:{type:Array,value:function(){return this.getAttribute("labels")||["label"]}},labelValue:{type:String,notify:!0},value:{type:String},delimiter:{type:String,value:function(){return this.getAttribute("delimiter")||""}},savedLabelValue:{type:String},invalidLabel:{type:Boolean,value:!1},hasList:{type:Boolean,value:!1,observer:"_calculateListPosition"},hasLabel:{type:Boolean,value:!1},hasFilter:Boolean,optionIndex:{type:Number,value:-1},focusOnAttached:Boolean,hideCancelIcon:{type:Boolean,value:!1},clearAfterSelection:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},revertOnEscape:{type:Boolean,value:!1},showSearchIcon:{type:Boolean,value:!1},calculateListPosition:{type:Boolean,value:!1},showListNoSuggestion:{type:Boolean,value:!1},showListOnFocus:{type:Boolean,value:!1},hideInput:{type:Boolean,value:!1},showLeftSearchIcon:{type:Boolean},disjointLabel:Boolean,showAllResults:{type:Boolean,value:!1}},c.M.properties)}static get observers(){return["_itemsChangedObserver(items, labels)","_setStylesObserver(showLeftSearchIcon, hideCancelIcon)"]}ready(){super.ready(),this.$.itemLabel.addEventListener("focus",this._directInputFocus.bind(this)),this.$.itemLabel.addEventListener("blur",this._directInputBlur.bind(this))}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.focusOnAttached&&this.focus()}_setStylesObserver(t,e){if(void 0!==t&&void 0!==e)return this.setStyles(t,e)}setStyles(){this.showLeftSearchIcon&&(0,b.og)("leftSearch",!0,this.$.itemLabel),this.hideCancelIcon||(0,b.og)("cancelIcon",!0,this.$.itemLabel)}_itemsChangedObserver(t,e){if(void 0!==t&&void 0!==e)return this.itemsChanged(t,e)}itemsChanged(){this.items.length&&(this.itemsList=this.updateItemsList())}setSelectedItem(t){this.selectedItem=t,this.clearSuggestionsDropdown()}clearSuggestionsDropdown(){if(this.selectedItem){let t=this.selectedItem.__md__,e=!!t&&t.clearAfterSelection;this.labelValue=this.getSelectedItemValue(this.selectedItem),(this.clearAfterSelection||e)&&(this.setSelectedItem(""),this.items=this.itemsList=[]),this.originalSelected||(this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem)))}}itemsListChanged(){(0,s.y)();let t=this.$.selector.querySelectorAll(".option");if(!t)return;let e=t.length,n=this.labels.length;if(e>0){this.optionIndex=-1;for(let i=0;i<e;i++){let e=this.itemsList[i],o="";for(let t=0;t<n;t++){let n=this.labels[t];o+=(0===t?"":this.delimiter)+e[n]}t[i].innerHTML=y.V.sanitizeHtmlText(o),t[i].setAttribute("data-label",o)}}}getSelectedItemValue(t){const e=this.value?this.value:"value";return t?t[e]:""}clear(){this.hide(),this.updateItem({},!0),this.dispatchEvent((0,m.FU)("sb-type-clear"))}hide(){this.hideList(),this.invalidLabel=!1,this.optionIndex=-1}cloneItem(t){let e={},n=Object.keys(t),i=n.length;for(let o=0;o<i;o++){let i=n[o];e[i]=t[i]}return e}updateItem(t,e){let n=Object.keys(t),i=n.length,o={};for(let e=0;e<i;e++){let i=n[e];o[i]=void 0!==t[i]?t[i]:""}this.setSelectedItem(o);let r="",s=this.labels.length;for(let t=0;t<s;t++){let e=0===t?"":this.delimiter,n=this.selectedItem[this.labels[t]];n&&(r+=e+n)}let a=this.selectedItem.__md__;this.disjointLabel||(this.labelValue=a&&!a.clearAfterSelection&&void 0!==a.searchValue?a.searchValue:r),this.clearSelection(),this.focusOrBlurAfterSelection(this.selectedItem,e)}submitItem(t){let e=t.model.item;this.updateItem(e),this.hide(),this.focusOrBlurAfterSelection(e)}focusOrBlurAfterSelection(t,e){t&&t.__md__&&t.__md__.noFocusAfterSelection?this.$.itemLabel.blur():this.focus(e)}selectAdjacentItem(t){if(!this.itemsList)return;let e=this.itemsList.length;this.optionIndex>=0&&this.optionIndex<e?(this.$.selector.children[this.optionIndex].removeAttribute("selected"),38===t?this.optionIndex=0===this.optionIndex?e-1:this.optionIndex-1:40===t&&(this.optionIndex=this.optionIndex===e-1?0:this.optionIndex+1)):-1===this.optionIndex&&(38===t?this.optionIndex=e-1:40===t&&(this.optionIndex=0)),this.$.selector.children[this.optionIndex].setAttribute("selected","")}updateItemsList(){if(this.searchLabels||(this.searchLabels=this.labels),!0===this.showAllResults)return this.items;let t=[],e=!1;if(this.showListNoSuggestion||this.labelValue){let n=(this.labelValue||"").replace(/\+/g,"\\+").replace(/\\/g,"\\\\").replace(w,".+"),i=new RegExp(n,"i"),o=this.items.length,r=this.searchLabels.length;for(let n=0;n<o;n++){let o=this.items[n],s=this.cloneItem(o);for(let t=0;t<r;t++){let n=o[this.searchLabels[t]];if(n&&(this.showListNoSuggestion||i.test(n))){s["_"+this.searchLabels[t]]=n.replace(i,'<span style="font-weight:bold;">$&</span>'),e=!0}}if(e){let n=!0;for(let t of this.labels)s[t]||(n=!1);n&&t.push(s),e=!1}if(t.length>=10)break}}return t}suggest(t){if(this.isAttached)switch(t.keyCode){case 13:if(this.$.itemLabel.blur(),this.hasList){if(-1===this.optionIndex){this.dispatchEvent((0,m.FU)("enter-without-selection",{value:this.labelValue})),this.hideList(),this.optionIndex=0;break}this.updateItem(this.itemsList[this.optionIndex]),this.noBlur=!1}else this.dispatchEvent((0,m.FU)("enter-without-selection",{value:this.labelValue}));this.hide();break;case 27:this.revertOnEscape&&(this.updateItem(this.originalSelected),this.items=void 0,this.hideList(),this.clearSelection(),this.dispatchEvent((0,m.FU)("sb-type-blur")));break;case 38:case 40:this.selectAdjacentItem(t.keyCode);break;case 9:case 16:break;default:this.invalidLabel=!1,this.itemsCallback?this._itemsCallbackDebouncer=a.dx.debounce(this._itemsCallbackDebouncer,l.Wc.after(this.debounceDelay),(()=>{this.itemsCallback(this.labelValue).then((t=>{t&&t.length>0?this.showList():this.hideList(),this.items=t}),(t=>{console.error(t&&t.message?t.message:t),this.items=[]}))})):(this.showList(),this.itemsList=this.updateItemsList(),0===this.itemsList.length&&(this.labelValue?this.invalidLabel=!0:this.hasLabel=!1,this.hasList=!1))}}showList(){this.blurred?this.hideList():(this.showListNoSuggestion||null!=this.labelValue&&""!==this.labelValue)&&(this.hasList=!0,this.hasLabel=!0)}hideList(){this.hasList=!1,this.hasLabel=!1}clearSelection(){let t=this.$.selector.querySelectorAll(".option");for(let e of t)e.hasAttribute("selected")&&e.toggleAttribute("selected")}tabBlur(t){9===t.keyCode&&(this.hasList=!1),38===t.keyCode&&t.preventDefault(),13===t.keyCode&&this.hasList&&this.preventBlur(),27!==t.keyCode||this.revertOnEscape||setTimeout(function(t){this.labelValue=t}.bind(this,this.labelValue),0)}focus(t){this.focusDisabled||(this.focusing=!0,this.$.itemLabel.focus(),this._showListOnFocus(t),this.focusing=!1)}blur(t,e){(e||!this.hasList&&!this.blurDisabled)&&(this.hideList(),this.dispatchEvent((0,m.FU)("sb-type-blur")),this.setOriginalSelected())}setOriginalSelected(){this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem||{}))}preventBlur(){this.noBlur=!0}allowBlur(){this.noBlur=!1}focused(){this.dispatchEvent((0,m.FU)("sb-type-focus",{value:this.labelValue}))}_calculateListPosition(){if(this.calculateListPosition&&this.hasList){let t=g._.getContainer().getBoundingClientRect().left,e=this.$.itemLabel.getBoundingClientRect().left;this.$.selector.style.left=e-t+"px"}}_showListOnFocus(t){!this.showListOnFocus||this.hideInput||this.hasList||(t||!this.items||0===this.items.length||this.hasFilter?this.suggest({}):this.showList())}_directInputFocus(){this.blurred=!1,this.focusing||this._showListOnFocus()}_directInputBlur(){this.blurred=!0,this.blur(null,!this.noBlur)}_getInputVariant(){return this.hideInput?"hidden":this.variant}static get template(){return(0,o.dy)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-forms-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles"></style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[showLeftSearchIcon]]">\n\t\t\t<i class="icon leftSearchIcon sf-icon-search"></i>\n\t\t</template>\n\t\t<iron-input device bind-value="{{labelValue}}" class$="[[_getInputVariant(hideInput)]]">\n\t\t\t<input id="itemLabel" autocomplete="off" type="text" value="{{labelValue::input}}" on-keyup="suggest" on-keydown="tabBlur" invalid$="{{invalidLabel}}" on-blur="blur" disabled$="[[disabled]]" placeholder="[[placeholder]]" hidden$="[[hideInput]]" on-focus="focused"/>\n\t\t</iron-input>\n\t\t<input id="itemValue" type="hidden" value="[[labelValue]]">\n\t\t<template is="dom-if" if="[[!hideCancelIcon]]">\n\t\t\t<span id="cancel" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>\n\t\t</template>\n\t\t<template is="dom-if" if="[[showSearchIcon]]">\n\t\t\t<span id="search" class="sb-icon-search sf-icon-search"></span>\n\t\t</template>\n\n\t\t<div id="selector" hidden$="{{!hasList}}" on-down="preventBlur" on-up="allowBlur">\n\t\t\t<template is="dom-repeat" items="{{itemsList}}" as="item">\n\t\t\t\t<div class$="option [[item.__md__.class]]" on-click="submitItem"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t</span>\n\t\t'])),u)}}customElements.define(x.is,x)},6208:(t,e,n)=>{"use strict";n.d(e,{u:()=>o});var i=n(3345);class o{constructor(t){this.hide="boolean"==typeof t?{hidden:t,type:"hide"}:"object"==typeof t?{hidden:!!t.hidden,type:t.type||"hide"}:{hidden:!1,type:"hide"}}get hidden(){return this.hide.hidden}get type(){return this.hide.type}applyTo(t){let e=[this.hide];"hide"===this.type?e.push({hidden:!1,type:"invisible"}):e.push({hidden:!1,type:"hide"});for(let n of e)(0,i.og)(n.type,n.hidden,t)}}},2867:(t,e,n)=>{"use strict";n.d(e,{u:()=>i});class i{constructor(t,e,n,i){this.fieldSets=t,this.desktopFields={name:e},n&&(this.tabletFields={name:n}),i&&(this.phoneFields={name:i})}getByViewport(t){return t&&t.isPhone()?this._getPhoneFieldSet():t&&t.isTablet()?this._getTabletFieldSet():this._getDesktopFieldSet()}_getPhoneFieldSet(){let t=this.phoneFields?this.fieldSets[this.phoneFields.name]:null;return t&&0!==t.length?(this.phoneFields.fields=t,this.phoneFields):this._getTabletFieldSet()}_getTabletFieldSet(){let t=this.tabletFields?this.fieldSets[this.tabletFields.name]:null;return t&&0!==t.length?(this.tabletFields.fields=t,this.tabletFields):this._getDesktopFieldSet()}_getDesktopFieldSet(){return this.desktopFields.fields=this.fieldSets[this.desktopFields.name],this.desktopFields}}},9566:(t,e,n)=>{"use strict";var i,o=n(1929),r=n(1361),s=n(5775),a=n(3345),l=n(1305);n(8228),n(5969),n(6733),n(5310),n(5677),n(4561);const d=(0,n(1510).f)(i||(c=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: block;\n}\n:host .visibilityHidden {\n  visibility: hidden;\n}\n:host .sb-action-icon {\n  color: var(--sbIconColor);\n  cursor: pointer;\n  border-bottom: none;\n  display: inline;\n}\n:host .sb-action-icon:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .sb-action-icon.disabled {\n  color: var(--sbIconDisabledColor);\n  cursor: default;\n  opacity: 0.5;\n}\n:host .sf-icon-custom_apps {\n  padding-left: var(--sf-icon-padding);\n  padding-right: var(--sf-icon-padding);\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n.sb-action-icon[class*='--mobile'] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  color: #FFF;\n}\n.sb-icon-plus[class*='--mobile'] {\n  background-color: lightgreen;\n}\n.sf-icon-delete[class*='--mobile'] {\n  background-color: lightcoral;\n}\n.sf-icon-custom_apps[class*='--mobile'] {\n  background-color: #8c5e8c;\n}\n.configurationRequired[class*='--mobile'] {\n  border-left: solid thick #C00;\n}\n[class*='--mobile'] .sb-action-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  color: #FFF;\n}\n[class*='--mobile'] .sb-icon-plus {\n  background-color: lightgreen;\n}\n[class*='--mobile'] .sf-icon-delete {\n  background-color: lightcoral;\n}\n[class*='--mobile'] .sf-icon-custom_apps {\n  background-color: #8c5e8c;\n}\n[class*='--mobile'] .configurationRequired {\n  border-left: solid thick #C00;\n}\n"],u||(u=c.slice(0)),i=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}}))));var c,u,h;class p extends((0,s.Q)(l.H3)){static get is(){return"sb-actions"}static get properties(){return{rowActions:Array,position:{type:String,value:"left"},data:{type:Object,notify:!0},viewport:{type:Object,value:function(){return r._.getViewport()}},i18n:{type:Object,value:function(){return o.I.properties.i18n.value()}},index:Number}}static get observers(){return["disableActions(data.disabledData.disabled)"]}ready(){super.ready(),this.isMobile=this._isMobileViewport()}shouldDisable(t){if(this.data&&this.rowActions&&this.rowActions[t])return"Delete"==this.rowActions[t].title&&(this.data.required&&!this.data.addedManually||!!this.data.disabledData&&this.data.disabledData.disabled)}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}tapEvent(t){this.rowActions[t.currentTarget.dataIndex].onTapFunction&&!this.shouldDisable(t.currentTarget.dataIndex)&&this.rowActions[t.currentTarget.dataIndex].onTapFunction.bind(this)()}_isVisible(t){return t?"visibilityHidden":""}displayTitle(t,e){return this.shouldDisable(e)?"Disabled":this.i18n.l(t.title)}_isDisabled(t){return this.shouldDisable(t)?"disabled":""}disableActions(){if(this.shadowRoot.querySelector(".sb-action-icon")&&this.rowActions)for(let t=0;t<this.rowActions.length;t++)(0,a.og)("disabled",this.shouldDisable(t),this.shadowRoot.querySelector("#_"+t))}_configurationRequired(t){if(!this.isMobile||this.data.configured)return"";for(let e=0;e<this.rowActions.length;e++)if("Configure"===t&&this.rowActions[e].configurationRequired)return"configurationRequired"}static get template(){return(0,l.dy)(h||(h=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t    <template is="dom-repeat" items="[[rowActions]]" as="action">\n\t\t\t<template is="dom-if" if="[[!action.hidden]]">\n\t\t\t\t<span id="_[[index]]" class$="td sb-action-icon [[action.icon]] [[_isVisible(action.invisible)]] [[_isDisabled(index)]] [[deviceClasses]] [[_configurationRequired(action.title, rowActions, data)]]" on-click="tapEvent" data-index="[[index]]"></span>\n\t\t\t\t<paper-tooltip for="_[[index]]" animation-delay="250" fit-to-visible-bounds="false" offset="0">[[displayTitle(action, index)]]</paper-tooltip>\n\t\t\t</template>\n\t\t</template>\n\t    '])),d)}}customElements.define(p.is,p)},8560:(t,e,n)=>{"use strict";var i,o=n(1305),r=(n(5969),n(6190),n(5775)),s=n(5234);n(5310),n(5677);const a=(0,n(1510).f)(i||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  font-family: var(--sbDialogFontFamily);\n}\n:host .sbModalMask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--sbDialogMaskColor);\n  opacity: 0.8;\n  z-index: 10000;\n}\n:host .noMarginBottom {\n  margin-bottom: 0;\n}\n:host paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\n:host paper-button.hidden {\n  display: none;\n}\n:host paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\n:host paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host paper-button[class*='--mobile'] {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n:host [class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n:host .sbDialog {\n  max-height: var(--sbDialogMaxHeight, 600px);\n  min-width: var(--sbDialogMinWidth, 500px);\n  left: var(--sbDialogContainerLeft, 50%);\n  right: var(--sbDialogContainerRight);\n  top: var(--sbDialogContainerTop, 20%);\n  width: var(--sbDialogContainerWidth);\n  height: var(--sbDialogContainerHeight);\n  transform: var(--sbDialogContainerTransform, translateX(-50%));\n  z-index: var(--sbDialogContainerzIndex, 10001);\n  display: var(--sbDialogContainerDisplay);\n  overflow: var(--sbDialogContainerOverflow);\n  flex-direction: var(--sbDialogContainerFlexDirection);\n  background-color: var(--sbDialogBgColor);\n  border-radius: var(--sbDialogBorderRadius);\n  position: fixed;\n  margin: 0 auto;\n  color: var(--sbFontColor);\n  box-shadow: none;\n  font-family: var(--sbDialogFontFamily);\n  -webkit-font-smoothing: auto;\n}\n:host .sbDialog.boxShadow {\n  box-shadow: 0 0 0 15px #D1D4D8;\n}\n:host .sbDialog.largeView {\n  width: 100%;\n  height: 100%;\n  top: 0;\n}\n:host .sbDialog > header {\n  border-bottom-width: var(--sbDialogHeaderBorderWidth);\n  border-bottom-style: var(--sbDialogHeaderBorderStyle);\n  border-bottom-color: var(--sbDialogHeaderBorderColor);\n  padding-top: var(--sbDialogHeaderPaddingTop);\n  padding-right: var(--sbDialogHeaderPaddingRight);\n  padding-bottom: var(--sbDialogHeaderPaddingBottom);\n  padding-left: var(--sbDialogHeaderPaddingLeft);\n  text-align: center;\n  margin-top: 0px !important;\n}\n:host .sbDialog > header[class*='--desktop'] {\n  background-color: var(--sbDialogHeaderBackgroundColor);\n}\n:host [class*='--desktop'] .sbDialog > header {\n  background-color: var(--sbDialogHeaderBackgroundColor);\n}\n:host .sbDialog > header > .sf-icon-close {\n  font-size: var(--sbIcon30);\n  position: absolute;\n  top: -50px;\n  right: 0px;\n}\n:host .sbDialog > header > .sf-icon-close:hover {\n  cursor: pointer;\n}\n:host .sbDialog > header > .sf-icon-close:before {\n  color: var(--sbDialogCloseColor);\n}\n:host .sbDialog > #content {\n  overflow: var(--sbDialogContentOverflow, auto);\n  overflow-x: var(--sbDialogContentOverflowX, auto);\n  max-height: var(--sbDialogContentHeight, 400px);\n  height: var(--sbDialogContentHeight);\n  padding: var(--sbDialogContentPadding, 24px);\n  margin-bottom: var(--sbDialogContentMarginBottom, 60px);\n  text-align: var(--sbDialogContentTextAlign);\n}\n:host .sbDialog > #content > iframe {\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n}\n:host .sbDialog > footer {\n  padding: 12px 16px;\n  border-top-width: var(--sbDialogFooterBorderWidth);\n  border-top-style: var(--sbDialogFooterBorderStyle);\n  border-top-color: var(--sbDialogFooterBorderColor);\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n  background-color: var(--sbDialogFooterColor);\n  display: var(--sbDialogFooterDisplay, inline-table);\n  margin-bottom: 0px !important;\n  width: 100%;\n  box-sizing: border-box;\n  margin-top: 0px;\n  position: fixed;\n  bottom: 0;\n}\n:host .sbDialog > footer.is-ie {\n  position: absolute;\n}\n:host .sbDialog[class*='--mobile'] {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0;\n  max-height: 100%;\n  min-width: 100%;\n}\n:host .sbDialog > #content[class*='--mobile'] {\n  padding: 0px;\n}\n:host .sbDialog header[class*='--mobile'] {\n  font-size: 24px;\n  padding: 20px 0 16px 0;\n}\n:host .sbDialog header[class*='--mobile'] .cancel {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n:host .sbDialog header[class*='--mobile'] #drop-down-button {\n  padding: 12px;\n  margin: 0 10px 0 0;\n}\n:host .sbDialog header[class*='--mobile'] .single-button {\n  display: inline-block;\n  float: right;\n  margin: 0 10px 0 0;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 1000;\n  display: none;\n  width: 100px;\n  top: 58px;\n  right: 10px;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu ::slotted(paper-button) {\n  width: 100% !important;\n  background-color: white !important;\n  color: #0070D2 !important;\n  white-space: nowrap !important;\n  display: block !important;\n  text-align: left !important;\n  border: 0 !important;\n  padding: 10px !important;\n  margin-right: 0 !important;\n}\n:host .sbDialog header[class*='--mobile'] .drop-down-menu.open {\n  display: block;\n}\n:host .sbDialog footer[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .sbDialog {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0;\n  max-height: 100%;\n  min-width: 100%;\n}\n:host [class*='--mobile'] .sbDialog > #content {\n  padding: 0px;\n}\n:host [class*='--mobile'] .sbDialog header {\n  font-size: 24px;\n  padding: 20px 0 16px 0;\n}\n:host [class*='--mobile'] .sbDialog header .cancel {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n:host [class*='--mobile'] .sbDialog header #drop-down-button {\n  padding: 12px;\n  margin: 0 10px 0 0;\n}\n:host [class*='--mobile'] .sbDialog header .single-button {\n  display: inline-block;\n  float: right;\n  margin: 0 10px 0 0;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 1000;\n  display: none;\n  width: 100px;\n  top: 58px;\n  right: 10px;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu ::slotted(paper-button) {\n  width: 100% !important;\n  background-color: white !important;\n  color: #0070D2 !important;\n  white-space: nowrap !important;\n  display: block !important;\n  text-align: left !important;\n  border: 0 !important;\n  padding: 10px !important;\n  margin-right: 0 !important;\n}\n:host [class*='--mobile'] .sbDialog header .drop-down-menu.open {\n  display: block;\n}\n:host [class*='--mobile'] .sbDialog footer {\n  display: none;\n}\n:host .slotWrapper[class*='--desktop'] {\n  display: inline-block;\n}\n:host [class*='--desktop'] .slotWrapper {\n  display: inline-block;\n}\n"],d||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c,u=n(3345),h=n(1929),p=n(1361),f=n(4166);class b extends((0,s.S)((0,r.Q)(o.H3))){static get is(){return"sb-dialog"}static get properties(){return{show:{type:Boolean,value:!1},modal:{type:Boolean,value:!1},hideHeader:{type:Boolean,observer:"_hideHeader"},appendedClass:{type:String},cancelText:{Type:String,value:"Cancel"},closeDialog:{type:String,value:"sb-close-dialog"},hideCloseIcon:{type:Boolean,value:!1},hideCancelButton:{type:Boolean,value:!1},mobile:{type:Boolean,value:function(){if(p._.getViewport())return!!p._.getViewport().isMobile()}},mobileDropDown:{type:Boolean,value:!1},tapDialog:String,ignoreMaskTap:{type:Boolean,value:!1},largeViewEnabled:Boolean}}ready(){super.ready(),this.addEventListener("datepicker-opened",this._datePickerOpened.bind(this)),this.appendedClass&&this.$.sbDialog.classList.add(this.appendedClass),this.mobile&&(this._appendMobileClasses(),this.observeNode(this,(()=>{let t=this.querySelectorAll("paper-button");if(0===t.length)(0,u.og)("no-buttons",!0,this.$.title);else{this.mobileDropDown=t.length>1;let e=this.shadowRoot.querySelector("#mobileButtons"),n=this.shadowRoot.querySelector("#drop-down-button");(0,u.og)("no-buttons",!1,this.$.title),(0,u.og)("drop-down-menu",this.mobileDropDown,e),(0,u.og)("single-button",!this.mobileDropDown,e),(0,u.og)("hidden",!this.mobileDropDown,n)}}))),(0,u.og)("is-ie",h.I.isIE(),this.$.footer)}_appendMobileClasses(){(0,u.og)("mobile",!0,this.$.sbDialog);let t=this.shadowRoot.children,e=t.length;for(let n=0;n<e;n++)(0,u.og)("mobile",!0,t[n])}toggle(){this.show=!this.show}open(){this.show=!0}close(){this.show=!1}toggleMenu(){let t=this.shadowRoot.querySelector(".drop-down-menu");t&&t.classList.contains("open")?(0,u.og)("open",!1,t):(0,u.og)("open",!0,t)}onCloseDialog(){(0,f.BX)(f.zW.PANEL_CLOSED),this.dispatchEvent((0,f.FU)(this.closeDialog))}maskTapped(){this.ignoreMaskTap||this.onCloseDialog()}_clickEvent(){this.tapDialog&&this.dispatchEvent((0,f.FU)(this.tapDialog))}getCancelText(t){return(0,h.M)(t)}_datePickerOpened(t){let e=t.detail.dateContainer,n=t.detail.datepicker,i=this.$.content;n.style.position="fixed";let o=e.getBoundingClientRect(),r=i.getBoundingClientRect();n.style.left=o.left-r.left+"px",n.style.top=o.top+o.height-this.$.header.getBoundingClientRect().top+1+"px"}_hideHeader(){this.$.header.setAttribute("hidden","true")}static get template(){return(0,o.dy)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div device hidden$="[[!show]]">\n\t\t\t<div class="sbModalMask" hidden$="[[!modal]]" on-click="maskTapped"></div>\n\t\t\t<div id="sbDialog" class="sbDialog" on-click="_clickEvent">\n\t\t\t\t<header id="header" hidden$="[[largeViewEnabled]]">\n\t\t\t\t\t<template is="dom-if" if="[[!mobile]]">\n\t\t\t\t\t\t<i hidden$="[[hideCloseIcon]]" class="sf-icon-close" on-click="onCloseDialog"></i>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[mobile]]">\n\t\t\t\t\t\t<paper-button class="cancel" on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<template is="dom-if" if="[[mobile]]">\n\t\t\t\t\t\t<paper-button id="drop-down-button" class="sf-icon-down hidden" on-click="toggleMenu"></paper-button>\n\t\t\t\t\t\t<div id="mobileButtons">\n\t\t\t\t\t\t\t<slot name="paper-button"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div id="icon" class="slotWrapper"><slot name="icon"></slot></div>\n\t\t\t\t\t<div id="title" class="slotWrapper"><slot name="title"></slot></div>\n\t\t\t\t</header>\n\t\t\t\t<div id="content">\n\t\t\t\t\t<slot name="content"></slot>\n\t\t\t\t</div>\n\t\t\t\t<footer id="footer">\n\t\t\t\t\t<template is="dom-if" if="[[!mobile]]">\n\t\t\t\t\t\t<slot name="paper-button"></slot>\n\t\t\t\t\t\t<div hidden$="[[hideCancelButton]]"><paper-button on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button></div>\n\t\t\t\t\t</template>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),a)}}customElements.define(b.is,b)},8737:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i,o=n(1305);class r extends o.H3{static get is(){return"sb-div"}static get properties(){return{value:String,label:{type:String,computed:"_setLabel(value)"}}}_setLabel(){return this.value}static get template(){return(0,o.dy)(i||(t=["<div>[[label]]</div>"],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(r.is,r)},7253:(t,e,n)=>{"use strict";var i,o=n(4316),r=n(1929),s=n(1305),a=n(4166);n(2596);const l=(0,n(1510).f)(i||(d=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n:host .fields {\n  margin: 10px 0 10px 20px;\n}\n:host #header {\n  margin-bottom: 20px;\n}\n'],c||(c=d.slice(0)),i=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(c)}}))));var d,c,u,h=n(2576);class p extends((0,h.J)(s.H3)){static get is(){return"sb-filter-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,data:Object,md:Object,hidden:{type:Boolean,value:!1},label:{type:String,reflectToAttribute:!0},display:{type:String,computed:"_computeDisplay(data, item)"},record:{type:Object,computed:"_computeRecord(data, item)"},factoryData:Object}}ready(){super.ready(),this.handleKeyPress(),this.addEventListener("lookup-value-changed",this.handleLabelChange)}handleLabelChange(t){let e={item:this.item.split(".")[0],value:t.detail.refDisplay};this.dispatchEvent((0,a.FU)("filter-item-value-changed",e))}handleKeyPress(){this.addEventListener("keypress",function(t){let e=this.item.split(".")[0];this.dispatchEvent((0,a.FU)("filter-item-field-keypress",{keyCode:t.keyCode,item:e,itemType:this.model[e].model.type}))}.bind(this))}static get observers(){return["_setMdObserver(item, model)","setHidden(data.*)","_displayChangedObserver(value, display, item, data, md)"]}clear(){this.value=null}_setMdObserver(t,e){if(void 0!==t&&void 0!==e)return this.setMd(t,e)}setMd(){let t=r.I.org.prefix?r.I.org.prefix+"__":"",e=this.item.split(".")[0];this.md=this.model[e].model,this.factoryData={range:"between"===this.model[e].record[t+"Operator__c"]},this.label=this.model[e].label?this.model[e].label:this.model[e].record.Name,this.md.type&&"boolean"===this.md.type&&"string"==typeof this.value&&this.setValue(this.item,"true"===this.value),this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=this.md}setHidden(){let t=this.item;this.data[t]||(t=this.item.split(".")[0]),this.data[t]&&(this.hidden=this.data[t].hidden)}_computeDisplay(t,e){if(void 0===t||void 0===e)return;return t[e.split(".")[0]].label}_computeRecord(t,e){if(void 0!==t&&void 0!==e)return this}_displayChangedObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this._displayChanged(t,e,n,i,o)}_displayChanged(){let t=this.item.split(".")[0],e=new o.Z(t,this.data).buildRelationship(this.value,this.display,this.md.referenceTo[0]);e&&(this.data[t].label=e.value.Name)}getValue(t){if(this.data[t])return this.data[t].value;for(let e in this.data)if(this.data[e].field===t)return this.data[e].value;return null}setValue(t,e){this.set("data."+t,e)}equals(t){return this.data===t.data}static get template(){return(0,s.dy)(u||(u=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div class="fields" hidden$="[[hidden]]">\n\t\t\t<div>[[label]]</div>\n\t\t\t<div>\n\t\t\t\t<sb-field id="field" value="{{value}}" focus="[[focus]]" ref-display="{{display}}" record="[[record]]" factory-data="[[factoryData]]"></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),l)}}customElements.define(p.is,p)},3046:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _core_Page_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9685),_data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4155),_core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1361),_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(566),_sb_filter_item_FilterItem_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7253),_Util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3345),_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1305),_data_sb_service_Service_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8011),_forms_sb_field_Field_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2596),_sb_group_Group_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2667),_services_sb_field_md_FieldMetadata_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9712),_templateObject;function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class FilterLayout extends _core_Page_js__WEBPACK_IMPORTED_MODULE_0__.T3{static get is(){return"sb-filter-layout"}static get properties(){return(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__.l7)({searchModel:{type:Object,notify:!0},error:{type:Array,notify:!0},filterPath:{type:String,value:"searchFilters"},filterKey:String,filterDelegator:Object,searchFilterData:{type:Object,notify:!0},searchFilterModel:{type:Object,notify:!0},groupItems:{type:Array,notify:!0},serviceLoader:String,quote:Object,enterCallback:Object,translationCallback:Object,serviceCallback:Object,spinner:{type:Boolean,notify:!0},sendQuoteRecord:{type:Boolean,value:!1},resultLimit:{type:Number,value:2e3},viewport:{type:Object,value:function(){return _core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_1__._.getViewport()}},searchContext:String},_core_Page_js__WEBPACK_IMPORTED_MODULE_0__.T3.properties)}static get observers(){return["_searchModelReadyObserver(searchModel, filterDelegator)"]}ready(){super.ready(),this.mdResponse(),this.handleEnterKeyPressed()}handleEnterKeyPressed(){this.addEventListener("filter-item-field-keypress",function(t){13===t.detail.keyCode&&"function"==typeof this.enterCallback&&"reference"!==t.detail.itemType&&setTimeout(function(){this.enterCallback()}.bind(this),0)}.bind(this))}_searchModelReadyObserver(t,e){if(void 0!==t&&void 0!==e)return this.searchModelReady(t,e)}searchModelReady(){if(!0===this.searchModelInitialized)return;this.searchModelInitialized=!0,void 0===this.filterKey&&(this.filterKey=this.searchModel.hasCustomSearchFilters?"Id":"Name");let properties=this.filterPath.split(".");this.path="this.searchModel";for(let t of properties)this.path+="."+t;let searchFilters=eval(this.path);if(!1===Array.isArray(searchFilters))return;this.searchFilterModel=FilterLayout.setVisibleDynamicSearchFilters(searchFilters,this.filterDelegator);let allFields=FilterLayout.setSearchFilterFields(this.searchFilterModel,this.getSearchTable());this.fields=this.filterDelegator.buildFields(allFields)}static setVisibleDynamicSearchFilters(t,e){let n={};for(let i of t){let t=e.getGroupKey(i),o=n[t];n[t]=i,o&&!1===o.hidden&&(n[t].hidden=!1)}return n}static setSearchFilterFields(t,e){let n=[];for(let i in t)n.push(e+"."+t[i].targetFieldName);return n}mdResponse(){this.$.md.addEventListener("md-changed",function(t){let e=t.detail.value;void 0!==e&&this.setFilterValueMap(e)}.bind(this))}setFilterValueMap(t){if(void 0===this.searchFilterModel)return;let e=[],n=[];for(let i in this.searchFilterModel){let o=this.searchFilterModel[i].targetFieldName;e.push(i+".value"),n.push(i),this.searchFilterModel[i].model=t.fieldsByObject[this.getSearchTable()][o]}JSON.stringify(this.groupItems)!==JSON.stringify(e)&&(this.groupItems=e),this.filterDelegator.skipDefaults&&this.searchFilterData||this.filterDelegator.setDefaultFilterValues(n,this.searchFilterModel).then(function(t){this.searchFilterData||(this.searchFilterData=t),this.filterDelegator.searchFilterModel=this.searchFilterModel,this.filterDelegator.groupItems=this.groupItems}.bind(this))}getSearchTable(){if(void 0!==this.searchModel)return this.filterDelegator.getSearchTable()}focusFirstField(){this.isMobile()||this.$.panel.applyFocusToItem(0)}runService(){if(void 0===this.serviceLoader||void 0===this.quote)return;this.noSpinner||(this.spinner=!0);let t=FilterLayout.buildSearchModel(this.filterDelegator,this.getSearchContext(),this.actionId,this.resultLimit);this.sendQuoteRecord?t.addObject("quote",this.quote.record):t.addQuote("quote",this.quote);let e=t.build();return this.$.service.client.load(this.prefix,this.serviceLoader,null,e).then(function(t){"function"==typeof this.serviceCallback?this.serviceCallback(t):this.searchModel=this.localizer?this.localizer.localizeSearchModel(t):t,this.spinner=!1}.bind(this)).catch(function(t){this.error=(0,_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_9__.Z)(t),this.spinner=!1}.bind(this))}static buildSearchModel(t,e,n,i){let o=(new _data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_10__.J).addObject("filterContext",t.getFilterContext(),void 0,void 0,!0).add("searchContext",e).add("additional",t.getAdditionalProperties()).add("actionId",n).add("resultLimit",i);if("function"!=typeof t.getFieldSet)return o;let r=t.getFieldSet();return r?(o.addObject("fieldSet",r),o):o}get prefix(){return this.app.org.prefix}isMobile(){return this.viewport&&this.viewport.isMobile()}getSearchContext(){return void 0===this.searchContext?null:this.searchContext.length>1?this.searchContext:null}static get template(){return(0,_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_4__.dy)(_templateObject||(_templateObject=_taggedTemplateLiteral(['\n\t\t<sb-field-md id="md" fields="[[fields]]" background="true"></sb-field-md>\n\t\t<sb-service id="service"></sb-service>\n\t\t<sb-group id="panel"\n\t\t\t\t  item="sb-filter-item"\n\t\t\t\t  data="{{searchFilterData}}"\n\t\t\t\t  model="[[searchFilterModel]]"\n\t\t\t\t  group="[[groupItems]]"\n\t\t></sb-group>\n\t\t'])))}}customElements.define(FilterLayout.is,FilterLayout)},2667:(t,e,n)=>{"use strict";var i,o=n(4166),r=n(5775),s=n(5234),a=n(1019),l=n(707),d=n(3345),c=n(8544),u=n(1305);n(5310),n(5677),n(4561);const h=(0,n(1510).f)(i||(p=["\n.open {\n  position: relative;\n  left: -185px;\n}\n:host div.listMode {\n  width: 100%;\n  display: inline-table;\n}\n:host div.listMode .drawerCell {\n  width: 33%;\n  display: inline-block;\n}\n:host div.listMode .drawerCell.hiddenInDesktop {\n  display: none;\n}\n:host div.rteListMode .drawerCell.hiddenInDesktop {\n  display: none;\n}\n"],f||(f=p.slice(0)),i=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));var p,f,b;n(1370);const g="undefined"!=typeof Visualforce;class m extends((0,s.S)((0,r.Q)((0,a.U)(u.H3)))){static get is(){return"sb-group"}static get properties(){return{item:String,group:Array,data:{type:Object,notify:!0},model:{type:Object,value:null},groupClass:String,itemClass:String,groupDisplay:Object,primaryItems:{type:Array,value:null},numPrimary:{type:Number,value:0},includePrimaryInSecondary:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,observer:"updateSelected"},disabled:{type:Boolean,value:!1,observer:"updateDisabled"},pathPrefix:{type:String,value:""},focusIndex:{type:Number,observer:"updateFocusIndex"},itemClassMap:{type:Object,value:{}},itemEditableMap:Object,columnWidths:{type:Object,value:{}},signaler:{type:Object,observer:"updateSignaler"},noDataPropagation:{type:Boolean,value:!1}}}get events(){let t={};return t[o.zW.NAVIGATION_CHANGED]=this.navigationChanged,t}static get observers(){return["_buildGroupObserver(model, item, group, data, primaryItems, itemClassMap, columnWidths)","_handlePrimaryEventsObserver(domBind, _primaryItems)","propagateFromParentToChild(data.*)","toggleItemClass(itemClassMap.*)","_toggleEditableObserver(itemEditableMap, elements)"]}ready(){super.ready(),Object.entries({"datepicker-opened":"_datePickerOpened"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])}))}_itemClassMapChanged(){return!this.domBind||(null!==this.domBind.itemClassMap&&null===this.itemClassMap||null===this.domBind.itemClassMap&&null!==this.itemClassMap||Object.keys(this.domBind.itemClassMap).length!==Object.keys(this.itemClassMap).length)}_updateItemClasses(){if(!this.domBind||!this.itemClassMap)return;const t=this.domBind.itemClassMap,e=this.itemClassMap;new Set(Object.keys(t).concat(Object.keys(e))).forEach((n=>{if(t[n]!==this.itemClassMap[n]){let i=this.$.g.querySelector("".concat(this.item,"[item='").concat(n,"']"));if(i){if(t&&t[n]){let e=t[n].class||t[n];e&&"string"==typeof e&&i.classList.remove(...e.split(" "))}if(e&&e[n]){let t=e[n].class||e[n];t&&"string"==typeof t&&i.classList.add(...t.split(" "))}}}})),this.domBind.itemClassMap=e}_updateItemValues(t){if(this.elements&&t){let e=Object.keys(t);this.elements.forEach((function(n){n.item&&e.indexOf(n.item)>-1&&(n.value=t[n.item])}))}}_buildGroupObserver(t,e,n,i,o,r,s){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==s)return this.buildGroup(t,e,n,i,o,r,s)}buildGroup(t,e,n,i,o,r,s){if(this.initInternalGroupAndPrimaryItems(),this.domBind)return void(this.domBind.group===this._group?(this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.data=i,this.domBind.model=t,this._updateItemValues(i),(0,l.T8)(this,(function(){s&&this.domBind.columnWidths!=s&&this._updateColumnWidths(),this._itemClassMapChanged()&&this._updateItemClasses()}))):g||console.error("Rebuilding a group is no longer supported. Called by ".concat((0,d.GC)(this).tagName.toLowerCase(),": old group [").concat(this.domBind.group,"], new group [").concat(this._group,"]")));this.expanded=!1,this.domBind=document.createElement("dom-bind");let a=document.createElement("template");this.domBind.appendChild(a),this.domBind.group=this._group,this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.signaler=this.signaler,this.domBind.model=t,this.domBind.data=i,this.domBind.columnWidths=s,this.domBind.tabIndex=this.tabIndex,this.domBind.itemClassMap=this.itemClassMap,this.buildItems(a),this.$.g.appendChild(this.domBind),this.noDataPropagation||this.observeNode(this.$.g,function(t){t.addedNodes[0]&&this.bindElementEvents(t.addedNodes[0].childNodes)}.bind(this))}destroyGroup(){if(this.domBind)try{this.elements=null,this.$.g.removeChild(this.domBind),(0,c.y)(),this.domBind=null,this.group=void 0}catch(t){return}}_updateColumnWidths(){if(!this.columnWidths)return;let t=this.$.g.querySelectorAll(this.item);!t||t&&0==t.length?(0,l.T8)(this,(function(){let t=this.$.g.querySelectorAll(this.item);this._setColumnWidths(t)})):this._setColumnWidths(t)}_setColumnWidths(t){for(let e=0,n=t.length;e<n;e++){let n=t[e],i=n.getAttribute("item"),o=this.columnWidths[i];if(null==o)continue;let r=o.width||o;if(null==r)continue;let s=o.properties||["minWidth","maxWidth"],a=o.unit||"px";for(let t of s)n.style[t]=r+a}}_createColumnWidthStyleHtml(t){let e=' style="',n=t.width||t,i=t.properties||["min-width","max-width"],o=t.unit||"px";for(let t of i)e+=t+":"+n+o+";";return e}updateSelected(){this.domBind&&(this.domBind.selected=this.selected)}updateDisabled(){this.domBind&&(this.domBind.disabled=this.disabled)}updateSignaler(){this.domBind&&(this.domBind.signaler=this.signaler)}applyFocusToItem(t){this.focusIndex=void 0,this.focusIndex=t}updateFocusIndex(){if(this.domBind&&this.elements&&!(void 0===this.focusIndex||this.focusIndex<0))for(let t=0,e=this.domBind.group.length;t<e;t++)this.domBind["focus_".concat(t)]=!1,this.focusIndex===t&&(this.domBind["focus_".concat(t)]=!0)}initInternalGroupAndPrimaryItems(){if(this._group=this.group,this._primaryItems=void 0,!this.primaryItems||0===this.primaryItems.length)return;let t=[].concat(this.primaryItems);if(-1===this.group.indexOf(t[0])&&(t[0]=this.group[0]),t.length>1&&(t=-1===this.group.indexOf(t[1])?[t[0]]:[t[0],t[1]]),this._primaryItems=t,this.includePrimaryInSecondary)return this._group=t.concat(this.group),void this._normalizeWithDomBindGroup();let e=this.group.filter((function(e){return-1===t.indexOf(e)}));this._group=t.concat(e),this._normalizeWithDomBindGroup()}buildItems(t){var e=t.content.ownerDocument,n=e.createElement("div");this.groupClass&&n.setAttribute("class",this.groupClass);let i=this.numPrimary>0?this.numPrimary:this._primaryItems?this._primaryItems.length:0;this._group.forEach(function(t,o){let r="<"+this.item+' item="'+t+'" value="{{data.'+t+'}}" model="[[model]]" data="[[data]]" disabled="[[disabled]]" selected="[[selected]]" focus="[[focus_'+o+']]" index="'+o+'"',s=o<i;!s&&this.groupDisplay&&this.groupDisplay[t]?r+=' field-label="'+this.groupDisplay[t]+'"':!s&&this.groupDisplay&&this.groupDisplay[t.split(".")[1]]&&(r+=' field-label="'+this.groupDisplay[t.split(".")[1]]+'"');let a="";this.itemClass&&(a+=this.itemClass+" "),s?(a+=0===o?"primary first":"primary multi",a+=this.selected?" selected":""):i>0&&(a+="secondary"),this.itemClassMap&&this.itemClassMap[t]&&(a+=" "+(this.itemClassMap[t].class||this.itemClassMap[t]),this.itemClassMap[t].style&&(r+=' style="'.concat(this.itemClassMap[t].style,'"'))),a&&(r+=' class="'+a+'"');let l=this.columnWidths?this.columnWidths[t]:null;null!=l&&(r+=this._createColumnWidthStyleHtml(l)),null!=this.tabIndex&&(r+=' tab-index="[[tabIndex]]"'),r+=' signaler="[[signaler]]"></'+this.item+">";let d=e.createElement("div");d.innerHTML=r,n.appendChild(d.firstChild)}.bind(this)),t.content.appendChild(n)}bindElementEvents(t){this.elements=t;const e=t?t.length:0;this.updateFocusIndex();for(let n=0;n<e;n++)t[n]._createMethodObserver&&(t[n]._groupNotifyObserver=t=>{this.internal=!0,this.notifyPath(t.path),this.childToParentExtension&&this.childToParentExtension({path:t.path,value:t.value}),this.internal=!1},t[n]._createMethodObserver("_groupNotifyObserver(data.*)"))}propagateFromParentToChild(t){this.internal||"data"!==t.path&&(this.propagateFromParentToChildOverride?this.propagateFromParentToChildOverride(t):this._propagateFromParentToChild(t))}_propagateFromParentToChild(t){for(var e=this.elements,n=e?e.length:0,i=t.path.split("."),o=this.pathPrefix+i[i.length-1],r=0;r<n;r++)if(e[r].item===o)return void(e[r].value=t.value)}_handlePrimaryEventsObserver(t,e){if(void 0!==t&&void 0!==e)return this.handlePrimaryEvents(t,e)}handlePrimaryEvents(){this.primaryEventsResistered||(this.addEventListener("group-selected",function(t){let e=this.shadowRoot.querySelectorAll(this.item+".primary");for(var n=0,i=e.length;n<i;n++)(0,d.og)("selected",t.detail.selected,e[n])}.bind(this)),this.addEventListener("group-expanded",function(t){let e=t.detail.path.filter(function(t){return(t.tagName?t.tagName.toLowerCase():"")===this.item&&t.classList.contains("primary")}.bind(this));if(!e||0===e.length)return;(0,d.og)("initial",!1,e[0]),this.expanded=!this.expanded;let n=(0,d.GC)(this);n&&(n.expanded=!n.expanded);let i=this.shadowRoot.querySelectorAll(this.item);for(let t=0,e=i.length;t<e;t++){let e=i[t].shadowRoot.querySelector("sb-field");e&&(e.renderReadOnly=!1),(0,d.og)("expanded",this.expanded,i[t])}this.dispatchEvent((0,o.FU)("expanded-changed",{expanded:this.expanded}))}.bind(this)),this.primaryEventsResistered=!0)}navigationChanged(){this.dispatchEvent(new CustomEvent("group-selected",{bubbles:!1,detail:{selected:!1}}))}overridePropagateFromParentToChild(t){"function"==typeof t&&(this.propagateFromParentToChildOverride=t)}setFromChildToParentExtension(t){"function"==typeof t&&(this.childToParentExtension=t)}toggleItemClass(t){let e=t.path.split(".");if(1===e.length)return;let n=e[1];for(let e of this.elements)if(e.item===n){for(let n=0,i=t.value.length;n<i;n++)(0,d.og)(t.value[n].class,t.value[n].value,e);return}}_toggleEditableObserver(t,e){if(void 0!==t&&void 0!==e)return this.toggleEditable(t,e)}toggleEditable(t,e){t&&e&&e.forEach((function(e){null!=t[e.item]&&(e.editable=t[e.item])}))}_normalizeWithDomBindGroup(){if(this.domBind&&this.domBind.group&&this.domBind.group.length===this._group.length){for(var t=0,e=this._group.length;t<e;t++)if(this.domBind.group[t]!==this._group[t])return;this._group=this.domBind.group}}_datePickerOpened(t){let e=t.detail.dateContainer,n=t.detail.datepicker;n.style.position="absolute";let i=n.offsetParent.getBoundingClientRect(),o=e.getBoundingClientRect();n.style.left="".concat(-i.left+o.left,"px"),n.style.top="".concat(o.bottom-i.top,"px"),o.left+n.offsetWidth>window.innerWidth&&(n.style.left="",n.style.right=i.right-o.right+17+"px")}static get template(){return(0,u.dy)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t<div id="g" device class$="[[outerClass]]"></div>\n\t    '])),h)}}customElements.define(m.is,m)},3841:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});var i=n(354),o=n(1361);class r{constructor(t){t&&(this.$=t.$,this.component=t,this.viewport=o._.getViewport())}sanitizeAndSetInnerHTML(){if(this.isNil()){let t='<img id="blank" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="width:50%; height:17px"/>',e=!this.link&&!this.isMobile();this.$.me.innerHTML=e?t:""}else{if(null!=this.booleanValue){let t=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY4QjA4OTVEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY4QjA4OTZEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNjFGRUE4QURCRjMxMUUwODNDMkIzNjIyREUzQkMyOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjhCMDg5NERCRjcxMUUwODNDMkIzNjIyREUzQkMyOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpLVrhgAAAEoSURBVHjanJS9aoRAFIXnjjqykCcJpE21sJBXMA+QgIWFCoKFVbrgX2EhpEiTOqAPEUi1bSBPsrCwzeQe0SK77rp64ShX5nx3frxDWmuBaNv2ll/3LCWm48DaOo7zi4QAYcBHD9j2A6ZCDeMZ9ExN0zxxskEiZkZf/EvyY836FssCvjUgK9Z+IQS+lZzrStNUH3+bBcnzXJumKcqy/AcyrwUURaENwxBQFEU0OZPjKaOyZVlCKXUCGIVkWdZVHKZcVZWGGZAwDGms6AkkSRKSUgqsva7rDmDbtvB9n84tdXQ5cRwTIKgOgOd5dGm/zp5OEAQdyHVdmtr0i0d8DWCA7Fg3C/9Y+HaAvLPeuJkeZjbfBj74h6vgkZMX1t0Mzg/rlbv/80+AAQCVIVhcOwWhjQAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTQ0NzJFMzhEQjQwMTFFMEJENkNCN0I0QjBBMDU3MzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQyN0E5N0NEQjQzMTFFMEJENkNCN0I0QjBBMDU3MzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDQ3MkUzNkRCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNDQ3MkUzN0RCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnhkEREAAACaSURBVHjaYvz//z8DCKxdu1YLSJkBMRsDYfALiE8FBwdfA3EYQYYADZgPNeAUVAEhwAZTDzQokXHNmjUJQI49iMNAIoBafpAJSNgA8REG8gBInw3IEE4g/k6mISB9nEwMVACjhowaQqwhX4CYh0z9IH1fQIbMAuJpwMzkRGLmswfpA+mHFQUhQE4dEOuSYM5lIG4F5v6VAAEGAGkRMGla548DAAAAAElFTkSuQmCC";return this.isDirty&&(t=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAABCUlEQVQ4jZ3UsUrDUBgF4HN+Y2KhTyK4dioUfAYfoDeLLyDayU1sRdcOHZLZxxA6dRV8ECm0acj/O9RiSGNu0jOf8907XC7xm+zVXWrOAc8shCdWcCfntoru0i8AIABk0zg12oDGFWg7HwJjeOhHk8Tx++12HOX5KJokzjuuJJvGqRo+AtFiaMSyK7C/EJZCDIOgsJ5AN6cgYrpRsCeAdhpuZ7EdYacAVag1Uh5ePCT0ItWTmoBapHplH1CLlIttgFqkbtAE/IuUhz6gEWkLAEBAYq1kv025GhX2aVgLVRcwzLfP4+suQP7iRjDMqbrYfwUzd2OGR5BXh5KBII5e+F/MPkXwFN6n7z9GMnsCPVgwRwAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAAA30lEQVQ4je3OMU4CYRiE4ZnPZckmdDaewYR2KxISz+AB+G28gDHEws6ohBYKCrb2GCZU25rY2tpYQcRd5BsKbbRZWUp8+3kyxHfFMBz7iikPFKMirVlaQ3nzInsGAALAfHCeNVSmFHNQZRUCMRaVUsyb/Wngy+iqdzR/7Sb9aagc/6q4O8tceIwO3986JGbbAl+HMDOiE8Xrz8TgyzqIyZcOJgZ4nf1PbGfhH9kHJCKxcLJVZ+zGFoWF0X0CYfxx2zvZBlgNQhfCmO4TAkBxH04lXINs/1mRnsxwE19mDxtbAk/8Q+6dmAAAAABJRU5ErkJggg=="),void(this.$.me.innerHTML='<img id="checkbox" src="data:image/png;base64,'+t+'"/>')}"string"!==this.type&&"textarea"!==this.type||!r.containsMarkup(this.value)?(this.$.formatted.style.padding="2px 0",this.$.me.textContent=(this.value+"").trim()):(this.$.formatted.style.padding="2px 0",this.$.me.innerHTML=r.sanitizeHtmlText((this.value+"").trim())),this.handleDefaultSizeIfImage()}}static containsMarkup(t){return/(<[a-z][\s\S]*>)|(&[^\s]*;)/.test(t)}handleDefaultSizeIfImage(){let t=this.component.shadowRoot.querySelector("#me img:not([style*=width])");t&&(t=this.component.shadowRoot.querySelector("#me img:not([width])")),t&&t.setAttribute("width",i.$7);let e=this.component.shadowRoot.querySelector("#me img:not([style*=height])");e&&(e=this.component.shadowRoot.querySelector("#me img:not([height])")),e&&e.setAttribute("height",i.R$)}isNil(){return(null==this.value||""===(this.value+"").trim())&&null==this.booleanValue}isMobile(){return this.viewport&&this.viewport.isMobile()}clearTabIndex(){this._tabindex=this.tabindex,this.tabindex=void 0}restoreTabIndex(){this.tabindex=this._tabindex}static sanitizeHtmlText(t){return t?sanitizeHtml(t,{allowedTags:sanitizeHtml.defaults.allowedTags.concat(["div","img","span","sub","sup","u","s","h1","h2","h3"]),allowedAttributes:{div:["style","class"],img:["src","height","width","alt","border","align","style"],a:["href","name","target","title"],span:["style"],p:["style"],li:["style"],em:["style"],u:["style"],s:["style"],sub:["style"],sup:["style"],strong:["style"]},parser:{decodeEntities:!1}}):t}}},9107:(t,e,n)=>{"use strict";var i=n(2867),o=n(354),r=n(4253);const s="Other";class a{constructor(t,e,n,i,o,r,s,a,l){this.groupField=t,e&&(this.groupedRecordFields=e.constructor!==Array?[e]:e),this.recordPath=n,this.itemProperties=i,this.itemPropertiesByGroup=o,this.groupProperties=r,this.groupCountPath=s,this.groupFieldType=a,this.groupFieldTypePath=l}group(t){let e=[],n={};for(let i=0,o=t.length;i<o;i++){let o=t[i],r=this._get(o,this.recordPath)[this.groupField],a=null==r||""===r;r=a?s:r+"";let l=n[r];l||a||e.push(r),l=l||[],o.groupie=r,o.grouper=null,l.push(o),n[r]=l,this._setProperties(o,this.itemProperties),this._setProperties(o,this.itemPropertiesByGroup,r)}return n[s]&&e.push(s),this._sortItemsByGroup(e,n)}_sortItemsByGroup(t,e){let n=[];for(let i=0,o=t.length;i<o;i++){let o=t[i],r=e[o],a=r.length;if(this.groupedRecordFields){let t={grouper:o,groupie:null},e=this._get(t,this.recordPath);for(let t=0,n=this.groupedRecordFields.length;t<n;t++)e[this.groupedRecordFields[t]]=o;if(this.groupCountPath){this._get(t,this.groupCountPath.path)[this.groupCountPath.property]="("+a+")"}if(this.groupFieldType&&this.groupFieldTypePath){this._get(t,this.groupFieldTypePath.path)[this.groupFieldTypePath.property]=o!==s?this.groupFieldType:"string"}this._setProperties(t,this.groupProperties),n.push(t)}n=n.concat(r)}return n}_get(t,e){if(!e)return t;let n=e.split(".");for(let e=0,i=n.length;e<i;e++)t[n[e]]||(t[n[e]]={}),t=t[n[e]];return t}_setProperties(t,e,n){if(e){if(n){if(!e[n])return;e=e[n]}for(let n in e)t[n]=e[n]}}}var l,d=n(1361),c=n(1929),u=n(5775),h=n(707),p=n(1305),f=n(5754),b=n(5985);const g=(0,n(1510).f)(l||(m=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sbFieldWordWrap: break-word;\n}\n:host .datatable {\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n:host .tbody {\n  height: 100%;\n  overflow: auto;\n  display: block !important;\n}\n:host #list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  min-height: 100%;\n  position: relative;\n}\n:host .loadingPartition {\n  position: relative;\n  height: 100px;\n  text-align: center;\n  padding: 18px;\n}\n:host .noResultsMessage {\n  width: 100%;\n  text-align: center;\n  top: 50%;\n  position: absolute;\n}\n'],y||(y=m.slice(0)),l=Object.freeze(Object.defineProperties(m,{raw:{value:Object.freeze(y)}}))));var m,y,v;n(5310),n(5677),n(4561),n(5969),n(4298),n(1609),n(9294),n(9712),n(7308);class _ extends((0,b.P)([f.o],(0,u.Q)(c.I))){static get is(){return"sb-lookup-layout"}static get properties(){return{selectedRows:{type:Object,value:{},notify:!0},searchModel:Object,totalCount:{type:String,notify:!0},hasTotalCount:{notify:!0},maxSelectAll:Number,selectionIdDataPath:String,parentAttributesPath:String,additionalFields:Array,fieldPrefix:{type:String,value:""},groupByField:String,groupByFieldType:String,viewport:{type:Object,value:function(){return d._.getViewport()}},i18n:{type:Object,value:function(){return c.I.properties.i18n.value()}},primaryMobileCols:Array,_primaryMobileColumns:{type:Array,computed:"_getPrimaryMobileCols(primaryMobileCols, fieldSet)"},rowsByGrouper:Object,groups:Array,viewResultsIndexById:Object,viewResultsIds:Object,headerSelectionDisabled:{type:Boolean,computed:"_isDisableHeaderSelection(viewResults)"},headerSelectionTooltip:{type:String,computed:"_getHeaderSelectionTooltip(headerSelectionDisabled)"},mobileRowDetails:{type:Object,value:{}},keyPressed:{Type:Object,value:{}},lastClickedIndex:{Type:Number},noResultsMessage:String,_viewResults:Array,_hasViewResults:{type:Boolean,computed:"_computeHasViewResults(_viewResults)"}}}static get observers(){return["_setViewResultsObserver(searchModel, fieldSet, groupByFieldType)","initFieldMetadata(searchModel)","updateTotalCount(searchModel.totalCount)","setDisplayResults(viewResults)","indexViewResults(viewResults)"]}ready(){super.ready(),this._setupKeyPressListeners(),this.handleAllRowsSelected(),this.handleOneRowSelected(),this.handleMetaDataResponse(),this.addEventListener("sb-mobile-row-expanded",this.expandMobileRow.bind(this)),this.addEventListener("sb-mobile-row-selected",this.selectMobileRow.bind(this)),this.addEventListener("sb-row-group-tapped",this.expandRowEventHandler.bind(this)),this.scrollTarget=this.$.tbody}_setupKeyPressListeners(){window.addEventListener("keydown",function(t){this.keyPressed[t.keyCode]=!0}.bind(this)),window.addEventListener("keyup",function(t){delete this.keyPressed[t.keyCode]}.bind(this))}_computeHasViewResults(t){return t&&t.length>0}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(t){this.initRecordKeysFieldLabelsAndTypeMap(t.detail.value.fields)}.bind(this))}initFieldMetadata(){this.deSelectAll(),this.fieldMetadataInitialized||(this.$.md.object=this.searchModel.targetObjectName,this.fieldSetHandler=new i.u(this.searchModel,"resultFieldNames","resultFieldNamesTablet","resultFieldNamesPhone"),this.setFieldMetadata(),this.fieldMetadataInitialized=!0)}setFieldMetadata(){if(this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.$.md.name===this.fieldSet.name)return!1;this.$.md.fields=void 0,this.$.md.name=this.fieldSet.name;let t=this.fieldSet.fields;Array.isArray(this.additionalFields)&&(t=this.fieldSet.fields.concat(this.additionalFields)),this.groupByField&&-1===t.indexOf(this.groupByField)&&(t=[this.groupByField].concat(t)),this.$.md.fields=t}initRecordKeysFieldLabelsAndTypeMap(t){let e=[],n=[],i={},s={},a={},l={},d={},c={};t.forEach(function(t,r){if(this.groupByField===t.name&&(this.groupByFieldType=t.type,-1===this.fieldSet.fields.indexOf(t.name)))return;let u="UnitPrice"===t.name?t.name:this.fieldPrefix+t.name;e.push(u),n.push(t.label),i[u]=t.label,s[u]=t,"currency"===t.type.toLowerCase()&&(s[u].CurrencyIsoCode=this.currencyIsoCode);let h=t.type;if(!this.isMobileViewport()){let e=new o.dr(t).getImageWidth(20);if(e){let t={width:e,properties:["width"]};d[u]=t,c[r]=t}}a[t.label.replace(/\W/g,"")]=h,l[u]=h}.bind(this)),void 0===this.groupByFieldType&&(this.groupByFieldType=null),this.headerClassMap=new r.o(Object.keys(a),"Th",a,null,!0).build(),this.rowClassMap=new r.o(e,"Td",l).build(),this.columnWidths=d,this.labelWidths=c,this.mdMap=s,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=i}handleAllRowsSelected(){this.addEventListener("header-selection-changed",function(t){this.selectAllClicked=!0;let e=t.detail.selected;this.toggleRowSelections(e),this.selectAllClicked=!1}.bind(this))}toggleRowSelections(t,e,n){let i=[],o=this.$.tbody.querySelectorAll("sb-table-row");if(o&&o.length>0)for(let r of o){let o=r.get("rowData."+this.selectionIdDataPath);i.push(o),n&&(r.index<n.start||r.index>n.end)||(null!=e&&(r.grouper||r.groupie&&r.groupie!==e)||this._isValidViewResultId(o)&&(r.selected=t))}let r=null!=e?this.rowsByGrouper[e]:this.viewResults;if(null!=r){n||(n={start:0,end:r.length-1});for(let e=n.start;e<=n.end;e++){let n=r[e],o=this.get("record."+this.selectionIdDataPath,n);if(-1!==i.indexOf(o))continue;let s=void 0===this.parentAttributesPath?void 0:this.get("record."+this.parentAttributesPath,n);this.selectOneRow(t,o,n.record,s,n.grouper)}}}handleOneRowSelected(){this.addEventListener("selection-changed",function(t){document.getSelection().removeAllRanges(),this.selectAllClicked||this.handleRangeSelection(t);let e=t.detail.selected,n=t.detail.Id,i=t.detail.group,o=t.detail.autoSelectGroupRows;this.selectOneRow(e,n,t.detail.rowData,t.detail.attributes,i),null!=i&&o&&this.toggleRowSelections(e,i)}.bind(this))}handleRangeSelection(t){if(this.keyPressed[16]&&null!=this.lastClickedIndex&&!this.internal&&!this.groupByFieldType){this.internal=!0;let e=Math.min(this.lastClickedIndex,t.detail.index),n=Math.max(this.lastClickedIndex,t.detail.index);this.toggleRowSelections(t.detail.selected,null,{start:e,end:n}),this.internal=!1}t.composedPath()[0]._selectedChangeByParent||(this.lastClickedIndex=t.detail.index)}selectOneRow(t,e,n,i,o){t&&(null===this.selectedRows&&(this.selectedRows={}),this.selectedRows[e]={record:{Id:e,attributes:i,UnitPrice:n.UnitPrice},index:this.viewResultsIndexById[e],invalid:null!=o}),!t&&this.selectedRows&&delete this.selectedRows[e]}deSelectAll(){this.$.header&&(this.$.header.selected=void 0,this.$.header.selected=!1)}_setViewResultsObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setViewResults(t,e,n)}setViewResults(){this.selectedRows={},this.viewResultsIds=null,this.viewResultsIndexById=null;let t=this.getViewResults(this.searchModel.results);if(this.hasGroupedField=!!this.groupByField,this.isMobileViewport()&&this._resetMobileDetails(),!this.hasGroupedField)return void(this.viewResults=t);if(this.viewResults&&(t=JSON.parse(JSON.stringify(this.getViewResults(this.searchModel.results)))),this.isMobileViewport())return void(this.viewResults=t);let e=[this.fieldSet.fields[0],"Id"],n="record."+this.searchModel.targetObjectName,i={path:"record._transient_."+this.searchModel.targetObjectName+"."+e[0],property:"suffix"},o={path:"record._transient_."+this.searchModel.targetObjectName+"."+e[0]+".md",property:"type"};t=new a(this.groupByField,e,n,{hidden:!0},{},{hidden:!1},i,this.groupByFieldType,o).group(t),this.rowsByGrouper={},this.groups=[],this.viewResultsIds=[],this.viewResultsIndexById={};let r=0;for(let e of t)this._indexViewResult(e,r++),e.grouper?(this.rowsByGrouper[e.grouper]=[],this.groups.push(e)):this.rowsByGrouper[e.groupie]&&this.rowsByGrouper[e.groupie].push(e);this.viewResults=t,this.expandedGroupState={};if(!(this.viewResults.length===this.searchModel.results.length+1))return;const s=this.viewResults[0].grouper;this.expandRowEventHandler({path:[{index:0}],detail:{group:s}})}getViewResults(t){let e=this.org.prefix?this.org.prefix+"__":"",n=[];for(let i of t||[]){let t={record:{}};for(let n in i.record)"UnitPrice"===n&&i.record.Product2&&i.record.Product2[e+"HidePriceInSearchResults__c"]?t.record[n]="":t.record[n]=i.record[n];n.push(t)}return n}setDisplayResults(){this.isMobileViewport()||!this.groupByField?this._viewResults=this.viewResults:this._viewResults=this.groups}isSelected(t){if(!this.selectedRows)return!1;let e=this.get(this.selectionIdDataPath,t);return!!this.selectedRows[e]}isExpanded(t,e){return!(!t||!e)&&!!e[t]}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}updateTotalCount(){null!==this.searchModel.totalCount&&(this.totalCount=this.searchModel.totalCount),this.hasTotalCount=this.totalCount>0}_getPrimaryMobileCols(t,e){if(void 0===t||void 0===e)return;let n=[].concat(this.primaryMobileCols);if(n&&n.length>0&&this.fieldSet.name.endsWith("Phone")){let t=n[0].split("."),e=t.length>1?t[0]+".":"";n[0]=e+this.fieldSet.fields[0]}return n}expandMobileRow(t){let e=this.shadowRoot.querySelector("#list");this._setMobileExpandDetails(e,t.detail),e.notifyResize()}selectMobileRow(t){let e=this.shadowRoot.querySelector("#list");this._setMobileSelectedDetails(e,t.detail)}detached(){super.detached(),this.$.list._increasePoolIfNeeded=function(){}}_setMobileExpandDetails(t,e){let n=e.index,i=e.id,o=e.expanded,r=e.path;this._setMobileDetails(t,n,i,"expanded",o,r)}_setMobileSelectedDetails(t,e){let n=e.index,i=e.id,o=e.selected;this._setMobileDetails(t,n,i,"selected",o)}_setMobileDetails(t,e,n,i,o,r){let s=t._computeVidx(e)%t._physicalCount;this.mobileRowDetails[s]||(this.mobileRowDetails[s]={});let a=this.mobileRowDetails[s];r&&(a.path=r),a.ids||(a.ids={}),a.ids[n]||(a.ids[n]={}),a.ids[n][i]=o}expandRowEventHandler(t){const e=t.detail.group,n=(t.path||t.composedPath())[0].index+1,i=this.expandedGroupState[e]=!this.expandedGroupState[e];this._expandRow(i,e,this.rowsByGrouper,n)}_expandRow(t,e,n,i){let o=null;const r=this.shadowRoot.querySelector("#list"),s=n[e]||[];t?this.splice("_viewResults",i,0,...s):(r._scrollPosition=Math.ceil(r._scrollPosition),o=r.firstVisibleIndex,this.splice("_viewResults",i,s.length)),(0,h.T8)(this,this._adjustScrollAfterExpandRow.bind(this,r,o))}_adjustScrollAfterExpandRow(t,e){null!=e?t.scrollToIndex(e):t._updateScrollerSize(!0)}indexViewResults(){if(null!=this.viewResultsIds)return;this.viewResultsIds=[],this.viewResultsIndexById={};let t=0;for(let e of this.viewResults)this._indexViewResult(e,t++)}_indexViewResult(t,e){let n=this.get("record."+this.selectionIdDataPath,t);this.viewResultsIds.push(n),this.viewResultsIndexById[n]=e}_isValidViewResultId(t){return-1!==this.viewResultsIds.indexOf(t)}_getMaxResultsToSelectAll(){return this.maxSelectAll||100}_isDisableHeaderSelection(){return this.viewResults.length>this._getMaxResultsToSelectAll()}_getHeaderSelectionTooltip(){if(this.headerSelectionDisabled)return this.i18n.l("Reduce search results to fewer than {0} to enable select all",[this._getMaxResultsToSelectAll()])}_getExpandedDetails(t,e){return this._getMobileDetails(t,e,"expanded",!0)}_getSelectedDetails(t,e){return this._getMobileDetails(t,e,"selected")}_getMobileDetails(t,e,n,i){if(!this.isMobileViewport())return null;let o=this.shadowRoot.querySelector("#list"),r=o._computeVidx(e)%o._physicalCount,s=this.mobileRowDetails[r]||null;if(!s)return null;let a=this.get(this.selectionIdDataPath,t),l=!(!s.ids[a]||!s.ids[a][n]),d={};return d[n]=l,i&&(d.path=s.path),d}_resetMobileDetails(){for(let t in this.mobileRowDetails){let e=this.mobileRowDetails[t];for(let t in e.ids)e.ids[t]={}}}_scrollHandler(){this.isMobileViewport()&&(this.expandDisabled=!0,this._enabledExpand&&clearTimeout(this._enabledExpand),this._enabledExpand=setTimeout(function(){this.expandDisabled=!1}.bind(this),200))}test_scrollToTarget(t){if(!t)return;let e=t.index;null==e&&(e=this._findRowIndex(t)),e<0||this.shadowRoot.querySelector("#list").scrollToIndex(e)}_findRowIndex(t){if(!t)return-1;let e=Object.keys(t),n=e.length;if(0===n)return-1;for(let i=0,o=this.viewResults.length;i<o;i++){let o=this.viewResults[i].record,r=!0;for(let i=0;i<n;i++)r=r&&o[e[i]]===t[e[i]];if(r)return i}return-1}static get template(){return(0,p.dy)(v||(v=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="md"></sb-field-md>\n\t\t<div device id="datatable" class="datatable">\n\t\t\t<slot name="dynamic-header"></slot>\n\t\t\t\t<div class="thead">\n\t\t\t\t\t<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[labelWidths]]"\n\t\t\t\t\t\t\t\t\tselection-disabled="[[headerSelectionDisabled]]"\n\t\t\t\t\t\t\t\t\tselection-tooltip="[[headerSelectionTooltip]]"\n\t\t\t\t\t></sb-table-header>\n\t\t\t\t</div>\n\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\x3c!--Infinite scroll for ungrouped layout--\x3e\n\t\t\t\t\t<iron-list scroll-target="tbody" id="list" items="[[_viewResults]]" as="row">\n\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\t\tdisable-swipe="true"\n\t\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\trow-data="{{row.record}}"\n\t\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\tselection-id-data-path="[[selectionIdDataPath]]"\n\t\t\t\t\t\t\t\t\tparent-attributes-path="[[parentAttributesPath]]"\n\t\t\t\t\t\t\t\t\tprimary-mobile-cols="[[_primaryMobileColumns]]"\n\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\tgrouper="[[row.grouper]]"\n\t\t\t\t\t\t\t\t\tgrouper-expanded="[[isExpanded(row.grouper, expandedGroupState)]]"\n\t\t\t\t\t\t\t\t\tgroupie="[[row.groupie]]"\n\t\t\t\t\t\t\t\t\tselected="[[isSelected(row.record)]]"\n\t\t\t\t\t\t\t\t\thidden$="[[row.hidden]]"\n\t\t\t\t\t\t\t\t\tignore-viewport-change="[[hasGroupedField]]"\n\t\t\t\t\t\t\t\t\troute-source="LookupLayout"\n\t\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\tdefer-grouping="true"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\tforce-column-widths="[[hasGroupedField]]"\n\t\t\t\t\t\t\t\t\tmobile-expanded-details="[[_getExpandedDetails(row.record, index)]]"\n\t\t\t\t\t\t\t\t\tmobile-selected-details="[[_getSelectedDetails(row.record, index)]]"\n\t\t\t\t\t\t\t\t\texpand-disabled="[[expandDisabled]]"\n\t\t\t\t\t\t\t\t\tname$="[[row.record.Name]]"\n\t\t\t\t\t\t\t\t\tno-data-propagation="true"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</iron-list>\n\t\t\t\t</div>\n\t\t\t<template is="dom-if" if="[[!_hasViewResults]]">\n\t\t\t\t<div class="noResultsMessage">[[noResultsMessage]]</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),g)}}customElements.define(_.is,_)},6910:(t,e,n)=>{"use strict";var i,o=n(1305),r=n(6008),s=n(8373),a=n(707),l=n(4166),d=n(3345);const c=(0,n(1510).f)(i||(u=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  z-index: 10000;\n}\nsb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerLeft: 0;\n  --sbDialogContainerRight: 0;\n  --sbDialogContainerTop: 60px;\n  --sbDialogContainerWidth: 90%;\n  --sbDialogContainerHeight: 85%;\n  --sbDialogContainerTransform: translate(0, 0);\n  --sbDialogContentHeight: inherit;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentPadding: 0;\n  --sbDialogFooterDisplay: none;\n  --sbDialogTitleDisplay: none;\n  --sbDialogTitleMobileVisibility: hidden;\n}\nsb-dialog[class*='--desktop'] {\n  --sbDialogHeaderBorderWidth: 0;\n  --sbDialogHeaderBorderStyle: none;\n  --sbDialogHeaderPaddingTop: 0;\n  --sbDialogHeaderPaddingRight: 0;\n  --sbDialogHeaderPaddingBottom: 0;\n  --sbDialogHeaderPaddingLeft: 0;\n}\n[class*='--desktop'] sb-dialog {\n  --sbDialogHeaderBorderWidth: 0;\n  --sbDialogHeaderBorderStyle: none;\n  --sbDialogHeaderPaddingTop: 0;\n  --sbDialogHeaderPaddingRight: 0;\n  --sbDialogHeaderPaddingBottom: 0;\n  --sbDialogHeaderPaddingLeft: 0;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogHeaderBorderWidth: inherit;\n  --sbDialogHeaderBorderStyle: inherit;\n  --sbDialogHeaderBorderColor: inherit;\n  --sbDialogHeaderPaddingTop: inherit;\n  --sbDialogHeaderPaddingRight: inherit;\n  --sbDialogHeaderPaddingBottom: inherit;\n  --sbDialogHeaderPaddingLeft: inherit;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogHeaderBorderWidth: inherit;\n  --sbDialogHeaderBorderStyle: inherit;\n  --sbDialogHeaderBorderColor: inherit;\n  --sbDialogHeaderPaddingTop: inherit;\n  --sbDialogHeaderPaddingRight: inherit;\n  --sbDialogHeaderPaddingBottom: inherit;\n  --sbDialogHeaderPaddingLeft: inherit;\n}\nsb-dialog::shadow #easyXDM_sbQQ_provider {\n  width: 100%;\n  height: 100%;\n}\n"],h||(h=u.slice(0)),i=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(h)}}))));var u,h;n(2758),n(8560);const p=function(t,e,n,i,o,r){var s,a,l,d,c,u=this,h=Math.floor(1e4*Math.random()),p=Function.prototype,f=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,b=/[\-\w]+\/\.\.\//,g=/([^:])\/\//g,m="",y={},v=t.easyXDM,_="easyXDM_",w=!1;function x(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function C(){var t,e="Shockwave Flash",n="application/x-shockwave-flash";if(!L(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var i=navigator.plugins[e].description;i&&!L(navigator.mimeTypes)&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(a=i.match(/\d+/g))}if(!a)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a=Array.prototype.slice.call(t.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),t=null}catch(t){}if(!a)return!1;var o=parseInt(a[0],10),r=parseInt(a[1],10);return l=o>9&&r>0,!0}if(x(t,"addEventListener"))d=function(t,e,n){t.addEventListener(e,n,!1)},c=function(t,e,n){t.removeEventListener(e,n,!1)};else{if(!x(t,"attachEvent"))throw new Error("Browser not supported");d=function(t,e,n){t.attachEvent("on"+e,n)},c=function(t,e,n){t.detachEvent("on"+e,n)}}var k,S=!1,O=[];function I(){if(!S){S=!0;for(var t=0;t<O.length;t++)O[t]();O.length=0}}if("readyState"in e?(k=e.readyState,S="complete"==k||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==k||"interactive"==k)):S=!!e.body,!S){if(x(t,"addEventListener"))d(e,"DOMContentLoaded",I);else if(d(e,"readystatechange",(function(){"complete"==e.readyState&&I()})),e.documentElement.doScroll&&t===top){var E=function(){if(!S){try{e.documentElement.doScroll("left")}catch(t){return void i(E,1)}I()}};E()}d(t,"load",I)}function T(t,e){S?t.call(e):O.push((function(){t.call(e)}))}function M(t){return t.match(f)[3]}function B(t){var e=t.toLowerCase().match(f);if(!e)return"";var n=e[2],i=e[3],o=e[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+i+o}function P(t){if(!(t=t.replace(g,"$1/")).match(/^(http||https):\/\//)){var e="/"===t.substring(0,1)?"":n.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),t=n.protocol+"//"+n.host+e+t}for(;b.test(t);)t=t.replace(b,"");return t}function D(t,e){var n="",i=t.indexOf("#");-1!==i&&(n=t.substring(i),t=t.substring(0,i));var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(s+"="+r(e[s]));return t+(w?"#":-1==t.indexOf("?")?"?":"&")+o.join("&")+n}var A=function(t){for(var e,n={},i=(t=t.substring(1).split("&")).length;i--;)n[(e=t[i].split("="))[0]]=o(e[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash);function L(t){return void 0===t}var F,q=function(){var t={},e={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(e).replace(/\s/g,"")===n&&(t.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(e=n.evalJSON()).a&&3===e.a.length&&3===e.a[2]&&(t.parse=function(t){return t.evalJSON()}),t.stringify&&t.parse?(q=function(){return t},t):null)};function N(t,e,n){var i;for(var o in e)e.hasOwnProperty(o)&&(o in t?"object"==typeof(i=e[o])?N(t[o],i,n):n||(t[o]=e[o]):t[o]=e[o]);return t}function R(t){var n;L(s)&&function(){var t=e.body.appendChild(e.createElement("form")),n=t.appendChild(e.createElement("input"));n.name=_+"TEST"+h,s=n!==t.elements[n.name],e.body.removeChild(t)}(),s?n=e.createElement('<iframe name="'+t.props.name+'"/>'):(n=e.createElement("IFRAME")).name=t.props.name,n.id=n.name=t.props.name,delete t.props.name,"string"==typeof t.container&&(t.container=e.getElementById(t.container)),t.container||(N(n.style,{position:"absolute",top:"-2000px",left:"0px"}),t.container=e.body);var i=t.props.src;if(t.props.src="javascript:false",N(n,t.props),n.border=n.frameBorder=0,n.allowTransparency=!0,t.container.appendChild(n),t.onLoad&&d(n,"load",t.onLoad),t.usePost){var o,r=t.container.appendChild(e.createElement("form"));if(r.target=n.name,r.action=i,r.method="POST","object"==typeof t.usePost)for(var a in t.usePost)t.usePost.hasOwnProperty(a)&&(s?o=e.createElement('<input name="'+a+'"/>'):(o=e.createElement("INPUT")).name=a,o.value=t.usePost[a],r.appendChild(o));r.submit(),r.parentNode.removeChild(r)}else n.src=i;return t.props.src=i,n}function j(i){var o,r=i.protocol;if(i.isHost=i.isHost||L(A.xdm_p),w=i.hash||!1,i.props||(i.props={}),i.isHost)i.remote=P(i.remote),i.channel=i.channel||"default"+h++,i.secret=Math.random().toString(16).substring(2),L(r)&&(r=B(n.href)==B(i.remote)?"4":x(t,"postMessage")||x(e,"postMessage")?"1":i.swf&&x(t,"ActiveXObject")&&C()?"6":"Gecko"===navigator.product&&"frameElement"in t&&-1==navigator.userAgent.indexOf("WebKit")?"5":i.remoteHelper?"2":"0");else if(i.channel=A.xdm_c.replace(/["'<>\\]/g,""),i.secret=A.xdm_s,i.remote=A.xdm_e.replace(/["'<>\\]/g,""),r=A.xdm_p,i.acl&&!function(t,e){"string"==typeof t&&(t=[t]);for(var n,i=t.length;i--;)if(n="^"===t[i].substr(0,1)&&"$"===t[i].substr(t[i].length-1,1)?t[i]:"^"+t[i].replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")+"$",(n=new RegExp(n)).test(e))return!0;return!1}(i.acl,i.remote))throw new Error("Access denied for "+i.remote);switch(i.protocol=r,r){case"0":if(N(i,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),i.isHost){if(!i.local){for(var s,l=n.protocol+"//"+n.host,d=e.body.getElementsByTagName("img"),c=d.length;c--;)if((s=d[c]).src.substring(0,l.length)===l){i.local=s.src;break}i.local||(i.local=t)}var u={xdm_c:i.channel,xdm_p:0};i.local===t?(i.usePolling=!0,i.useParent=!0,i.local=n.protocol+"//"+n.host+n.pathname+n.search,u.xdm_e=i.local,u.xdm_pa=1):u.xdm_e=P(i.local),i.container&&(i.useResize=!1,u.xdm_po=1),i.remote=D(i.remote,u)}else N(i,{useParent:!L(A.xdm_pa),usePolling:!L(A.xdm_po),useResize:!i.useParent&&i.useResize});o=[new y.stack.HashTransport(i),new y.stack.ReliableBehavior({}),new y.stack.QueueBehavior({encode:!0,maxLength:4e3-i.remote.length}),new y.stack.VerifyBehavior({initiate:i.isHost})];break;case"1":o=[new y.stack.PostMessageTransport(i)];break;case"2":i.isHost&&(i.remoteHelper=P(i.remoteHelper)),o=[new y.stack.NameTransport(i),new y.stack.QueueBehavior,new y.stack.VerifyBehavior({initiate:i.isHost})];break;case"3":o=[new y.stack.NixTransport(i)];break;case"4":o=[new y.stack.SameOriginTransport(i)];break;case"5":o=[new y.stack.FrameElementTransport(i)];break;case"6":a||C(),o=[new y.stack.FlashTransport(i)]}return o.push(new y.stack.QueueBehavior({lazy:i.lazy,remove:!0})),o}function z(t){for(var e,n={incoming:function(t,e){this.up.incoming(t,e)},outgoing:function(t,e){this.down.outgoing(t,e)},callback:function(t){this.up.callback(t)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,o=t.length;i<o;i++)N(e=t[i],n,!0),0!==i&&(e.down=t[i-1]),i!==o-1&&(e.up=t[i+1]);return e}return N(y,{version:"2.5.00.0",query:A,stack:{},apply:N,getJSONObject:q,whenReady:T,noConflict:function(e){return t.easyXDM=v,(m=e)&&(_="easyXDM_"+m.replace(".","_")+"_"),y}}),y.DomHelper={on:d,un:c,requiresJSON:function(n){var i,o;"object"==typeof(i=t)[o="JSON"]&&i[o]||e.write('<script type="text/javascript" src="'+n+'"><\/script>')}},F={},y.Fn={set:function(t,e){F[t]=e},get:function(t,e){if(F.hasOwnProperty(t)){var n=F[t];return e&&delete F[t],n}}},y.Socket=function(t){var e=z(j(t).concat([{incoming:function(e,n){t.onMessage(e,n)},callback:function(e){t.onReady&&t.onReady(e)}}])),n=B(t.remote);this.origin=B(t.remote),this.destroy=function(){e.destroy()},this.postMessage=function(t){e.outgoing(t,n)},e.init()},y.Rpc=function(t,e){if(e.local)for(var n in e.local)if(e.local.hasOwnProperty(n)){var i=e.local[n];"function"==typeof i&&(e.local[n]={method:i})}var o=z(j(t).concat([new y.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=B(t.remote),this.context=t.context||null,this.destroy=function(){o.destroy()},o.init()},y.stack.SameOriginTransport=function(t){var e,o,r,s;return e={outgoing:function(t,e,n){r(t),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){s=B(t.remote),t.isHost?(N(t.props,{src:D(t.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:t.channel,xdm_p:4}),name:_+t.channel+"_provider"}),o=R(t),y.Fn.set(t.channel,(function(t){return r=t,i((function(){e.up.callback(!0)}),0),function(t){e.up.incoming(t,s)}}))):(r=function(){var t=parent;if(""!==m)for(var e=0,n=m.split(".");e<n.length;e++)t=t[n[e]];return t.easyXDM}().Fn.get(t.channel,!0)((function(t){e.up.incoming(t,s)})),i((function(){e.up.callback(!0)}),0))},init:function(){T(e.onDOMReady,e)}}},y.stack.FlashTransport=function(t){var o,s,a,d,c;function h(t,e){i((function(){o.up.incoming(t,a)}),0)}function p(n){var i=t.swf+"?host="+t.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());y.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),(function(){y.stack.FlashTransport[n].swf=d=c.firstChild;for(var t=y.stack.FlashTransport[n].queue,e=0;e<t.length;e++)t[e]();t.length=0})),t.swfContainer?c="string"==typeof t.swfContainer?e.getElementById(t.swfContainer):t.swfContainer:(N((c=e.createElement("div")).style,l&&t.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),e.body.appendChild(c));var s="callback=flash_loaded"+r(n.replace(/[\-.]/g,"_"))+"&proto="+u.location.protocol+"&domain="+r(M(u.location.href))+"&port="+r(function(t){return t.match(f)[4]||""}(u.location.href))+"&ns="+r(m);c.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}return o={outgoing:function(e,n,i){d.postMessage(t.channel,e.toString()),i&&i()},destroy:function(){try{d.destroyChannel(t.channel)}catch(t){}d=null,s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){a=t.remote,y.Fn.set("flash_"+t.channel+"_init",(function(){i((function(){o.up.callback(!0)}))})),y.Fn.set("flash_"+t.channel+"_onMessage",h),t.swf=P(t.swf);var e=M(t.swf),r=function(){y.stack.FlashTransport[e].init=!0,(d=y.stack.FlashTransport[e].swf).createChannel(t.channel,t.secret,B(t.remote),t.isHost),t.isHost&&(l&&t.swfNoThrottle&&N(t.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),N(t.props,{src:D(t.remote,{xdm_e:B(n.href),xdm_c:t.channel,xdm_p:6,xdm_s:t.secret}),name:_+t.channel+"_provider"}),s=R(t))};y.stack.FlashTransport[e]&&y.stack.FlashTransport[e].init?r():y.stack.FlashTransport[e]?y.stack.FlashTransport[e].queue.push(r):(y.stack.FlashTransport[e]={queue:[r]},p(e))},init:function(){T(o.onDOMReady,o)}}},y.stack.PostMessageTransport=function(e){var o,r,s,a;function l(t){if("string"==typeof t.data){var i=function(t){if(t.origin)return B(t.origin);if(t.uri)return B(t.uri);if(t.domain)return n.protocol+"//"+t.domain;throw"Unable to retrieve the origin of the event"}(t);i==a&&"string"==typeof t.data&&t.data.substring(0,e.channel.length+1)==e.channel+" "&&o.up.incoming(t.data.substring(e.channel.length+1),i)}}function u(n){n.data==e.channel+"-ready"&&(s="postMessage"in r.contentWindow?r.contentWindow:r.contentWindow.document,c(t,"message",u),d(t,"message",l),i((function(){o.up.callback(!0)}),0))}return o={outgoing:function(t,n,i){s.postMessage(e.channel+" "+t,n||a),i&&i()},destroy:function(){c(t,"message",u),c(t,"message",l),r&&(s=null,r.parentNode.removeChild(r),r=null)},onDOMReady:function(){a=B(e.remote),e.isHost?(d(t,"message",u),N(e.props,{src:D(e.remote,{xdm_e:B(n.href),xdm_c:e.channel,xdm_p:1}),name:_+e.channel+"_provider"}),r=R(e)):(d(t,"message",l),(s="postMessage"in t.parent?t.parent:t.parent.document).postMessage(e.channel+"-ready",a),i((function(){o.up.callback(!0)}),0))},init:function(){T(o.onDOMReady,o)}}},y.stack.FrameElementTransport=function(o){var r,s,a,l;return r={outgoing:function(t,e,n){a.call(this,t),n&&n()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=B(o.remote),o.isHost?(N(o.props,{src:D(o.remote,{xdm_e:B(n.href),xdm_c:o.channel,xdm_p:5}),name:_+o.channel+"_provider"}),(s=R(o)).fn=function(t){return delete s.fn,a=t,i((function(){r.up.callback(!0)}),0),function(t){r.up.incoming(t,l)}}):(e.referrer&&B(e.referrer)!=A.xdm_e&&(t.top.location=A.xdm_e),a=t.frameElement.fn((function(t){r.up.incoming(t,l)})),r.up.callback(!0))},init:function(){T(r.onDOMReady,r)}}},y.stack.NameTransport=function(t){var e,n,o,r,s,a,l,d;function u(e){var i=t.remoteHelper+(n?"#_3":"#_2")+t.channel;o.contentWindow.sendMessage(e,i)}function h(){n?2!=++s&&n||e.up.callback(!0):(u("ready"),e.up.callback(!0))}function p(t){e.up.incoming(t,l)}function f(){a&&i((function(){a(!0)}),0)}return e={outgoing:function(t,e,n){a=n,u(t)},destroy:function(){o.parentNode.removeChild(o),o=null,n&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){n=t.isHost,s=0,l=B(t.remote),t.local=P(t.local),n?(y.Fn.set(t.channel,(function(e){n&&"ready"===e&&(y.Fn.set(t.channel,p),h())})),d=D(t.remote,{xdm_e:t.local,xdm_c:t.channel,xdm_p:2}),N(t.props,{src:d+"#"+t.channel,name:_+t.channel+"_provider"}),r=R(t)):(t.remoteHelper=t.remote,y.Fn.set(t.channel,p));var e=function(){var n=o||this;c(n,"load",e),y.Fn.set(t.channel+"_load",f),function t(){"function"==typeof n.contentWindow.sendMessage?h():i(t,50)}()};o=R({props:{src:t.local+"#_4"+t.channel},onLoad:e})},init:function(){T(e.onDOMReady,e)}}},y.stack.HashTransport=function(e){var n,o,r,s,a,l,d,c,u,h;function p(){if(d){var t=d.location.href,e="",i=t.indexOf("#");-1!=i&&(e=t.substring(i)),e&&e!=a&&function(t){a=t,n.up.incoming(a.substring(a.indexOf("_")+1),h)}(e)}}function f(){r=setInterval(p,s)}return n={outgoing:function(t,n){!function(t){if(c){var n=e.remote+"#"+l+++"_"+t;(o||!u?c.contentWindow:c).location=n}}(t)},destroy:function(){t.clearInterval(r),!o&&u||c.parentNode.removeChild(c),c=null},onDOMReady:function(){if(o=e.isHost,s=e.interval,a="#"+e.channel,l=0,u=e.useParent,h=B(e.remote),o){if(N(e.props,{src:e.remote,name:_+e.channel+"_provider"}),u)e.onLoad=function(){d=t,f(),n.up.callback(!0)};else{var r=0,p=e.delay/50;!function t(){if(++r>p)throw new Error("Unable to reference listenerwindow");try{d=c.contentWindow.frames[_+e.channel+"_consumer"]}catch(t){}d?(f(),n.up.callback(!0)):i(t,50)}()}c=R(e)}else d=t,f(),u?(c=parent,n.up.callback(!0)):(N(e,{props:{src:e.remote+"#"+e.channel+new Date,name:_+e.channel+"_consumer"},onLoad:function(){n.up.callback(!0)}}),c=R(e))},init:function(){T(n.onDOMReady,n)}}},y.stack.ReliableBehavior=function(t){var e,n,i=0,o=0,r="";return e={incoming:function(t,s){var a=t.indexOf("_"),l=t.substring(0,a).split(",");t=t.substring(a+1),l[0]==i&&(r="",n&&n(!0)),t.length>0&&(e.down.outgoing(l[1]+","+i+"_"+r,s),o!=l[1]&&(o=l[1],e.up.incoming(t,s)))},outgoing:function(t,s,a){r=t,n=a,e.down.outgoing(o+","+ ++i+"_"+t,s)}}},y.stack.QueueBehavior=function(t){var e,n,s=[],a=!0,l="",d=0,c=!1,u=!1;function h(){if(t.remove&&0===s.length)return(o=e).up.down=o.down,o.down.up=o.up,void(o.up=o.down=null);var o;if(!a&&0!==s.length&&!n){a=!0;var r=s.shift();e.down.outgoing(r.data,r.origin,(function(t){a=!1,r.callback&&i((function(){r.callback(t)}),0),h()}))}}return e={init:function(){L(t)&&(t={}),t.maxLength&&(d=t.maxLength,u=!0),t.lazy?c=!0:e.down.init()},callback:function(t){a=!1;var n=e.up;h(),n.callback(t)},incoming:function(n,i){if(u){var r=n.indexOf("_"),s=parseInt(n.substring(0,r),10);l+=n.substring(r+1),0===s&&(t.encode&&(l=o(l)),e.up.incoming(l,i),l="")}else e.up.incoming(n,i)},outgoing:function(n,i,o){t.encode&&(n=r(n));var a,l=[];if(u){for(;0!==n.length;)a=n.substring(0,d),n=n.substring(a.length),l.push(a);for(;a=l.shift();)s.push({data:l.length+"_"+a,origin:i,callback:0===l.length?o:null})}else s.push({data:n,origin:i,callback:o});c?e.down.init():h()},destroy:function(){n=!0,e.down.destroy()}}},y.stack.VerifyBehavior=function(t){var e,n,i;function o(){n=Math.random().toString(16).substring(2),e.down.outgoing(n)}return e={incoming:function(r,s){var a=r.indexOf("_");-1===a?r===n?e.up.callback(!0):i||(i=r,t.initiate||o(),e.down.outgoing(r)):r.substring(0,a)===i&&e.up.incoming(r.substring(a+1),s)},outgoing:function(t,i,o){e.down.outgoing(n+"_"+t,i,o)},callback:function(e){t.initiate&&o()}}},y.stack.RpcBehavior=function(t,e){var n,i=e.serializer||q(),o=0,r={};function s(t){t.jsonrpc="2.0",n.down.outgoing(i.stringify(t))}function a(t,e){var n=Array.prototype.slice;return function(){var i,a=arguments.length,l={method:e};a>0&&"function"==typeof arguments[a-1]?(a>1&&"function"==typeof arguments[a-2]?(i={success:arguments[a-2],error:arguments[a-1]},l.params=n.call(arguments,0,a-2)):(i={success:arguments[a-1]},l.params=n.call(arguments,0,a-1)),r[""+ ++o]=i,l.id=o):l.params=n.call(arguments,0),t.namedParams&&1===l.params.length&&(l.params=l.params[0]),s(l)}}function l(e,n,i,o){if(i){var r,a,l;n?(r=function(t){r=p,s({id:n,result:t})},a=function(t,e){a=p;var i={id:n,error:{code:-32099,message:t}};e&&(i.error.data=e),s(i)}):r=a=p,l=o,"[object Array]"!==Object.prototype.toString.call(l)&&(o=[o]);try{var d=t.context||i.scope,c=i.method.apply(d,o.concat([r,a]));L(c)||r(c)}catch(t){a(t.message)}}else n&&s({id:n,error:{code:-32601,message:"Procedure not found."}})}return n={incoming:function(t,n){var o=i.parse(t);if(o.method)e.handle?e.handle(o,s):l(o.method,o.id,e.local[o.method],o.params);else{var a=r[o.id];o.error?a.error&&a.error(o.error):a.success&&a.success(o.result),delete r[o.id]}},init:function(){if(e.remote)for(var i in e.remote)e.remote.hasOwnProperty(i)&&(t[i]=a(e.remote[i],i));n.down.init()},destroy:function(){for(var i in e.remote)e.remote.hasOwnProperty(i)&&t.hasOwnProperty(i)&&delete t[i];n.down.destroy()}}},y}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);var f,b=n(1929);class g extends o.H3{static get is(){return"sb-popup"}static get properties(){return{url:String,messenger:Object,channel:{type:String,value:"sbQQ"},responseMessage:{type:Object,notify:!0},closePopup:{type:String,value:"sb-close-popup"},autoLaunched:{type:Boolean,value:!1},redirectOnCancelOrClose:{type:Boolean,value:!1,observer:"_appendLargeClass"},callBeforeOpen:Object}}ready(){super.ready(),window.easyXDM=p,this.addEventListener("sb-close-dialog",this.close.bind(this))}async open(){void 0!==this.callBeforeOpen&&await this.callBeforeOpen(),(0,a.T8)(this,this._open)}_open(){this._initRpc(),this._sendMessage(),this._handleAutoLaunch(),this.$.dialog.toggle()}close(){this._close(this._getRedirectDetails(!1))}_close(t){this.rpc&&this.rpc.destroy(),this.$.dialog.toggle();let e=this.$.dialog.shadowRoot.querySelector("#content").querySelector("#easyXDM_".concat(this.channel,"_provider")),n={redirect:t};e&&e.remove(),this.responseMessage&&(n.featureOptionIds=this.responseMessage.featureOptionIds,n.dynamicOptions=this.responseMessage.dynamicOptions,n.optionsToExtend=this.responseMessage.optionsToExtend),(0,l.BX)(l.zW.NAVIGATION_CHANGED),this.dispatchEvent((0,l.FU)(this.closePopup,n))}_initRpc(){this.url&&(this.rpc=new p.Rpc({remote:this.url,container:this.$.dialog.shadowRoot.querySelector("#content"),channel:this.channel},{remote:{postMessage:{}},local:{postMessage:this._receiveMessage.bind(this)}}))}_sendMessage(){let t={};this.messenger&&"function"==typeof this.messenger.getRequest&&(t=this.messenger.getRequest()),t.redirect=this._getRedirectDetails(this.autoLaunched),this.rpc.postMessage(JSON.stringify(t))}_handleAutoLaunch(){this.autoLaunched&&(0,l.BX)(l.zW.AUTO_LAUNCH_POPUP)}_receiveMessage(t){this._receiveMessageDebouncer=s.dx.debounce(this._receiveMessageDebouncer,r.Wc.after(100),(()=>{if(this.messenger&&"function"==typeof this.messenger.getResponse)if(t){let e=JSON.parse(t);this._logReceivedMessage(e),this.responseMessage=this.messenger.getResponse(e);let n=e.redirect?e.redirect:this._getRedirectDetails(this.autoLaunched);this._close(n)}else this.close();else this.close()}))}_logReceivedMessage(t){console.log("RPC Received Message:"),console.log(t)}_getRedirectDetails(t){const e={save:!!t};return b.I.isExternalConfiguratorNestedBundlesEnabled||(e.auto=this.redirectOnCancelOrClose||!!t),e}_appendLargeClass(){(0,d.og)("largeView",this.redirectOnCancelOrClose,this.$.dialog.shadowRoot.querySelector(".sbDialog"))}static get template(){return(0,o.dy)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\n\t\t<sb-dialog id="dialog" modal="true" hide-cancel-button="true" large-view-enabled="[[redirectOnCancelOrClose]]">\n\t\t\t<div slot="title" class="title"><sb-i18n>Popup</sb-i18n></div>\n\t\t\t<div slot="content" class="content"></div>\n\t\t</sb-dialog>\n\t\t'])),c)}}customElements.define(g.is,g)},9402:(t,e,n)=>{"use strict";var i,o=n(3910),r=n(1305);const s=(0,n(1510).f)(i||(a=["\n:host {\n  width: 100%;\n  background-color: var(--sbDrawerBgColor);\n  display: block;\n}\n:host .table {\n  padding: 10px 0px 10px 45px;\n}\n:host .table.listMode #firstDrawerColumn {\n  width: 100%;\n}\n:host .tr {\n  vertical-align: top;\n  display: flex;\n  position: relative;\n  color: var(--sbConfigAttrLabelColor);\n}\n:host .drawer {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n:host #drawerHeader {\n  padding: 10px 0px 10px 45px;\n}\n:host #drawerHeader #details {\n  font-size: 20px;\n  font-weight: bold;\n}\n"],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d;n(2667),n(5310);class c extends r.H3{static get is(){return"sb-row-drawer"}static get properties(){return{item:String,fieldNames:Array,richTextFields:Array,model:{type:Object,notify:!0},highlightOnFocus:{type:Boolean,value:!1},listMode:{type:Boolean,value:!1}}}static get observers(){return["_generateColumnsObserver(fieldNames, model, richTextFields)","_highlightOnFocusObserver(highlightOnFocus, item)"]}_generateColumnsObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.generateColumns(t,e,n)}generateColumns(){let t,e=[],n=[],i=[],o=this.fieldNames.length,r=this.fieldNames.slice(0);for(let t=0;t<o;t++)-1===this.richTextFields.indexOf(r[t])&&(this.listMode||t%3==0?e.push(r[t]):t%3==1?n.push(r[t]):i.push(r[t]));this.listMode?t=[this.richTextFields,e]:(this.columnWidth="drawer",t=[this.richTextFields,e,n,i]),this.setColumns(t)}setColumns(t){let e=[this.shadowRoot.querySelector("#rteColumn"),this.shadowRoot.querySelector("#firstColumn")];this.listMode||e.push(this.shadowRoot.querySelector("#secondColumn"),this.shadowRoot.querySelector("#thirdColumn"));for(let n=0;n<e.length;n++)t[n].length>0&&(e[n].destroyGroup(),e[n].model=this.model,e[n].itemClass="drawerCell",e[n].group=t[n])}_highlightOnFocusObserver(t,e){if(void 0!==t&&void 0!==e)return this._highlightOnFocus(t,e)}_highlightOnFocus(t,e){let n=["rteColumn","firstColumn"];this.listMode||n.push("secondColumn","thirdColumn"),this.signaler=new o.E(this,n,e),this.signaler.signalOnFocus("sb-row-focus-signal",!t)}_getGroupListClass(t){return this.listMode?"listMode":""}_getRTEGroupListClass(t){return this.listMode?"rteListMode":""}static get template(){return(0,r.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="drawerHeader">\n\t\t\t<div id="richTextFields">\n\t\t\t\t<sb-group id="rteColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getRTEGroupListClass(listMode)]]"></sb-group>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="table" class$="table [[_getGroupListClass(listMode)]]">\n\t\t\t<div class="tr">\n\t\t\t\t<div id="firstDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="firstColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getGroupListClass(listMode)]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div id="secondDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="secondColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div id="thirdDrawerColumn" class$="td [[columnWidth]]">\n\t\t\t\t\t<sb-group id="thirdColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),s)}}customElements.define(c.is,c)},8383:(t,e,n)=>{"use strict";var i,o=n(5775),r=n(1305),s=n(4166);const a=(0,n(1510).f)(i||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbNavigationDrawerBgColor);\n  color: var(--sbNavigationDrawerFontColor);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  border-top: var(--sb-side-panel-border-top, none);\n}\n:host header {\n  margin: 20px 20px 0 20px;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n}\n:host .offset {\n  left: 256px;\n  position: fixed;\n  visibility: visible;\n}\n:host .container {\n  width: 16px;\n  position: absolute;\n  height: 100%;\n  left: 256px;\n  cursor: pointer;\n  background-color: var(--sbNavigationDrawerHeaderColor);\n  color: var(--sbNavigationDrawerHeaderFontColor);\n  padding: 0 22px 0 2px;\n  font-size: 20px;\n}\n:host .container[class*='--mobile'] {\n  display: none !important;\n}\n:host [class*='--mobile'] .container {\n  display: none !important;\n}\n:host .closedArrows {\n  visibility: visible;\n}\n:host .panel-text {\n  transform: rotate(90deg);\n  text-align: center;\n  width: 20px;\n}\n:host .center {\n  position: relative;\n  top: 35%;\n}\n:host .top-caret {\n  position: relative;\n  top: 0px;\n}\n:host .bottom-caret {\n  position: relative;\n  top: 60px;\n}\n:host(#searchPanel) {\n  /** Commented out to maintain style parity with P1 */\n  color: var(--sbFilterDrawerFontColor);\n}\n"],d||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c;n(5677),n(5310),n(5969);class u extends((0,o.Q)(r.H3)){static get is(){return"sb-side-panel"}static get properties(){return{renderHeader:{type:Boolean,value:!0},icon:String,arrows:String,sideText:String,rightSideButton:Boolean}}static get observers(){return["setIcon(isOpen)"]}closeDrawer(){this.dispatchEvent((0,s.FU)("x-clicked"))}keyCheck(t){13==t.keyCode&&this.dispatchEvent((0,s.FU)("enter-keypress"))}toggleDrawer(){this.dispatchEvent((0,s.FU)("side-toggle-clicked"))}setIcon(){"open"===this.isOpen?this.icon="sf-icon-left":(this.icon="sf-icon-right",this.arrows="closedArrows")}static get template(){return(0,r.dy)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<span device>\n\t\t<template is="dom-if" if="[[rightSideButton]]">\n\t\t\t<div class$="[[arrows]] container" on-click="toggleDrawer">\n\t\t\t\t<div class="center">\n\t\t\t\t\t<i class$="[[icon]] top-caret"></i>\n\t\t\t\t\t<div class="panel-text">[[sideText]]</div>\n\t\t\t\t\t<i class$="[[icon]] bottom-caret"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<div id="panel" on-keypress="keyCheck">\n\t\t\t<template is="dom-if" if="[[renderHeader]]">\n\t\t\t\t<header>\n\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t<slot id="paneltitle" name="title"></slot>\n\t\t\t\t</header>\n\t\t\t</template>\n\n\t\t\t<div id="actions">\n\t\t\t\t<slot name="panel-actions"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t</span>\n\t'])),a)}}customElements.define(u.is,u)},5409:(t,e,n)=>{"use strict";var i,o=n(1305),r=n(3885),s=n(8042),a=n(8544),l=n(5775),d=n(5234);const c=(0,n(1510).f)(i||(u=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']) {\n  display: flex;\n  min-width: 200%;\n  -webkit-tap-highlight-color: transparent;\n  transform: translate3d(0, 0, 0);\n}\n:host([class*='--mobile']) {\n  display: flex;\n  min-width: 200%;\n  -webkit-tap-highlight-color: transparent;\n  transform: translate3d(0, 0, 0);\n}\n"],h||(h=u.slice(0)),i=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(h)}}))));var u,h,p,f=n(3345),b=n(1361),g=n(4166);class m extends((0,r._)((0,d.S)((0,l.Q)(o.H3)))){static get is(){return"sb-swipe-container"}static get properties(){return{disableSwipe:{type:Boolean,value:!1},preventSwipe:{type:Boolean,value:!1},isRequiredRowNotSelected:{type:Boolean,value:!1},groupExpanded:{type:Boolean,value:!1,observer:"_expansionChanged"},swipeHeader:Object,swipeMenu:Object,swipeItems:{type:Array,value:[]},swipeItemWidth:{type:Number,value:58},viewport:{type:Object,value:function(){return b._.getViewport()}},variant:String}}static get observers(){return["_preventSwipe(isRequiredRowNotSelected)"]}_preventSwipe(){this.preventSwipe=this.isRequiredRowNotSelected||this.groupExpanded}onGroupExpanded(t){this.groupExpanded=t.detail.expanded,this._preventSwipe()}connectedCallback(){if(super.connectedCallback(),this.addEventListener("expanded-changed",this.onGroupExpanded),this.listenedTrackEventNodes=[],!(this.viewport&&this.viewport.isMobile())||this.disableSwipe)return this.style.minWidth="100%",void(this.style.position="static");this.observeNode(this.$.content,(t=>{for(var e=0;e<t.addedNodes.length;e++)this._findSwipeHeaderAndMenu(t.addedNodes[e])}))}disconnectedCallback(){if(super.disconnectedCallback(),this.removeEventListener("expanded-changed",this.onGroupExpanded),this.listenedOnTrackHandler&&this.listenedTrackEventNodes)for(let t of this.listenedTrackEventNodes)(0,s.ys)(t,"track",this.listenedOnTrackHandler)}_expansionChanged(t){"ui3qle"===this.variant&&this._preventSwipe()}_findSwipeHeaderAndMenu(t){t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE&&("swipe-header"!==t.id||this._initSwipeHeader(t))}_initSwipeHeader(t){var e=(this.swipeHeader=t).style;if(this.viewport&&!this.viewport.isMobile())return e.maxWidth="100%",void(e.display="table");"ui3qle"!==this.variant&&(e.maxWidth="50%",e.position="relative"),this.listenedOnTrackHandler=this.listenedOnTrackHandler||this._onTrack.bind(this),(0,s.NH)(t,"track",this.listenedOnTrackHandler),this.listenedTrackEventNodes.push(t),(0,s.BP)(t,"pan-y")}_closeMenuWhenTapped(t,e){t.addEventListener("click",(function(){e._animate(100,1,e.swipeHeader)}))}_initSwipeMenu(t){if(t.style.maxWidth="50%",this._closeMenuWhenTapped(t,this),this.swipeItems&&this.swipeItems.length)for(var e=0;e<this.swipeItems.length;e++){var n=this.swipeItems[e];n.style.position="",n.style.width="0px"}this.swipeMenu=t;var i=[],o=[];(0,a.y)(),"SB-ACTIONS"===t.children[0].nodeName?((0,a.y)(),i=t.children[0].shadowRoot.children):"SB-CUSTOM-ACTION"===t.children[0].nodeName?i=t.shadowRoot.children:"SF-LINE-ACTIONS"===t.children[0].nodeName&&(i=t.children[0].shadowRoot.querySelector("div").children);for(var r=0,s=i.length;r<s;r++){var l=i[r];this._isValidSwipeMenuItem(l)&&o.push(l)}this.swipeItems=o;var d=this.swipeItemWidth*this.swipeItems.length;t.style.width=d+"px";for(var c=0,u=this.swipeItems.length;c<u;c++){let t=this.swipeItems[c];(0,f.og)("swipe-menu-item",!0,t);var h=(200-20*(u-1))*u;this.style.transition="transform "+h+"ms ease-out",this._setSwipeItemStyles(t.style,h,d)}}_setSwipeItemStyles(t,e,n){t.transition="transform "+e+"ms ease-out",t.webkitBackfaceVisibility="hidden",t.borderRadius=0,t.position="absolute",t.left=0,t.height="100%",t.width="57px"}_onTrack(t){if(!this.swipeMenu){var e=this.querySelector("#swipe-menu");e&&this._initSwipeMenu(e)}if(!this.preventSwipe&&this.swipeItems.length){var n=t.currentTarget,i=t.detail;"track"===i.state&&this._trackMove(i,n)}}_trackMove(t,e){this._animate(t.dx,t.dy,e)}_animate(t,e,n){var i=t>0?1:-1;if(-1===i&&Math.abs(e)<20&&t<-60){this.dispatchEvent((0,g.FU)("row-swiped",{isOpen:!0}));var o=parseFloat(getComputedStyle(this.swipeItems[0]).width),r=o.toPrecision(5)*this.swipeItems.length*i;this.style.transform="translate3d("+r+"px, 0, 0)",this.style.webkitBackfaceVisibility="hidden";for(var s=this.swipeItems.length-1;s>=0;s--){var a=s*o.toPrecision(5);this.swipeItems[s].style.width=o.toPrecision(5)+"px",this.swipeItems[s].style.transform="translate3d("+a+"px, 0, 0)"}}else if(1===i&&Math.abs(e)<20&&t>25){this.dispatchEvent((0,g.FU)("row-swiped",{isOpen:!1}));this.style.transform="translate3d(0%, 0, 0)",this.style.webkitBackfaceVisibility="hidden";for(s=0;s<this.swipeItems.length;s++){this.swipeItems[s].style.transform="translate3d(0%, 0, 0)"}}else;}_isValidSwipeMenuItem(t){if("ui3qle"===this.variant)return"button"===t.nodeName.toLowerCase();{let n=t?t.shadowRoot:null;if(("span"===t.nodeName.toLowerCase()||n&&n.querySelector("span"))&&!t.classList.contains("ignore-in-mobile")){if(n&&n.querySelector("span")){var e=n.querySelector("span");if(("removeFromFavBtn"===e.id||"addToFavBtn"===e.id)&&"none"===e.style.display)return!1}if(!t.classList.contains("visibilityHidden"))return!0;t.style.display="none"}}return!1}static get template(){return(0,o.dy)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\n\t\t<slot device id="content"></slot>\n\t\t'])),c)}}customElements.define(m.is,m)},8809:(t,e,n)=>{"use strict";var i,o,r,s=n(6208),a=n(5775),l=n(5234),d=n(1305),c=(n(5969),n(5813),n(2674),n(9713),n(8741),n(1733)),u=n(1440),h=n(1510),p=n(707);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,u.k)({_template:(0,h.d)(i||(o=['\x3c!--css-build:shadow--\x3e<style scope="paper-radio-button">:host {\n  display: inline-block;\n    line-height: 0;\n    white-space: nowrap;\n    cursor: pointer;\n    font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n    --calculated-paper-radio-button-size: var(--paper-radio-button-size, 16px);\n    --calculated-paper-radio-button-ink-size: var(--paper-radio-button-ink-size, -1px);\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n#radioContainer {\n  display: var(--layout-inline_-_display);\n    -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n align-items: var(--layout-center-center_-_align-items);\n -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n justify-content: var(--layout-center-center_-_justify-content);\n    position: relative;\n    width: var(--calculated-paper-radio-button-size);\n    height: var(--calculated-paper-radio-button-size);\n    vertical-align: middle;\n\n    ;\n}\n\n#ink {\n  position: absolute;\n    top: 50%;\n    left: 50%;\n    right: auto;\n    width: var(--calculated-paper-radio-button-ink-size);\n    height: var(--calculated-paper-radio-button-ink-size);\n    color: var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n    -webkit-transform: translate(-50%, -50%);\n    transform: translate(-50%, -50%);\n}\n\n#ink[checked] {\n  color: var(--paper-radio-button-checked-ink-color, var(--primary-color));\n}\n\n#offRadio, #onRadio {\n  position: absolute;\n    box-sizing: border-box;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n}\n\n#offRadio {\n  border: 2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-radio-button-unchecked-background-color, transparent);\n    transition: border-color 0.28s;\n}\n\n#onRadio {\n  background-color: var(--paper-radio-button-checked-color, var(--primary-color));\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    transition: -webkit-transform ease 0.28s;\n    transition: transform ease 0.28s;\n    will-change: transform;\n}\n\n:host([checked]) #offRadio {\n  border-color: var(--paper-radio-button-checked-color, var(--primary-color));\n}\n\n:host([checked]) #onRadio {\n  -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n}\n\n#radioLabel {\n  line-height: normal;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: var(--paper-radio-button-label-spacing, 10px);\n    white-space: normal;\n    color: var(--paper-radio-button-label-color, var(--primary-text-color));\n\n    ;\n}\n\n:host([checked]) #radioLabel {\n  ;\n}\n\n#radioLabel:dir(rtl), :host([dir="rtl"]) #radioLabel {\n  margin-left: 0;\n    margin-right: var(--paper-radio-button-label-spacing, 10px);\n}\n\n#radioLabel[hidden] {\n  display: none;\n}\n\n:host([disabled]) #offRadio {\n  border-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    opacity: 0.5;\n}\n\n:host([disabled][checked]) #onRadio {\n  background-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));\n    opacity: 0.5;\n}\n\n:host([disabled]) #radioLabel {\n  opacity: 0.65;\n}\n\n</style>\n\n<div id="radioContainer">\n  <div id="offRadio"></div>\n  <div id="onRadio"></div>\n</div>\n\n<div id="radioLabel"><slot></slot></div>'],r||(r=o.slice(0)),i=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}})))),is:"paper-radio-button",behaviors:[c.K],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){(0,p.T8)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var t=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),e=Math.floor(3*t);e%2!=t%2&&e++,this.updateStyles({"--paper-radio-button-ink-size":e+"px"})}}))}});var f;n(5310),n(6175);class b extends((0,l.S)((0,a.Q)(d.H3))){static get is(){return"sb-table-cell-select"}static get properties(){return{item:String,isRadio:{type:Boolean,computed:"_isRadio(item)"},value:{notify:!0},data:{type:Object,observer:"init"}}}init(){if(this._attached)return this._setDisabled(),void this._setHidden();this.observeNode(this.$.s,function(){this._setDisabled(),this._setHidden(),this._attached=!0}.bind(this))}_isRadio(){return"radio"===this.item}_setDisabled(){this.disabled=!(!this.data||!this.data.disabled)}_setHidden(){let t=!!this.data&&this.data.hidden,e=new s.u(t),n=this.shadowRoot.querySelector("#"+this.item);n&&e.applyTo(n)}static get template(){return(0,d.dy)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles"></style>\n\t\t<div id="s">\n\t\t\t<template is="dom-if" if="[[isRadio]]">\n\t\t\t\t<paper-radio-button device noink id="radio" checked="{{value}}" disabled="[[disabled]]"></paper-radio-button>\n\t\t\t</template>\n\t\t\t<template is="dom-if" if="[[!isRadio]]">\n\t\t\t\t<paper-checkbox device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]"></paper-checkbox>\n\t\t\t</template>\n\t\t</div>\n\t\t'])))}}customElements.define(b.is,b)},4298:(t,e,n)=>{"use strict";var i,o=n(4316),r=n(6208),s=n(1305);n(2596);const a=(0,n(1510).f)(i||(l=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n}\n:host :after {\n  content: attr(data-suffix);\n}\n:host(.primary) sb-field[class*='--mobile'] {\n  width: calc(100vw - 65px);\n}\n:host([class*='--mobile'] .primary) sb-field {\n  width: calc(100vw - 65px);\n}\n"],d||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}}))));var l,d,c;class u extends s.H3{static get is(){return"sb-table-cell"}static get properties(){return{item:String,disabled:Boolean,hide:Object,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null}}}static get observers(){return["_buildCellObserver(item, value, model, data)","setDisabled(data.disabled)","setRecordId(data.Id)","overrideWidth(data.fullWidthItem)","_dataChangedObserver(data, item)"]}_buildCellObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.buildCell(t,e,n,i)}buildCell(){if(this.setDisabled(),this.setHidden(),this.setRecordId(),this.setSuffix(),this.model&&this.model[this.item]&&this.model[this.item].type)return void this.setFieldMetadataFromModel();this.md=this.md||{type:"string"}}setDisabled(){this.disabled=!(!this.data||!this.data.disabled)}setHidden(){let t=!!this.data&&this.data.hidden;this.hide=new r.u(t).hide}setRecordId(){this.recordId=this.data?this.data.Id:null}setSuffix(){this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"suffix"])?this.suffix=this.get(["data","_transient_",this.item,"suffix"]):this.suffix=void 0}overrideWidth(){this.data&&this.data.fullWidthItem&&this.classList.contains(this.data.fullWidthItem)?this.style.width="100%":"100%"==this.style.width&&(this.style.width=null)}setFieldMetadataFromModel(){let t=this.model[this.item];this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"md"])&&(t=this.get(["data","_transient_",this.item,"md"])),this.$.field.link=!!t.link,this.$.field.readOnly=!0,this.md=t}_dataChangedObserver(t,e){if(void 0!==t&&void 0!==e)return this.dataChanged(t,e)}dataChanged(){let t=new o.Z(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName(),this.$.field.value="",this.$.field.value=this.value)}static get template(){return(0,s.dy)(c||(c=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div class="container">\n\t\t\t<sb-field\n\t\t\t\t\tid="field"\n\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\tdisabled="[[data.disabled]]"\n\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t\tmd="[[md]]"\n\t\t\t\t\trecord-id="[[recordId]]"\n\t\t\t\t\tref-display="[[display]]"\n\t\t\t\t\thidden="[[hide]]"\n\t\t\t\t\trecord="[[data]]"\n\t\t\t\t\tdata-suffix$="[[suffix]]"\n\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t></sb-field>\n\t\t</div>\n\t'])),a)}}customElements.define(u.is,u)},1609:(t,e,n)=>{"use strict";var i,o=n(1361),r=n(6208),s=n(4166),a=n(5775),l=n(1019),d=n(707),c=n(3345),u=n(1305);const h=(0,n(1510).f)(i||(p=["\n:host {\n  display: table-row-group;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n}\n:host .th {\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n}\n:host #table-header {\n  display: table;\n}\n:host .hidden {\n  display: none;\n}\n:host p {\n  text-transform: none;\n}\n:host #drawerPlaceHolder {\n  min-width: 40px;\n  max-width: 40px;\n}\n"],f||(f=p.slice(0)),i=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));var p,f,b;n(5969),n(6733),n(5813),n(9566),n(2667),n(8737),n(8809);class g extends((0,a.Q)((0,l.U)(u.H3))){static get is(){return"sb-table-header"}static get properties(){return{cols:Array,selectable:Boolean,selectionType:{type:String,value:"checkbox"},selected:{type:Boolean,value:!1,notify:!0},selectionDisabled:{type:Boolean,value:!1},selectionTooltip:String,headerClassMap:{type:Object,value:{}},columnWidths:{type:Object,value:null},viewport:{type:Object,value:function(){return o._.getViewport()}},headerActions:Array,hideHiddenSelectable:{type:Boolean,value:!1}}}get events(){let t={};return t[s.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}ready(){super.ready(),this.isMobile=this._isMobileViewport()}static get observers(){return["_buildLabelsObserver(cols, headerClassMap, columnWidths)","_setSelectableObserver(selectable, selectionType)","_setSelectedObserver(selected, selectable, selectionType)"]}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}viewportChanged(t){this.viewport=t.detail.viewport}setIsMobile(t){if(t)return t.isMobile()}viewportChanged(t){this.viewport=t.detail.viewport}_buildLabelsObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildLabels(t,e,n)}buildLabels(){var t={},e=[];let n=0;this.cols.forEach((function(i){i&&(e.push(n),t[n++]=i)})),this.$.header.data=void 0,this.$.header.itemClassMap=this.headerClassMap,this.$.header.columnWidths=this.columnWidths,this.$.header.group||(this.$.header.group=e),this.$.header.data=t}_setSelectableObserver(t,e){if(void 0!==t&&void 0!==e)return this.setSelectable(t,e)}setSelectable(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,(0,d.T8)(this,this.registerSelectionChangedHandler.bind(this))))}registerSelectionChangedHandler(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}selectionChangedHandler(t){"template"!==t.composedPath()[0].nodeName.toLowerCase()&&(this.internal=!0,this.selected=void 0!==t.detail.value[this.selectionType]?t.detail.value[this.selectionType]:t.detail.value,this.internal=!1,this.dispatchEvent((0,s.FU)("header-selection-changed",{selected:this.selected})))}_setSelectedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setSelected(t,e,n)}setSelected(){if(this.internal)return;let t="radio"===this.selectionType?"radio":"checkbox";this.$.selection.group||(this.$.selection.group=[t]);let e={disabled:this.selectionDisabled},n=this.selected;e[t]=n;let i=new r.u(!this.selectable).hide;i.type="invisible",e.hidden=i,this.$.selection.data=e;let o=!!this.hideHiddenSelectable&&!this.selectable;(0,c.og)("hidden",o,this.$.selection)}_showHeaderActions(t){if(!this.headerActions||0===this.headerActions.length)return!1;for(let e=0,n=this.headerActions.length;e<n;e++)if(this.headerActions[e].position==t&&!this.headerActions[e].hidden)return!0;return!1}static get template(){return(0,u.dy)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="table-header" device>\n\t\t<sb-group id="selection" item="sb-table-cell-select" class="th hidden"></sb-group>\n\t\t<template is="dom-if" if="[[selectionTooltip]]">\n\t\t\t<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">\n\t\t\t\t<p>[[selectionTooltip]]</p>\n\t\t\t</paper-tooltip>\n\t\t</template>\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t<template is="dom-if" if="[[_showHeaderActions(\'left\', headerActions.*)]]">\n\t\t\t\t<div class="th">\n\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\tselected="[[selected]]"\n\t\t\t\t\t\t\tposition="left"\n\t\t\t\t\t\t\trow-actions="[[headerActions]]"\n\t\t\t\t\t></sb-actions>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t\t<div id="headerRow" class="th">\n\t\t\t<sb-group\n\t\t\t\t\tid="header"\n\t\t\t\t\titem="sb-div"\n\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\titem-class="innerTh"\n\t\t\t></sb-group>\n\t\t</div>\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t<template is="dom-if" if="[[_showHeaderActions(\'right\', headerActions.*)]]">\n\t\t\t\t<div class="th">\n\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\tselected="[[selected]]"\n\t\t\t\t\t\t\tposition="right"\n\t\t\t\t\t\t\trow-actions="[[headerActions]]"\n\t\t\t\t\t></sb-actions>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t\t\t<template is="dom-if" if="[[hasPlaceholder]]">\n\t\t\t\t<div id="drawerPlaceHolder" class="th"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),h)}}customElements.define(g.is,g)},9294:(t,e,n)=>{"use strict";var i,o=n(1361),r=n(6208),s=n(3910),a=n(4166),l=n(5775),d=n(1019),c=n(2576),u=n(707),h=n(3345),p=n(1305);const f=(0,n(1510).f)(i||(b=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sb-table-row-text-decoration);\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n  display: table-row-group;\n}\n:host #swipe-header {\n  display: table;\n}\n:host #rowDiv.droppableTopBorder {\n  border-top: 4.5px solid #005fb2;\n}\n:host #rowDiv.droppableBottomBorder {\n  border-bottom: 4.5px solid #005fb2;\n}\n:host([class*='--mobile']) {\n  display: table-row;\n}\n:host #swipe-menu[class*='--mobile'] {\n  position: relative;\n}\n:host([class*='--mobile']) {\n  display: table-row;\n}\n:host [class*='--mobile'] #swipe-menu {\n  position: relative;\n}\n:host .actionsContainer {\n  display: table-cell;\n}\n:host .configurationRequired {\n  background-color: #C00;\n  width: 5px;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n:host .configurationRequired[class*='--mobile'] {\n  height: 53px;\n}\n:host [class*='--mobile'] .configurationRequired {\n  height: 53px;\n}\n:host .left {\n  left: -28px;\n}\n:host #selectionContainer {\n  position: relative;\n}\n:host #drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n:host #drawerIcon:hover {\n  cursor: pointer;\n}\n:host .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n:host #drawerPlaceHolder {\n  min-width: 40px;\n  max-width: 40px;\n}\n.zone {\n  z-index: 1;\n}\n"],g||(g=b.slice(0)),i=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(g)}}))));var b,g,m;n(5969),n(8228),n(6733),n(9566),n(2667),n(5409),n(8809),n(5310),n(6175),n(5677),n(4561);class y extends((0,c.J)((0,l.Q)((0,d.U)(p.H3)))){static get is(){return"sb-table-row"}static get properties(){return{cell:String,cols:Array,colsDisplay:Object,rowActions:Array,routeSource:String,rowData:{type:Object,notify:!0},model:{type:Object,value:null},requiresModel:{type:Boolean,value:!1},selectable:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,notify:!0},selectionType:{type:String,value:"checkbox"},disabledData:{type:Object,value:{disabled:!1,constrained:!1}},selectionIdDataPath:{type:String,value:"Id"},parentIdDataPath:{type:String,value:"Parent"},parentAttributesPath:String,primaryMobileCols:{type:Array,value:[]},repeatPrimaryMobileCols:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return o._.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"setIsMobile(viewport)"},actionId:{type:String,computed:"setActionId(isMobile)"},grouper:String,grouperExpanded:Boolean,groupie:String,ignoreViewportChange:Boolean,rowClassMap:{type:Object,value:{}},editFirstWhenSelected:{type:String,value:""},index:{type:Number,reflectToAttribute:!0},disableSwipe:{type:Boolean,value:!1},expanded:{type:Boolean,value:!1,observer:"_broadcastMobileExpanded"},expandDisabled:{type:Boolean,value:!1},rowSwiped:{type:Boolean,value:!1},hideSelection:{type:Object,value:null},selectionClass:{type:String,value:null},leftClass:{type:String,value:"",computed:"setLeftClass(routeSource, rowData, selected)"},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},deferGrouping:{type:Boolean,value:!1},selectionOnLoad:{type:Boolean,value:!1},columnWidths:{type:Object,value:null},forceColumnWidths:{type:Boolean,value:!1},mobileExpandedDetails:{type:Object,value:null,observer:"expandMobileRow"},mobileSelectedDetails:{type:Object,value:null,observer:"selectMobileRow"},disableSelectionTabFocus:{type:Boolean,value:!1},disableAllFields:Boolean,hasTogglePlaceholder:Boolean,hasToggle:Boolean,togglePlaceholder:{type:Boolean,computed:"_hasTogglePlaceholder(hasTogglePlaceholder, hasToggle)"},noDataPropagation:Boolean,pathPrefix:String}}ready(){super.ready(),Object.entries({"row-swiped":"onRowSwiped"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])}))}get events(){let t={};return t[a.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_buildRowObserver(cell, cols, colsDisplay, rowData, model, primaryMobileCols, repeatPrimaryMobileCols, requiresModel, rowClassMap, columnWidths)","_setSelectableObserver(selectable, selectionOnLoad)","_setSelectedObserver(selected, selectable, selectionType, rowActions, routeSource, disabledData, hideSelection, selectionClass)","_setGrouperObserver(rowData, grouper)","_setGrouperClassesObserver(grouperExpanded, rowData, grouper)","_disableAllTableFieldsObserver(rowData.record, disableAllFields)"]}onRowSwiped(t){this.rowSwiped=t.detail.isOpen}setIsMobile(t){if(t)return t.isMobile()}setActionId(t){return t?"swipe-menu":""}_buildRowObserver(t,e,n,i,o,r,s,a,l,d){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==s&&void 0!==a&&void 0!==l&&void 0!==d)return this.buildRow(t,e,n,i,o,r,s,a,l,d)}buildRow(){this.requiresModel&&!this.model||(this.$.row.item=void 0,this.$.row.groupDisplay=void 0,this.setPrimaryMobileColumnsIfMobileViewport(),this.setFullWidthIfGroupRow(),this.$.row.columnWidths=this.forceColumnWidths?this._cloneColumnWidths():this.columnWidths,this.$.row.itemClassMap=this.rowClassMap,this.$.row.groupDisplay=this.colsDisplay,this.$.row.group||(this.$.row.group=this.cols),this.$.row.item=this.cell)}_setSelectableObserver(t,e){if(void 0!==t&&void 0!==e)return this.setSelectable(t,e)}setSelectable(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,this.selectionOnLoad?this.registerSelectionChangedHandler():(0,u.T8)(this,this.registerSelectionChangedHandler.bind(this))))}registerSelectionChangedHandler(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}selectionChangedHandler(t){if(t.composedPath()&&t.composedPath()[0]&&"template"===t.composedPath()[0].nodeName.toLowerCase())return;let e=this.selected;this.internal=!0,this.selected=void 0!==t.detail.value[this.selectionType]?t.detail.value[this.selectionType]:t.detail.value,this.$.row.selected=this.selected,this.$.row.dispatchEvent((0,a.FU)("group-selected",{selected:this.selected})),this.internal=!1;let n=e!==this.selected,i="data.checkbox"===t.detail.path||"data.radio"==t.detail.path;this.editFirstWhenSelected&&this.selected&&n&&this.editFirst(),this.selectionOnLoad&&this._selectedChangeByParent?(0,u.T8)(this,this.fireSetSelectionEvent.bind(this,n,i)):this.fireSetSelectionEvent(n,i)}_disableAllTableFieldsObserver(t,e){if(void 0!==t&&void 0!==e)return this.disableAllTableFields(t,e)}disableAllTableFields(t,e){if(!e||!t)return;const n={};Object.keys(t).map((t=>n["record."+t]=!1)),this.$.row.itemEditableMap=n}editFirst(){let t=this.$.row.shadowRoot.querySelector(this.cell).shadowRoot.querySelector(this.editFirstWhenSelected);t&&"function"==typeof t.edit&&t.edit()}fireSetSelectionEvent(t,e){this.dispatchEvent((0,a.FU)("selection-changed",{selected:this.selected,selectionType:this.selectionType,Id:this.get("rowData."+this.selectionIdDataPath),bundleId:this.get("rowData."+this.parentIdDataPath),attributes:void 0===this.parentAttributesPath?void 0:this.get("rowData."+this.parentAttributesPath),group:this.grouper,changed:t,path:e,index:this.index,rowData:this.rowData,autoSelectGroupRows:!this._selectedChangeByParent}))}_setSelectedObserver(t,e,n,i,o,r,s,a){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==s&&void 0!==a)return this.setSelected(t,e,n,i,o,r,s,a)}setSelected(){this.selectable&&!this.internal&&(this._selectedChangeByParent=!0,this._setSelected(this.selected),this._selectedChangeByParent=!1)}_setSelected(t){this.disabledData.constrained&&!0===t&&(this.internal=!0,this.$.row.dispatchEvent((0,a.FU)("group-selected",{selected:!1})),t=!1,this.internal=!1);let e=new r.u("Configurator"===this.routeSource&&this.hasDeleteAction()).hide;if(null!=this.hideSelection){let t=new r.u(this.hideSelection).hide;(0,h.l7)(e,t)}this.disableSelectionTabFocus&&(this.$.selection.tabIndex="-1"),this.selectionData={hidden:e},this.selectionData[this.selectionType]=t,this.selectionData.disabled=this.disabledData.disabled||this.disabledData.constrained,this.$.selection.data=this.selectionData,void 0===this.$.selection.group&&(this.$.selection.group=[this.selectionType]),(0,h.og)("td",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selectionContainer),(0,h.og)("innerTd",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selection),(0,h.og)("selection",this.selectable&&!e.hidden||"invisible"===e.type,this.$.selection),this.selectionClass&&(0,h.og)(this.selectionClass,!0,this.$.selection)}select(t){if(void 0!==this.selectionData&&!0===this.selectionData.disabled)return;let e=t.composedPath()[0];"sb-group"===(e&&e.tagName?e.tagName.toLowerCase():"")&&this._setSelected(!this.selected),this._broadcastGroupSelected(this.selected),this._broadcastMobileSelected()}_broadcastGroupSelected(t){this._groupSelected=t,this.$.row.dispatchEvent((0,a.FU)("group-selected",{selected:t,selectionDisabled:this.selectionDisabled,tableRow:this}))}expand(t){this.expandDisabled||this.rowSwiped||(this.expandPath=t.detail&&t.detail.preventer?t.detail.preventer.composedPath():t.composedPath(),this.$.row.dispatchEvent((0,a.FU)("group-expanded",{path:this.expandPath})))}setPrimaryMobileColumnsIfMobileViewport(){this.$.row.numPrimary=this.primaryMobileCols.length,this.$.row.primaryItems=this.isMobileViewport()?this.primaryMobileCols:null,this.$.row.includePrimaryInSecondary=!!this.isMobileViewport()&&this.repeatPrimaryMobileCols}expandMobileRow(){this.isMobileViewport()&&this.mobileExpandedDetails&&this.mobileExpandedDetails.expanded!==this.expanded&&(this.internalExpand=!0,this.$.row.dispatchEvent((0,a.FU)("group-expanded",{path:this.mobileExpandedDetails.path})),this.internalExpand=!1)}selectMobileRow(){if(!this.isMobileViewport())return;if(!this.mobileSelectedDetails)return;let t=this.mobileSelectedDetails.selected;t===this.selected&&t===this._groupSelected||this._broadcastGroupSelected(t)}viewportChanged(t){this.viewport=t.detail.viewport,this.ignoreViewportChange||this.setPrimaryMobileColumnsIfMobileViewport()}_setGrouperObserver(t,e){if(void 0!==t&&void 0!==e)return this.setGrouper(t,e)}setGrouper(){let t=!this.isMobileViewport()&&!!this.grouper;(0,h.og)("groupTr",t,this),(0,h.og)("groupTd",t,this.$.row),(0,h.og)("groupExpandTd",t,this.$.rowDiv),this.setGrouperToggle(t)}setGrouperToggle(t){this._toggleGroupHandler=this._toggleGroupHandler||this.toggleGroupEventHandler.bind(this),this.$.rowDiv.removeEventListener("click",this._toggleGroupHandler),t&&this.$.rowDiv.addEventListener("click",this._toggleGroupHandler)}toggleGroupEventHandler(t){(0,h.og)("expanded",null,this.$.row),(0,h.og)("expanded",null,this),this.dispatchEvent((0,a.FU)("sb-row-group-tapped",{group:this.grouper}))}_setGrouperClassesObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setGrouperClasses(t,e,n)}setGrouperClasses(t){(0,h.og)("expanded",t,this.$.row),(0,h.og)("expanded",t,this)}toggleRowDrawer(){this.set("rowData._transient_.optionDrawerExpanded",!this.rowData._transient_.optionDrawerExpanded),this.set("rowData._transient_.drawerIconClass",this.rowData._transient_.optionDrawerExpanded?"sf-icon-chevrondown":"sf-icon-chevronright")}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}displayRowActions(t){if(!t)return!0;if(!this.rowActions||0===this.rowActions.length)return!1;for(let e=0,n=this.rowActions.length;e<n;e++)if(this.rowActions[e].position==t&&!this.rowActions[e].hidden)return!0;return!1}hasDeleteAction(){for(let t of this.rowActions)return"Delete"===t.title}setFullWidthIfGroupRow(){this._isGrouperRow()&&(this.rowData.fullWidthItem="firstInnerTd")}_configurationRequired(){return!("Configurator"!==this.routeSource||!this.rowData.configurationRequired||!this.selected||this.rowData.configured)}setLeftClass(){if(void 0!==this.rowData)return this._configurationRequired()&&!this.rowData.added?"left":void 0}_hasTogglePlaceholder(){return this.hasTogglePlaceholder&&!this.hasToggle}_highlightRowOnFocus(){this.signaler=this.signaler||new s.E(this,"row",this.cell,"swipe-header"),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}_isGrouperRow(){return!this.isMobileViewport()&&!!this.grouper}_cloneColumnWidths(){if(!this.columnWidths)return null;if(!this._isGrouperRow())return JSON.parse(JSON.stringify(this.columnWidths));if(null!=this.columnWidths[this.cols[0]]){let t=JSON.parse(JSON.stringify(this.columnWidths)),e=t[this.cols[0]];return e.width=100,e.unit="%",t}return null}_broadcastMobileExpanded(){!this.internalExpand&&(0,h.GC)(this)&&this.isMobileViewport()&&this.expandPath&&this.dispatchEvent((0,a.FU)("sb-mobile-row-expanded",{expanded:this.expanded,path:[].concat(this.expandPath),index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}_broadcastMobileSelected(){(0,h.GC)(this)&&this.isMobileViewport()&&this.dispatchEvent((0,a.FU)("sb-mobile-row-selected",{selected:this.selected,index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}notify(t){if(this.rowData)for(let e of t){let t=this.get("rowData."+e);this.notifyPath("rowData.".concat(e),t,!0)}}static get template(){return(0,p.dy)(m||(m=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-tables-styles sb-icons-styles"></style>\n\n\t\t<sb-swipe-container device disable-swipe=[[disableSwipe]] is-required-row-not-selected="[[!optionSelected]]">\n\t\t\t<div id="swipe-header">\n\t\t\t\t<div id="selectionContainer">\n\t\t\t\t\t<sb-group id="selection" item="sb-table-cell-select" on-click="select"></sb-group>\n\t\t\t\t\t<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[rowData.constraintMessage]]" as="messageLine">\n\t\t\t\t\t\t\t<p>[[messageLine]]</p>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[displayRowActions(\'left\', rowActions.*)]]">\n\t\t\t\t\t\t\t<div id$="[[actionId]]" class="td" style="position:relative;">\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">\n\t\t\t\t\t\t\t\t\t<span class$="[[leftClass]] configurationRequired"></span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\t\t\tposition="left"\n\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t<div id="rowDiv" class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="row"\n\t\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\t\tdata="{{rowData}}"\n\t\t\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\t\t\titem-class="innerTd"\n\t\t\t\t\t\t\ton-click="expand"\n\t\t\t\t\t\t\tpath-prefix="[[pathPrefix]]"\n\t\t\t\t\t\t\tdisabled="[[disabled]]"\n\t\t\t\t\t\t\tsignaler="[[signaler]]"\n\t\t\t\t\t\t\tno-data-propagation="[[noDataPropagation]]"\n\t\t\t\t\t\t\titem-editable-map="[[itemEditableMap]]"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[displayRowActions(\'right\', rowActions.*)]]">\n\t\t\t\t\t\t<div id$="[[actionId]]" class="td">\n\t\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\t\tposition="right"\n\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[hasToggle]]">\n\t\t\t\t\t<div id="drawerIcon" class="td" on-click="toggleRowDrawer">\n\t\t\t\t\t\t<span class$="[[rowData._transient_.drawerIconClass]]" index="[[index]]"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[togglePlaceholder]]">\n\t\t\t\t\t<div id="drawerPlaceHolder" class="td"></div>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">\n\t\t\t\t\t<span class="configurationRequired "></span>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[displayRowActions()]]">\n\t\t\t\t\t<div id$="[[actionId]]">\n\t\t\t\t\t\t<sb-actions\n\t\t\t\t\t\t\t\tdata="[[rowData]]"\n\t\t\t\t\t\t\t\trow-actions="[[rowActions]]"\n\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t></sb-actions>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</sb-swipe-container>\n\t\t'])),f)}}customElements.define(y.is,y)},2430:(t,e,n)=>{"use strict";var i,o,r,s=n(1361),a=n(4166),l=n(5775),d=n(1019),c=n(2576),u=n(5234),h=n(8544),p=n(3345),f=n(1305),b=n(7134),g=(n(5969),n(1370),n(8228),n(6733),n(2674)),m=(n(8741),n(8374),n(5141)),y=n(1440),v=n(7593),_=n(1510);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({_template:(0,_.d)(i||(o=["\n    <style>\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n\n        vertical-align: middle;\n\n        fill: var(--iron-icon-fill-color, currentcolor);\n        stroke: var(--iron-icon-stroke-color, none);\n\n        width: var(--iron-icon-width, 24px);\n        height: var(--iron-icon-height, 24px);\n        @apply --iron-icon;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n"],r||(r=o.slice(0)),i=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}})))),is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:g.XY.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var e=(t||"").split(":");this._iconName=e.pop(),this._iconsetName=e.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(t){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&(0,v.vz)(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,(0,v.vz)(this.root).appendChild(this._img))}});n(3536);var w,x=n(7430);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({is:"paper-icon-button",_template:(0,_.d)(w||(w=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /*\n          NOTE: Both values are needed, since some phones require the value to\n          be `transparent`.\n        */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]"\n               alt$="[[alt]]"></iron-icon>\n  '],['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: pointer;\n        z-index: 0;\n        line-height: 1;\n\n        width: 40px;\n        height: 40px;\n\n        /*\n          NOTE: Both values are needed, since some phones require the value to\n          be \\`transparent\\`.\n        */\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        /* Because of polymer/2558, this style has lower specificity than * */\n        box-sizing: border-box !important;\n\n        @apply --paper-icon-button;\n      }\n\n      :host #ink {\n        color: var(--paper-icon-button-ink-color, var(--primary-text-color));\n        opacity: 0.6;\n      }\n\n      :host([disabled]) {\n        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));\n        pointer-events: none;\n        cursor: auto;\n\n        @apply --paper-icon-button-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:hover) {\n        @apply --paper-icon-button-hover;\n      }\n\n      iron-icon {\n        --iron-icon-width: 100%;\n        --iron-icon-height: 100%;\n      }\n    </style>\n\n    <iron-icon id="icon" src="[[src]]" icon="[[icon]]"\n               alt$="[[alt]]"></iron-icon>\n  ']))),hostAttributes:{role:"button",tabindex:"0"},behaviors:[x.B],registered:function(){this._template.setAttribute("strip-whitespace","")},properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(t,e){var n=this.getAttribute("aria-label");n&&e!=n||this.setAttribute("aria-label",t)}});var C;n(5021);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new m.P({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map((function(t){return this.name+":"+t}),this)},applyIcon:function(t,e){this.removeIcon(t);var n=this._cloneIcon(e,this.rtlMirroring&&this._targetIsRTL(t));if(n){var i=(0,v.vz)(t.root||t);return i.insertBefore(n,i.childNodes[0]),t._svgIcon=n}return null},removeIcon:function(t){t._svgIcon&&((0,v.vz)(t.root||t).removeChild(t._svgIcon),t._svgIcon=null)},_targetIsRTL:function(t){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var e=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===e.getAttribute("dir")}else t&&t.nodeType!==Node.ELEMENT_NODE&&(t=t.host),this.__targetIsRTL=t&&"rtl"===window.getComputedStyle(t).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async((function(){this.fire("iron-iconset-added",this,{node:window})}))},_createIconMap:function(){var t=Object.create(null);return(0,v.vz)(this).querySelectorAll("[id]").forEach((function(e){t[e.id]=e})),t},_cloneIcon:function(t,e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[t],this.size,e)},_prepareSvgClone:function(t,e,n){if(t){var i=t.cloneNode(!0),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=i.getAttribute("viewBox")||"0 0 "+e+" "+e,s="pointer-events: none; display: block; width: 100%; height: 100%;";return n&&i.hasAttribute("mirror-in-rtl")&&(s+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"),o.setAttribute("viewBox",r),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),o.style.cssText=s,o.appendChild(i).removeAttribute("id"),o}return null}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const k=(0,_.d)(C||(C=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<iron-iconset-svg name="paper-tabs" size="24">\n<svg><defs>\n<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>\n<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>\n</defs></svg>\n</iron-iconset-svg>'])));document.head.appendChild(k.content);var S,O=n(6717),I=n(8518),E=n(9360);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({_template:(0,_.d)(S||(S=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-tab">:host {\n  display: var(--layout-inline_-_display);\n        -ms-flex-align: var(--layout-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center_-_-webkit-align-items);\n align-items: var(--layout-center_-_align-items);\n        -ms-flex-pack: var(--layout-center-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-justified_-_-webkit-justify-content);\n justify-content: var(--layout-center-justified_-_justify-content);\n        -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n\n        position: relative;\n        padding: 0 12px;\n        overflow: hidden;\n        cursor: pointer;\n        vertical-align: middle;\n\n        font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n        ;\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n:host([link]) {\n  padding: 0;\n}\n\n.tab-content {\n  height: var(--paper-tab-content-height, 100%);\n  transform: translateZ(0);\n  -webkit-transform: translateZ(0);\n  transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);\n  display: var(--paper-tab-content-display, var(--layout-horizontal_-_display));\n \t-ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n \t-webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n \tflex-direction: var(--layout-horizontal_-_flex-direction);\n \t-ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n \t-webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n \talign-items: var(--layout-center-center_-_align-items);\n \t-ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n \t-webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n \tjustify-content: var(--layout-center-center_-_justify-content);\n \t-ms-flex: var(--layout-flex-auto_-_-ms-flex);\n \t-webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n \tflex: var(--layout-flex-auto_-_flex);\n\n\t/** CPQ Styling Properties */\n  overflow: var(--paper-tab-content-overflow);\n\ttext-overflow: var(--paper-tab-content-text-overflow);\n\twhite-space: var(--paper-tab-content-white-space);\n\ttext-decoration: var(--paper-tab-content-text-decoration);\n\tcursor: var(--paper-tab-content-cursor);\n\tline-height: var(--paper-tab-content-line-height);\n\tfont-family: var(--paper-tab-content-font-family);\n}\n\n:host(:not(.iron-selected)) > .tab-content {\n  opacity: 0.8;\n\n        ;\n}\n\n:host(:focus) .tab-content {\n  opacity: 1;\n\n\t/** CPQ Specific Style */\n  font-weight: var(--paper-tab-content-focused-font-weight, 700);\n}\n\npaper-ripple {\n  color: var(--paper-tab-ink, var(--paper-yellow-a100));\n}\n\n.tab-content > ::slotted(a) {\n  -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n\n        height: 100%;\n}\n\n</style>\n\n    <div class="tab-content">\n      <slot></slot>\n    </div>\n']))),is:"paper-tab",behaviors:[I.a,O.P,E.o],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var t=(0,v.vz)(this).parentNode;return!!t&&!!t.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(t){if(this.link){var e=this.queryEffectiveChildren("a");if(!e)return;if(t.target===e)return;e.click()}}});var T=n(5374);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const M={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this.focusedItem.click(),t.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(t){this._isRTL?this._focusNext():this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onRightKey:function(t){this._isRTL?this._focusPrevious():this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down left right esc")||this._focusWithKeyboardEvent(t)}},B=[T.i,M];var P,D=n(3398);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({_template:(0,_.d)(P||(P=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-tabs">:host {\n  display: var(--layout_-_display);\n        -ms-flex-align: var(--layout-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center_-_-webkit-align-items);\n align-items: var(--layout-center_-_align-items);\n\n        height: 48px;\n        font-size: 14px;\n        font-weight: 500;\n        overflow: hidden;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n\n        \n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-tap-highlight-color: transparent;\n\n        ;\n}\n\n:host(:dir(rtl)), :host([dir="rtl"]) {\n  display: var(--layout-horizontal-reverse_-_display);\n -ms-flex-direction: var(--layout-horizontal-reverse_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal-reverse_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal-reverse_-_flex-direction);\n}\n\n#tabsContainer {\n  position: relative;\n        height: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        -ms-flex: var(--layout-flex-auto_-_-ms-flex);\n -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);\n flex: var(--layout-flex-auto_-_flex);\n        ;\n}\n\n#tabsContent {\n  height: 100%;\n        -moz-flex-basis: auto;\n        -ms-flex-basis: auto;\n        flex-basis: auto;\n        ;\n}\n\n#tabsContent.scrollable {\n  position: absolute;\n        white-space: nowrap;\n}\n\n#tabsContent:not(.scrollable), #tabsContent.scrollable.fit-container {\n  display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n}\n\n#tabsContent.scrollable.fit-container {\n  min-width: 100%;\n}\n\n#tabsContent.scrollable.fit-container > ::slotted(*) {\n  -ms-flex: 1 0 auto;\n        -webkit-flex: 1 0 auto;\n        flex: 1 0 auto;\n}\n\n.hidden {\n  display: none;\n}\n\n.not-visible {\n  opacity: 0;\n        cursor: default;\n}\n\npaper-icon-button {\n  width: 48px;\n        height: 48px;\n        padding: 12px;\n        margin: 0 4px;\n}\n\n#selectionBar {\n  position: absolute;\n  height: var(--paper-tabs-selection-bar-height, 0);\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-bottom: var(--paper-tabs-selection-bar-border-bottom, 2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100)));\n    -webkit-transform: scale(0);\n  transform: scale(0);\n    -webkit-transform-origin: left center;\n  transform-origin: left center;\n    transition: -webkit-transform;\n  transition: transform;\n}\n\n#selectionBar.align-bottom {\n  top: 0;\n        bottom: auto;\n}\n\n#selectionBar.expand {\n  transition-duration: 0.15s;\n        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n}\n\n#selectionBar.contract {\n  transition-duration: 0.18s;\n        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n#tabsContent > ::slotted(:not(#selectionBar)) {\n  height: 100%;\n}\n\n</style>\n\n    <paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button>\n\n    <div id="tabsContainer" on-track="_scroll" on-down="_down">\n      <div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]">\n        <div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div>\n        <slot></slot>\n      </div>\n    </div>\n\n    <paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button>\n']))),is:"paper-tabs",behaviors:[D.z,B],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(t){(0,v.vz)(this).querySelectorAll("paper-tab").forEach(t?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(t){t.setAttribute("noink","")},_removeNoinkAttribute:function(t){t.removeAttribute("noink")},_computeScrollButtonClass:function(t,e,n){return!e||n?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t,e){return t?"scrollable"+(e?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",(function(){this._scroll(),this._tabChanged(this.selectedItem)}),10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(t){this.debounce("tab-changed",(function(){this._tabChanged(null,this._previousTab),this._previousTab=null}),1)},_activateHandler:function(){this._cancelPendingActivation(),T.D._activateHandler.apply(this,arguments)},_scheduleActivation:function(t,e){this._pendingActivationItem=t,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,e)},_delayedActivationHandler:function(){var t=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,t.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(t){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(t){t.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(t,e){if(this.scrollable){var n=e&&-e.ddx||0;this._affectScroll(n)}},_down:function(t){this.async((function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)}),1)},_affectScroll:function(t){this.$.tabsContainer.scrollLeft+=t;var e=this.$.tabsContainer.scrollLeft;this._leftHidden=0===e,this._rightHidden=e===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(t,e){if(!t)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(0,0);var n=this.$.tabsContent.getBoundingClientRect(),i=n.width,o=t.getBoundingClientRect(),r=o.left-n.left;if(this._pos={width:this._calcPercent(o.width,i),left:this._calcPercent(r,i)},this.noSlide||null==e)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(this._pos.width,this._pos.left);var s=e.getBoundingClientRect(),a=this.items.indexOf(e),l=this.items.indexOf(t);this.$.selectionBar.classList.add("expand");var d=a<l;this._isRTL&&(d=!d),d?this._positionBar(this._calcPercent(o.left+o.width-s.left,i)-5,this._left):this._positionBar(this._calcPercent(s.left+s.width-o.left,i)-5,this._calcPercent(r,i)+5),this.scrollable&&this._scrollToSelectedIfNeeded(o.width,r)},_scrollToSelectedIfNeeded:function(t,e){var n=e-this.$.tabsContainer.scrollLeft;(n<0||(n+=t-this.$.tabsContainer.offsetWidth)>0)&&(this.$.tabsContainer.scrollLeft+=n)},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){t=t||0,e=e||0,this._width=t,this._left=e,this.transform("translateX("+e+"%) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(t){var e=this.$.selectionBar.classList;e.contains("expand")?(e.remove("expand"),e.add("contract"),this._positionBar(this._pos.width,this._pos.left)):e.contains("contract")&&e.remove("contract")}});var A,L,F=n(2849);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,y.k)({_template:(0,_.d)(A||(A=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host > ::slotted(:not(slot):not(.iron-selected)) {\n        display: none !important;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"iron-pages",behaviors:[D.z,F.P],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(t,e){this.async(this.notifyResize)}});const q=(0,_.f)(L||(L=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([secondary-tabs]) {\n  --sb-option-cell-box-shadow: 0px -1px 0px 0px #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer {\n  margin: 0;\n  border-radius: 0.4rem 0.4rem 0 0;\n  border: none;\n  border-top: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tabs {\n  --paper-tabs-selection-bar-border-bottom: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected {\n  border: none;\n  box-shadow: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:hover:not(.iron-selected) {\n  border-color: #d8dde6;\n  box-shadow: none;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab {\n  width: 50px !important;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab.iron-selected {\n  border-left: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected ~ paper-tab:not(.iron-selected) {\n  border-left: 1px solid #d8dde6;\n}\n:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab:not(.iron-selected) {\n  margin-left: 0 !important;\n  border-left: 1px solid #d8dde6;\n}\npaper-tabs {\n  height: auto !important;\n}\npaper-tabs span {\n  position: relative;\n  top: 10px;\n  right: 5px;\n  color: #0070d2;\n}\npaper-tab[disabled]:not(.iron-selected) {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab[disabled]:not(.iron-selected) span {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) {\n  color: rgba(126, 140, 153, 0.8);\n}\npaper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) span {\n  color: var(--sbTabSelectedColor);\n}\npaper-tab {\n  font-family: var(--sbTabFontFamily);\n  padding: 0 1rem;\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.25;\n  color: var(--sbTabColor);\n  text-transform: uppercase;\n  display: inline-block;\n  border-bottom: 2px solid transparent;\n}\npaper-tab[class*='--mobile'] {\n  font-size: 1rem;\n}\n[class*='--mobile'] paper-tab {\n  font-size: 1rem;\n}\npaper-tab:hover:not(.iron-selected) {\n  height: auto;\n  text-decoration: none;\n  color: var(--sbTabHoverColor);\n}\npaper-tab.iron-selected {\n  color: var(--sbTabSelectedColor);\n  border-color: var(--sbTabSelectedColor);\n  box-shadow: var(--sbTabSelectedShadowColor);\n}\npaper-tab.overflow {\n  display: none;\n}\npaper-tab.overflowTab {\n  display: inline-block !important;\n  overflow: visible;\n}\npaper-tab + paper-tab {\n  margin-left: 1.5rem;\n}\nsb-pagination {\n  --pagination-bar-text-align: center;\n  --pagination-bar-padding-bottom: 5px;\n  --pagination-bar-padding-top: 5px;\n}\n.center-justified {\n  text-align: center;\n}\n#downArrow {\n  margin-left: 5px;\n  top: 0;\n}\n#menuMask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  display: none;\n  z-index: 99;\n}\n#overflowTab {\n  display: none;\n}\n#paperTabContainer {\n  display: inline-block;\n  margin: 0 15px;\n  position: relative;\n}\n#paperTabContainer[class*='--mobile'] {\n  max-width: none;\n  display: block;\n  min-height: 42px;\n}\n[class*='--mobile'] #paperTabContainer {\n  max-width: none;\n  display: block;\n  min-height: 42px;\n}\n@media screen and (max-width: 480px) {\n  #paperTabContainer {\n    max-width: 480px;\n  }\n}\n@media screen and (max-width: 768px) and (min-width: 481px) {\n  #paperTabContainer {\n    max-width: 768px;\n  }\n}\n@media screen and (max-width: 1024px) and (min-width: 769px) {\n  #paperTabContainer {\n    max-width: 1024px;\n  }\n}\n@media screen and (max-width: 1200px) and (min-width: 1025px) {\n  #paperTabContainer {\n    max-width: 1200px;\n  }\n}\n@media screen and (min-width: 1201px) {\n  #paperTabContainer {\n    max-width: 1200px;\n  }\n}\n#paperTabContainer.hidden {\n  display: none !important;\n}\n#overflowTabMenu {\n  position: absolute;\n  right: 0;\n  background: #fff;\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  max-width: 20rem;\n  max-height: 15rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 100;\n  display: none;\n}\n#overflowTabMenu .noOverflow {\n  display: none;\n}\n#overflowTabMenu ul {\n  list-style-type: none;\n  text-transform: uppercase;\n  color: #16325c;\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 0 0;\n  margin: 0 0;\n}\n#overflowTabMenu ul li {\n  font-family: var(--sbTabFontFamily);\n  color: #54698d;\n  padding: 0 1rem;\n  line-height: 3rem;\n  font-size: 0.75rem;\n  letter-spacing: 0.0625em;\n  border-bottom: 1px solid #d8dde6;\n}\n#overflowTabMenu ul li :last-child {\n  border-bottom: none;\n}\n#overflowTabMenu ul li[disabled]:not(.selected) {\n  color: rgba(126, 140, 153, 0.8);\n}\n#overflowTabMenu ul li:not([disabled]):hover {\n  cursor: pointer;\n  background-color: #f4f6f9;\n}\n#overflowTabMenu ul li:not([disabled]):active {\n  background-color: #EEF1F6;\n}\n#overflowTabMenu ul .selected {\n  background-color: #f4f6f9;\n}\n.showOverflowTabMenu {\n  display: inline-block !important;\n}\n.showOverflowTabMenu .overflow {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.showMenuMask {\n  display: block !important;\n}\n.hideIconClass {\n  display: none;\n}\n.overflowIconClass {\n  position: relative;\n  top: 0px;\n  right: -2px;\n  color: #0070d2;\n}\n[hidden] {\n  display: none !important;\n}\n.widthWithOverflow {\n  width: 100%;\n}\n:host > * {\n  --paper-tabs-selection-bar-color: #0070d2;\n  --paper-tabs-selection-bar-height: 0;\n  --paper-tab-content-overflow: hidden;\n  --paper-tab-content-text-overflow: ellipsis;\n  --paper-tab-content-white-space: nowrap;\n  --paper-tab-content-display: block;\n  --paper-tab-content-text-decoration: none;\n  --paper-tab-content-cursor: pointer;\n  --paper-tab-content-height: 2.5rem;\n  --paper-tab-content-line-height: 2.5rem;\n  --paper-tab-content-font-family: var(--sbTabFontFamily);\n  /** Focused tabs */\n  --paper-tab-content-focused-font-weight: 500;\n}\n#paperTabContainer.largeQuote[class*='--desktop'] {\n  display: flex;\n  flex-direction: row;\n  border-bottom: none;\n  border-top: none;\n  max-width: 120em;\n}\n#paperTabContainer.largeQuote.sbGroupTabs[class*='--desktop'] {\n  max-width: 60em;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages > .iron-selected {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperTabContainer.largeQuote {\n  display: flex;\n  flex-direction: row;\n  border-bottom: none;\n  border-top: none;\n  max-width: 120em;\n}\n[class*='--desktop'] #paperTabContainer.largeQuote.sbGroupTabs {\n  max-width: 60em;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages > .iron-selected {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host([secondary-tabs]) #paperTabContainer.largeQuote[class*='--desktop'] paper-tabs {\n  width: 100% !important;\n}\n:host([class*='--desktop'][secondary-tabs]) #paperTabContainer.largeQuote paper-tabs {\n  width: 100% !important;\n}\n:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] {\n  border-bottom: none;\n}\n:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] paper-tabs {\n  padding: 0;\n}\n:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer {\n  border-bottom: none;\n}\n:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer paper-tabs {\n  padding: 0;\n}\n:host .iconClass {\n  cursor: pointer;\n  color: #9faab5 !important;\n}\n:host .iconClass:hover {\n  color: #0070d2 !important;\n}\n:host > #paperTabContainer {\n  margin: 0;\n  border-bottom: 1px solid #d8dde6;\n}\n:host .iconClass[class*='--mobile'] {\n  margin-left: -14px;\n}\n:host [class*='--mobile'] .iconClass {\n  margin-left: -14px;\n}\n:host .iconClass[class*='--desktop'] {\n  margin-left: -7px;\n}\n:host [class*='--desktop'] .iconClass {\n  margin-left: -7px;\n}\n"])));var N;n(5310),n(5677),n(3057);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class H extends((0,u.S)((0,c.J)((0,l.Q)((0,d.U)(f.H3))))){static get is(){return"sb-tabs"}static get properties(){return{tabs:Array,pageComponent:{type:String,value:null},selectedTabIndex:{type:Number,value:0},selectedPageIndex:{type:Number,value:0},tabsClass:{type:String,value:"horizontal layout center-justified"},usePagination:{type:Boolean,value:!1},paginationClass:{type:String,value:"horizontal layout center-justified"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return s._.getViewport()}},tabLimit:{type:Number,value:0},rendered:{type:Boolean,value:!1},overflowTab:Object,overflowTabClass:String,overflowTabMenuClass:String,menuMaskClass:String,bind:{type:Array,value:[]},hideTabs:{type:Boolean,value:!1},contentContainerClass:String,tabContainerClass:String,pageElements:{type:Array,value:[]},overflowTabMenuDisabled:{type:Boolean,value:!1},overflowTabMenuLabelDisabled:{type:Boolean,value:!1}}}get events(){let t={};return t[a.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_renderObserver(tabs, pageComponent, bind)","setPaginationListener(usePagination)","_handleSelectedChangedObserver(selectedPageIndex, pageElements)"]}_renderObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.render(t,e,n)}render(){this._enforceValidTabSelected(),this._buildTabs(),this.observeNode(this.$.paperTabs,function(){this.rendered=!0,!this.tabs||this.tabs.length<=0||this._viewportChanged()}.bind(this))}destroyTabs(){if(this.template)try{let t=this.$.pages;for(;t.firstChild;)t.removeChild(t.firstChild);(0,h.y)(),this.template=null,this.selectedTabIndex=0}catch(t){return void console.error(t)}}_enforceValidTabSelected(){(isNaN(this.selectedPageIndex)||this.tabs&&this.tabs.length<=this.selectedPageIndex||this.selectedPageIndex<0||this.selectedPageIndex%1!=0)&&(this.selectedPageIndex=0)}_buildTabs(){if(this.template)return void this.templateBindData(this.template,this.template.parentElement);let t=document.createElement("dom-bind");this.template=document.createElement("template"),t.appendChild(this.template),this._buildPages(this.template),this.templateBindData(this.template,t),this.$.pages.appendChild(t),(0,h.y)(),this.observeNode(this.$.pages,function(t){for(let e=0,n=t.addedNodes.length;e<n;e++)"div"===t.addedNodes[e].tagName.toLowerCase()&&(this.pageElements=this.pageElements.concat(t.addedNodes[e].firstElementChild));this.bindElementEvents(this.pageElements)}.bind(this))}setPageElements(t){for(let e of t||[])this.pageElements.push(e)}_buildPages(t){let e=t.content.ownerDocument;this._bind=this.bind||[],this.tabs.forEach(function(n,i){let o=n.pageComponent||this.pageComponent;if(!o)return;let r=e.createElement("div"),s=e.createElement(o);s.setAttribute("name",n.name),s.setAttribute("label",n.label),s.setAttribute("tab-index",i),s.setAttribute("key",n.key);let a=n.attributes||[];for(let t of a)s.setAttribute(t.name,t.value);this.usePagination&&this.set("tabs."+i+".disabled",!0),n.bind&&(this._bind=[...new Set([...this._bind,...n.bind])]),this.addTwoWayBindingAttributes(s,this._bind),r.appendChild(s),t.content.appendChild(r)}.bind(this));for(let t of this._bind)this._createMethodObserver("_propertyChanged(".concat(t,".*)"))}addTwoWayBindingAttributes(t,e){for(let n of e)t.setAttribute((0,b.n)(n),"{{"+n+"}}")}templateBindData(t,e){this.requiresTemplateBindData=this._bind&&this._bind.length>0;for(let n of this._bind)(this.__data[n]&&this.__data[n]!==this[n]||void 0===this[n])&&(this[n]=this.__data[n]),void 0!==this[n]&&(this.requiresTemplateBindData=!1,t[n]=this[n],e[n]=this[n])}displayPage(t){let e=this.$.paperTabs.querySelectorAll("paper-tab")[t];return null!=e&&"overflowTab"===e.id&&0!=t?this.selectedPageIndex:(this.selectedPageIndex=+t,t)}setPaginationListener(){this.usePagination&&this.addEventListener("pagination-changed",this.changeTab.bind(this))}changeTab(t){this._changeTab(t.detail.index)}_changeTab(t){let e=this.$.paperTabs,n=e.querySelector("#overflowTab"),i=this.tabLimit,o=this.tabs.length;this.selectedTabIndex=t,this._ensureOverflowTabMenuDisabled(n),this.tabs=this._ensureOverflowSelection(this.tabs,this.selectedPageIndex),this.selectedTabIndex>=i&&o-1>i?(this._displayOverflowTabName(n,this.tabs[this.selectedTabIndex].label),e.selected=e.getElementsByTagName("paper-tab").length-1,this.usePagination&&(this.shadowRoot.querySelector("#pagination").pageIndex=t,this.overflowTabMenuDisabled=!1,this.overflowTabMenuLabelDisabled=!1)):o-2>i&&this._displayOverflowTabName(n,this.tabs[i].label)}_ensureOverflowTabMenuDisabled(t){let e=!0;for(let t=this.tabLimit,n=this.tabs.length;t<n;t++)if(!this.tabs[t].disabled){e=!1;break}if(this.overflowTabMenuDisabled=e,this.overflowTabMenuDisabled)return void(this.overflowTabMenuLabelDisabled=!0);let n=t.firstChild.textContent,i=this._getTabIndexByLabel(n);i>=0&&(this.overflowTabMenuLabelDisabled=this.tabs[i].disabled)}_ensureOverflowSelection(t,e){return t.map(((t,n)=>{let i=e===n&&t.className.includes("overflow"),o=t.className.replace(" selected","")+(i?" selected":"");return j(j({},t),{},{className:o})}))}closeMenu(t){let e=this.selectedPageIndex;this.overflowTabMenuClass="",this.menuMaskClass="",!0!==t&&e<this.tabLimit&&(this.selectedTabIndex=e)}selectTab(t){let e=parseInt(t.currentTarget.id);if(Number.isInteger(e)&&this.tabs[e].disabled)return;let n=this.$.paperTabs.querySelector("#overflowTab"),i=this.tabLimit;if(Number.isInteger(e)){if(this.selectedPageIndex=e,this._deselectPreviouslySelectedTab(),this.$.pages.selected=e,this.set("tabs."+e+".className","overflow selected"),this.overflowTab=this.tabs[e],this.tabs[e].iconId){let t=this.shadowRoot.querySelector("#"+this.tabs[e].iconId+"-overflow");(0,p.og)("hideIconClass",!1,t)}this._displayOverflowTabName(n,t.currentTarget.textContent),this.overflowTabClass="overflowTab",this.closeMenu(!0)}else this.tabs.length-1>i&&(this._deselectPreviouslySelectedTab(),this._displayOverflowTabName(n,this.tabs[i].label),this._ensureOverflowTabMenuDisabled(n))}_handleEvent(t){let e=t.currentTarget.getAttribute("data-tap-event"),n=t.currentTarget.getAttribute("id"),i=null!=e?e:"tab-"+(0,b.n)(n);this.dispatchEvent((0,a.FU)(i+"-tapped",{event:e,Id:n}))}showMenu(){this.overflowTabMenuClass="showOverflowTabMenu",this.menuMaskClass="showMenuMask"}viewportChanged(t){this.viewport=t.detail.viewport}_displayOverflowTabName(t,e){t.firstChild.textContent=e,this.overflowTabClass="overflowTab"}_handleOverFlow(){let t,e,n=this.$.paperTabs,i=this.selectedPageIndex,o=n.querySelector("#overflowTab"),r=this.shadowRoot.querySelector("#pagination"),s=this.tabLimit,a=this.tabs.length;this.overflowTabClass="";for(let n=0;n<a;n++){if(t="noOverflow",e=s,n>=s&&a-1>s&&(n===a-1&&(i>=s&&(e=i),this.overflowTab=this.tabs[e],this._displayOverflowTabName(o,this.tabs[e].label)),t="overflow"),a>=s&&(t+=" widthWithOverflow"),this.tabs[n].iconId){let e=this.shadowRoot.querySelector("#"+this.tabs[n].iconId),o=!("noOverflow"==t||"overflow"==t&&n>=s&&n!=a-1);if((0,p.og)("hideIconClass",o,e),"overflow"==t&&n===i){let t=this.shadowRoot.querySelector("#"+this.tabs[n].iconId+"-overflow");(0,p.og)("hideIconClass",!1,t)}}this.tabs[n].disabled&&(t+=" disabled"),this.set("tabs."+n+".className",n===i?t+" iron-selected":t)}i<s||a-1===s&&i===s?(this.selectedTabIndex=i,this.set("tabs."+i+".className",this.tabs[i].className.replace(" selected",""))):i>=s&&(n.selected=a,this.overflowTabClass="overflowTab iron-selected",this.set("tabs."+i+".className","overflow selected")),this.usePagination&&null!=r&&(r.pageIndex=i),this._ensureOverflowTabMenuDisabled(o)}_handleSelectedChangedObserver(t,e){if(void 0!==t&&void 0!==e)return this._handleSelectedChanged(t,e)}_handleSelectedChanged(){this._enforceValidTabSelected(),this.dispatchEvent((0,a.FU)("selected-page-changed",this.selectedPageIndex)),this.fireTabSelected()}fireTabSelected(){this.pageElements.length>0&&this.pageElements.length>this.selectedPageIndex&&this.pageElements[this.selectedPageIndex].dispatchEvent((0,a.FU)("sb-tab-selected"))}_deselectPreviouslySelectedTab(){let t=this.$.overflowTabMenu.querySelector(".selected");if(!t)return;let e=parseInt(t.id);Number.isInteger(e)&&this.set("tabs."+e+".className",this.tabs[e].className.replace(" selected",""))}_viewportChanged(){this.rendered&&(this.viewport&&this.viewport.XL.up?this.tabLimit=7:this.viewport&&this.viewport.L.up?this.tabLimit=5:this.viewport&&this.viewport.M.up?this.tabLimit=4:this.viewport&&this.viewport.S.up?this.tabLimit=3:this.viewport&&this.viewport.XS.up&&(this.tabLimit=2),this._handleOverFlow())}bindElementEvents(t){var e=t?t.length:0;if(0!=e){this.fireTabSelected();for(let n=0;n<e;n++)for(let e of this._bind){let i=(0,b.n)(e);t[n].addEventListener(i+"-changed",function(t){t.detail.path&&(0,p.GC)(this).set(t.detail.path,t.detail.value)}.bind(this))}this.requiresTemplateBindData&&this.templateBindData(this.template,this.template.parentElement)}}_propertyChanged(t){this.template&&this.template.parentElement&&this.template.parentElement.notifyPath(t.path,t.value)}contentFilteredHandler(t,e){if(null==t)return;let n=this._getTabIndexByLabel(t);n<0||(this.set("tabs."+n+".disabled",!e||this.usePagination),this.tabs[n]._disabled=!e,this._changeToNextEnabledTabQueued&&clearTimeout(this._changeToNextEnabledTabQueued),this._changeToNextEnabledTabQueued=setTimeout(this._changeToNextEnabledTab.bind(this),1))}_getTabIndexByLabel(t){for(let e=0,n=this.tabs.length;e<n;e++)if(this.tabs[e].label===t)return e;return-1}_changeToNextEnabledTab(){let t=this._getNextEnabledPageIndex();this._changeTab(t)}_getNextEnabledPageIndex(){for(let t=this.selectedPageIndex,e=this.tabs.length;t<e;t++)if(!this.tabs[t]._disabled)return t;for(let t=0,e=this.selectedPageIndex;t<e;t++)if(!this.tabs[t]._disabled)return t;return this.selectedPageIndex}static get template(){return(0,f.dy)(N||(N=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t\n\t\t<div device id="paperTabContainer" class$="[[contentContainerClass]]" hidden$="[[hideTabs]]">\n\t\t\t<paper-tabs\n\t\t\t\t\tnoink id="paperTabs"\n\t\t\t\t\tselected="{{selectedTabIndex}}"\n\t\t\t\t\tclass="tabs"\n\t\t\t\t\tno-slide class$="[[tabsClass]]"\n\t\t\t>\n\t\t\t\t<template is="dom-repeat" items="[[tabs]]" as="tab">\n\t\t\t\t\t<paper-tab\n\t\t\t\t\t\t\thidden="[[tab.hidden]]"\n\t\t\t\t\t\t\tdisabled="[[tab.disabled]]"\n\t\t\t\t\t\t\ton-click="selectTab"\n\t\t\t\t\t\t\tlabel$="[[tab.label]]"\n\t\t\t\t\t\t\tname$="[[tab.key]]"\n\t\t\t\t\t\t\tclass$="[[tab.className]]">[[tab.label]]</paper-tab>\n\n\t\t\t\t\t<template is="dom-if" if="[[tab.iconId]]">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid$="[[tab.iconId]]"\n\t\t\t\t\t\t\t\tclass$="iconClass hideIconClass [[tab.iconClass]]"\n\t\t\t\t\t\t\t\ton-click="_handleEvent"\n\t\t\t\t\t\t\t\tdata-tap-event$="[[tab.iconEvent]]">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="[[tab.iconId]]" position="top" offset="10" animation-delay="0">[[tab.label]]</paper-tooltip>\n\t\t\t\t\t</template>\n\n\t\t\t\t</template>\n\t\t\t\t<paper-tab\n\t\t\t\t\t\tid="overflowTab"\n\t\t\t\t\t\tdisabled="[[overflowTabMenuDisabled]]"\n\t\t\t\t\t\ton-click="showMenu"\n\t\t\t\t\t\tclass$="[[overflowTabClass]]"\n\t\t\t\t\t\toverflow-tab-label-disabled$="[[overflowTabMenuLabelDisabled]]"\n\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid$="[[overflowTab.iconId]]-overflow"\n\t\t\t\t\t\t\t\tclass$="iconClass overflowIconClass hideIconClass [[overflowTab.iconClass]]"\n\t\t\t\t\t\t\t\ton-click="_handleEvent"\n\t\t\t\t\t\t\t\tdata-tap-event$="[[overflowTab.iconEvent]]">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="[[overflowTab.iconId]]" position="top" offset="10" animation-delay="0">[[overflowTab.label]]</paper-tooltip>\n\t\t\t\t\t<span id="downArrow">&#9660;</span>\n\t\t\t\t</paper-tab>\n\n\t\t\t</paper-tabs>\n\t\t\t<div id="overflowTabMenu" class$="[[overflowTabMenuClass]]">\n\t\t\t\t<ul>\n\t\t\t\t\t<template is="dom-repeat" items="[[tabs]]" as="tab">\n\t\t\t\t\t\t<li id="{{index}}" class$="[[tab.className]]" name$="[[tab.key]]"\n\t\t\t\t\t\t\t\tdisabled$="[[tab.disabled]]" on-click="selectTab">\n\t\t\t\t\t\t\t<span id="tabLabel">[[tab.label]]</span>\n\t\t\t\t\t\t\t<paper-tooltip for="tabLabel" position="bottom" animation-delay="0"\n\t\t\t\t\t\t\t\t\toffset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div id="menuMask" on-click="closeMenu" class$="[[menuMaskClass]]"></div>\n\t\t</div>\n\t\t<div device id="paperContentContainer" class$="[[contentContainerClass]]">\n\t\t<iron-pages id="pages" selected="[[displayPage(selectedTabIndex)]]"></iron-pages>\n\t\t<template is="dom-if" if="[[usePagination]]">\n\t\t\t<div class$="[[paginationClass]]">\n\t\t\t\t<sb-pagination\n\t\t\t\t\t\tid="pagination"\n\t\t\t\t\t\tpage-size=\'1\'\n\t\t\t\t\t\tnum-items="[[tabs.length]]"\n\t\t\t\t\t\tpage-index="[[selectedTabIndex]]"\n\t\t\t\t></sb-pagination>\n\t\t\t</div>\n\t\t</template>\n\t\t</div>\n\t\t'])),q)}}customElements.define(H.is,H)},354:(t,e,n)=>{"use strict";n.d(e,{$7:()=>i,R$:()=>o,dr:()=>r});const i=60,o=60;class r{constructor(t,e){this.metadata=t,this.labelMultiplier=null!=e?e:9}getImageWidth(t){let e=this._getImageWidth(t,0);if(null==e)return;let n=-1;do{n=Math.max(n,e.width),e=this._getImageWidth(t,e.end)}while(null!=e);return this.hasInvalidWidth&&this._warnInvalidWidthParameter(),n}_getImageWidth(t,e){if(!this.metadata)return;let n=this._getImageFunctionStart(e);if(-1===n)return;let i=this._getImageFunctionEnd(n),o=this.metadata.calculatedFormula.substring(n,i).split(","),r=this._getWidthFromImageFunctionArgs(o);t=null!=t?t:0;let s=this.metadata.label.length*this.labelMultiplier;return{width:Math.max(r,s)+t,end:i}}_getImageFunctionStart(t){return this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase().indexOf("image(",t):-1}_getImageFunctionEnd(t){let e=this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase():null;if(!e)return-1;let n=0,i=0;for(let o=t,r=e.length;o<r;o++)if("("===e.substring(o,o+1)?n++:")"===e.substring(o,o+1)&&i++,n>0&&n===i)return o;return-1}_getWidthFromImageFunctionArgs(t){if(t.length<=3)return i;let e;try{e=parseInt(t[3].trim())}catch(t){return this.hasInvalidWidth=!0,i}return isNaN(e)?(this.hasInvalidWidth=!0,i):e}_warnInvalidWidthParameter(){console.warn('May not have properly sized the column to fit the image specified by this formula: "'+this.metadata.calculatedFormula+"\"\nREASON: At least one of the formula's IMAGE function(s) has its width parameter (4th argument) defined from a field.\nSOLUTION: All of the formula's IMAGE function(s) should have its width parameter either omitted or hardcoded to a number.")}}},4253:(t,e,n)=>{"use strict";n.d(e,{o:()=>i});class i{constructor(t,e,n,i,o){this.columns=t,this.firstLastClassSuffix=e,this.typeByColumnMap=n,this.allColumnClasses=i||[],this.useColumnsIndexAsKey=o||!1}build(){let t={};return this._appendTypeClass(t),this._appendFirstAndLastColumnClasses(t),this._appendAllColumnClasses(t),this._addWidthStyles(t),t}_appendTypeClass(t){if(!this.typeByColumnMap)return;let e=!1,n=0;for(let i of this.columns){let o=this.typeByColumnMap[i],r=this._isNumericType(o),s=this._isBooleanType(o),a=this.useColumnsIndexAsKey?n++:i;r?this._appendClass(t,a,"numericCell"):s?this._appendClass(t,a,"checkboxCell"):e&&this._appendClass(t,a,"afterNumericCell"),e=r}}_appendFirstAndLastColumnClasses(t){let e="firstInner"+this.firstLastClassSuffix,n="lastInner"+this.firstLastClassSuffix,i="secondInner"+this.firstLastClassSuffix;this._appendClass(t,this.useColumnsIndexAsKey?0:this.columns[0],e),this._appendClass(t,this.useColumnsIndexAsKey?this.columns.length-1:this.columns[this.columns.length-1],n),this.columns.length>1&&this._appendClass(t,this.useColumnsIndexAsKey?1:this.columns[1],i)}_appendAllColumnClasses(t){for(let e of this.columns)for(let n of this.allColumnClasses)this._appendClass(t,e,n)}_addWidthStyles(t){let e=0;for(let n of this.columns){let i=this.typeByColumnMap[n].split(":");2===i.length&&this._setWidthStyle(t,this.useColumnsIndexAsKey?e:n,i[1]),e++}}_isNumericType(t){return"double"===(t=t.split(":")[0])||"number"===t||"currency"===t||"percent"===t}_isBooleanType(t){return"boolean"===(t=t.split(":")[0])||"checkbox"===t}_appendClass(t,e,n){t[e]||(t[e]={});let i=t[e].class;t[e].class=i?i+" "+n:n}_setWidthStyle(t,e,n){t[e]||(t[e]={}),t[e].style="width:".concat(n,"px")}}},6059:(t,e,n)=>{"use strict";n.d(e,{f:()=>l});n(8566);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const r=window.__vfsettings?window.__vfsettings.localOauth:{};let s="http://localhost:"+location.port+"/common/oauth",a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({redirectUri:s+"/callback"},r);class l{constructor(t){a.clientId&&a.clientSecret||console.warn(this._getNoOAuthClientKeyMessage());var e=jsforce.browser.Client.prototype._storeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._storeTokens=function(t){e(t),localStorage.setItem(this._prefix+"_refresh_token",t.refresh_token)}.bind(jsforce.browser);var n=jsforce.browser.Client.prototype._removeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._removeTokens=function(){n(),localStorage.removeItem(this._prefix+"_refresh_token")}.bind(jsforce.browser);var i=jsforce.browser.Client.prototype._getTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._getTokens=function(){var t=i();return t&&(t.refreshToken=localStorage.getItem(this._prefix+"_refresh_token")),t}.bind(jsforce.browser);var o=jsforce.browser.Client.prototype.isLoggedIn.bind(jsforce.browser);jsforce.browser.Client.prototype.isLoggedIn=function(){return!!o()&&this.connection.refreshToken}.bind(jsforce.browser),function(){localStorage.setItem(this._prefix+"_issued_at",(new Date).getTime()),document.cookie=this._prefix+"_loggedin=true;"}.bind(jsforce.browser)(),t&&jsforce.browser._storeTokens(t),jsforce.OAuth2.prototype.refreshToken=this._refresAccessToken,jsforce.browser.init(a)}login(){jsforce.browser.login()}getConnection(){return jsforce.browser.isLoggedIn()?new Promise(function(t){jsforce.browser.once("connect",function(e){e.oik=a.oik,e.once("refresh",function(t){this.accessToken=t}.bind(this)),t(e)}.bind(this)),jsforce.browser.init(a)}.bind(this)):Promise.reject("Please login before establishing a connection at http://localhost:"+location.port+"/common/oauth")}set accessToken(t){localStorage.setItem(jsforce.browser._prefix+"_access_token",t)}get tokens(){return jsforce.browser._getTokens()}set tokens(t){jsforce.browser._storeTokens(t)}_getNoOAuthClientKeyMessage(){return'Need to add a \'.env.json\' file in the CPQ dir whose contents contains the Consumer Key and Consumer Secret of the Salesforce CPQ Connected App, and then execute a gulp compile.\n{"oauth_key": "<Consumer Key>, "oauth_secret": "<Consumer Secret>"}'}_refresAccessToken(t,e){return this._transport.httpRequest({method:"POST",url:a.proxyUrl,body:"grant_type=refresh_token&refresh_token="+t+"&client_id="+this.clientId+"&client_secret="+this.clientSecret,headers:{"SalesforceProxy-Endpoint":this.tokenServiceUrl,"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var e;try{e=JSON.parse(t.body)}catch(t){}if(t.statusCode>=400){e=e||{error:"ERROR_HTTP_"+t.statusCode,error_description:t.body};var n=new Error(e.error_description);throw n.name=e.error,n}return e})).thenCall(e)}encodeTokenUrl(){let t=jsforce.browser._getTokens(),e=t.refreshToken,n=encodeURIComponent(t.instanceUrl),i=encodeURIComponent(t.userInfo.url);return s+"?rt="+e+"&org="+n+"&id="+i}static decodeTokenUrl(t){if(t){var e=l._getParameterByName("rt",t),n=l._getParameterByName("org",t),i=l._getParameterByName("id",t);return e&&n&&i?{refresh_token:e,instance_url:n,id:i,access_token:"xyz",issued_at:(new Date).getTime()}:void 0}}static _getParameterByName(t,e){t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},8741:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n  <style css-build="shadow">[hidden] {\n  display: none !important;\n}\n\n</style>\n\n\n  <style css-build="shadow">html {\n  --layout_-_display:  flex;;\n\n      --layout-inline_-_display:  inline-flex;;\n\n      --layout-horizontal_-_display:  var(--layout_-_display);\n--layout-horizontal_-_-ms-flex-direction:  row;\n--layout-horizontal_-_-webkit-flex-direction:  row;\n--layout-horizontal_-_flex-direction:  row;;\n\n      --layout-horizontal-reverse_-_display:  var(--layout_-_display);\n--layout-horizontal-reverse_-_-ms-flex-direction:  row-reverse;\n--layout-horizontal-reverse_-_-webkit-flex-direction:  row-reverse;\n--layout-horizontal-reverse_-_flex-direction:  row-reverse;;\n\n      --layout-vertical_-_display:  var(--layout_-_display);\n--layout-vertical_-_-ms-flex-direction:  column;\n--layout-vertical_-_-webkit-flex-direction:  column;\n--layout-vertical_-_flex-direction:  column;;\n\n      --layout-vertical-reverse_-_display:  var(--layout_-_display);\n--layout-vertical-reverse_-_-ms-flex-direction:  column-reverse;\n--layout-vertical-reverse_-_-webkit-flex-direction:  column-reverse;\n--layout-vertical-reverse_-_flex-direction:  column-reverse;;\n\n      --layout-wrap_-_-ms-flex-wrap:  wrap;\n--layout-wrap_-_-webkit-flex-wrap:  wrap;\n--layout-wrap_-_flex-wrap:  wrap;;\n\n      --layout-wrap-reverse_-_-ms-flex-wrap:  wrap-reverse;\n--layout-wrap-reverse_-_-webkit-flex-wrap:  wrap-reverse;\n--layout-wrap-reverse_-_flex-wrap:  wrap-reverse;;\n\n      --layout-flex-auto_-_-ms-flex:  1 1 auto;\n--layout-flex-auto_-_-webkit-flex:  1 1 auto;\n--layout-flex-auto_-_flex:  1 1 auto;;\n\n      --layout-flex-none_-_-ms-flex:  none;\n--layout-flex-none_-_-webkit-flex:  none;\n--layout-flex-none_-_flex:  none;;\n\n      --layout-flex_-_-ms-flex:  1 1 0.000000001px;\n--layout-flex_-_-webkit-flex:  1;\n--layout-flex_-_flex:  1;\n--layout-flex_-_-webkit-flex-basis:  0.000000001px;\n--layout-flex_-_flex-basis:  0.000000001px;;\n\n      --layout-flex-2_-_-ms-flex:  2;\n--layout-flex-2_-_-webkit-flex:  2;\n--layout-flex-2_-_flex:  2;;\n\n      --layout-flex-3_-_-ms-flex:  3;\n--layout-flex-3_-_-webkit-flex:  3;\n--layout-flex-3_-_flex:  3;;\n\n      --layout-flex-4_-_-ms-flex:  4;\n--layout-flex-4_-_-webkit-flex:  4;\n--layout-flex-4_-_flex:  4;;\n\n      --layout-flex-5_-_-ms-flex:  5;\n--layout-flex-5_-_-webkit-flex:  5;\n--layout-flex-5_-_flex:  5;;\n\n      --layout-flex-6_-_-ms-flex:  6;\n--layout-flex-6_-_-webkit-flex:  6;\n--layout-flex-6_-_flex:  6;;\n\n      --layout-flex-7_-_-ms-flex:  7;\n--layout-flex-7_-_-webkit-flex:  7;\n--layout-flex-7_-_flex:  7;;\n\n      --layout-flex-8_-_-ms-flex:  8;\n--layout-flex-8_-_-webkit-flex:  8;\n--layout-flex-8_-_flex:  8;;\n\n      --layout-flex-9_-_-ms-flex:  9;\n--layout-flex-9_-_-webkit-flex:  9;\n--layout-flex-9_-_flex:  9;;\n\n      --layout-flex-10_-_-ms-flex:  10;\n--layout-flex-10_-_-webkit-flex:  10;\n--layout-flex-10_-_flex:  10;;\n\n      --layout-flex-11_-_-ms-flex:  11;\n--layout-flex-11_-_-webkit-flex:  11;\n--layout-flex-11_-_flex:  11;;\n\n      --layout-flex-12_-_-ms-flex:  12;\n--layout-flex-12_-_-webkit-flex:  12;\n--layout-flex-12_-_flex:  12;;\n\n      \n\n      --layout-start_-_-ms-flex-align:  start;\n--layout-start_-_-webkit-align-items:  flex-start;\n--layout-start_-_align-items:  flex-start;;\n\n      --layout-center_-_-ms-flex-align:  center;\n--layout-center_-_-webkit-align-items:  center;\n--layout-center_-_align-items:  center;;\n\n      --layout-end_-_-ms-flex-align:  end;\n--layout-end_-_-webkit-align-items:  flex-end;\n--layout-end_-_align-items:  flex-end;;\n\n      --layout-baseline_-_-ms-flex-align:  baseline;\n--layout-baseline_-_-webkit-align-items:  baseline;\n--layout-baseline_-_align-items:  baseline;;\n\n      \n\n      --layout-start-justified_-_-ms-flex-pack:  start;\n--layout-start-justified_-_-webkit-justify-content:  flex-start;\n--layout-start-justified_-_justify-content:  flex-start;;\n\n      --layout-center-justified_-_-ms-flex-pack:  center;\n--layout-center-justified_-_-webkit-justify-content:  center;\n--layout-center-justified_-_justify-content:  center;;\n\n      --layout-end-justified_-_-ms-flex-pack:  end;\n--layout-end-justified_-_-webkit-justify-content:  flex-end;\n--layout-end-justified_-_justify-content:  flex-end;;\n\n      --layout-around-justified_-_-ms-flex-pack:  distribute;\n--layout-around-justified_-_-webkit-justify-content:  space-around;\n--layout-around-justified_-_justify-content:  space-around;;\n\n      --layout-justified_-_-ms-flex-pack:  justify;\n--layout-justified_-_-webkit-justify-content:  space-between;\n--layout-justified_-_justify-content:  space-between;;\n\n      --layout-center-center_-_-ms-flex-align:  var(--layout-center_-_-ms-flex-align);\n--layout-center-center_-_-webkit-align-items:  var(--layout-center_-_-webkit-align-items);\n--layout-center-center_-_align-items:  var(--layout-center_-_align-items);\n--layout-center-center_-_-ms-flex-pack:  var(--layout-center-justified_-_-ms-flex-pack);\n--layout-center-center_-_-webkit-justify-content:  var(--layout-center-justified_-_-webkit-justify-content);\n--layout-center-center_-_justify-content:  var(--layout-center-justified_-_justify-content);;\n\n      \n\n      --layout-self-start_-_-ms-align-self:  flex-start;\n--layout-self-start_-_-webkit-align-self:  flex-start;\n--layout-self-start_-_align-self:  flex-start;;\n\n      --layout-self-center_-_-ms-align-self:  center;\n--layout-self-center_-_-webkit-align-self:  center;\n--layout-self-center_-_align-self:  center;;\n\n      --layout-self-end_-_-ms-align-self:  flex-end;\n--layout-self-end_-_-webkit-align-self:  flex-end;\n--layout-self-end_-_align-self:  flex-end;;\n\n      --layout-self-stretch_-_-ms-align-self:  stretch;\n--layout-self-stretch_-_-webkit-align-self:  stretch;\n--layout-self-stretch_-_align-self:  stretch;;\n\n      --layout-self-baseline_-_-ms-align-self:  baseline;\n--layout-self-baseline_-_-webkit-align-self:  baseline;\n--layout-self-baseline_-_align-self:  baseline;;\n\n      \n\n      --layout-start-aligned_-_-ms-flex-line-pack:  start;\n--layout-start-aligned_-_-ms-align-content:  flex-start;\n--layout-start-aligned_-_-webkit-align-content:  flex-start;\n--layout-start-aligned_-_align-content:  flex-start;;\n\n      --layout-end-aligned_-_-ms-flex-line-pack:  end;\n--layout-end-aligned_-_-ms-align-content:  flex-end;\n--layout-end-aligned_-_-webkit-align-content:  flex-end;\n--layout-end-aligned_-_align-content:  flex-end;;\n\n      --layout-center-aligned_-_-ms-flex-line-pack:  center;\n--layout-center-aligned_-_-ms-align-content:  center;\n--layout-center-aligned_-_-webkit-align-content:  center;\n--layout-center-aligned_-_align-content:  center;;\n\n      --layout-between-aligned_-_-ms-flex-line-pack:  justify;\n--layout-between-aligned_-_-ms-align-content:  space-between;\n--layout-between-aligned_-_-webkit-align-content:  space-between;\n--layout-between-aligned_-_align-content:  space-between;;\n\n      --layout-around-aligned_-_-ms-flex-line-pack:  distribute;\n--layout-around-aligned_-_-ms-align-content:  space-around;\n--layout-around-aligned_-_-webkit-align-content:  space-around;\n--layout-around-aligned_-_align-content:  space-around;;\n\n      \n\n      --layout-block_-_display:  block;;\n\n      --layout-invisible_-_visibility:  hidden !important;;\n\n      --layout-relative_-_position:  relative;;\n\n      --layout-fit_-_position:  absolute;\n--layout-fit_-_top:  0;\n--layout-fit_-_right:  0;\n--layout-fit_-_bottom:  0;\n--layout-fit_-_left:  0;;\n\n      --layout-scroll_-_-webkit-overflow-scrolling:  touch;\n--layout-scroll_-_overflow:  auto;;\n\n      --layout-fullbleed_-_margin:  0;\n--layout-fullbleed_-_height:  100vh;;\n\n      \n\n      --layout-fixed-top_-_position:  fixed;\n--layout-fixed-top_-_top:  0;\n--layout-fixed-top_-_left:  0;\n--layout-fixed-top_-_right:  0;;\n\n      --layout-fixed-right_-_position:  fixed;\n--layout-fixed-right_-_top:  0;\n--layout-fixed-right_-_right:  0;\n--layout-fixed-right_-_bottom:  0;;\n\n      --layout-fixed-bottom_-_position:  fixed;\n--layout-fixed-bottom_-_right:  0;\n--layout-fixed-bottom_-_bottom:  0;\n--layout-fixed-bottom_-_left:  0;;\n\n      --layout-fixed-left_-_position:  fixed;\n--layout-fixed-left_-_top:  0;\n--layout-fixed-left_-_bottom:  0;\n--layout-fixed-left_-_left:  0;;\n}\n\n</style>\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content);var a=document.createElement("style");a.textContent="[hidden] { display: none !important; }",document.head.appendChild(a)},6190:(t,e,n)=>{"use strict";n(8741);var i,o=n(2674);n(1883);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r=(0,n(1510).d)(i||(s=['<dom-module id="paper-material-styles">\n  <template>\n    <style scope="paper-material-styles">html {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n.paper-material {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n.paper-material[elevation="1"] {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n.paper-material[elevation="2"] {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n.paper-material[elevation="3"] {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n.paper-material[elevation="4"] {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n.paper-material[elevation="5"] {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n:host(.paper-material) {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n:host(.paper-material[elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host(.paper-material[elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host(.paper-material[elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host(.paper-material[elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host(.paper-material[elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n</style>\n  </template>\n</dom-module>'],a||(a=s.slice(0)),i=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(a)}}))));var s,a;r.setAttribute("style","display: none;"),document.head.appendChild(r.content);var l=n(6717),d=n(8518),c=n(9360);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const u={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var t=1;this.disabled?t=0:this.active||this.pressed?t=4:this.receivedFocusFromKeyboard&&(t=3),this._setElevation(t)},_computeKeyboardClass:function(t){this.toggleClass("keyboard-focus",t)},_spaceKeyDownHandler:function(t){l.$._spaceKeyDownHandler.call(this,t),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(t){l.$._spaceKeyUpHandler.call(this,t),this.hasRipple()&&this._ripple.uiUpAction()}},h=[l.P,d.a,c.o,u];var p;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,n(1440).k)({_template:(0,o.dy)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\x3c!--css-build:shadow--\x3e<style scope="paper-button">html {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n.paper-material {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n.paper-material[elevation="1"] {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n.paper-material[elevation="2"] {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n.paper-material[elevation="3"] {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n.paper-material[elevation="4"] {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n.paper-material[elevation="5"] {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  --paper-material_-_display:  block;\n--paper-material_-_position:  relative;;\n        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;\n        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;\n        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;\n        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;\n        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;\n}\n\n:host(.paper-material) {\n  display: var(--paper-material_-_display);\n position: var(--paper-material_-_position);\n}\n\n:host(.paper-material[elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host(.paper-material[elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host(.paper-material[elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host(.paper-material[elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host(.paper-material[elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host {\n  display: var(--layout-inline_-_display);\n      -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);\n -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);\n align-items: var(--layout-center-center_-_align-items);\n -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);\n justify-content: var(--layout-center-center_-_justify-content);\n      position: relative;\n      box-sizing: border-box;\n      min-width: 5.14em;\n      margin: 0 0.29em;\n      background: transparent;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n      -webkit-tap-highlight-color: transparent;\n      font: inherit;\n      text-transform: uppercase;\n      outline-width: 0;\n      border-radius: 3px;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n      cursor: pointer;\n      z-index: 0;\n      padding: 0.7em 0.57em;\n\n      font-family: var(--paper-font-common-base_-_font-family);\n -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n      ;\n}\n\n:host([elevation="1"]) {\n  box-shadow: var(--paper-material-elevation-1_-_box-shadow);\n}\n\n:host([elevation="2"]) {\n  box-shadow: var(--paper-material-elevation-2_-_box-shadow);\n}\n\n:host([elevation="3"]) {\n  box-shadow: var(--paper-material-elevation-3_-_box-shadow);\n}\n\n:host([elevation="4"]) {\n  box-shadow: var(--paper-material-elevation-4_-_box-shadow);\n}\n\n:host([elevation="5"]) {\n  box-shadow: var(--paper-material-elevation-5_-_box-shadow);\n}\n\n:host([hidden]) {\n  display: none !important;\n}\n\n:host([raised].keyboard-focus) {\n  font-weight: bold;\n      ;\n}\n\n:host(:not([raised]).keyboard-focus) {\n  font-weight: bold;\n      ;\n}\n\n:host([disabled]) {\n  background: none;\n      color: #a8a8a8;\n      cursor: auto;\n      pointer-events: none;\n\n      ;\n}\n\n:host([disabled][raised]) {\n  background: #eaeaea;\n}\n\n:host([animated]) {\n  transition: var(--shadow-transition_-_transition);\n}\n\npaper-ripple {\n  color: var(--paper-button-ink-color);\n}\n\n</style>\n\n  <slot></slot>']))),is:"paper-button",behaviors:[h],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?u._calculateElevation.apply(this):this._setElevation(0)}})},5813:(t,e,n)=>{"use strict";n(2674),n(3536);var i,o=n(1733),r=n(7430),s=n(1440),a=n(1510),l=n(707);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const d=(0,a.d)(i||(c=['<style>\n  :host {\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n    /* -1px is a sentinel for the default and is replaced in `attached`. */\n    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n    line-height: 0;\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  #checkboxContainer {\n    display: inline-block;\n    position: relative;\n    width: var(--calculated-paper-checkbox-size);\n    height: var(--calculated-paper-checkbox-size);\n    min-width: var(--calculated-paper-checkbox-size);\n    margin: var(--paper-checkbox-margin, initial);\n    vertical-align: var(--paper-checkbox-vertical-align, middle);\n    background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n  }\n\n  #ink {\n    position: absolute;\n\n    /* Center the ripple in the checkbox by negative offsetting it by\n     * (inkWidth - rippleWidth) / 2 */\n    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    width: var(--calculated-paper-checkbox-ink-size);\n    height: calc(var(--calculated-paper-checkbox-ink-size) / 2);\n    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n  }\n\n  #ink:dir(rtl) {\n    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: auto;\n  }\n\n  #ink[checked] {\n    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n  }\n\n  #checkbox {\n    position: relative;\n    box-sizing: border-box;\n    height: 100%;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    border-radius: var(--paper-checkbox-border-radius, 2px);\n    border-width: var(--paper-checkbox-border-width, 2px);\n    border-style: var(--paper-checkbox-border-style, solid);\n    pointer-events: none;\n    -webkit-transition: background-color 140ms, border-color 140ms;\n    transition: background-color 140ms, border-color 140ms;\n\n    -webkit-transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n    transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  /* checkbox checked animations */\n  #checkbox.checked #checkmark {\n    -webkit-animation: checkmark-expand 140ms ease-out forwards;\n    animation: checkmark-expand 140ms ease-out forwards;\n\n    -webkit-animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n    animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  @-webkit-keyframes checkmark-expand {\n    0% {\n      -webkit-transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      -webkit-transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  @keyframes checkmark-expand {\n    0% {\n      transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  #checkbox.checked {\n    background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n    border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n  }\n\n  #checkmark {\n    position: absolute;\n    width: 36%;\n    height: 70%;\n    border-style: solid;\n    border-top: none;\n    border-left: none;\n    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-color: var(--paper-checkbox-checkmark-color, white);\n    -webkit-transform-origin: 97% 86%;\n    transform-origin: 97% 86%;\n    box-sizing: content-box; /* protect against page-level box-sizing */\n  }\n\n  #checkmark:dir(rtl) {\n    -webkit-transform-origin: 50% 14%;\n    transform-origin: 50% 14%;\n  }\n\n  /* label */\n  #checkboxLabel {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: var(--paper-checkbox-label-spacing, 8px);\n    white-space: normal;\n    line-height: normal;\n    color: var(--paper-checkbox-label-color, var(--primary-text-color));\n  }\n\n  :host([checked]) #checkboxLabel {\n    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n  }\n\n  #checkboxLabel:dir(rtl) {\n    padding-right: var(--paper-checkbox-label-spacing, 8px);\n    padding-left: 0;\n  }\n\n  #checkboxLabel[hidden] {\n    display: none;\n  }\n\n  /* disabled state */\n\n  :host([disabled]) #checkbox {\n    opacity: var(--paper-checkbox-disabled-opacity, 0.5);\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-checkbox-disabled-background-color);\n  }\n\n  :host([disabled][checked]) #checkbox {\n    background-color: var(--primary-text-color);\n    opacity: 0.5;\n  }\n\n  :host([disabled][checked]) #checkmark {\n    border-color: var(--paper-checkbox-checkmark-disabled-border-color);\n  }\n\n  :host([disabled]) #checkboxLabel  {\n    opacity: 0.65;\n  }\n\n  /* invalid state */\n  #checkbox.invalid:not(.checked) {\n    border-color: var(--paper-checkbox-error-color, var(--error-color));\n  }\n</style>\n\n<div id="checkboxContainer">\n  <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">\n    <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>\n  </div>\n</div>\n\n<div id="checkboxLabel"><slot></slot></div>'],(u=['<style>\n  :host {\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n    /* -1px is a sentinel for the default and is replaced in \\`attached\\`. */\n    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n    line-height: 0;\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  #checkboxContainer {\n    display: inline-block;\n    position: relative;\n    width: var(--calculated-paper-checkbox-size);\n    height: var(--calculated-paper-checkbox-size);\n    min-width: var(--calculated-paper-checkbox-size);\n    margin: var(--paper-checkbox-margin, initial);\n    vertical-align: var(--paper-checkbox-vertical-align, middle);\n    background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n  }\n\n  #ink {\n    position: absolute;\n\n    /* Center the ripple in the checkbox by negative offsetting it by\n     * (inkWidth - rippleWidth) / 2 */\n    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    width: var(--calculated-paper-checkbox-ink-size);\n    height: calc(var(--calculated-paper-checkbox-ink-size) / 2);\n    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n  }\n\n  #ink:dir(rtl) {\n    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: auto;\n  }\n\n  #ink[checked] {\n    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n  }\n\n  #checkbox {\n    position: relative;\n    box-sizing: border-box;\n    height: 100%;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    border-radius: var(--paper-checkbox-border-radius, 2px);\n    border-width: var(--paper-checkbox-border-width, 2px);\n    border-style: var(--paper-checkbox-border-style, solid);\n    pointer-events: none;\n    -webkit-transition: background-color 140ms, border-color 140ms;\n    transition: background-color 140ms, border-color 140ms;\n\n    -webkit-transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n    transition-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  /* checkbox checked animations */\n  #checkbox.checked #checkmark {\n    -webkit-animation: checkmark-expand 140ms ease-out forwards;\n    animation: checkmark-expand 140ms ease-out forwards;\n\n    -webkit-animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n    animation-duration: var(--paper-checkbox-animation-duration, 140ms);\n  }\n\n  @-webkit-keyframes checkmark-expand {\n    0% {\n      -webkit-transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      -webkit-transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  @keyframes checkmark-expand {\n    0% {\n      transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  #checkbox.checked {\n    background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n    border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n  }\n\n  #checkmark {\n    position: absolute;\n    width: 36%;\n    height: 70%;\n    border-style: solid;\n    border-top: none;\n    border-left: none;\n    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-color: var(--paper-checkbox-checkmark-color, white);\n    -webkit-transform-origin: 97% 86%;\n    transform-origin: 97% 86%;\n    box-sizing: content-box; /* protect against page-level box-sizing */\n  }\n\n  #checkmark:dir(rtl) {\n    -webkit-transform-origin: 50% 14%;\n    transform-origin: 50% 14%;\n  }\n\n  /* label */\n  #checkboxLabel {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: var(--paper-checkbox-label-spacing, 8px);\n    white-space: normal;\n    line-height: normal;\n    color: var(--paper-checkbox-label-color, var(--primary-text-color));\n  }\n\n  :host([checked]) #checkboxLabel {\n    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n  }\n\n  #checkboxLabel:dir(rtl) {\n    padding-right: var(--paper-checkbox-label-spacing, 8px);\n    padding-left: 0;\n  }\n\n  #checkboxLabel[hidden] {\n    display: none;\n  }\n\n  /* disabled state */\n\n  :host([disabled]) #checkbox {\n    opacity: var(--paper-checkbox-disabled-opacity, 0.5);\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    background-color: var(--paper-checkbox-disabled-background-color);\n  }\n\n  :host([disabled][checked]) #checkbox {\n    background-color: var(--primary-text-color);\n    opacity: 0.5;\n  }\n\n  :host([disabled][checked]) #checkmark {\n    border-color: var(--paper-checkbox-checkmark-disabled-border-color);\n  }\n\n  :host([disabled]) #checkboxLabel  {\n    opacity: 0.65;\n  }\n\n  /* invalid state */\n  #checkbox.invalid:not(.checked) {\n    border-color: var(--paper-checkbox-error-color, var(--error-color));\n  }\n</style>\n\n<div id="checkboxContainer">\n  <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">\n    <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>\n  </div>\n</div>\n\n<div id="checkboxLabel"><slot></slot></div>'])||(u=c.slice(0)),i=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}}))));var c,u;d.setAttribute("strip-whitespace",""),(0,s.k)({_template:d,is:"paper-checkbox",behaviors:[o.K],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){(0,l.T8)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var t=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),e="px",n=t.match(/[A-Za-z]+$/);null!==n&&(e=n[0]);var i=parseFloat(t),o=8/3*i;"px"===e&&(o=Math.floor(o))%2!=i%2&&o++,this.updateStyles({"--paper-checkbox-ink-size":o+e})}}))},_computeCheckboxClass:function(t,e){var n="";return t&&(n+="checked "),e&&(n+="invalid"),n},_computeCheckmarkClass:function(t){return t?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,r.S._createRipple.call(this)}})},3737:(t,e,n)=>{"use strict";n(2674);var i=n(1440);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,i.k)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var t=this.query;t&&(this.full||"("===t[0]||(t="("+t+")"),this._mq=window.matchMedia(t),this._add(),this.queryHandler(this._mq))},queryHandler:function(t){this._setQueryMatches(t.matches)}});var o=n(1401);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,i.k)({is:"iron-selector",behaviors:[o.U]});var r,s=n(3398),a=n(7593),l=n(1510);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var d,c,u=null;(0,i.k)({_template:(0,l.d)(r||(d=['\x3c!--css-build:shadow--\x3e<style scope="paper-drawer-panel">:host {\n  display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n}\n\n#drawer {\n  position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        background-color: white;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n        ;\n}\n\n.transition-drawer {\n  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n        transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n}\n\n.left-drawer > #drawer {\n  ;\n}\n\n.right-drawer > #drawer {\n  left: auto;\n        right: 0;\n        ;\n}\n\n#main {\n  position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        ;\n}\n\n.transition > #main {\n  transition: left ease-in-out 0.3s, padding ease-in-out 0.3s;\n}\n\n.right-drawer > #main {\n  left: 0;\n}\n\n.right-drawer.transition > #main {\n  transition: right ease-in-out 0.3s, padding ease-in-out 0.3s;\n}\n\n#main > ::slotted(*) {\n  height: 100%;\n}\n\n#drawer > ::slotted(*) {\n  height: 100%;\n}\n\n#scrim {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity ease-in-out 0.38s, visibility ease-in-out 0.38s;\n  background-color: rgba(0, 0, 0, 0.3);\n\twidth: var(--paper-drawer-panel-scrim-width);\n}\n\n.narrow-layout > #drawer {\n  will-change: transform;\n}\n\n.narrow-layout > #drawer.iron-selected {\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);\n}\n\n.right-drawer.narrow-layout > #drawer.iron-selected {\n  box-shadow: -2px 2px 4px rgba(0, 0, 0, 0.15);\n}\n\n.narrow-layout > #drawer > ::slotted(*) {\n  border: 0;\n}\n\n.left-drawer.narrow-layout > #drawer:not(.iron-selected) {\n  visibility: hidden;\n        -webkit-transform: translateX(-100%);\n        transform: translateX(-100%);\n}\n\n.right-drawer.narrow-layout > #drawer:not(.iron-selected) {\n  left: auto;\n        visibility: hidden;\n        -webkit-transform: translateX(100%);\n        transform: translateX(100%);\n}\n\n.left-drawer.dragging > #drawer:not(.iron-selected), .left-drawer.peeking > #drawer:not(.iron-selected), .right-drawer.dragging > #drawer:not(.iron-selected), .right-drawer.peeking > #drawer:not(.iron-selected) {\n  visibility: visible;\n}\n\n.narrow-layout > #main {\n  padding: 0;\n}\n\n.right-drawer.narrow-layout > #main {\n  left: 0;\n        right: 0;\n}\n\n.narrow-layout > #main:not(.iron-selected) > #scrim, .dragging > #main > #scrim {\n  visibility: visible;\n        opacity: var(--paper-drawer-panel-scrim-opacity, 1);\n}\n\n.narrow-layout > #main > * {\n  margin: 0;\n        min-height: 100%;\n        left: 0;\n        right: 0;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n}\n\n</style>\n\n    <iron-media-query id="mq" on-query-matches-changed="_onQueryMatchesChanged" query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]">\n    </iron-media-query>\n\n    <iron-selector attr-for-selected="id" class$="[[_computeIronSelectorClass(narrow, _transition, dragging, rightDrawer, peeking)]]" on-transitionend="_onTransitionEnd" activate-event selected="[[selected]]">\n\n      <div id="main">\n        <slot name="main"></slot>\n        <div id="scrim" on-tap="closeDrawer"></div>\n      </div>\n\n      <div id="drawer">\n        <slot id="drawerSlot" name="drawer"></slot>\n      </div>\n\n    </iron-selector>\n'],c||(c=d.slice(0)),r=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(c)}})))),is:"paper-drawer-panel",behaviors:[s.z],properties:{defaultSelected:{type:String,value:"main"},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:"256px"},drawerToggleAttribute:{type:String,value:"paper-drawer-toggle"},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return"transform"in this.style}},hasWillChange:{type:Boolean,value:function(){return"willChange"in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:"768px"},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerFocusSelector:{type:String,value:'a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'},_transition:{type:Boolean,value:!1}},listeners:{tap:"_onTap",track:"_onTrack",down:"_downHandler",up:"_upHandler"},observers:["_forceNarrowChanged(forceNarrow, defaultSelected)","_toggleFocusListener(selected)","_setMainStyle(narrow, rightDrawer, drawerWidth)","_setDrawerStyle(drawerWidth)"],ready:function(){this._transition=!0,this._boundFocusListener=this._didFocus.bind(this),console.warn(this.is,"is deprecated. Please use app-layout instead!")},togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="drawer"}.bind(this))},closeDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="main"}.bind(this))},_onTransitionEnd:function(t){if((0,a.vz)(t).localTarget===this.$.drawer&&("left"!==t.propertyName&&"right"!==t.propertyName||this.notifyResize(),"transform"===t.propertyName&&(requestAnimationFrame(function(){this.toggleClass("transition-drawer",!1,this.$.drawer)}.bind(this)),"drawer"===this.selected))){var e=this._getAutoFocusedNode();e&&e.focus()}},_computeIronSelectorClass:function(t,e,n,i,o){return function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(n);return e.join(" ")}({dragging:n,"narrow-layout":t,"right-drawer":i,"left-drawer":!i,transition:e,peeking:o})},_setDrawerStyle:function(t){this.$.drawer.style.width=t},_setMainStyle:function(t,e,n){this.$.main.style.left=t||e?"0":n,e&&(this.$.main.style.right=t?"":n)},_computeMediaQuery:function(t,e){return t?"":"(max-width: "+e+")"},_computeSwipeOverlayHidden:function(t,e){return!t||e},_onTrack:function(t){if(!u||this===u)switch(t.detail.state){case"start":this._trackStart(t);break;case"track":this._trackX(t);break;case"end":this._trackEnd(t)}},_responsiveChange:function(t){this._setNarrow(t),this.selected=this.narrow?this.defaultSelected:null,this.setScrollDirection(this._swipeAllowed()?"y":"all"),this.fire("paper-responsive-change",{narrow:this.narrow})},_onQueryMatchesChanged:function(t){this._responsiveChange(t.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return"main"===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(t){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(t)&&!u&&(this._startEdgePeek(),t.preventDefault(),u=this)},_upHandler:function(){this._stopEdgePeek(),u=null},_onTap:function(t){var e=(0,a.vz)(t).localTarget;e&&this.drawerToggleAttribute&&e.hasAttribute(this.drawerToggleAttribute)&&this.togglePanel()},_isEdgeTouch:function(t){var e=t.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?e>=this.offsetWidth-this.edgeSwipeSensitivity:e<=this.edgeSwipeSensitivity)},_trackStart:function(t){this._swipeAllowed()&&(u=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(t)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this._transition=!1))},_translateXForDeltaX:function(t){var e=this._isMainSelected();return this.rightDrawer?Math.max(0,e?this.width+t:t):Math.min(0,e?t-this.width:t)},_trackX:function(t){if(this.dragging){var e=t.detail.dx;if(this.peeking){if(Math.abs(e)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(e))}},_trackEnd:function(t){if(this.dragging){var e=t.detail.dx>0;this._setDragging(!1),this._transition=!0,u=null,this._moveDrawer(null),this.rightDrawer?this[e?"closeDrawer":"openDrawer"]():this[e?"openDrawer":"closeDrawer"]()}},_transformForTranslateX:function(t){return null===t?"":this.hasWillChange?"translateX("+t+"px)":"translate3d("+t+"px, 0, 0)"},_moveDrawer:function(t){this.transform(this._transformForTranslateX(t),this.$.drawer)},_getDrawerSlot:function(){return(0,a.vz)(this.$.drawerSlot).getDistributedNodes()[0]},_getAutoFocusedNode:function(){return this.drawerFocusSelector?(0,a.vz)(this._getDrawerSlot()).querySelector(this.drawerFocusSelector):null},_toggleFocusListener:function(t){"drawer"===t?this.addEventListener("focus",this._boundFocusListener,!0):this.removeEventListener("focus",this._boundFocusListener,!0)},_didFocus:function(t){var e=this._getAutoFocusedNode();if(e){var n=(0,a.vz)(t).path,i=(n[0],this._getDrawerSlot());-1!==n.indexOf(i)||(t.stopPropagation(),e.focus())}},_isDrawerClosed:function(t,e){return!t||"drawer"!==e}})},5021:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n  <style css-build="shadow">html {\n  --google-red-100: #f4c7c3;\n      --google-red-300: #e67c73;\n      --google-red-500: #db4437;\n      --google-red-700: #c53929;\n\n      --google-blue-100: #c6dafc;\n      --google-blue-300: #7baaf7;\n      --google-blue-500: #4285f4;\n      --google-blue-700: #3367d6;\n\n      --google-green-100: #b7e1cd;\n      --google-green-300: #57bb8a;\n      --google-green-500: #0f9d58;\n      --google-green-700: #0b8043;\n\n      --google-yellow-100: #fce8b2;\n      --google-yellow-300: #f7cb4d;\n      --google-yellow-500: #f4b400;\n      --google-yellow-700: #f09300;\n\n      --google-grey-100: #f5f5f5;\n      --google-grey-300: #e0e0e0;\n      --google-grey-500: #9e9e9e;\n      --google-grey-700: #616161;\n\n      \n\n      --paper-red-50: #ffebee;\n      --paper-red-100: #ffcdd2;\n      --paper-red-200: #ef9a9a;\n      --paper-red-300: #e57373;\n      --paper-red-400: #ef5350;\n      --paper-red-500: #f44336;\n      --paper-red-600: #e53935;\n      --paper-red-700: #d32f2f;\n      --paper-red-800: #c62828;\n      --paper-red-900: #b71c1c;\n      --paper-red-a100: #ff8a80;\n      --paper-red-a200: #ff5252;\n      --paper-red-a400: #ff1744;\n      --paper-red-a700: #d50000;\n\n      --paper-pink-50: #fce4ec;\n      --paper-pink-100: #f8bbd0;\n      --paper-pink-200: #f48fb1;\n      --paper-pink-300: #f06292;\n      --paper-pink-400: #ec407a;\n      --paper-pink-500: #e91e63;\n      --paper-pink-600: #d81b60;\n      --paper-pink-700: #c2185b;\n      --paper-pink-800: #ad1457;\n      --paper-pink-900: #880e4f;\n      --paper-pink-a100: #ff80ab;\n      --paper-pink-a200: #ff4081;\n      --paper-pink-a400: #f50057;\n      --paper-pink-a700: #c51162;\n\n      --paper-purple-50: #f3e5f5;\n      --paper-purple-100: #e1bee7;\n      --paper-purple-200: #ce93d8;\n      --paper-purple-300: #ba68c8;\n      --paper-purple-400: #ab47bc;\n      --paper-purple-500: #9c27b0;\n      --paper-purple-600: #8e24aa;\n      --paper-purple-700: #7b1fa2;\n      --paper-purple-800: #6a1b9a;\n      --paper-purple-900: #4a148c;\n      --paper-purple-a100: #ea80fc;\n      --paper-purple-a200: #e040fb;\n      --paper-purple-a400: #d500f9;\n      --paper-purple-a700: #aa00ff;\n\n      --paper-deep-purple-50: #ede7f6;\n      --paper-deep-purple-100: #d1c4e9;\n      --paper-deep-purple-200: #b39ddb;\n      --paper-deep-purple-300: #9575cd;\n      --paper-deep-purple-400: #7e57c2;\n      --paper-deep-purple-500: #673ab7;\n      --paper-deep-purple-600: #5e35b1;\n      --paper-deep-purple-700: #512da8;\n      --paper-deep-purple-800: #4527a0;\n      --paper-deep-purple-900: #311b92;\n      --paper-deep-purple-a100: #b388ff;\n      --paper-deep-purple-a200: #7c4dff;\n      --paper-deep-purple-a400: #651fff;\n      --paper-deep-purple-a700: #6200ea;\n\n      --paper-indigo-50: #e8eaf6;\n      --paper-indigo-100: #c5cae9;\n      --paper-indigo-200: #9fa8da;\n      --paper-indigo-300: #7986cb;\n      --paper-indigo-400: #5c6bc0;\n      --paper-indigo-500: #3f51b5;\n      --paper-indigo-600: #3949ab;\n      --paper-indigo-700: #303f9f;\n      --paper-indigo-800: #283593;\n      --paper-indigo-900: #1a237e;\n      --paper-indigo-a100: #8c9eff;\n      --paper-indigo-a200: #536dfe;\n      --paper-indigo-a400: #3d5afe;\n      --paper-indigo-a700: #304ffe;\n\n      --paper-blue-50: #e3f2fd;\n      --paper-blue-100: #bbdefb;\n      --paper-blue-200: #90caf9;\n      --paper-blue-300: #64b5f6;\n      --paper-blue-400: #42a5f5;\n      --paper-blue-500: #2196f3;\n      --paper-blue-600: #1e88e5;\n      --paper-blue-700: #1976d2;\n      --paper-blue-800: #1565c0;\n      --paper-blue-900: #0d47a1;\n      --paper-blue-a100: #82b1ff;\n      --paper-blue-a200: #448aff;\n      --paper-blue-a400: #2979ff;\n      --paper-blue-a700: #2962ff;\n\n      --paper-light-blue-50: #e1f5fe;\n      --paper-light-blue-100: #b3e5fc;\n      --paper-light-blue-200: #81d4fa;\n      --paper-light-blue-300: #4fc3f7;\n      --paper-light-blue-400: #29b6f6;\n      --paper-light-blue-500: #03a9f4;\n      --paper-light-blue-600: #039be5;\n      --paper-light-blue-700: #0288d1;\n      --paper-light-blue-800: #0277bd;\n      --paper-light-blue-900: #01579b;\n      --paper-light-blue-a100: #80d8ff;\n      --paper-light-blue-a200: #40c4ff;\n      --paper-light-blue-a400: #00b0ff;\n      --paper-light-blue-a700: #0091ea;\n\n      --paper-cyan-50: #e0f7fa;\n      --paper-cyan-100: #b2ebf2;\n      --paper-cyan-200: #80deea;\n      --paper-cyan-300: #4dd0e1;\n      --paper-cyan-400: #26c6da;\n      --paper-cyan-500: #00bcd4;\n      --paper-cyan-600: #00acc1;\n      --paper-cyan-700: #0097a7;\n      --paper-cyan-800: #00838f;\n      --paper-cyan-900: #006064;\n      --paper-cyan-a100: #84ffff;\n      --paper-cyan-a200: #18ffff;\n      --paper-cyan-a400: #00e5ff;\n      --paper-cyan-a700: #00b8d4;\n\n      --paper-teal-50: #e0f2f1;\n      --paper-teal-100: #b2dfdb;\n      --paper-teal-200: #80cbc4;\n      --paper-teal-300: #4db6ac;\n      --paper-teal-400: #26a69a;\n      --paper-teal-500: #009688;\n      --paper-teal-600: #00897b;\n      --paper-teal-700: #00796b;\n      --paper-teal-800: #00695c;\n      --paper-teal-900: #004d40;\n      --paper-teal-a100: #a7ffeb;\n      --paper-teal-a200: #64ffda;\n      --paper-teal-a400: #1de9b6;\n      --paper-teal-a700: #00bfa5;\n\n      --paper-green-50: #e8f5e9;\n      --paper-green-100: #c8e6c9;\n      --paper-green-200: #a5d6a7;\n      --paper-green-300: #81c784;\n      --paper-green-400: #66bb6a;\n      --paper-green-500: #4caf50;\n      --paper-green-600: #43a047;\n      --paper-green-700: #388e3c;\n      --paper-green-800: #2e7d32;\n      --paper-green-900: #1b5e20;\n      --paper-green-a100: #b9f6ca;\n      --paper-green-a200: #69f0ae;\n      --paper-green-a400: #00e676;\n      --paper-green-a700: #00c853;\n\n      --paper-light-green-50: #f1f8e9;\n      --paper-light-green-100: #dcedc8;\n      --paper-light-green-200: #c5e1a5;\n      --paper-light-green-300: #aed581;\n      --paper-light-green-400: #9ccc65;\n      --paper-light-green-500: #8bc34a;\n      --paper-light-green-600: #7cb342;\n      --paper-light-green-700: #689f38;\n      --paper-light-green-800: #558b2f;\n      --paper-light-green-900: #33691e;\n      --paper-light-green-a100: #ccff90;\n      --paper-light-green-a200: #b2ff59;\n      --paper-light-green-a400: #76ff03;\n      --paper-light-green-a700: #64dd17;\n\n      --paper-lime-50: #f9fbe7;\n      --paper-lime-100: #f0f4c3;\n      --paper-lime-200: #e6ee9c;\n      --paper-lime-300: #dce775;\n      --paper-lime-400: #d4e157;\n      --paper-lime-500: #cddc39;\n      --paper-lime-600: #c0ca33;\n      --paper-lime-700: #afb42b;\n      --paper-lime-800: #9e9d24;\n      --paper-lime-900: #827717;\n      --paper-lime-a100: #f4ff81;\n      --paper-lime-a200: #eeff41;\n      --paper-lime-a400: #c6ff00;\n      --paper-lime-a700: #aeea00;\n\n      --paper-yellow-50: #fffde7;\n      --paper-yellow-100: #fff9c4;\n      --paper-yellow-200: #fff59d;\n      --paper-yellow-300: #fff176;\n      --paper-yellow-400: #ffee58;\n      --paper-yellow-500: #ffeb3b;\n      --paper-yellow-600: #fdd835;\n      --paper-yellow-700: #fbc02d;\n      --paper-yellow-800: #f9a825;\n      --paper-yellow-900: #f57f17;\n      --paper-yellow-a100: #ffff8d;\n      --paper-yellow-a200: #ffff00;\n      --paper-yellow-a400: #ffea00;\n      --paper-yellow-a700: #ffd600;\n\n      --paper-amber-50: #fff8e1;\n      --paper-amber-100: #ffecb3;\n      --paper-amber-200: #ffe082;\n      --paper-amber-300: #ffd54f;\n      --paper-amber-400: #ffca28;\n      --paper-amber-500: #ffc107;\n      --paper-amber-600: #ffb300;\n      --paper-amber-700: #ffa000;\n      --paper-amber-800: #ff8f00;\n      --paper-amber-900: #ff6f00;\n      --paper-amber-a100: #ffe57f;\n      --paper-amber-a200: #ffd740;\n      --paper-amber-a400: #ffc400;\n      --paper-amber-a700: #ffab00;\n\n      --paper-orange-50: #fff3e0;\n      --paper-orange-100: #ffe0b2;\n      --paper-orange-200: #ffcc80;\n      --paper-orange-300: #ffb74d;\n      --paper-orange-400: #ffa726;\n      --paper-orange-500: #ff9800;\n      --paper-orange-600: #fb8c00;\n      --paper-orange-700: #f57c00;\n      --paper-orange-800: #ef6c00;\n      --paper-orange-900: #e65100;\n      --paper-orange-a100: #ffd180;\n      --paper-orange-a200: #ffab40;\n      --paper-orange-a400: #ff9100;\n      --paper-orange-a700: #ff6500;\n\n      --paper-deep-orange-50: #fbe9e7;\n      --paper-deep-orange-100: #ffccbc;\n      --paper-deep-orange-200: #ffab91;\n      --paper-deep-orange-300: #ff8a65;\n      --paper-deep-orange-400: #ff7043;\n      --paper-deep-orange-500: #ff5722;\n      --paper-deep-orange-600: #f4511e;\n      --paper-deep-orange-700: #e64a19;\n      --paper-deep-orange-800: #d84315;\n      --paper-deep-orange-900: #bf360c;\n      --paper-deep-orange-a100: #ff9e80;\n      --paper-deep-orange-a200: #ff6e40;\n      --paper-deep-orange-a400: #ff3d00;\n      --paper-deep-orange-a700: #dd2c00;\n\n      --paper-brown-50: #efebe9;\n      --paper-brown-100: #d7ccc8;\n      --paper-brown-200: #bcaaa4;\n      --paper-brown-300: #a1887f;\n      --paper-brown-400: #8d6e63;\n      --paper-brown-500: #795548;\n      --paper-brown-600: #6d4c41;\n      --paper-brown-700: #5d4037;\n      --paper-brown-800: #4e342e;\n      --paper-brown-900: #3e2723;\n\n      --paper-grey-50: #fafafa;\n      --paper-grey-100: #f5f5f5;\n      --paper-grey-200: #eeeeee;\n      --paper-grey-300: #e0e0e0;\n      --paper-grey-400: #bdbdbd;\n      --paper-grey-500: #9e9e9e;\n      --paper-grey-600: #757575;\n      --paper-grey-700: #616161;\n      --paper-grey-800: #424242;\n      --paper-grey-900: #212121;\n\n      --paper-blue-grey-50: #eceff1;\n      --paper-blue-grey-100: #cfd8dc;\n      --paper-blue-grey-200: #b0bec5;\n      --paper-blue-grey-300: #90a4ae;\n      --paper-blue-grey-400: #78909c;\n      --paper-blue-grey-500: #607d8b;\n      --paper-blue-grey-600: #546e7a;\n      --paper-blue-grey-700: #455a64;\n      --paper-blue-grey-800: #37474f;\n      --paper-blue-grey-900: #263238;\n\n      \n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; \n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      \n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; \n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n}\n\n</style>\n\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},9713:(t,e,n)=>{"use strict";var i;n(2674),n(5021);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n  <style css-build="shadow">html {\n  --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      \n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      \n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  \n      --light-theme-disabled-color: #9b9b9b;  \n      --light-theme-divider-color: #dbdbdb;\n\n      \n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  \n      --dark-theme-disabled-color: #646464;  \n      --dark-theme-divider-color: #3c3c3c;\n\n      \n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n}\n\n</style>\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},1883:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n  <style css-build="shadow">html {\n  --shadow-transition_-_transition:  box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);;\n\n      --shadow-none_-_box-shadow:  none;;\n\n      \n\n      --shadow-elevation-2dp_-_box-shadow:  0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);;\n\n      --shadow-elevation-3dp_-_box-shadow:  0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-4dp_-_box-shadow:  0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-6dp_-_box-shadow:  0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-8dp_-_box-shadow:  0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-12dp_-_box-shadow:  0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-16dp_-_box-shadow:  0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);;\n\n      --shadow-elevation-24dp_-_box-shadow:  0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);;\n}\n\n</style>\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},6733:(t,e,n)=>{"use strict";n(2674);var i,o,r,s=n(1440),a=n(7593),l=n(1510);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,s.k)({_template:(0,l.d)(i||(o=['\x3c!--css-build:shadow--\x3e<style scope="paper-tooltip">:host {\n  display: block;\n        position: absolute;\n        outline: none;\n        z-index: 1002;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        cursor: default;\n}\n\n#tooltip {\n  display: block;\n  outline: none;\n  -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);\n  line-height: 1;\n\n\t/** CPQ Style Properties */\n\tpadding: var(--paper-tooltip-padding, 8px);\n  color: var(--paper-tooltip-color, var(--paper-tooltip-text-color, white));\n  font-family: var(--paper-tooltip-font-family, var(--paper-font-common-base_-_font-family));\n  font-size: var(--paper-tooltip-font-size, 10px);\n\tborder-radius: var(--paper-tooltip-border-radius, 2px);\n  background-color: var(--paper-tooltip-background-color, var(--paper-tooltip-background, #616161));\n\tz-index: var(--paper-tooltip-z-index);\n\tbox-shadow: var(--paper-tooltip-box-shadow);\n\tborder: var(--paper-tooltip-border);\n\topacity: var(--paper-tooltip-opacity);\n}\n\n@keyframes keyFrameScaleUp {\n0% {\n  transform: scale(0.0);\n}\n\n100% {\n  transform: scale(1.0);\n}\n\n}\n\n@keyframes keyFrameScaleDown {\n0% {\n  transform: scale(1.0);\n}\n\n100% {\n  transform: scale(0.0);\n}\n\n}\n\n@keyframes keyFrameFadeInOpacity {\n0% {\n  opacity: 0;\n}\n\n100% {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n}\n\n@keyframes keyFrameFadeOutOpacity {\n0% {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n100% {\n  opacity: 0;\n}\n\n}\n\n@keyframes keyFrameSlideDownIn {\n0% {\n  transform: translateY(-2000px);\n          opacity: 0;\n}\n\n10% {\n  opacity: 0.2;\n}\n\n100% {\n  transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n}\n\n@keyframes keyFrameSlideDownOut {\n0% {\n  transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n}\n\n10% {\n  opacity: 0.2;\n}\n\n100% {\n  transform: translateY(-2000px);\n          opacity: 0;\n}\n\n}\n\n.fade-in-animation {\n  opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameFadeInOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.fade-out-animation {\n  opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 0ms);\n        animation-name: keyFrameFadeOutOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.scale-up-animation {\n  transform: scale(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameScaleUp;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.scale-down-animation {\n  transform: scale(1);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameScaleDown;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.slide-down-animation {\n  transform: translateY(-2000px);\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownIn;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.slide-down-animation-out {\n  transform: translateY(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownOut;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        ;\n}\n\n.cancel-animation {\n  animation-delay: -30s !important;\n}\n\n.hidden {\n  display: none !important;\n}\n\n</style>\n\n    <div id="tooltip" class="hidden">\n      <slot></slot>\n    </div>\n'],r||(r=o.slice(0)),i=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}})))),is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500,observer:"_delayChange"},animationEntry:{type:String,value:""},animationExit:{type:String,value:""},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{webkitAnimationEnd:"_onAnimationEnd"},get target(){var t=(0,a.vz)(this).parentNode,e=(0,a.vz)(this).getOwnerRoot();return this.for?(0,a.vz)(e).querySelector("#"+this.for):t.nodeType==Node.DOCUMENT_FRAGMENT_NODE?e.host:t},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},playAnimation:function(t){"entry"===t?this.show():"exit"===t&&this.hide()},cancelAnimation:function(){this.$.tooltip.classList.add("cancel-animation")},show:function(){if(!this._showing){if(""===(0,a.vz)(this).textContent.trim()){for(var t=!0,e=(0,a.vz)(this).getEffectiveChildNodes(),n=0;n<e.length;n++)if(""!==e[n].textContent.trim()||e[n].shadowRoot&&e[n].shadowRoot.textContent&&""!==e[n].shadowRoot.textContent.trim()){t=!1;break}if(t)return}this._showing=!0,this.$.tooltip.classList.remove("hidden"),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.updatePosition(),this._animationPlaying=!0,this.$.tooltip.classList.add(this._getAnimationType("entry"))}},hide:function(){if(this._showing){if(this._animationPlaying)return this._showing=!1,void this._cancelAnimation();this._onAnimationFinish(),this._showing=!1,this._animationPlaying=!0}},updatePosition:function(){if(this._target&&this.offsetParent){var t=this.offset;14!=this.marginTop&&14==this.offset&&(t=this.marginTop);var e,n,i=this.offsetParent.getBoundingClientRect(),o=this._target.getBoundingClientRect(),r=this.getBoundingClientRect(),s=(o.width-r.width)/2,a=(o.height-r.height)/2,l=o.left-i.left,d=o.top-i.top;switch(this.position){case"top":e=l+s,n=d-r.height-t;break;case"bottom":e=l+s,n=d+o.height+t;break;case"left":e=l-r.width-t,n=d+a;break;case"right":e=l+o.width+t,n=d+a}this.fitToVisibleBounds?(i.left+e+r.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,e)+"px",this.style.right="auto"),i.top+n+r.height>window.innerHeight?(this.style.bottom=i.height-d+t+"px",this.style.top="auto"):(this.style.top=Math.max(-i.top,n)+"px",this.style.bottom="auto")):(this.style.left=e+"px",this.style.top=n+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide")),this.listen(this.$.tooltip,"animationend","_onAnimationEnd"),this.listen(this,"mouseenter","hide")},_findTarget:function(){this.manualMode||this._removeListeners(),this._target=this.target,this.manualMode||this._addListeners()},_delayChange:function(t){500!==t&&this.updateStyles({"--paper-tooltip-delay-in":t+"ms"})},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_cancelAnimation:function(){this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add("hidden")},_onAnimationFinish:function(){this._showing&&(this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add(this._getAnimationType("exit")))},_onAnimationEnd:function(){this._animationPlaying=!1,this._showing||(this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.add("hidden"))},_getAnimationType:function(t){if("entry"===t&&""!==this.animationEntry)return this.animationEntry;if("exit"===t&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[t]&&"string"==typeof this.animationConfig[t][0].name){if(this.animationConfig[t][0].timing&&this.animationConfig[t][0].timing.delay&&0!==this.animationConfig[t][0].timing.delay){var e=this.animationConfig[t][0].timing.delay;"entry"===t?this.updateStyles({"--paper-tooltip-delay-in":e+"ms"}):"exit"===t&&this.updateStyles({"--paper-tooltip-delay-out":e+"ms"})}return this.animationConfig[t][0].name}},_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide")),this.unlisten(this.$.tooltip,"animationend","_onAnimationEnd"),this.unlisten(this,"mouseenter","hide")}})},4316:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(984);class o{constructor(t,e,n,i){this._validateConstructorInputs(n,i),this.field=t,this.record=e,this.getValueCallback=n,this.setValueCallback=i}hasRelationship(){return!!this.getRelationship()}getRelationship(){let t=o.getRelationshipField(this.field);if(t)return null!=this.getValueCallback?this.getValueCallback(t):this.record[t]}getRelationshipName(t){let e=this.getRelationship();if(e)return e[t||this._getLookupName(e)]}addRelationshipName(t,e,n){let i=this.buildRelationship(t,e,n);if(i.value.Id||(i.value=null),i)return null!=this.setValueCallback?this.setValueCallback(i.field,i.value):void(this.record[i.field]=i.value)}buildRelationship(t,e,n){let r=o.getRelationshipField(this.field);if(!r)return;let s=this.getRelationship()||{},a=new i.Z(n).getNameField();return s.Id=t,s[a]=e,{value:s,field:r}}_getLookupName(t){let e=t.attributes?t.attributes.type:"";return new i.Z(e).getNameField()}static getRelationshipField(t,e){let n;return t.endsWith("__c")?n=t.replace(/__c$/,"__r"):t.endsWith("Id")&&(n=t.substring(0,t.length-2)),n&&e?n+"."+new i.Z(e).getNameField():n}_validateConstructorInputs(t,e){if(null!=t&&"function"!=typeof t)throw new TypeError("callbacks required when record is null");if(null!=e&&"function"!=typeof e)throw new TypeError("callbacks required when record is null")}}},9712:(t,e,n)=>{"use strict";var i,o=n(1929),r=n(1305);n(9229);class s extends r.H3{static get is(){return"sb-field-md"}static get properties(){return{fields:Array,object:String,md:{type:Object,notify:!0},error:{type:String,notify:!0},background:{type:Boolean,value:!1},doNotFixObjectName:{type:Boolean,value:!1}}}get prefix(){return o.I.org.prefix?o.I.org.prefix+"__":""}static get observers(){return["initFieldSetDescribe(fields)"]}ready(){super.ready(),this.$.describe.addEventListener("describe-changed",function(t){let e=t.detail.value.md,n=t.detail.value.fields,i=[],o={};for(let t=0,r=n.length;t<r;t++){if(!e[n[t]])continue;let r=n[t].split(".")[0],s=n[t].split(".")[1];o[r]||(o[r]={}),i.push(e[n[t]]),o[r][s]=e[n[t]]}this.md={fields:i,fieldsByObject:o}}.bind(this)),this.$.describe.addEventListener("error-changed",function(t){this.error=t.detail.value}.bind(this))}initFieldSetDescribe(){let t=[];this.fields.forEach(function(e){let n=e.split(".");2===n.length?t.push(this.buildFieldList(n[0],n[1])):t.push(this.buildFieldList(this.object,e))}.bind(this)),this.$.describe.fields=t}buildFieldList(t,e){return this.doNotFixObjectName||!t.endsWith("__c")||t.startsWith(this.prefix)?t+"."+e:this.prefix+t+"."+e}static get template(){return(0,r.dy)(i||(t=['\n\t\t\t<sb-describe id="describe" background="[[background]]"></sb-describe>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(s.is,s)},7255:(t,e,n)=>{"use strict";var i,o=n(1305),r=n(8765),s=n(4166);n(8011),n(5799);class a extends o.H3{static get is(){return"sb-job-checker"}static get properties(){return{spinner:{type:Boolean,value:!1},useSpinner:{type:Boolean,value:!0},data:Object,status:String,result:{type:Object,notify:!0},error:{type:String,notify:!0},asyncNumList:{type:Array,value:[]},firstStatusTime:Number,lastStatusTime:Number}}static get observers(){return["_ping(data)"]}_useSpinner(){return this.spinner&&this.useSpinner}ready(){super.ready(),this.firstStatusTime=Date.now(),this.lastStatusTime=Date.now(),this._setLoadingSpinner(!1),this.$.service.addEventListener("response-changed",function(t){this._checkStatus(t)}.bind(this)),this.$.service.addEventListener("error-changed",function(t){this.error=t.detail.value,this._setLoadingSpinner(!1)}.bind(this))}_setLoadingSpinner(t){this.spinner=t,(0,r.gz)("RootState","showSpinnerMessage",t),!1===t&&(0,r.ZH)("RootState","spinnerStatus"),this.$.loadingSpinner.show=this._useSpinner()}_ping(t){this._setLoadingSpinner(!0),this.$.service.background=!0,this.$.service.model=void 0,this.$.service.model=t}_checkStatus(t){let e=t.detail.value;if(null!=e){let t=e.job.Id||e.jobId;if(this._setJobStatus(e.job.Status),this._isFinished())if(this._isFailure())this.error={message:e.job.ExtendedStatus},this._setLoadingSpinner(!1);else{if(null!=e.payload){this.result=e;for(let t=0;t<this.asyncNumList.length;t++)clearTimeout(this.asyncNumList[t])}this._getStatusMessages(),this._setLoadingSpinner(!1),null!=e.payload&&this.dispatchEvent((0,s.FU)("job-completed"))}else{this.lastStatusTime=Date.now(),this.data.jobId=t,this._getStatusMessages();let e=setTimeout((()=>{this._ping(this.data)}),1e3);this.asyncNumList.push(e)}}}_setJobStatus(t){this.status=t;let e=this._convertJobStatus(t);(0,r.gz)("RootState","spinnerStatus",e)}_convertJobStatus(t){return{Queued:"Waiting",Holding:"Waiting",Aborted:"Cancelled"}[t]||t}_getStatusMessages(){let t=Date.now()-this.lastStatusTime;console.log("Record Id: "+this.data.recordId+" Job Type: "+this.data.jobType+" [Job Id: "+this.data.jobId+" - Status:"+this.status+"] Time : "+(this.lastStatusTime-this.firstStatusTime)+" [Wait Time: "+t+"]")}_isFailure(){return this.status&&("Aborted"==this.status||"Failed"==this.status)}_isFinished(){return this.status&&("Completed"==this.status||this._isFailure())}static get template(){return(0,o.dy)(i||(t=['\n\t\t<sb-loading-spinner id="loadingSpinner"></sb-loading-spinner>\n\t\t<sb-service id="service" saver="JobCheckerServiceProvider.GetJobStatus"></sb-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(a.is,a)},4589:(t,e,n)=>{"use strict";var i,o=n(5178),r=n(8529),s=n(1929),a=n(1305),l=n(4166),d=n(6008);n(5799);function c(t,e){let n=o.C.get("LineEditor",t,"promise");return n||function(t,e){let n=new r.y(e).getConnection().then((t=>new window.SB.QuoteDAO(e,t))).then((e=>e.loadEditorModel(t)));return o.C.add("LineEditor",t,n,"promise"),n}(t,e)}function u(t){return t.substring(0,15)}class h extends a.H3{constructor(){super(),this.showSpinner=!1}static get is(){return"sb-line-editor-read"}static get properties(){return{quoteId:String,background:{type:Boolean,value:!1},lineEditorModel:{type:Object,notify:!0},error:{type:Array,notify:!0}}}static get observers(){return["_updateObserver(quoteId, background)"]}get prefix(){return s.I.org.prefix?s.I.org.prefix:""}_updateObserver(t,e){if(void 0!==t&&void 0!==e)return this._update(t,e)}update(t){t&&this.clearCache(),this._update(this.quoteId)}_update(t){this.showSpinner=!0;let e=u(t),n=o.C.get("LineEditor",e);n?d.YA.run((()=>{this.lineEditorModel=n,this.showSpinner=!1})):c(e,this.prefix).then((t=>{"Incomplete"===t?this._retryUpdateLater(e):(this.cache(e,t),this.lineEditorModel=t,this._setIsLastReadQuoteUnopened(),this.showSpinner=!1,this.startingPolling=null)})).catch(function(t){this.showSpinner=!1,this.dispatchEvent((0,l.FU)("toggle-page-loaded",{pageLoaded:!0})),this.error=[t.message||t]}.bind(this))}clearCache(){let t=u(this.quoteId);this._clearedLineEditor=o.C.get("LineEditor",t),o.C.remove("LineEditor",t,"promise"),o.C.remove("LineEditor",t,"value")}restoreCache(){if(!this._clearedLineEditor)return;let t=u(this.quoteId);this.cache(t,this._clearedLineEditor),this._clearedLineEditor=null}cache(t,e){o.C.add("LineEditor",u(t),e,"value",this)}_setIsLastReadQuoteUnopened(){this.isLastReadQuoteUnopened=this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"],this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"]=!1}_retryUpdateLater(t){this.startedPolling=this.startedPolling||Date.now();Date.now(),this.startedPolling;setTimeout((()=>{this.update(!0)}),1e3)}static get template(){return(0,a.dy)(i||(t=['\n\t\t\t<sb-loading-spinner id="loadingSpinner" show="[[showSpinner]]"/>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(h.is,h)},2150:(t,e,n)=>{"use strict";var i,o=n(4155),r=n(922),s=n(1305);n(8011);class a extends s.H3{static get is(){return"sb-search-model-load"}static get properties(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},lineAggregationMethod:{type:String,value:null},processId:{type:String,value:null},actionId:{type:String,value:null},searchModel:{type:Object,notify:!0},filters:{type:Array},fieldSet:{type:String},error:{type:Array,notify:!0},loader:{type:String,value:null}}}static get observers(){return["_loadObserver(quote, processId, actionId)"]}_loadObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.load(t,e,n)}load(){this.uid=null;var t=(new o.J).add("processId",this.processId).add("actionId",this.actionId).add("filters",this.filters).add("fieldSet",this.fieldSet);if(this.sendQuoteRecord?t.addObject("quote",this.quote.record):t.addQuote("quote",this.quote),this.lineAggregationMethod){let e=new r.z(this.quote);if(e[this.lineAggregationMethod]){let n=e[this.lineAggregationMethod]();n&&t.addObject("aggregateLineData",n,void 0,void 0,!0)}}this.context=t.build()}static get template(){return(0,s.dy)(i||(t=['\n\t\t\t<sb-service id="service" loader="[[loader]]" cache="searchModel" uid="[[uid]]" context="[[context]]" on-response-changed="handleResponseChanged" on-error-changed="handleErrorChanged"></sb-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}handleResponseChanged(t){this.searchModel=t.detail.value}handleErrorChanged(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}}customElements.define(a.is,a)},9277:(t,e,n)=>{"use strict";var i,o=n(4155),r=n(1305);n(2337);class s extends r.H3{static get is(){return"sb-search-model-select"}static get properties(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},stripQuoteLines:{type:Boolean,value:!1},selectedProducts:{type:Object,notify:!0},selectedProductList:Array,error:{type:Array,notify:!0},result:{type:Object,notify:!0},targetGroupKey:{type:Number,value:null},quoteProcess:{type:String,value:null},saver:String,background:{type:Boolean,value:!0},useCache:{type:Boolean,value:!0},usesClientCalculator:{type:Boolean,value:!1}}}static get observers(){return["_invokeSaverObserver(selectedProducts, quote)","_invokeSaver(selectedProductList)"]}ready(){super.ready(),this.$.service.addEventListener("response-changed",function(t){this.result=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}_invokeSaverObserver(t,e){if(void 0!==t&&void 0!==e)return this.invokeSaver(t,e)}invokeSaver(){let t=[];for(let e in this.selectedProducts)t.push(this.selectedProducts[e]);this.selectedProductList=t}_invokeSaver(){!0===this.useCache&&(this.$.service.uid=this.quote.record.Id.substring(0,15));let t=this.quote.lineItems;var e=(new o.J).addObject("products",this.selectedProductList).add("targetGroupKey",this.targetGroupKey).addObject("quoteProcess",this.quoteProcess);this.sendQuoteRecord?e.addObject("quoteRecord",this.quote.record):this.stripQuoteLines&&this.usesClientCalculator?(this.quote.lineItems=[],this.quote.partialVO=0!=t.length,e.addQuote("quote",this.quote)):e.addQuote("quote",this.quote),this.$.service.model=e.build(),this.quote.lineItems=t,this.quote.partialVO=!1}static get template(){return(0,r.dy)(i||(t=['\n\t\t\t<sb-async-service id="service" cache="searchModel" saver="[[saver]]" background="[[background]]"></sb-async-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(s.is,s)},3910:(t,e,n)=>{"use strict";n.d(e,{E:()=>a});var i=n(4166);class o{constructor(t,e,n){this.element=t,this.focusEvents=e,this.blurEvents=n}signalOnFocus(t,e){this.fireFocusSignal=this.fireFocusSignal||this._fireSignal.bind(this,t,!0),this.fireBlurSignal=this.fireBlurSignal||this._fireSignal.bind(this,t,!1);for(let t of this.focusEvents)this.element.removeEventListener(t,this.fireFocusSignal),e||this.element.addEventListener(t,this.fireFocusSignal);for(let t of this.blurEvents)this.element.removeEventListener(t,this.fireBlurSignal),e||this.element.addEventListener(t,this.fireBlurSignal)}fireSignal(t,e){this._fireSignals(t,e);let n=this._getLastSignaler();n!==this&&(n&&n._fireSignals(t,!1),this._setLastSignaler())}getSignalTargets(){return[]}disable(){this._toggleDisabled(!0)}enable(){this._toggleDisabled(!1)}_fireSignal(t,e){this._isDisabled()||this.fireSignal(t,e)}_fireSignals(t,e){let n=this.getSignalTargets();for(let o of n)o.dispatchEvent((0,i.FU)(t,{focused:e,signaler:this}))}_getLastSignaler(){return window&&window.signaler?window.signaler.last:null}_isDisabled(){return window&&window.signaler&&window.signaler.disabled}_setLastSignaler(){let t=window.signaler||{};t.last=this,window.signaler=t}_toggleDisabled(t){let e=window.signaler||{};e.disabled=t,window.signaler=e}}var r=n(3345);class s{constructor(t,e,n,i){this.row=t,this.fields=e,this.rowIndex=n,this.rowIndexAttribute=i||"index"}selectFirstEditableField(){let t=this._selectEditableFields();return this._selectNextEditableField(t,0)}selectLastEditableField(){let t=this._selectEditableFields();return this._selectPreviousEditableField(t,t.length-1)}selectNextEditableField(t){let e=this._selectEditableFields(),n=e.indexOf(t),i=n>=0?n+1:-1;return this._selectNextEditableField(e,i)}selectPreviousEditableField(t){let e=this._selectEditableFields(),n=e.indexOf(t),i=n>=0?n-1:-1;return this._selectPreviousEditableField(e,i)}_selectEditableFields(){return this.fields.filter((function(t){return t.isEditable()}))||[]}_selectNextEditableField(t,e){return e>=0&&e<t.length?t[e]:this._selectFirstEditableNextRow()}_selectPreviousEditableField(t,e){return e>=0&&e<t.length?t[e]:this._selectLastEditablePreviousRow()}_selectFirstEditableNextRow(){let t=this._selectRowByIndex(this.rowIndex+1),e=t?t.selector:null;if(e)return e.selectFirstEditableField()}_selectLastEditablePreviousRow(){let t=this._selectRowByIndex(this.rowIndex-1),e=t?t.selector:null;if(e)return e.selectLastEditableField()}selectFirstEditableField(){let t=this._selectEditableFields();return this._selectNextEditableField(t,0)}selectLastEditableField(){let t=this._selectEditableFields();return this._selectPreviousEditableField(t,t.length-1)}_selectRowByIndex(t){return s._selectTableRowByIndex((0,r.GC)(this.row),this.row.tagName.toLowerCase(),this.rowIndexAttribute,t)}static selectFirstEditableFieldInFirstRow(t,e,n){let i=s._selectTableRowByIndex(t,e,n,0),o=i?i.selector:null;if(o)return o.selectFirstEditableField()}static selectLastEditableFieldInLastRow(t,e,n,i){let o=s._selectTableRowByIndex(t,e,i,n-1),r=o?o.selector:null;if(r)return r.selectLastEditableField()}static _selectTableRowByIndex(t,e,n,i){return(t&&t.shadowRoot?t.shadowRoot:t).querySelector("".concat(e,"[").concat(n,'="').concat(i,'"]'))}}class a extends o{constructor(t,e,n,i,o,r,s){super(t,["click","mouseenter"],["mouseleave"]),this.groupId=e,this.cellName=n,this.rowId=i,this.rowIndex=o,this.rowIndexAttribute=r,this.ironList=s}getSignalTargets(){let t=this.groupId.constructor===Array?this.groupId:[this.groupId],e=[];for(let n of t){let t=l(this.element).querySelector("#"+n);if(!t)continue;let i=(t.shadowRoot?t.shadowRoot:t).querySelectorAll(this.cellName);for(let t of i)e.push(l(t).querySelector("sb-field"))}return e}signalNextPreviousEditableTarget(t,e){let n=this.selector,o=e?n.selectNextEditableField(t):n.selectPreviousEditableField(t);o&&o.dispatchEvent((0,i.FU)("sb-field-edit",{next:e}))}signalFirstLastEditableTarget(t){let e=this.selector,n=t?e.selectFirstEditableField():e.selectLastEditableField();n&&n.dispatchEvent((0,i.FU)("sb-field-edit",{next:t}))}toggleRowFocus(t){t.detail.focused&&!this.element.focused?(this.element.focused=!0,this.rowId&&(0,r.og)("focused",!0,l(this.element).querySelector("#"+this.rowId))):!t.detail.focused&&this.element.focused&&(this.element.focused=!1,this.rowId&&(0,r.og)("focused",!1,l(this.element).querySelector("#"+this.rowId)))}get selector(){return new s(this.element,this.getSignalTargets(),this.rowIndex,this.rowIndexAttribute)}static signalFirstEditableTargetFirstRow(t,e,n){let o=s.selectFirstEditableFieldInFirstRow(t,e,n);o&&o.dispatchEvent((0,i.FU)("sb-field-edit",{next:!0}))}static signalLastEditableTargetLastRow(t,e,n,o){let r=s.selectLastEditableFieldInLastRow(t,e,n,o);r&&r.dispatchEvent((0,i.FU)("sb-field-edit",{next:!1}))}}function l(t){return t&&t.shadowRoot?t.shadowRoot:t}},5310:(t,e,n)=>{"use strict";var i;n(2674);const o=(0,n(1510).d)(i||(r=["\n\t\t\t\t<dom-module id=\"sb-common-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n:host {\n  /* Page (top-level stuff) */\n  --sbPageBgColor: #FFF;\n  --sbPageColor: #3C3D3E;\n  --sbPageBorderColor: #d8dde6;\n  --sbPageFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Tabs */\n  --sbTabSelectedColor: #166bbf;\n  --sbTabColor: #54698d;\n  --sbTabHoverColor: #0070d2;\n  --sbTabFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Navigation Drawer */\n  --sbNavigationDrawerBgColor: #FFF;\n  --sbNavigationDrawerHeaderColor: #8199AF;\n  --sbNavigationDrawerHeaderFontColor: #FFF;\n  --sbNavigationDrawerFontColor: #16325C;\n  --sbNavigationDrawerRowColor: #FFF;\n  --sbNavigationDrawerRowSelectedColor: #d8dde6;\n  --sbNavigationDrawerRowHoverColor: #CFD7E6;\n  /* Filter Drawer */\n  --sbFilterDrawerBgColor: #f4f6f9;\n  --sbFilterDrawerFontColor: #16325C;\n  /* Page Header */\n  --sbPageHeaderBgColor: #fafafa;\n  --sbPageHeaderColor: #333230;\n  --sbPageHeaderFontSize: 18px;\n  --sbPageHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbPageHeaderTitleFontStyle: normal;\n  --sbPageHeaderTitleFontWeight: 700;\n  --sbPageHeaderTitleTextDecoration: none;\n  --sbPageHeaderSecondaryColor: #6b6d70;\n  --sbPageHeaderSecondaryFontSize: 12px;\n  --sbPageHeaderSecondaryFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbPageHeaderSecondaryFontStyle: normal;\n  --sbPageHeaderSecondaryFontWeight: 400;\n  --sbPageHeaderSecondaryTextDecoration: none;\n  --sbPageHeaderBorderBottomWidth: 1px;\n  --sbPageHeaderBorderBottomStyle: solid;\n  --sbPageHeaderBorderBottomColor: #dedbd7;\n  --sbPageHeaderMinHeight: 80px;\n  --sbPageHeaderIconDisplay: inline-block;\n  --sbPageHeaderIconColor: #FFF;\n  --sbPageHeaderIconSize: 32px;\n  --sbPageHeaderPaddingTop: 18px;\n  --sbPageHeaderPaddingRight: 18px;\n  --sbPageHeaderPaddingBottom: 18px;\n  --sbPageHeaderPaddingLeft: 18px;\n  /* Buttons */\n  --sbBtnBgColor: #fff;\n  --sbBtnColor: #0070d2;\n  --sbBtnBorder: 1px solid #dedbd7;\n  --sbBtnBorderColor: #dedbd7;\n  --sbBtnBorderRadius: 4px;\n  --sbBtnHoverBgColor: #f4f6f9;\n  --sbBtnHoverColor: #0070d2;\n  --sbBtnDisabledBgColor: #fff;\n  --sbBtnDisabledColor: #d8dde6;\n  --sbBtnPaddingTop: 6px;\n  --sbBtnPaddingRight: 16px;\n  --sbBtnPaddingBottom: 6px;\n  --sbBtnPaddingLeft: 16px;\n  --sbBtnFontSize: 13px;\n  --sbBtnFontWeight: 400;\n  --sbBtnFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbMoreIconSize: 12px;\n  /* Brand Buttons */\n  --sbBrandedButtonBackgroundColor: #0070d2;\n  --sbBrandedButtonFontColor: #FFFFFF;\n  --sbBrandedButtonHoverBackgroundColor: #005fb2;\n  --sbBrandedButtonHoverFontColor: #FFFFFF;\n  --sbBrandedButtonBorderColor: #d8dde6;\n  --sbBrandedButtonDisabledFontColor: #d8dde6;\n  --sbBrandedButtonFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  /* Custom Actions */\n  --sbConfiguratorCustomActionBgColor: #fff;\n  --sbConfiguratorCustomActionFontColor: #0070d2;\n  --sbConfiguratorCustomActionHoverBgColor: #f4f6f9;\n  --sbConfiguratorCustomActionHoverFontColor: #0070d2;\n  --sbConfiguratorCustomActionBorderColor: #d8dde6;\n  /* Groups */\n  --sbGroupBorderColor: rgba(171, 173, 176, 0.8);\n  --sbGroupBorderWidth: 1px;\n  --sbGroupHeaderBgColor: #fafaf9;\n  --sbGroupHeaderBorderBottomColor: #dedbd7;\n  --sbGroupHeaderBorderBottomWidth: 1px;\n  --sbGroupHeaderFontColor: #6b6d70;\n  --sbGroupHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbGroupHeaderFontSize: 18px;\n  --sbGroupHeaderFontWeight: 400;\n  --sbGroupHeaderFontStyle: normal;\n  --sbGroupHeaderTextDecoration: none;\n  /* Feature Header Instructions */\n  --sbProductFeatureHeaderInstructionsColor: #16325C;\n  --sbProductFeatureHeaderInstructionsFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbProductFeatureHeaderInstructionsFontSize: 13px;\n  --sbProductFeatureHeaderInstructionsFontWeight: 300;\n  --sbProductFeatureHeaderInstructionsFontStyle: normal;\n  --sbProductFeatureHeaderInstructionsTextDecoration: none;\n  --sbProductFeatureHeaderInstructionsPaddingTop: 0;\n  --sbProductFeatureHeaderInstructionsPaddingRight: 0;\n  --sbProductFeatureHeaderInstructionsPaddingBottom: 0;\n  --sbProductFeatureHeaderInstructionsPaddingLeft: 0;\n  --sbConfigAttrLabelColor: #6b6d70;\n  /* Bundle Header */\n  --sbProductBundlesLayoutProductHeaderBgColor: transparent;\n  --sbProductBundlesLayoutProductHeaderColor: inherit;\n  --sbProductBundlesLayoutProductHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbProductBundlesLayoutProductHeaderFontSize: 1.5rem;\n  --sbProductBundlesLayoutProductHeaderFontWeight: 300;\n  --sbProductBundlesLayoutProductHeaderFontStyle: normal;\n  --sbProductBundlesLayoutProductHeaderTextDecoration: none;\n  /* Table */\n  --sbTableCellPaddingTop: 2px;\n  --sbTableCellPaddingRight: 6px;\n  --sbTableCellPaddingBottom: 0px;\n  --sbTableCellPaddingLeft: 6px;\n  /* Table Header */\n  --sbTableHeaderBgColor: #fafafa;\n  --sbTableHeaderColor: #524f4e;\n  --sbTableHeaderBorderBottomColor: #d8dde6;\n  --sbTableHeaderBorderBottomWidth: 1px;\n  --sbTableHeaderBorderBottomStyle: solid;\n  --sbTableHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbTableHeaderFontSize: 13px;\n  --sbTableHeaderFontWeight: 400;\n  --sbTableHeaderFontStyle: normal;\n  --sbTableHeaderTextDecoration: none;\n  --sbTableCellHeight: 32px;\n  /* Table Row Grouped Row */\n  --sbTableRowGroupedRowBgColor: #EEF1F6;\n  --sbTableRowGroupedRowLineHeight: normal;\n  --sbTableRowGroupedRowPaddingTop: 2px;\n  --sbTableRowGroupedRowPaddingBottom: 2px;\n  --sbTableRowGroupedRowBorderBottomStyle: solid;\n  --sbTableRowGroupedRowBorderBottomColor: #D8DDE6;\n  --sbTableRowGroupedRowBorderBottomWidth: 1px;\n  /* Tables Row */\n  --sbTableRowBgColor: #FFF;\n  --sbTableRowColor: #3C3D3E;\n  --sbTableRowHoverColor: #f9f9fa;\n  --sbTableRowFontFamilly: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbTableRowFontSize: 13px;\n  --sbTableRowFontWeight: 400;\n  --sbTableRowFontStyle: normal;\n  --sbTableRowTextDecoration: none;\n  --sbTableRowBorderBottomStyle: solid;\n  --sbTableRowBorderBottomColor: #D8DDE6;\n  --sbTableRowBorderBottomWidth: 1px;\n  --sbTableRowLineHeight: normal;\n  --sbTableRowPaddingTop: 2px;\n  --sbTableRowPaddingBottom: 2px;\n  --sbDrawerBgColor: #FFFFFF;\n  /* QLE Rows */\n  --parentLineRowFontColor: #3c3d3e;\n  --parentLineRowFontStyle: normal;\n  --parentLineRowFontWeight: 400;\n  --parentLineRowTextDecoration: none;\n  --componentRowFontColor: #3c3d3e;\n  --componentRowFontStyle: normal;\n  --componentRowFontWedight: 400;\n  --componentRowTextDecoration: none;\n  --standaloneProductRowFontColor: #3c3d3e;\n  --standaloneProductRowFontStyle: normal;\n  --standaloneProductRowFontWeight: 400;\n  --standaloneProductRowTextDecoration: none;\n  /* Dialogs */\n  --sbDialogBgColor: #fff;\n  --sbDialogMaskColor: #A8B7C7;\n  --sbDialogCloseColor: #fff;\n  --sbDialogFooterColor: #fafafa;\n  --sbDialogFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbDialogFooterBorderColor: #d8dde6;\n  --sbDialogFooterBorderStyle: solid;\n  --sbDialogFooterBorderWidth: 1px;\n  --sbDialogHeaderBorderColor: #d8dde6;\n  --sbDialogHeaderBorderStyle: solid;\n  --sbDialogHeaderBorderWidth: 2px;\n  --sbDialogBorderRadius: 4px;\n  --sbDialogHeaderPaddingTop: 18px;\n  --sbDialogHeaderPaddingRight: 18px;\n  --sbDialogHeaderPaddingBottom: 18px;\n  --sbDialogHeaderPaddingLeft: 18px;\n  /* Badge */\n  --sbBadgeBgColor: #E0E5EE;\n  --sbBadgeColor: #16325C;\n  --sbBadgeFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbBadgeFontSize: 0.8rem;\n  --sbBadgeBorderColor: transparent;\n  --sbBadgeBorderWidth: 1px;\n  --sbBadgeBorderStyle: solid;\n  /* Forms */\n  --sbTextboxBgColor: var(--sbPageBgColor);\n  --sbTextboxBorderWidth: 1px;\n  --sbTextboxBorderColor: #d8dde6;\n  --sbTextboxBorderStyle: solid;\n  --sbTextboxHeight: 25px;\n  --sbTextboxPaddingTop: 0;\n  --sbTextboxPaddingRight: 5px;\n  --sbTextboxPaddingBottom: 0;\n  --sbTextboxPaddingLeft: 5px;\n  --sbTextboxRadius: 3px;\n  --sbSelectBorderWidth: 1px;\n  --sbSelectBorderColor: #d8dde6;\n  --sbSelectBorderStyle: solid;\n  --sbSelectHeight: 25px;\n  --sbSelectPaddingTop: 0;\n  --sbSelectPaddingRight: 0.5rem;\n  --sbSelectPaddingBottom: 0;\n  --sbSelectPaddingLeft: 0.4375rem;\n  --sbSelectRadius: 0.25rem;\n  --sbSelectBgColor: var(--sbPageBgColor);\n  --sbCheckboxSize: 16px;\n  --sbCheckboxBorderWidth: 1px;\n  --sbCheckboxBorderColor: #d8dde6;\n  --sbCheckboxBorderStyle: solid;\n  --sbCheckboxBorderRadius: 2px;\n  --sbCheckboxBgColorUnchecked: transparent;\n  --sbCheckboxBgColorChecked: #1589ee;\n  --sbCheckboxColor: #fff;\n  --sbRadioButtonCheckedColor: #1589ee;\n  --sbRadioButtonUncheckedColor: #d8dde6;\n  --sbInputOutlineColor: #BFBFC2;\n  --sbInputOutlineWidth: 2px;\n  /* Fields */\n  --sbFieldEditableIconColor: #9faab5;\n  --sbFieldEditedColor: #F88962;\n  /* Fonts */\n  --sbFont: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;\n  --sbFontColor: #16325C;\n  --sbFontSize: 10px;\n  /* Base font size to be used for all other font size calculations */\n  --sbFontSizeDefault: 14px;\n  /* Font size for regular/default content */\n  --sbFontSizeSmall: 12px;\n  /* Font size for \"small\" content */\n  --sbH1FontSize: 24px;\n  --sbH2FontSize: 14px;\n  --sbH3FontSize: 16px;\n  --sbH4FontSize: 12px;\n  --sbH5FontSize: 10px;\n  --sbH6FontSize: 9px;\n  /* Hyperlinks */\n  --sbLinkColor: #0070D2;\n  --sbLinkColorActive: #00396b;\n  --sbLinkColorDisabled: #16325c;\n  --sbLinkColorHover: #005fb2;\n  /* Icons */\n  --sbIconColor: #0070d2;\n  --sbIconHoverColor: #16325c;\n  --sbIconDisabledColor: #888888;\n  --sbIconPageLoadingColor: #A71B21;\n  --sbIcon16: 16px;\n  --sbIcon20: 20px;\n  --sbIcon24: 24px;\n  --sbIcon30: 30px;\n  --sbIconMobileLineActionColor: #fff;\n  --sbIconMobileDeleteBgColor: #7f8de1;\n  --sbIconMobileCopyBgColor: #ef7ead;\n  --sbIconMobileWandBgColor: #4bc076;\n  --sbIconMobileStarBgColor: #0C8EFF;\n  --sbIconMobileStarFillColor: #f2cf5b;\n  /* Text */\n  --sbBundleOptionColor: rgba(0, 0, 0, 0.65);\n  /* Loading Mask */\n  --sbLoadingMaskColor: #fff;\n  /* Contract Selector Page */\n  --sbSelectContractHideSkipActionOnAddOnDisplay: inline-flex;\n  --sbSelectContractHideSkipActionOnAmendDisplay: inline-flex;\n}\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  color: inherit;\n  font-weight: 300;\n  font-family: inherit;\n  display: inline-block;\n}\nh1 {\n  font-size: var(--sbH1FontSize);\n}\nh2 {\n  font-size: var(--sbH2FontSize);\n}\nh3 {\n  font-size: var(--sbH3FontSize);\n}\nh4 {\n  font-size: var(--sbH4FontSize);\n}\nh5 {\n  font-size: var(--sbH5FontSize);\n}\nh6 {\n  font-size: var(--sbH6FontSize);\n}\n/*\nButton\n\nA standard, standalone button\n*/\npaper-button {\n  padding-top: var(--sbBtnPaddingTop);\n  padding-right: var(--sbBtnPaddingRight);\n  padding-bottom: var(--sbBtnPaddingBottom);\n  padding-left: var(--sbBtnPaddingLeft);\n  cursor: pointer;\n  border: var(--sbBtnBorder);\n  border-radius: var(--sbBtnBorderRadius);\n  font-weight: var(--sbBtnFontWeight);\n  font-family: var(--sbBtnFontFamily);\n  font-size: var(--sbBtnFontSize);\n  min-width: inherit;\n  vertical-align: middle;\n  text-align: center;\n  text-transform: none;\n  height: 36px;\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\npaper-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\npaper-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\npaper-button.primary,\npaper-button.sbPrimaryAction,\npaper-button.primaryButton {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\npaper-button.primary:hover,\npaper-button.sbPrimaryAction:hover,\npaper-button.primaryButton:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\npaper-button.primary:disabled,\npaper-button.sbPrimaryAction:disabled,\npaper-button.primaryButton:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\npaper-button.keyboard-focus {\n  font-weight: 700;\n}\npaper-button --paper-button-flat-keyboard-focus {\n  outline-offset: -2px;\n  outline-width: 2px;\n}\npaper-button > .sf-icon-down {\n  margin-left: 8px;\n  font-size: var(--sbBtnMoreIconSize);\n}\n.buttons {\n  text-align: center;\n  display: inline-block;\n  padding: 0px !important;\n}\n.buttons > paper-button {\n  border-left: 0;\n  border-radius: 0;\n  margin: 0px;\n  float: left;\n}\n.buttons > paper-button:first-of-type {\n  border-left: var(--sbBtnBorder);\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\n.buttons > paper-button:last-of-type {\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\npaper-button > menu {\n  position: absolute;\n  right: -1px;\n  top: 16px;\n  font-weight: normal;\n  padding: 8px 14px;\n  white-space: nowrap;\n  border-radius: var(--sbBtnBorderRadius);\n  border-top-right-radius: 0;\n  border: var(--sbBtnBorder);\n  display: none;\n  z-index: 4;\n  text-align: left;\n}\npaper-button > menu .icon {\n  margin-right: 6px;\n  vertical-align: middle;\n}\npaper-button > menu.open {\n  display: block;\n}\npaper-button > .badge {\n  background-color: var(--sbBadgeBgColor);\n  color: var(--sbBadgeColor);\n  font-size: var(--sbBadgeFontSize);\n  border-width: var(--sbBadgeBorderWidth);\n  border-style: var(--sbBadgeBorderStyle);\n  border-color: var(--sbBadgeBorderColor);\n  border-radius: 15rem;\n  padding: 0.25rem 0.5rem;\n  line-height: 1.25;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.0625em;\n  vertical-align: middle;\n  white-space: nowrap;\n}\npaper-button > .icon-badge-upper-left {\n  position: absolute;\n  top: -14px;\n  left: -16px;\n}\npaper-tooltip {\n  --paper-tooltip-padding: 5px;\n  --paper-tooltip-color: var(--sbFontColor);\n  --paper-tooltip-font-family: var(--sbFont);\n  --paper-tooltip-font-size: 14px;\n  --paper-tooltip-border-radius: 4px;\n  --paper-tooltip-z-index: 999;\n  --paper-tooltip-background-color: #fff;\n  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  --paper-tooltip-border: var(--sbBtnBorder);\n  --paper-tooltip-opacity: 1;\n}\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\nul,\nol {\n  list-style: none;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: normal;\n}\n[hidden] {\n  display: none;\n}\n.hidden {\n  display: none;\n}\n[invisible] {\n  visibility: hidden;\n}\n.invisible {\n  visibility: hidden;\n}\n.clear {\n  content: \"\";\n  display: table;\n  clear: both;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  font-size: inherit;\n}\na,\na:visited,\na:hover,\na:active,\na[disabled] {\n  text-decoration: none;\n  cursor: pointer;\n  color: var(--sbLinkColor);\n}\na:hover {\n  color: var(--sbLinkColorHover);\n}\na:active {\n  color: var(--sbLinkColorActive);\n}\na[disabled] {\n  color: var(--sbLinkColorDisabled);\n  cursor: default;\n  pointer-events: none;\n}\n/* Bugs in Chrome and Firefox require media query with at least 1 rule or else js listeners don't always fire */\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},6802:(t,e,n)=>{"use strict";var i;n(2674);const o=(0,n(1510).d)(i||(r=['\n\t\t\t\t<dom-module id="sb-dialogs-styles">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nModal dialog mask\n\nThe layer behind the dialog that masks the entire page.\n*/\n.sbModalMask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--sbDialogMaskColor);\n  opacity: 0.8;\n  z-index: 1000;\n}\n/*\nModal Dialog\n\nA dialog with modality that takes up the entire page.\n */\n.dialog {\n  background-color: var(--sbDialogBgColor);\n  border-radius: var(--sbDialogBorderRadius);\n  position: fixed;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  z-index: 1001;\n  color: var(--sbFontColor);\n  box-shadow: none;\n  font-family: var(--sbDialogFontFamily);\n  -webkit-font-smoothing: auto;\n}\n.dialog > header {\n  border-bottom: var(--sbDialogHeaderBorder);\n  padding-top: var(--sbDialogHeaderPaddingTop);\n  padding-right: var(--sbDialogHeaderPaddingRight);\n  padding-bottom: var(--sbDialogHeaderPaddingBottom);\n  padding-left: var(--sbDialogHeaderPaddingLeft);\n  text-align: center;\n  margin-top: 0px !important;\n}\n.dialog > header > .icon {\n  font-size: var(--sbIcon20);\n}\n.dialog > header > * {\n  vertical-align: middle;\n}\n.dialog > header > h2 {\n  margin: 0 0 0 0px;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\n.dialog > header > .sf-icon-close {\n  font-size: var(--sbIcon30);\n  position: absolute;\n  top: -50px;\n  right: 0px;\n}\n.dialog > header > .sf-icon-close:hover {\n  cursor: pointer;\n}\n.dialog > header > .sf-icon-close:before {\n  color: var(--sbDialogCloseColor);\n}\n.dialog > .content {\n  overflow: auto;\n  margin-top: 0px;\n  padding: 24px;\n}\n.dialog > footer {\n  border-top-width: var(--sbDialogFooterBorderWidth);\n  border-top-style: var(--sbDialogFooterBorderStyle);\n  border-top-color: var(--sbDialogFooterBorderColor);\n  padding: 12px 16px;\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n  background-color: var(--sbDialogFooterColor);\n  display: inline-table;\n  margin-bottom: 0px !important;\n  width: 100%;\n  box-sizing: border-box;\n  margin-top: 0px;\n}\n.dialog > footer > paper-button {\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\n.dialog > footer .buttons {\n  float: right;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},6175:(t,e,n)=>{"use strict";var i;n(2674);const o=(0,n(1510).d)(i||(r=["\n\t\t\t\t<dom-module id=\"sb-forms-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\ninput {\n  height: var(--sbTextboxHeight);\n  border-width: var(--sbTextboxBorderWidth);\n  border-color: var(--sbTextboxBorderColor);\n  border-style: var(--sbTextboxBorderStyle);\n  border-radius: var(--sbTextboxRadius);\n  padding-top: var(--sbTextboxPaddingTop);\n  padding-right: var(--sbTextboxPaddingRight);\n  padding-bottom: var(--sbTextboxPaddingBottom);\n  padding-left: var(--sbTextboxPaddingLeft);\n}\ninput:not(.leftSearch) {\n  background-color: var(--sbTextboxBgColor);\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline-color: var(--sbInputOutlineColor);\n  outline-width: var(--sbInputOutlineWidth);\n  font-family: inherit;\n  font-size: inherit;\n}\ninput:disabled,\nbutton:disabled,\nselect:disabled,\ntextarea:disabled {\n  opacity: 0.5;\n}\ninput[type=text][class*='--mobile'],\ninput[type=number][class*='--mobile'],\ninput[class*='--mobile']:not([type]) {\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\n[class*='--mobile'] input[type=text],\n[class*='--mobile'] input[type=number],\n[class*='--mobile'] input:not([type]) {\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\ninput[type=number].discount[class*='--mobile'],\ninput[type=text].discount[class*='--mobile'] {\n  width: 65%;\n}\n[class*='--mobile'] input[type=number].discount,\n[class*='--mobile'] input[type=text].discount {\n  width: 65%;\n}\nselect,\ninput[type=date],\ninput[type=datetime] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding-top: var(--sbSelectPaddingTop);\n  padding-right: var(--sbSelectPaddingRight);\n  padding-bottom: var(--sbSelectPaddingBottom);\n  padding-left: var(--sbSelectPaddingLeft);\n  background-color: var(--sbSelectBgColor);\n  background-repeat: no-repeat;\n  background-size: 14px 14px;\n  border-width: var(--sbSelectBorderWidth);\n  border-color: var(--sbSelectBorderColor);\n  border-style: var(--sbSelectBorderStyle);\n  border-radius: var(--sbSelectRadius);\n}\nselect[class*='--mobile'],\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 30px 7px 14px;\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n}\n[class*='--mobile'] select,\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 41px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 30px 7px 14px;\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n}\nselect:not([multiple]),\ninput[type=date],\ninput[type=datetime] {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K');\n  background-position: calc(100% - 10px) 50%;\n  height: var(--sbSelectHeight);\n}\nselect[class*='--mobile']:not([multiple]),\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  height: 41px;\n}\n[class*='--mobile'] select:not([multiple]),\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  height: 41px;\n}\nselect.discount[class*='--mobile'] {\n  width: 30%;\n  left: -20px;\n  position: relative;\n}\n[class*='--mobile'] select.discount {\n  width: 30%;\n  left: -20px;\n  position: relative;\n}\ntextarea[class*='--mobile'] {\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 66px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\n[class*='--mobile'] textarea {\n  border: 1px solid #d8dde6;\n  border-radius: 0.25rem;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  width: 100%;\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n  height: 66px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 7px 14px;\n}\ninput[type=date],\ninput[type=datetime] {\n  width: 152px;\n}\ninput[type=date][class*='--mobile'],\ninput[type=datetime][class*='--mobile'] {\n  width: 100%;\n}\n[class*='--mobile'] input[type=date],\n[class*='--mobile'] input[type=datetime] {\n  width: 100%;\n}\ninput[type=checkbox] {\n  width: var(--sbCheckboxSize);\n  height: var(--sbCheckboxSize);\n}\npaper-checkbox {\n  --paper-checkbox-size: var(--sbCheckboxSize);\n  --paper-checkbox-unchecked-background-color: var(--sbCheckboxBgColorUnchecked);\n  --paper-checkbox-checked-color: var(--sbCheckboxBgColorChecked);\n  --paper-checkbox-checkmark-color: var(--sbCheckboxColor);\n  --paper-checkbox-checked-ink-color: transparent;\n  --paper-checkbox-unchecked-ink-color: transparent;\n  width: var(--sbCheckboxSize);\n  --paper-checkbox-border-radius: var(--sbCheckboxBorderRadius);\n  --paper-checkbox-border-width: var(--sbCheckboxBorderWidth);\n  --paper-checkbox-border-color: var(--sbCheckboxBorderColor);\n  --paper-checkbox-border-style: var(--sbCheckboxBorderStyle);\n  --paper-checkbox-unchecked-color: #808080;\n}\npaper-checkbox::shadow #ink {\n  height: var(--sbCheckboxSize);\n}\npaper-checkbox[disabled] {\n  --paper-checkbox-disabled-background-color: #d8dde6;\n  --paper-checkbox-disabled-opacity: 0.2;\n  --paper-checkbox-checkmark-disabled-border-color: #808080;\n}\npaper-radio-button {\n  --paper-radio-button-checked-color: var(--sbRadioButtonCheckedColor);\n  --paper-radio-button-unchecked-color: var(--sbRadioButtonUncheckedColor);\n  --paper-radio-button-unchecked-ink-color: transparent;\n  --paper-radio-button-checked-ink-color: transparent;\n  -webkit-tap-highlight-color: transparent;\n  width: var(--sbCheckboxSize);\n}\npaper-radio-button.hide,\npaper-checkbox.hide {\n  display: none;\n}\npaper-radio-button.invisible,\npaper-checkbox.invisible {\n  visibility: hidden;\n}\npaper-radio-button[disabled] {\n  --paper-radio-button-unchecked-background-color: #d8dde6;\n}\npaper-radio-button[disabled]::shadow #offRadio {\n  background-color: #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},5677:(t,e,n)=>{"use strict";var i;n(2674);const o=(0,n(1510).d)(i||(r=["\n\t\t\t\t<dom-module id=\"sb-icons-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n\n.sb-icon-filter:before { content: '\\e800'; } /* '' */\n.sb-icon-th-large:before { content: '\\e801'; } /* '' */\n.sb-icon-th:before { content: '\\e802'; } /* '' */\n.sb-icon-th-list:before { content: '\\e803'; } /* '' */\n.sb-icon-pencil:before { content: '\\e804'; } /* '' */\n.sb-icon-cancel:before { content: '\\e805'; } /* '' */\n.sb-icon-plus:before { content: '\\e806'; } /* '' */\n.sb-icon-cog:before { content: '\\e807'; } /* '' */\n.sb-icon-align-justify:before { content: '\\e808'; } /* '' */\n.sb-icon-ok:before { content: '\\e809'; } /* '' */\n.sb-icon-lock:before { content: '\\e80a'; } /* '' */\n.sb-icon-exchange:before { content: '\\e80b'; } /* '' */\n.sb-icon-down:before { content: '\\e80c'; } /* '' */\n.sb-icon-up:before { content: '\\e80d'; } /* '' */\n.sb-icon-help-circled:before { content: '\\e80e'; } /* '' */\n.sb-icon-info-circled:before { content: '\\e80f'; } /* '' */\n.sb-icon-sort-name-up:before { content: '\\e810'; } /* '' */\n.sb-icon-sort-name-down:before { content: '\\e811'; } /* '' */\n.sb-icon-down-dir:before { content: '\\e812'; } /* '' */\n.sb-icon-up-dir:before { content: '\\e813'; } /* '' */\n.sb-icon-compass:before { content: '\\e814'; } /* '' */\n.sb-icon-right-dir:before { content: '\\e815'; } /* '' */\n.sb-icon-left-dir:before { content: '\\e816'; } /* '' */\n.sb-icon-docs:before { content: '\\e817'; } /* '' */\n.sb-icon-circle-empty:before { content: '\\e818'; } /* '' */\n.sb-icon-dot-circled:before { content: '\\e819'; } /* '' */\n.sb-icon-to-end:before { content: '\\e81a'; } /* '' */\n.sb-icon-to-start:before { content: '\\e81b'; } /* '' */\n.sb-icon-fast-forward:before { content: '\\e81c'; } /* '' */\n.sb-icon-fast-backward:before { content: '\\e81d'; } /* '' */\n.sb-icon-cw:before { content: '\\e81e'; } /* '' */\n.sb-icon-level-down:before { content: '\\e81f'; } /* '' */\n.sb-icon-attention:before { content: '\\e820'; } /* '' */\n.sb-icon-attention-circled:before { content: '\\e821'; } /* '' */\n.sb-icon-search:before { content: '\\e822'; } /* '' */\n.sb-icon-ccw:before { content: '\\e823'; } /* '' */\n.sb-icon-star:before { content: '\\e824'; } /* '' */\n.sb-icon-star-empty:before { content: '\\e825'; } /* '' */\n.sb-icon-calendar:before { content: '\\e826'; } /* '' */\n\n.sf-icon-3dots:before { content: '\\e800'; } /* '' */\n.sf-icon-add:before { content: '\\e801'; } /* '' */\n.sf-icon-close:before { content: '\\e802'; } /* '' */\n.sf-icon-pricebook:before { content: '\\e803'; } /* '' */\n.sf-icon-help:before { content: '\\e804'; } /* '' */\n.sf-icon-notebook:before { content: '\\e805'; } /* '' */\n.sf-icon-rows:before { content: '\\e806'; } /* '' */\n.sf-icon-upload:before { content: '\\e807'; } /* '' */\n.sf-icon-clock:before { content: '\\e808'; } /* '' */\n.sf-icon-groups:before { content: '\\e809'; } /* '' */\n.sf-icon-open_folder:before { content: '\\e80a'; } /* '' */\n.sf-icon-right_align_text:before { content: '\\e80b'; } /* '' */\n.sf-icon-product:before { content: '\\e80c'; } /* '' */\n.sf-icon-question_feed:before { content: '\\e80d'; } /* '' */\n.sf-icon-warning:before { content: '\\e80e'; } /* '' */\n.sf-icon-user:before { content: '\\e80f'; } /* '' */\n.sf-icon-right:before { content: '\\e810'; } /* '' */\n.sf-icon-notification:before { content: '\\e811'; } /* '' */\n.sf-icon-home:before { content: '\\e812'; } /* '' */\n.sf-icon-contract:before { content: '\\e813'; } /* '' */\n.sf-icon-adduser:before { content: '\\e814'; } /* '' */\n.sf-icon-apps:before { content: '\\e815'; } /* '' */\n.sf-icon-copy:before { content: '\\e816'; } /* '' */\n.sf-icon-image:before { content: '\\e817'; } /* '' */\n.sf-icon-open:before { content: '\\e818'; } /* '' */\n.sf-icon-settings:before { content: '\\e819'; } /* '' */\n.sf-icon-zoomin:before { content: '\\e81a'; } /* '' */\n.sf-icon-record:before { content: '\\e81b'; } /* '' */\n.sf-icon-arrowdown:before { content: '\\e81c'; } /* '' */\n.sf-icon-cut:before { content: '\\e81d'; } /* '' */\n.sf-icon-insert_template:before { content: '\\e81e'; } /* '' */\n.sf-icon-opened_folder:before { content: '\\e81f'; } /* '' */\n.sf-icon-side_list:before { content: '\\e820'; } /* '' */\n.sf-icon-zoomout:before { content: '\\e821'; } /* '' */\n.sf-icon-quotes:before { content: '\\e822'; } /* '' */\n.sf-icon-related_list:before { content: '\\e823'; } /* '' */\n.sf-icon-gdoc:before { content: '\\e824'; } /* '' */\n.sf-icon-snippet:before { content: '\\e825'; } /* '' */\n.sf-icon-page:before { content: '\\e826'; } /* '' */\n.sf-icon-custom_apps:before { content: '\\e827'; } /* '' */\n.sf-icon-arrowup:before { content: '\\e828'; } /* '' */\n.sf-icon-attach:before { content: '\\e829'; } /* '' */\n.sf-icon-dayview:before { content: '\\e82a'; } /* '' */\n.sf-icon-info:before { content: '\\e82b'; } /* '' */\n.sf-icon-insert_tag_field:before { content: '\\e82c'; } /* '' */\n.sf-icon-paste:before { content: '\\e82d'; } /* '' */\n.sf-icon-sort:before { content: '\\e82e'; } /* '' */\n.sf-icon-pdf:before { content: '\\e82f'; } /* '' */\n.sf-icon-report:before { content: '\\e830'; } /* '' */\n.sf-icon-task:before { content: '\\e831'; } /* '' */\n.sf-icon-approval:before { content: '\\e832'; } /* '' */\n.sf-icon-socialshare:before { content: '\\e833'; } /* '' */\n.sf-icon-people:before { content: '\\e834'; } /* '' */\n.sf-icon-italic:before { content: '\\e835'; } /* '' */\n.sf-icon-delete:before { content: '\\e836'; } /* '' */\n.sf-icon-back:before { content: '\\e837'; } /* '' */\n.sf-icon-ban:before { content: '\\e838'; } /* '' */\n.sf-icon-email:before { content: '\\e839'; } /* '' */\n.sf-icon-bold:before { content: '\\e83a'; } /* '' */\n.sf-icon-preview:before { content: '\\e83b'; } /* '' */\n.sf-icon-share:before { content: '\\e83c'; } /* '' */\n.sf-icon-dashboard:before { content: '\\e83d'; } /* '' */\n.sf-icon-thanks:before { content: '\\e83e'; } /* '' */\n.sf-icon-today:before { content: '\\e83f'; } /* '' */\n.sf-icon-contract-1:before { content: '\\e840'; } /* '' */\n.sf-icon-spinner:before { content: '\\e841'; } /* '' */\n.sf-icon-photo:before { content: '\\e842'; } /* '' */\n.sf-icon-event:before { content: '\\e843'; } /* '' */\n.sf-icon-builder:before { content: '\\e844'; } /* '' */\n.sf-icon-justify_text:before { content: '\\e845'; } /* '' */\n.sf-icon-center_align_text:before { content: '\\e846'; } /* '' */\n.sf-icon-edit:before { content: '\\e847'; } /* '' */\n.sf-icon-layout:before { content: '\\e848'; } /* '' */\n.sf-icon-priority:before { content: '\\e849'; } /* '' */\n.sf-icon-standard_objects:before { content: '\\e84a'; } /* '' */\n.sf-icon-contact:before { content: '\\e84b'; } /* '' */\n.sf-icon-custom93:before { content: '\\e84c'; } /* '' */\n.sf-icon-email-1:before { content: '\\e84d'; } /* '' */\n.sf-icon-success:before { content: '\\e84e'; } /* '' */\n.sf-icon-refresh:before { content: '\\e84f'; } /* '' */\n.sf-icon-left_align_text:before { content: '\\e850'; } /* '' */\n.sf-icon-down:before { content: '\\e851'; } /* '' */\n.sf-icon-chart:before { content: '\\e852'; } /* '' */\n.sf-icon-chat:before { content: '\\e853'; } /* '' */\n.sf-icon-error:before { content: '\\e854'; } /* '' */\n.sf-icon-left:before { content: '\\e855'; } /* '' */\n.sf-icon-remove_link:before { content: '\\e856'; } /* '' */\n.sf-icon-summary:before { content: '\\e857'; } /* '' */\n.sf-icon-document:before { content: '\\e858'; } /* '' */\n.sf-icon-drafts:before { content: '\\e859'; } /* '' */\n.sf-icon-summarydetail:before { content: '\\e85a'; } /* '' */\n.sf-icon-replace:before { content: '\\e85b'; } /* '' */\n.sf-icon-like:before { content: '\\e85c'; } /* '' */\n.sf-icon-download:before { content: '\\e85d'; } /* '' */\n.sf-icon-check:before { content: '\\e85e'; } /* '' */\n.sf-icon-chevronleft:before { content: '\\e85f'; } /* '' */\n.sf-icon-expand:before { content: '\\e860'; } /* '' */\n.sf-icon-link:before { content: '\\e861'; } /* '' */\n.sf-icon-reply:before { content: '\\e862'; } /* '' */\n.sf-icon-table:before { content: '\\e863'; } /* '' */\n.sf-icon-feed:before { content: '\\e864'; } /* '' */\n.sf-icon-event-1:before { content: '\\e865'; } /* '' */\n.sf-icon-tile_card_list:before { content: '\\e866'; } /* '' */\n.sf-icon-richtextbulletedlist:before { content: '\\e867'; } /* '' */\n.sf-icon-list:before { content: '\\e868'; } /* '' */\n.sf-icon-favorite:before { content: '\\e869'; } /* '' */\n.sf-icon-chevronright:before { content: '\\e86a'; } /* '' */\n.sf-icon-chevrondown:before { content: '\\e86b'; } /* '' */\n.sf-icon-filter:before { content: '\\e86c'; } /* '' */\n.sf-icon-move:before { content: '\\e86d'; } /* '' */\n.sf-icon-richtextindent:before { content: '\\e86e'; } /* '' */\n.sf-icon-underline:before { content: '\\e86f'; } /* '' */\n.sf-icon-feedback:before { content: '\\e870'; } /* '' */\n.sf-icon-file:before { content: '\\e871'; } /* '' */\n.sf-icon-undo:before { content: '\\e872'; } /* '' */\n.sf-icon-richtextnumberedlist:before { content: '\\e873'; } /* '' */\n.sf-icon-lock:before { content: '\\e874'; } /* '' */\n.sf-icon-filterlist:before { content: '\\e875'; } /* '' */\n.sf-icon-chevronup:before { content: '\\e876'; } /* '' */\n.sf-icon-clear:before { content: '\\e877'; } /* '' */\n.sf-icon-forward:before { content: '\\e878'; } /* '' */\n.sf-icon-new_window:before { content: '\\e879'; } /* '' */\n.sf-icon-richtextoutdent:before { content: '\\e87a'; } /* '' */\n.sf-icon-unlock:before { content: '\\e87b'; } /* '' */\n.sf-icon-opportunity:before { content: '\\e87c'; } /* '' */\n.sf-icon-post:before { content: '\\e87d'; } /* '' */\n.sf-icon-up:before { content: '\\e87e'; } /* '' */\n.sf-icon-search:before { content: '\\e87f'; } /* '' */\n.sf-icon-new:before { content: '\\e880'; } /* '' */\n.sf-icon-frozen:before { content: '\\e881'; } /* '' */\n.sf-icon-comments:before { content: '\\e882'; } /* '' */\n.sf-icon-recent:before { content: '\\e883'; } /* '' */\n.sf-icon-magicwand:before { content: '\\e884'; } /* '' */\n.sf-icon-discountscheduleicons-02:before { content: '\\e885'; } /* '' */\n.sf-icon-custom90:before { content: '\\e886'; } /* '' */\n.sf-icon-custom26:before { content: '\\e887'; } /* '' */\n.sf-icon-trending:before { content: '\\e888'; } /* '' */\n.sf-icon-target:before { content: '\\e889'; } /* '' */\n.sf-icon-cube:before { content: '\\e88b'; } /* '' */\n.sf-icon-paired-lines:before { content: '\\e88c'; } /* '' */\n[class^=\"sb-icon-\"]:before,\n[class*=\" sb-icon-\"]:before,\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  color: inherit;\n  display: inline-block;\n  font-family: 'sb-icons';\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  line-height: 1em;\n  speak: none;\n  text-align: center;\n  text-decoration: inherit;\n  text-transform: none;\n  width: 1em;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  font-family: 'sf-icons';\n}\n.sb-icon-3dots:before {\n  font-family: 'sf-icons';\n  content: '\\e800';\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-exchange:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-loading {\n  width: 148px;\n  text-align: center;\n}\n.sb-icon-loading > div {\n  width: 36px;\n  height: 18px;\n  margin: 2px;\n  background-color: #0c8eff;\n  border-radius: 10%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.sb-icon-loading .sb-icon-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.sb-icon-loading .sb-icon-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],(s=["\n\t\t\t\t<dom-module id=\"sb-icons-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n\n.sb-icon-filter:before { content: '\\\\e800'; } /* '' */\n.sb-icon-th-large:before { content: '\\\\e801'; } /* '' */\n.sb-icon-th:before { content: '\\\\e802'; } /* '' */\n.sb-icon-th-list:before { content: '\\\\e803'; } /* '' */\n.sb-icon-pencil:before { content: '\\\\e804'; } /* '' */\n.sb-icon-cancel:before { content: '\\\\e805'; } /* '' */\n.sb-icon-plus:before { content: '\\\\e806'; } /* '' */\n.sb-icon-cog:before { content: '\\\\e807'; } /* '' */\n.sb-icon-align-justify:before { content: '\\\\e808'; } /* '' */\n.sb-icon-ok:before { content: '\\\\e809'; } /* '' */\n.sb-icon-lock:before { content: '\\\\e80a'; } /* '' */\n.sb-icon-exchange:before { content: '\\\\e80b'; } /* '' */\n.sb-icon-down:before { content: '\\\\e80c'; } /* '' */\n.sb-icon-up:before { content: '\\\\e80d'; } /* '' */\n.sb-icon-help-circled:before { content: '\\\\e80e'; } /* '' */\n.sb-icon-info-circled:before { content: '\\\\e80f'; } /* '' */\n.sb-icon-sort-name-up:before { content: '\\\\e810'; } /* '' */\n.sb-icon-sort-name-down:before { content: '\\\\e811'; } /* '' */\n.sb-icon-down-dir:before { content: '\\\\e812'; } /* '' */\n.sb-icon-up-dir:before { content: '\\\\e813'; } /* '' */\n.sb-icon-compass:before { content: '\\\\e814'; } /* '' */\n.sb-icon-right-dir:before { content: '\\\\e815'; } /* '' */\n.sb-icon-left-dir:before { content: '\\\\e816'; } /* '' */\n.sb-icon-docs:before { content: '\\\\e817'; } /* '' */\n.sb-icon-circle-empty:before { content: '\\\\e818'; } /* '' */\n.sb-icon-dot-circled:before { content: '\\\\e819'; } /* '' */\n.sb-icon-to-end:before { content: '\\\\e81a'; } /* '' */\n.sb-icon-to-start:before { content: '\\\\e81b'; } /* '' */\n.sb-icon-fast-forward:before { content: '\\\\e81c'; } /* '' */\n.sb-icon-fast-backward:before { content: '\\\\e81d'; } /* '' */\n.sb-icon-cw:before { content: '\\\\e81e'; } /* '' */\n.sb-icon-level-down:before { content: '\\\\e81f'; } /* '' */\n.sb-icon-attention:before { content: '\\\\e820'; } /* '' */\n.sb-icon-attention-circled:before { content: '\\\\e821'; } /* '' */\n.sb-icon-search:before { content: '\\\\e822'; } /* '' */\n.sb-icon-ccw:before { content: '\\\\e823'; } /* '' */\n.sb-icon-star:before { content: '\\\\e824'; } /* '' */\n.sb-icon-star-empty:before { content: '\\\\e825'; } /* '' */\n.sb-icon-calendar:before { content: '\\\\e826'; } /* '' */\n\n.sf-icon-3dots:before { content: '\\\\e800'; } /* '' */\n.sf-icon-add:before { content: '\\\\e801'; } /* '' */\n.sf-icon-close:before { content: '\\\\e802'; } /* '' */\n.sf-icon-pricebook:before { content: '\\\\e803'; } /* '' */\n.sf-icon-help:before { content: '\\\\e804'; } /* '' */\n.sf-icon-notebook:before { content: '\\\\e805'; } /* '' */\n.sf-icon-rows:before { content: '\\\\e806'; } /* '' */\n.sf-icon-upload:before { content: '\\\\e807'; } /* '' */\n.sf-icon-clock:before { content: '\\\\e808'; } /* '' */\n.sf-icon-groups:before { content: '\\\\e809'; } /* '' */\n.sf-icon-open_folder:before { content: '\\\\e80a'; } /* '' */\n.sf-icon-right_align_text:before { content: '\\\\e80b'; } /* '' */\n.sf-icon-product:before { content: '\\\\e80c'; } /* '' */\n.sf-icon-question_feed:before { content: '\\\\e80d'; } /* '' */\n.sf-icon-warning:before { content: '\\\\e80e'; } /* '' */\n.sf-icon-user:before { content: '\\\\e80f'; } /* '' */\n.sf-icon-right:before { content: '\\\\e810'; } /* '' */\n.sf-icon-notification:before { content: '\\\\e811'; } /* '' */\n.sf-icon-home:before { content: '\\\\e812'; } /* '' */\n.sf-icon-contract:before { content: '\\\\e813'; } /* '' */\n.sf-icon-adduser:before { content: '\\\\e814'; } /* '' */\n.sf-icon-apps:before { content: '\\\\e815'; } /* '' */\n.sf-icon-copy:before { content: '\\\\e816'; } /* '' */\n.sf-icon-image:before { content: '\\\\e817'; } /* '' */\n.sf-icon-open:before { content: '\\\\e818'; } /* '' */\n.sf-icon-settings:before { content: '\\\\e819'; } /* '' */\n.sf-icon-zoomin:before { content: '\\\\e81a'; } /* '' */\n.sf-icon-record:before { content: '\\\\e81b'; } /* '' */\n.sf-icon-arrowdown:before { content: '\\\\e81c'; } /* '' */\n.sf-icon-cut:before { content: '\\\\e81d'; } /* '' */\n.sf-icon-insert_template:before { content: '\\\\e81e'; } /* '' */\n.sf-icon-opened_folder:before { content: '\\\\e81f'; } /* '' */\n.sf-icon-side_list:before { content: '\\\\e820'; } /* '' */\n.sf-icon-zoomout:before { content: '\\\\e821'; } /* '' */\n.sf-icon-quotes:before { content: '\\\\e822'; } /* '' */\n.sf-icon-related_list:before { content: '\\\\e823'; } /* '' */\n.sf-icon-gdoc:before { content: '\\\\e824'; } /* '' */\n.sf-icon-snippet:before { content: '\\\\e825'; } /* '' */\n.sf-icon-page:before { content: '\\\\e826'; } /* '' */\n.sf-icon-custom_apps:before { content: '\\\\e827'; } /* '' */\n.sf-icon-arrowup:before { content: '\\\\e828'; } /* '' */\n.sf-icon-attach:before { content: '\\\\e829'; } /* '' */\n.sf-icon-dayview:before { content: '\\\\e82a'; } /* '' */\n.sf-icon-info:before { content: '\\\\e82b'; } /* '' */\n.sf-icon-insert_tag_field:before { content: '\\\\e82c'; } /* '' */\n.sf-icon-paste:before { content: '\\\\e82d'; } /* '' */\n.sf-icon-sort:before { content: '\\\\e82e'; } /* '' */\n.sf-icon-pdf:before { content: '\\\\e82f'; } /* '' */\n.sf-icon-report:before { content: '\\\\e830'; } /* '' */\n.sf-icon-task:before { content: '\\\\e831'; } /* '' */\n.sf-icon-approval:before { content: '\\\\e832'; } /* '' */\n.sf-icon-socialshare:before { content: '\\\\e833'; } /* '' */\n.sf-icon-people:before { content: '\\\\e834'; } /* '' */\n.sf-icon-italic:before { content: '\\\\e835'; } /* '' */\n.sf-icon-delete:before { content: '\\\\e836'; } /* '' */\n.sf-icon-back:before { content: '\\\\e837'; } /* '' */\n.sf-icon-ban:before { content: '\\\\e838'; } /* '' */\n.sf-icon-email:before { content: '\\\\e839'; } /* '' */\n.sf-icon-bold:before { content: '\\\\e83a'; } /* '' */\n.sf-icon-preview:before { content: '\\\\e83b'; } /* '' */\n.sf-icon-share:before { content: '\\\\e83c'; } /* '' */\n.sf-icon-dashboard:before { content: '\\\\e83d'; } /* '' */\n.sf-icon-thanks:before { content: '\\\\e83e'; } /* '' */\n.sf-icon-today:before { content: '\\\\e83f'; } /* '' */\n.sf-icon-contract-1:before { content: '\\\\e840'; } /* '' */\n.sf-icon-spinner:before { content: '\\\\e841'; } /* '' */\n.sf-icon-photo:before { content: '\\\\e842'; } /* '' */\n.sf-icon-event:before { content: '\\\\e843'; } /* '' */\n.sf-icon-builder:before { content: '\\\\e844'; } /* '' */\n.sf-icon-justify_text:before { content: '\\\\e845'; } /* '' */\n.sf-icon-center_align_text:before { content: '\\\\e846'; } /* '' */\n.sf-icon-edit:before { content: '\\\\e847'; } /* '' */\n.sf-icon-layout:before { content: '\\\\e848'; } /* '' */\n.sf-icon-priority:before { content: '\\\\e849'; } /* '' */\n.sf-icon-standard_objects:before { content: '\\\\e84a'; } /* '' */\n.sf-icon-contact:before { content: '\\\\e84b'; } /* '' */\n.sf-icon-custom93:before { content: '\\\\e84c'; } /* '' */\n.sf-icon-email-1:before { content: '\\\\e84d'; } /* '' */\n.sf-icon-success:before { content: '\\\\e84e'; } /* '' */\n.sf-icon-refresh:before { content: '\\\\e84f'; } /* '' */\n.sf-icon-left_align_text:before { content: '\\\\e850'; } /* '' */\n.sf-icon-down:before { content: '\\\\e851'; } /* '' */\n.sf-icon-chart:before { content: '\\\\e852'; } /* '' */\n.sf-icon-chat:before { content: '\\\\e853'; } /* '' */\n.sf-icon-error:before { content: '\\\\e854'; } /* '' */\n.sf-icon-left:before { content: '\\\\e855'; } /* '' */\n.sf-icon-remove_link:before { content: '\\\\e856'; } /* '' */\n.sf-icon-summary:before { content: '\\\\e857'; } /* '' */\n.sf-icon-document:before { content: '\\\\e858'; } /* '' */\n.sf-icon-drafts:before { content: '\\\\e859'; } /* '' */\n.sf-icon-summarydetail:before { content: '\\\\e85a'; } /* '' */\n.sf-icon-replace:before { content: '\\\\e85b'; } /* '' */\n.sf-icon-like:before { content: '\\\\e85c'; } /* '' */\n.sf-icon-download:before { content: '\\\\e85d'; } /* '' */\n.sf-icon-check:before { content: '\\\\e85e'; } /* '' */\n.sf-icon-chevronleft:before { content: '\\\\e85f'; } /* '' */\n.sf-icon-expand:before { content: '\\\\e860'; } /* '' */\n.sf-icon-link:before { content: '\\\\e861'; } /* '' */\n.sf-icon-reply:before { content: '\\\\e862'; } /* '' */\n.sf-icon-table:before { content: '\\\\e863'; } /* '' */\n.sf-icon-feed:before { content: '\\\\e864'; } /* '' */\n.sf-icon-event-1:before { content: '\\\\e865'; } /* '' */\n.sf-icon-tile_card_list:before { content: '\\\\e866'; } /* '' */\n.sf-icon-richtextbulletedlist:before { content: '\\\\e867'; } /* '' */\n.sf-icon-list:before { content: '\\\\e868'; } /* '' */\n.sf-icon-favorite:before { content: '\\\\e869'; } /* '' */\n.sf-icon-chevronright:before { content: '\\\\e86a'; } /* '' */\n.sf-icon-chevrondown:before { content: '\\\\e86b'; } /* '' */\n.sf-icon-filter:before { content: '\\\\e86c'; } /* '' */\n.sf-icon-move:before { content: '\\\\e86d'; } /* '' */\n.sf-icon-richtextindent:before { content: '\\\\e86e'; } /* '' */\n.sf-icon-underline:before { content: '\\\\e86f'; } /* '' */\n.sf-icon-feedback:before { content: '\\\\e870'; } /* '' */\n.sf-icon-file:before { content: '\\\\e871'; } /* '' */\n.sf-icon-undo:before { content: '\\\\e872'; } /* '' */\n.sf-icon-richtextnumberedlist:before { content: '\\\\e873'; } /* '' */\n.sf-icon-lock:before { content: '\\\\e874'; } /* '' */\n.sf-icon-filterlist:before { content: '\\\\e875'; } /* '' */\n.sf-icon-chevronup:before { content: '\\\\e876'; } /* '' */\n.sf-icon-clear:before { content: '\\\\e877'; } /* '' */\n.sf-icon-forward:before { content: '\\\\e878'; } /* '' */\n.sf-icon-new_window:before { content: '\\\\e879'; } /* '' */\n.sf-icon-richtextoutdent:before { content: '\\\\e87a'; } /* '' */\n.sf-icon-unlock:before { content: '\\\\e87b'; } /* '' */\n.sf-icon-opportunity:before { content: '\\\\e87c'; } /* '' */\n.sf-icon-post:before { content: '\\\\e87d'; } /* '' */\n.sf-icon-up:before { content: '\\\\e87e'; } /* '' */\n.sf-icon-search:before { content: '\\\\e87f'; } /* '' */\n.sf-icon-new:before { content: '\\\\e880'; } /* '' */\n.sf-icon-frozen:before { content: '\\\\e881'; } /* '' */\n.sf-icon-comments:before { content: '\\\\e882'; } /* '' */\n.sf-icon-recent:before { content: '\\\\e883'; } /* '' */\n.sf-icon-magicwand:before { content: '\\\\e884'; } /* '' */\n.sf-icon-discountscheduleicons-02:before { content: '\\\\e885'; } /* '' */\n.sf-icon-custom90:before { content: '\\\\e886'; } /* '' */\n.sf-icon-custom26:before { content: '\\\\e887'; } /* '' */\n.sf-icon-trending:before { content: '\\\\e888'; } /* '' */\n.sf-icon-target:before { content: '\\\\e889'; } /* '' */\n.sf-icon-cube:before { content: '\\\\e88b'; } /* '' */\n.sf-icon-paired-lines:before { content: '\\\\e88c'; } /* '' */\n[class^=\"sb-icon-\"]:before,\n[class*=\" sb-icon-\"]:before,\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  color: inherit;\n  display: inline-block;\n  font-family: 'sb-icons';\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  line-height: 1em;\n  speak: none;\n  text-align: center;\n  text-decoration: inherit;\n  text-transform: none;\n  width: 1em;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n[class^=\"sf-icon-\"]:before,\n[class*=\" sf-icon-\"]:before {\n  font-family: 'sf-icons';\n}\n.sb-icon-3dots:before {\n  font-family: 'sf-icons';\n  content: '\\\\e800';\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-exchange:before {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.sb-icon-loading {\n  width: 148px;\n  text-align: center;\n}\n.sb-icon-loading > div {\n  width: 36px;\n  height: 18px;\n  margin: 2px;\n  background-color: #0c8eff;\n  border-radius: 10%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.sb-icon-loading .sb-icon-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.sb-icon-loading .sb-icon-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"])||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},4561:(t,e,n)=>{"use strict";var i;n(2674);const o=(0,n(1510).d)(i||(r=["\n\t\t\t\t<dom-module id=\"sb-tables-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.table > tbody > tr > td {\n  color: inherit;\n}\n.table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.table td {\n  height: var(--sbTableCellHeight);\n}\n.table > tbody > tr > td.center,\n.table > thead > tr > th.center,\n.table > tfoot > tr > td.center {\n  text-align: center;\n}\n.table > thead > tr > th.right,\n.table > tbody > tr > td.right,\n.table > tfoot > tr > td.right {\n  text-align: right;\n}\n.table a {\n  color: inherit;\n}\n.table input,\n.table select {\n  font-size: inherit;\n}\n.table > thead > tr > th {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  font-size: inherit;\n  font-weight: normal;\n  text-transform: uppercase;\n  color: inherit;\n  text-align: left;\n  white-space: nowrap;\n}\n.table > thead > tr > th > .icon {\n  margin-left: 4px;\n  font-size: inherit;\n}\n.table > tbody > tr > td {\n  border-bottom: var(--sbTableRowBorder);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  color: inherit;\n  font-size: inherit;\n}\n.table > tbody > tr:hover {\n  background: var(--sbTableRowHoverColor);\n}\n.table > tfoot > tr > td {\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  color: inherit;\n  font-size: inherit;\n}\n.datatable {\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n}\n.datatable > .thead,\n.datatable > .tbody,\n.datatable > .tfoot,\n.datatable .tr {\n  width: 100%;\n}\n.datatable > .thead > .tr,\n.datatable > .tbody > .tr,\n.datatable > .tfoot > .tr {\n  display: table-row;\n}\n.datatable > .thead > .tr > div,\n.datatable > .tbody > .tr > div,\n.datatable > .tfoot > .tr > div {\n  border-bottom: var(--sbTableRowBorder);\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.datatable > .thead > .tr > div.truncate,\n.datatable > .tbody > .tr > div.truncate,\n.datatable > .tfoot > .tr > div.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.datatable > .thead > .tr > div.right,\n.datatable > .tbody > .tr > div.right,\n.datatable > .tfoot > .tr > div.right {\n  text-align: right;\n}\n.datatable > .thead > .tr > div.center,\n.datatable > .tbody > .tr > div.center,\n.datatable > .tfoot > .tr > div.center {\n  text-align: center;\n}\n.datatable > .thead > .tr > div.pic,\n.datatable > .tbody > .tr > div.pic,\n.datatable > .tfoot > .tr > div.pic {\n  display: none;\n}\n.datatable > .thead {\n  display: table-row-group;\n  color: var(--sbTableHeaderColor);\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n.datatable > .tbody {\n  display: table-row-group;\n}\n.datatable > .tfoot {\n  display: table-footer-group;\n}\n.tr {\n  display: table-row;\n}\n.td,\n.th {\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.td.truncate,\n.th.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.td.right,\n.th.right {\n  text-align: right;\n}\n.td.center,\n.th.center {\n  text-align: center;\n}\n.td.pic,\n.th.pic {\n  display: none;\n}\n.td {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.th {\n  border-bottom: var(--sb-table-header-border-bottom);\n}\n.innerTd,\n.innerTh {\n  display: table-cell;\n  vertical-align: middle;\n  white-space: initial;\n}\n.innerTd.truncate,\n.innerTh.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.innerTd.right,\n.innerTh.right {\n  text-align: right;\n}\n.innerTd.center,\n.innerTh.center {\n  text-align: center;\n}\n.innerTd.pic,\n.innerTh.pic {\n  display: none;\n}\n.firstInnerTd.numericCell[class*='--desktop'],\n.firstInnerTh.numericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n.lastInnerTd.numericCell[class*='--desktop'],\n.lastInnerTh.numericCell[class*='--desktop'] {\n  padding-right: 6px;\n}\n.numericCell[class*='--desktop'] {\n  text-align: right;\n}\n.afterNumericCell[class*='--desktop'],\n.checkboxCell[class*='--desktop'] {\n  text-align: center;\n}\n.secondInnerTd.afterNumericCell[class*='--desktop'],\n.secondInnerTh.afterNumericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n#tableContainer[class*='--desktop'] .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.leGroup[class*='--desktop'] {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n.leTh[class*='--desktop'] {\n  white-space: nowrap;\n}\n[class*='--desktop'] .firstInnerTd.numericCell,\n[class*='--desktop'] .firstInnerTh.numericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] .lastInnerTd.numericCell,\n[class*='--desktop'] .lastInnerTh.numericCell {\n  padding-right: 6px;\n}\n[class*='--desktop'] .numericCell {\n  text-align: right;\n}\n[class*='--desktop'] .afterNumericCell,\n[class*='--desktop'] .checkboxCell {\n  text-align: center;\n}\n[class*='--desktop'] .secondInnerTd.afterNumericCell,\n[class*='--desktop'] .secondInnerTh.afterNumericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] #tableContainer .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n[class*='--desktop'] .leGroup {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n[class*='--desktop'] .leTh {\n  white-space: nowrap;\n}\n.tgroup {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n  border-bottom-style: var(--sb-table-row-border-bottom-style, 'solid');\n  border-bottom-color: var(--sb-table-row-border-bottom-color, 'red');\n  border-bottom-width: var(--sb-table-row-border-bottom-width, '1px');\n  line-height: var(--sb-table-row-line-height);\n  padding-top: var(--sb-table-row-padding-top);\n  padding-bottom: var(--sb-table-row-padding-bottom);\n}\n.groupTr {\n  background-color: var(--sbTableRowGroupedRowBgColor);\n  line-height: var(--sbTableRowGroupedRowLineHeight);\n}\nsb-table-row[class*='--desktop']:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\nsb-table-header[class*='--desktop']:hover,\nsb-le-table-header[class*='--desktop']:hover {\n  background-color: #ffffff;\n}\n[class*='--desktop'] sb-table-row:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-header:hover,\n[class*='--desktop'] sb-le-table-header:hover {\n  background-color: #ffffff;\n}\n.groupExpandTd {\n  cursor: pointer;\n}\n.groupTd {\n  display: flex;\n  position: relative;\n}\n.groupTd:after {\n  position: relative;\n  content: '\\e86b';\n  font-family: 'sf-icons';\n}\n.groupTd.expanded:after {\n  content: '\\e876';\n}\n.td[class*='--mobile'] {\n  height: inherit;\n}\n.innerTd[class*='--mobile'] {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n.primary[class*='--mobile'] {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n.primary.selected[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\n.primary.multi[class*='--mobile'] {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: 0.9rem;\n  order: 3;\n}\n.primary.first[class*='--mobile']:after {\n  content: '\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n.primary.first.expanded[class*='--mobile']:after {\n  content: '\\e876';\n}\n.secondary[class*='--mobile'] {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n.secondary.expanded[class*='--mobile'] {\n  display: block;\n}\n.secondary.expanded.hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n.innerTd[field-label][class*='--mobile']:before,\n.detailField[field-label][class*='--mobile']:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n.td.lineNumber[class*='--mobile'] {\n  text-align: right;\n}\n.datatable[class*='--mobile'] {\n  padding: 0px;\n}\n.datatable[class*='--mobile'] .thead,\n.datatable[class*='--mobile'] sb-line-item-table-header,\n.datatable[class*='--mobile'] sb-segmented-line-item-table-header,\n.datatable[class*='--mobile'] .tfoot,\n.datatable[class*='--mobile'] .lineCheckbox {\n  display: none;\n}\n#selection[class*='--mobile'] {\n  position: absolute;\n}\n.selection[class*='--mobile'] {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n.tgroup[class*='--mobile'] {\n  box-sizing: border-box;\n}\n.datatable[class*='--mobile'] > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\nsb-option-cell[class*='--mobile'] {\n  width: 100%;\n}\nsb-option-cell.primary[class*='--mobile'] {\n  background-color: #FFF;\n}\nsb-option-cell.primary.selected[class*='--mobile'] {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\nsb-option-cell.primary.first[class*='--mobile']:not(.initial):after {\n  margin-top: -20px !important;\n}\nsb-option-cell.primary.first.initial[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\nsb-option-cell.primary.first[class*='--mobile'] {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\nsb-option-cell.primary.first.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell[class*='--mobile']:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n#instructions-text[class*='--mobile'] {\n  font-style: normal;\n}\nsb-table-cell.primary.multi[class*='--mobile'],\nsb-table-cell.secondary[class*='--mobile']:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile0[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile1[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  color: var(--upgrade-option-color, inherit);\n}\nsb-cse-table-cell[class*='--mobile'] {\n  cursor: default;\n}\nsb-cse-table-cell.primary.first[class*='--mobile'] {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\nsb-cse-table-cell.secondary.lastInnerTd.expanded[class*='--mobile'] {\n  border-bottom: 1px solid #d8dde6;\n}\n.lookupItemTd[class*='--mobile'] {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n.selectedLookupItem[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\nsb-le-table-cell.expanded[class*='--mobile']:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .td {\n  height: inherit;\n}\n[class*='--mobile'] .innerTd {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .primary {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n[class*='--mobile'] .primary.selected {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] .primary.multi {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: 0.9rem;\n  order: 3;\n}\n[class*='--mobile'] .primary.first:after {\n  content: '\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n[class*='--mobile'] .primary.first.expanded:after {\n  content: '\\e876';\n}\n[class*='--mobile'] .secondary {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n[class*='--mobile'] .secondary.expanded {\n  display: block;\n}\n[class*='--mobile'] .secondary.expanded.hiddenInMobile {\n  display: none;\n}\n[class*='--mobile'] .innerTd[field-label]:before,\n[class*='--mobile'] .detailField[field-label]:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n[class*='--mobile'] .td.lineNumber {\n  text-align: right;\n}\n[class*='--mobile'] .datatable {\n  padding: 0px;\n}\n[class*='--mobile'] .datatable .thead,\n[class*='--mobile'] .datatable sb-line-item-table-header,\n[class*='--mobile'] .datatable sb-segmented-line-item-table-header,\n[class*='--mobile'] .datatable .tfoot,\n[class*='--mobile'] .datatable .lineCheckbox {\n  display: none;\n}\n[class*='--mobile'] #selection {\n  position: absolute;\n}\n[class*='--mobile'] .selection {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n[class*='--mobile'] .tgroup {\n  box-sizing: border-box;\n}\n[class*='--mobile'] .datatable > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\n[class*='--mobile'] sb-option-cell {\n  width: 100%;\n}\n[class*='--mobile'] sb-option-cell.primary {\n  background-color: #FFF;\n}\n[class*='--mobile'] sb-option-cell.primary.selected {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n[class*='--mobile'] sb-option-cell.primary.first:not(.initial):after {\n  margin-top: -20px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first.initial:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] sb-option-cell.primary.first.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] #instructions-text {\n  font-style: normal;\n}\n[class*='--mobile'] sb-table-cell.primary.multi,\n[class*='--mobile'] sb-table-cell.secondary:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-table-cell.primary.multi[class*='--mobile']:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .--mobile1 sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  color: var(--upgrade-option-color, inherit);\n}\n[class*='--mobile'] sb-cse-table-cell {\n  cursor: default;\n}\n[class*='--mobile'] sb-cse-table-cell.primary.first {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\n[class*='--mobile'] sb-cse-table-cell.secondary.lastInnerTd.expanded {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .lookupItemTd {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n[class*='--mobile'] .selectedLookupItem {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] sb-le-table-cell.expanded:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"],(s=["\n\t\t\t\t<dom-module id=\"sb-tables-styles\">\n\t\t\t\t\t<template>\n\t\t\t\t\t  <style>\n\t\t\t\t\t\t\t/* global */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.table > tbody > tr > td {\n  color: inherit;\n}\n.table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.table td {\n  height: var(--sbTableCellHeight);\n}\n.table > tbody > tr > td.center,\n.table > thead > tr > th.center,\n.table > tfoot > tr > td.center {\n  text-align: center;\n}\n.table > thead > tr > th.right,\n.table > tbody > tr > td.right,\n.table > tfoot > tr > td.right {\n  text-align: right;\n}\n.table a {\n  color: inherit;\n}\n.table input,\n.table select {\n  font-size: inherit;\n}\n.table > thead > tr > th {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  font-size: inherit;\n  font-weight: normal;\n  text-transform: uppercase;\n  color: inherit;\n  text-align: left;\n  white-space: nowrap;\n}\n.table > thead > tr > th > .icon {\n  margin-left: 4px;\n  font-size: inherit;\n}\n.table > tbody > tr > td {\n  border-bottom: var(--sbTableRowBorder);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  color: inherit;\n  font-size: inherit;\n}\n.table > tbody > tr:hover {\n  background: var(--sbTableRowHoverColor);\n}\n.table > tfoot > tr > td {\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  color: inherit;\n  font-size: inherit;\n}\n.datatable {\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n}\n.datatable > .thead,\n.datatable > .tbody,\n.datatable > .tfoot,\n.datatable .tr {\n  width: 100%;\n}\n.datatable > .thead > .tr,\n.datatable > .tbody > .tr,\n.datatable > .tfoot > .tr {\n  display: table-row;\n}\n.datatable > .thead > .tr > div,\n.datatable > .tbody > .tr > div,\n.datatable > .tfoot > .tr > div {\n  border-bottom: var(--sbTableRowBorder);\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingLeftRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.datatable > .thead > .tr > div.truncate,\n.datatable > .tbody > .tr > div.truncate,\n.datatable > .tfoot > .tr > div.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.datatable > .thead > .tr > div.right,\n.datatable > .tbody > .tr > div.right,\n.datatable > .tfoot > .tr > div.right {\n  text-align: right;\n}\n.datatable > .thead > .tr > div.center,\n.datatable > .tbody > .tr > div.center,\n.datatable > .tfoot > .tr > div.center {\n  text-align: center;\n}\n.datatable > .thead > .tr > div.pic,\n.datatable > .tbody > .tr > div.pic,\n.datatable > .tfoot > .tr > div.pic {\n  display: none;\n}\n.datatable > .thead {\n  display: table-row-group;\n  color: var(--sbTableHeaderColor);\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n.datatable > .tbody {\n  display: table-row-group;\n}\n.datatable > .tfoot {\n  display: table-footer-group;\n}\n.tr {\n  display: table-row;\n}\n.td,\n.th {\n  display: table-cell;\n  height: var(--sbTableCellHeight);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.td.truncate,\n.th.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.td.right,\n.th.right {\n  text-align: right;\n}\n.td.center,\n.th.center {\n  text-align: center;\n}\n.td.pic,\n.th.pic {\n  display: none;\n}\n.td {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.th {\n  border-bottom: var(--sb-table-header-border-bottom);\n}\n.innerTd,\n.innerTh {\n  display: table-cell;\n  vertical-align: middle;\n  white-space: initial;\n}\n.innerTd.truncate,\n.innerTh.truncate {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 500px;\n}\n.innerTd.right,\n.innerTh.right {\n  text-align: right;\n}\n.innerTd.center,\n.innerTh.center {\n  text-align: center;\n}\n.innerTd.pic,\n.innerTh.pic {\n  display: none;\n}\n.firstInnerTd.numericCell[class*='--desktop'],\n.firstInnerTh.numericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n.lastInnerTd.numericCell[class*='--desktop'],\n.lastInnerTh.numericCell[class*='--desktop'] {\n  padding-right: 6px;\n}\n.numericCell[class*='--desktop'] {\n  text-align: right;\n}\n.afterNumericCell[class*='--desktop'],\n.checkboxCell[class*='--desktop'] {\n  text-align: center;\n}\n.secondInnerTd.afterNumericCell[class*='--desktop'],\n.secondInnerTh.afterNumericCell[class*='--desktop'] {\n  text-align: left !important;\n}\n#tableContainer[class*='--desktop'] .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n.leGroup[class*='--desktop'] {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n.leTh[class*='--desktop'] {\n  white-space: nowrap;\n}\n[class*='--desktop'] .firstInnerTd.numericCell,\n[class*='--desktop'] .firstInnerTh.numericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] .lastInnerTd.numericCell,\n[class*='--desktop'] .lastInnerTh.numericCell {\n  padding-right: 6px;\n}\n[class*='--desktop'] .numericCell {\n  text-align: right;\n}\n[class*='--desktop'] .afterNumericCell,\n[class*='--desktop'] .checkboxCell {\n  text-align: center;\n}\n[class*='--desktop'] .secondInnerTd.afterNumericCell,\n[class*='--desktop'] .secondInnerTh.afterNumericCell {\n  text-align: left !important;\n}\n[class*='--desktop'] #tableContainer .datatable.leTable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  background-color: inherit;\n}\n[class*='--desktop'] .leGroup {\n  display: table;\n  width: 100%;\n  border-collapse: collapse;\n}\n[class*='--desktop'] .leTh {\n  white-space: nowrap;\n}\n.tgroup {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n  border-bottom-style: var(--sb-table-row-border-bottom-style, 'solid');\n  border-bottom-color: var(--sb-table-row-border-bottom-color, 'red');\n  border-bottom-width: var(--sb-table-row-border-bottom-width, '1px');\n  line-height: var(--sb-table-row-line-height);\n  padding-top: var(--sb-table-row-padding-top);\n  padding-bottom: var(--sb-table-row-padding-bottom);\n}\n.groupTr {\n  background-color: var(--sbTableRowGroupedRowBgColor);\n  line-height: var(--sbTableRowGroupedRowLineHeight);\n}\nsb-table-row[class*='--desktop']:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\nsb-table-header[class*='--desktop']:hover,\nsb-le-table-header[class*='--desktop']:hover {\n  background-color: #ffffff;\n}\n[class*='--desktop'] sb-table-row:hover:not(.groupTr) {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-header:hover,\n[class*='--desktop'] sb-le-table-header:hover {\n  background-color: #ffffff;\n}\n.groupExpandTd {\n  cursor: pointer;\n}\n.groupTd {\n  display: flex;\n  position: relative;\n}\n.groupTd:after {\n  position: relative;\n  content: '\\\\e86b';\n  font-family: 'sf-icons';\n}\n.groupTd.expanded:after {\n  content: '\\\\e876';\n}\n.td[class*='--mobile'] {\n  height: inherit;\n}\n.innerTd[class*='--mobile'] {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n.primary[class*='--mobile'] {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n.primary.selected[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\n.primary.multi[class*='--mobile'] {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: 0.9rem;\n  order: 3;\n}\n.primary.first[class*='--mobile']:after {\n  content: '\\\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n.primary.first.expanded[class*='--mobile']:after {\n  content: '\\\\e876';\n}\n.secondary[class*='--mobile'] {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n.secondary.expanded[class*='--mobile'] {\n  display: block;\n}\n.secondary.expanded.hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n.innerTd[field-label][class*='--mobile']:before,\n.detailField[field-label][class*='--mobile']:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n.td.lineNumber[class*='--mobile'] {\n  text-align: right;\n}\n.datatable[class*='--mobile'] {\n  padding: 0px;\n}\n.datatable[class*='--mobile'] .thead,\n.datatable[class*='--mobile'] sb-line-item-table-header,\n.datatable[class*='--mobile'] sb-segmented-line-item-table-header,\n.datatable[class*='--mobile'] .tfoot,\n.datatable[class*='--mobile'] .lineCheckbox {\n  display: none;\n}\n#selection[class*='--mobile'] {\n  position: absolute;\n}\n.selection[class*='--mobile'] {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n.tgroup[class*='--mobile'] {\n  box-sizing: border-box;\n}\n.datatable[class*='--mobile'] > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\nsb-option-cell[class*='--mobile'] {\n  width: 100%;\n}\nsb-option-cell.primary[class*='--mobile'] {\n  background-color: #FFF;\n}\nsb-option-cell.primary.selected[class*='--mobile'] {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\nsb-option-cell.primary.first[class*='--mobile']:not(.initial):after {\n  margin-top: -20px !important;\n}\nsb-option-cell.primary.first.initial[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\nsb-option-cell.primary.first[class*='--mobile'] {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\nsb-option-cell.primary.first.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell[class*='--mobile']:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n#instructions-text[class*='--mobile'] {\n  font-style: normal;\n}\nsb-table-cell.primary.multi[class*='--mobile'],\nsb-table-cell.secondary[class*='--mobile']:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile0[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.--mobile1[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\nsb-option-cell.innerTd[class*='--mobile'] {\n  color: var(--upgrade-option-color, inherit);\n}\nsb-cse-table-cell[class*='--mobile'] {\n  cursor: default;\n}\nsb-cse-table-cell.primary.first[class*='--mobile'] {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\nsb-cse-table-cell.secondary.lastInnerTd.expanded[class*='--mobile'] {\n  border-bottom: 1px solid #d8dde6;\n}\n.lookupItemTd[class*='--mobile'] {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n.selectedLookupItem[class*='--mobile'] {\n  background-color: #CFD7E6;\n}\nsb-le-table-cell.expanded[class*='--mobile']:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .td {\n  height: inherit;\n}\n[class*='--mobile'] .innerTd {\n  display: inherit;\n  overflow: auto;\n  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .primary {\n  background-color: #f4f6f9;\n  width: 100%;\n  font-size: 1.1rem;\n  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);\n}\n[class*='--mobile'] .primary.selected {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] .primary.multi {\n  padding-top: var(--primary-multi-padding-top, 0px);\n  padding-bottom: 10px;\n  margin-top: -10px;\n  font-weight: normal;\n  font-size: 0.9rem;\n  order: 3;\n}\n[class*='--mobile'] .primary.first:after {\n  content: '\\\\e86b';\n  position: absolute;\n  left: var(--sb-tables-chevron-left, calc(100% - 30px));\n  margin-top: var(--sb-tables-chevron-margin-top, -8px);\n  font-family: 'sf-icons';\n}\n[class*='--mobile'] .primary.first.expanded:after {\n  content: '\\\\e876';\n}\n[class*='--mobile'] .secondary {\n  display: none;\n  padding-left: 25px;\n  width: 100%;\n}\n[class*='--mobile'] .secondary.expanded {\n  display: block;\n}\n[class*='--mobile'] .secondary.expanded.hiddenInMobile {\n  display: none;\n}\n[class*='--mobile'] .innerTd[field-label]:before,\n[class*='--mobile'] .detailField[field-label]:before {\n  content: attr(field-label);\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td {\n  border: none;\n  padding: inherit;\n  vertical-align: inherit;\n  display: block;\n}\n[class*='--mobile'] .td.lineNumber {\n  text-align: right;\n}\n[class*='--mobile'] .datatable {\n  padding: 0px;\n}\n[class*='--mobile'] .datatable .thead,\n[class*='--mobile'] .datatable sb-line-item-table-header,\n[class*='--mobile'] .datatable sb-segmented-line-item-table-header,\n[class*='--mobile'] .datatable .tfoot,\n[class*='--mobile'] .datatable .lineCheckbox {\n  display: none;\n}\n[class*='--mobile'] #selection {\n  position: absolute;\n}\n[class*='--mobile'] .selection {\n  padding: var(--selection-padding, 17px 0px 21px 25px);\n  overflow: hidden;\n}\n[class*='--mobile'] .tgroup {\n  box-sizing: border-box;\n}\n[class*='--mobile'] .datatable > tbody > tr > td {\n  height: inherit;\n  overflow: auto;\n}\n[class*='--mobile'] sb-option-cell {\n  width: 100%;\n}\n[class*='--mobile'] sb-option-cell.primary {\n  background-color: #FFF;\n}\n[class*='--mobile'] sb-option-cell.primary.selected {\n  box-shadow: var(--sb-option-cell-box-shadow, none);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n[class*='--mobile'] sb-option-cell.primary.first:not(.initial):after {\n  margin-top: -20px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first.initial:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] sb-option-cell.primary.first {\n  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] sb-option-cell.primary.first.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell:last-of-type {\n  border-bottom: var(--sbOptionCellBorderBottom, none);\n}\n[class*='--mobile'] #instructions-text {\n  font-style: normal;\n}\n[class*='--mobile'] sb-table-cell.primary.multi,\n[class*='--mobile'] sb-table-cell.secondary:last-of-type {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-table-cell.primary.multi[class*='--mobile']:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .--mobile1 sb-table-cell.primary.multi:not(.expanded) {\n  background: green;\n  border-bottom-width: 0px;\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] sb-option-cell.innerTd {\n  color: var(--upgrade-option-color, inherit);\n}\n[class*='--mobile'] sb-cse-table-cell {\n  cursor: default;\n}\n[class*='--mobile'] sb-cse-table-cell.primary.first {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d8dde6;\n  min-height: 45.2px;\n}\n[class*='--mobile'] sb-cse-table-cell.secondary.lastInnerTd.expanded {\n  border-bottom: 1px solid #d8dde6;\n}\n[class*='--mobile'] .lookupItemTd {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  width: 100%;\n  padding: 14px;\n}\n[class*='--mobile'] .selectedLookupItem {\n  background-color: #CFD7E6;\n}\n[class*='--mobile'] sb-le-table-cell.expanded:last-of-type {\n  border-bottom: 1px solid #d8dde6;\n}\n\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</template>\n\t\t\t\t</dom-module>"])||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},7079:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContractLookup:()=>C});var i,o=n(9685),r=n(1929),s=n(4155),a=n(3345),l=n(5775),d=n(1305),c=n(1510);const u=(0,c.f)(i||(h=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .title {\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.skipActionAddOn {\n  display: var(--sbSelectContractHideSkipActionOnAddOnDisplay);\n}\n.skipActionAmend {\n  display: var(--sbSelectContractHideSkipActionOnAmendDisplay);\n}\n.selectContractText {\n  padding-top: 30px;\n  padding-left: 10px;\n}\n.selectContractText[class*='--mobile'] {\n  padding-bottom: 25px;\n}\n[class*='--mobile'] .selectContractText {\n  padding-bottom: 25px;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.scrollContent[class*='--desktop'] {\n  overflow: auto;\n}\n[class*='--desktop'] .scrollContent {\n  overflow: auto;\n}\n"],p||(p=h.slice(0)),i=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(p)}}))));n(5310),n(5677),n(4561),n(6190),n(9229),n(8011),n(5799),n(2758),n(461),n(2724),n(2430),n(9712),n(4589);var h,p,f,b=n(4253),g=n(4166);const m=(0,c.f)(f||(f=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  color: #3c3d3e;\n}\n.datatable {\n  position: relative;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.scrollContent[class*='--desktop'] {\n  overflow: auto;\n}\n[class*='--desktop'] .scrollContent {\n  overflow: auto;\n}\n"])));var y,v;n(8228),n(1609),n(9294);class _ extends((0,l.Q)(d.H3)){static get is(){return"sf-contract-lookup-table"}static get observers(){return["_handleContractLoadResponseObserver(contractsByType, name)"]}static get properties(){return{name:String,contractsByType:Object}}get contractObject(){return r.I.org.isServiceCloudEnabled?"ServiceContract":"Contract"}connectedCallback(){super.connectedCallback(),this.handleMetaDataResponse()}ready(){super.ready(),this.addEventListener("selection-changed",this.handleContractSelected.bind(this)),this.$.header.selectable=!1}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(t){let e=[],n=[],i={},o={},r={},s={};t.detail.value.fields.forEach(function(t){let a=t.name;e.push(a),n.push(t.label),i[a]=t.label,o[a]=t,r[t.label.replace(/\W/g,"")]=t.type,s[a]=t.type}.bind(this)),this.headerClassMap=new b.o(Object.keys(r),"Th",r,null,!0).build(),this.rowClassMap=new b.o(e,"Td",s).build(),this.mdMap=o,this.recordKeys=e,this.fieldLabels=n,this.fieldLabelMap=i}.bind(this))}setFieldSet(){let t=[];for(let e of this.contracts[0].activeContractFieldSets)t.push(this.contractObject+"."+e);this.$.md.fields=t}_handleContractLoadResponseObserver(t,e){if(void 0!==t&&void 0!==e)return this.handleContractLoadResponse(t,e)}handleContractLoadResponse(){this.contracts=this.contractsByType[this.name],this.contracts.length>0&&this.setFieldSet()}handleContractSelected(t){t.detail.selected?this.selectedId=t.detail.Id:this.selectedId=null;let e={contractType:this.name,selectedContractId:this.selectedId};t.detail.selected&&this.ifRadioSelectedClearOtherRadioSelections(t),this.dispatchEvent((0,g.FU)("contract-selected",e))}ifRadioSelectedClearOtherRadioSelections(t){if(!1===t.detail.selected||void 0===t.detail.selected)return;let e=t.composedPath()[0],n=e.parentElement.querySelectorAll("sb-table-row");for(let t of n)t!==e&&(t.selected=!1)}static get template(){return(0,d.dy)(y||(y=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t <style include="sb-tables-styles"></style>\n\t\t <style include="sb-common-styles"></style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<sb-field-md id="md" error="{{errors}}"></sb-field-md>\n\t\t<div id="contractLookupTable">\n\t\t\t<div class="scrollContent" device>\n\t\t\t\t<div class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header"\n \t\t\t\t\t\t\tcols="[[fieldLabels]]"\n \t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n \t\t\t\t\t\t\tselection-type="radio">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{contracts}}" as="row">\n\t\t\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\t\tid="tableRow"\n\t\t\t\t\t\t\t\tcell="sb-table-cell"\n\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\trow-data="[[row.record]]"\n\t\t\t\t\t\t\t\tmodel="[[mdMap]]"\n\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["Contract.Status", "Contract.ContractNumber"]\'\n\t\t\t\t\t\t\t\trow-actions=\'[]\'\n\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\tselection-type="radio"\n\t\t\t\t\t\t\t\troute-source="ContractSelect"\n\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),m)}}customElements.define(_.is,_);const w="evergreen",x="nonevergreen";class C extends((0,l.Q)(o.T3)){static get is(){return"sb-contract-lookup"}static get properties(){return(0,a.l7)({prefix:{type:String,computed:"getPrefix(app.org)"},contractsByType:{type:Object,value:{}},contractLookupObjects:Array,contracts:Array,contractTabs:Array,lineEditorModel:Object,selectedContractId:String,selectedEvergreenContractId:String,action:String,accountId:String,selectedAssetIds:String,validationMessages:{type:Array,value:[]}},o.T3.properties)}connectedCallback(){super.connectedCallback(),this.handleLineEditorModelResponse(),this.handleContractModelLoadResponse(),this.handleContractModelSaveResponse()}ready(){super.ready(),Object.entries({"contract-selected":"handleContractSelected"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.setAndPrefetchObject(),this.setPropertyFromUrl(),this.setSkipActionClass(),this.action&&this.handleContractModelLoadRequest({uid:this.accountId,action:this.action})}setAndPrefetchObject(){this.contractLookupObjects=this.isServiceCloudEnabled()?["ServiceContract"]:["Contract"]}isServiceCloudEnabled(){return this.app.org.isServiceCloudEnabled}getPrefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}get scPrefix(){return this.app.org.scPrefix?this.app.org.scPrefix:""}setPropertyFromUrl(){this.action=this.ctx.params.action,this.accountId=this.ctx.params.accId,this.selectedAssetIds=this.ctx.params.selectedAssetIds}setSkipActionClass(){let t,e=this.$.skip;this.action?"Amend"===this.action&&(t="skipActionAmend"):t="skipActionAddOn",(0,a.og)(t,!0,e)}handleLineEditorModelResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.handleContractModelLoadRequest({uid:this.lineEditorModel.quote.record.Id})}.bind(this))}handleContractModelLoadRequest(t){this.$.contractModelLoadService.uid=null,this.$.contractModelLoadService.context=t}handleContractModelLoadResponse(){this.$.contractModelLoadService.addEventListener("response-changed",function(t){if(this.contracts=t.detail.value,0==this.contracts.length)return;this.contractsByType[w]=[],this.contractsByType[x]=[];let e=(this.isServiceCloudEnabled()?this.scPrefix:this.prefix)+"Evergreen__c";for(let t of this.contracts)t.record[e]?this.contractsByType[w].push(t):this.contractsByType[x].push(t);this.buildContractsTabs()}.bind(this))}handleContractSelected(t){t.detail.contractType==x?this.selectedContractId=t.detail.selectedContractId:this.selectedEvergreenContractId=t.detail.selectedContractId}handleContractModelSaveResponse(){this.$.contractModelSaveService.addEventListener("response-changed",function(t){t.detail.value&&(t.detail.value.Id?this.quoteId=t.detail.value.Id:t.detail.value.quote&&t.detail.value.quote.record&&(this.quoteId=t.detail.value.quote.record.Id,this.lineEditorModel=t.detail.value,this.$.qo.cache(this.quoteId,this.lineEditorModel))),this.navigateToLineEditor()}.bind(this))}buildContractsTabs(){let t=[],e=[[x,r.I.i18n.l("Active Contracts")],[w,r.I.i18n.l("Evergreen Contracts")]];for(let[n,i]of e)if(this.contractsByType[n].length>0){let e={name:n,label:i};t.push(e)}this.contractTabs=t}navigateToLineEditor(){let t=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.quoteId;this.nav("#",{qId:t},["quote","le"],!1)}onSkip(){this.action?this.$.contractModelSaveService.model=this.buildModel(null,null,null):this.navigateToLineEditor()}onSelect(){if(this.validationMessages=[],!this.selectedContractId&&!this.selectedEvergreenContractId)return void(this.validationMessages=[r.I.i18n.l("Select a record or Skip to continue")]);if(this.selectedContractId)for(let t of this.contractsByType[x])if(this.selectedContractId==t.record.Id){if(this.lineEditorModel.quote.record[this.prefix+"StartDate__c"]>t.record.EndDate)return void(this.validationMessages=[r.I.i18n.l("Can't select the contract because its end date is before the quote's start date")]);break}let t;if(this.action)t=this.buildModel(null,this.selectedContractId,this.selectedEvergreenContractId);else{let e=(new s.J).addObject("quote",this.lineEditorModel.quote.record);e.add("selectedContractId",this.selectedContractId),e.add("selectedEvergreenContractId",this.selectedEvergreenContractId),t=e.build()}this.$.contractModelSaveService.model=t}buildModel(t,e,n){return{quote:t||null,selectedContractId:e,selectedEvergreenContractId:n,action:this.action,accountId:this.accountId,selectedAssetIds:this.selectedAssetIds}}onCancel(){this.showSpinner=!0,this.navigateToDetailPage()}navigateToDetailPage(){let t;if(t=this.action?this.accountId:this.lineEditorModel.quote.record.Id,this.isLightningExperience())return void(!0===PageContainer.getViewport().isMobile()?this.navigateToURL("#/sObject/"+this.prefix+"Quote__c/home"):sforce.one.navigateToSObject(t));let e="/"+t;window.parent?window.parent.location.href=e:window.location.href=e}isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}navigateToURL(t){sforce.one.navigateToURL(t)}static get template(){return(0,d.dy)(v||(v=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t <style include="sb-icons-styles"></style>\n\t\t<sb-describe objects="[[contractLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-field-md id="md" error="{{errors}}"></sb-field-md>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-service id="contractModelLoadService" loader="ContractLookupServiceProvider.ContractModelLoader" error="{{errors}}"></sb-service>\n\t\t<sb-service id="contractModelSaveService" saver="ContractLookupServiceProvider.ContractModelSaver" error="{{errors}}"></sb-service>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[validationMessages]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-contract-1" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Contract Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="select">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onSkip" id="skip">\n\t\t\t\t\t<sb-i18n>Skip</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="cancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<div class="scrollContent" device>\n\t\t\t<sb-tabs\n         \t\ttabs="[[contractTabs]]"\n         \t\tpage-component="sf-contract-lookup-table"\n         \t\tcontracts-by-type="[[contractsByType]]"\n         \t\tbind=\'["contractsByType"]\'\n\t\t\t/>\n\t\t</div>\n\t\t'])),u)}}customElements.define(C.is,C)},7220:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DocgenPreview:()=>p});var i,o=n(1305),r=(n(8228),n(6190),n(9685));n(461);const s=(0,n(1510).f)(i||(a=['\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host #sbDocGenOptions,\n:host .sbPageBlockSection {\n  margin-left: 20px;\n  margin-top: 20px;\n}\n:host #sbDocGenOptions {\n  width: auto;\n}\n:host #sbDocGenOptions td:first-of-type {\n  width: 120px;\n}\n'],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d;function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=[{name:"t1",title:"My Favorite Template"},{name:"t2",title:"Okay Template"},{name:"t3",title:"Super Template"},{name:"t4",title:"Nasty Template"},{name:"t5",title:"Don't Go Here"}];class p extends r.T3{static get is(){return"sb-docgen-preview"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({obj:{type:Object,value:function(){return{}}},templates:{type:Array,value:function(){return h}}},r.T3.properties)}cancel(){this.nav("/entities/quote/detail?id="+this.ctx.params.id)}preview(){this.nav("/docgen/preview?id="+this.ctx.params.id)}static get template(){return(0,o.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-page-header>\n\t\t\t<i slot="icon" class="icon sf-icon-custom93"></i>\n\t\t\t<h1 slot="h1">Preview Document</h1>\n\t\t\t<h2 slot="h2">[[obj.Name]]</h2>\n\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button id="preview" on-click="save">Preview</paper-button>\n\t\t\t\t<paper-button id="cancel" on-click="cancel">Cancel</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<div>\n\t\t\t<header>\n\t\t\t\t<h3>Document Options</h3>\n\t\t\t</header>\n\n\t\t\t<table id="sbDocGenOptions">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<label>Template</label>\n\t\t\t\t\t\t\t<i class="sb-icon-help-circled" title="The Quote Template used to generate your quote"></i>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<select size="1">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="{{templates}}">\n\t\t\t\t\t\t\t\t\t<option value="[[index]]">[[item.title]]</option>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td><input id="foo"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t'])),s)}}customElements.define(p.is,p)},7485:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FavoriteLookup:()=>T});var i,o=n(3345),r=n(922),s=n(8401),a=n(9685),l=n(4155),d=n(566),c=n(6416),u=n(1510);const h=(0,u.f)(i||(p=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --my-page-header-display: block;\n  --my-page-header-width: 160px;\n  --sbTableInnerTdPadding: 16px 10px 8px 55px;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .left {\n  margin-right: 20px;\n}\n:host .left[class*=\'--mobile\'] {\n  margin-right: 0;\n}\n:host [class*=\'--mobile\'] .left {\n  margin-right: 0;\n}\n'],f||(f=p.slice(0)),i=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));n(5310);var p,f,b,g=n(5775),m=n(1305),y=(n(5969),n(8228),n(6190),n(6733),n(8011),n(1609),n(9294),n(9712),n(4589),n(1361)),v=n(2576),_=n(4166);const w=(0,u.f)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .mobile {\n  --sbDialogContentPadding: 0;\n  --sbDialogContentHeight: none;\n}\n:host .footer paper-button.share {\n  background-color: #0070d2;\n  color: #ffffff;\n}\n"])));var x;n(6802),n(5677),n(8544),n(549),n(6175);const C=(0,u.f)(x||(x=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host #multilookup {\n  padding: 10px 0;\n  width: 400px;\n  margin: 0 auto;\n}\n:host #multilookup.mobile {\n  background-color: #f0f1f2;\n  padding: 0;\n  width: 100%;\n}\n:host #selectedContainer {\n  max-width: 400px;\n  height: 85px;\n  border: 1px solid lightgrey;\n  border-top-left-radius: 0px;\n  border-top-right-radius: 0px;\n  margin: -1px auto -2px auto;\n  padding: 6px 4px 4px 4px;\n  overflow-y: scroll;\n  text-align: left;\n}\n:host #selectedContainer.mobile {\n  max-width: none;\n  background-color: white;\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n  margin: -1px 0 0 0;\n}\n:host #selectedContainer.mobile .pill {\n  font-size: 18px;\n  margin-left: 2%;\n  margin-top: 4px;\n  width: 96%;\n  padding: 10px;\n}\n:host #selectedContainer.mobile .pill .sf-icon-close {\n  float: right;\n}\n:host #selectedContainer .pill {\n  background-color: #d8edff;\n  border-radius: 8px;\n  display: inline-block;\n  margin-bottom: 4px;\n  padding: 4px 4px 4px 6px;\n  position: relative;\n}\n:host #selectedContainer .pill .item-label {\n  padding: 0 4px;\n}\n:host #selectedContainer .pill .sf-icon-close {\n  padding-right: 4px;\n  cursor: pointer;\n}\n:host #selectedContainer .pill.invalid-selection {\n  animation: shake 1s;\n}\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%,\n  80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%,\n  60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n:host #lookupContainer {\n  text-align: center;\n  width: 100%;\n}\n:host #lookupContainer sb-lookup {\n  --sbTypeaheadSelectorTop: 204px;\n  --sbTypeaheadSelectorLeft: 50px;\n  --sbTypeaheadSelectorMinWidth: 80%;\n  --sbTypeaheadSelectorBorderRadius: 0;\n  --sidePanelInputWidth: 100%;\n  --sidePanelInputHeight: 36px;\n  --sbTypeaheadInputFontSize: 14px;\n  --sbTypeaheadInputBorderRadius: 0;\n  --ironInputWidth: 100%;\n}\n:host #lookupContainer.mobile sb-lookup {\n  --sbTypeaheadIronInputWidthMobile: 100%;\n  --sbTypeaheadInputWidthMobile: calc(100% - 14px);\n  --sbTypeaheadInputMarginMobile: 7px;\n  --sbTypeaheadInputHeightMobile: 44px;\n  --sbTypeaheadInputFontSizeMobile: 18px;\n  --sbTypeaheadInputPlaceholderFontSizeMobile: 16px;\n}\n:host #resultsTable.mobile .thead {\n  padding: 13px 14px 13px 14px;\n  border-bottom: 1px solid #d8dde6;\n  font-size: 18px;\n  font-weight: bold;\n  background-color: #f4f6f9;\n}\n:host #resultsTable.mobile .tbody .trow {\n  background-color: #f4f6f9;\n  border-bottom: 1px solid #d8dde6;\n  padding: 14px;\n  width: 100%;\n  font-size: 1rem;\n}\n"])));var k;class S extends((0,g.Q)(m.H3)){static get is(){return"sb-multi-lookup"}static get properties(){return{tableName:String,objectName:String,hideCancel:Boolean,iconName:String,iconMap:Object,results:Array,selectedItems:{type:Array,value:[]},selectedIdsByItems:{type:Object,value:{}},customCallBack:Function,viewport:{type:Object,value:function(){return y._.getViewport()}},inDialog:Boolean,menuItemLabels:Array,isMobile:Boolean}}updateTable(t){this.results=t}ready(){super.ready(),this.$.lookup.addEventListener("lookup-value-changed",function(t){let e=t.detail.obj;this.selectedIdsByItems[e.Id]?this._animateDuplicate(e):this._addItem(e)}.bind(this)),this.viewport&&this.viewport.isMobile()&&this._appendMobileClasses()}_addItem(t){this.selectedIdsByItems[t.Id]=t,this.unshift("selectedItems",t)}_iconClass(t){return this.iconName&&this.iconMap?this.iconMap[t[this.iconName]]:""}_animateDuplicate(t){let e=this.$.selectedContainer.querySelectorAll(".pill");for(let n=0;n<e.length;n++)if(e[n].dataValue==t.Id)return e[n].addEventListener("webkitAnimationEnd",function(){(0,o.og)("invalid-selection",!1,e[n])}.bind(this),!1),void(0,o.og)("invalid-selection",!0,e[n])}_appendMobileClasses(){this.isMobile=!0,(0,o.og)("mobile",!0,this.$.multilookup),(0,o.og)("mobile",!0,this.$.selectedContainer),(0,o.og)("mobile",!0,this.$.lookupContainer),(0,o.og)("mobile",!0,this.$.resultsTable)}removeItem(t){this.splice("selectedItems",t.target.parentNode.dataIndex,1),delete this.selectedIdsByItems[t.target.parentNode.dataValue]}selectRow(t){let e=this.results[t.currentTarget.index];this.selectedIdsByItems[e.Id]?this._animateDuplicate(e):this._addItem(e)}clear(){this.selectedItems=[],this.selectedIdsByItems={}}static get template(){return(0,m.dy)(k||(k=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t    <style include="sb-icons-styles"></style>\n\t    <style include="sb-common-styles"></style>\n\t    <style include="sb-forms-styles"></style>\n\t    <style>','</style>\n\t\t<div device id="multilookup">\n\t\t\t<div id="lookupContainer">\n\t\t\t\t<sb-lookup id="lookup"\n\t\t\t\t\t\t   table-name="[[tableName]]"\n\t\t\t\t\t\t   in-dialog="[[inDialog]]"\n\t\t\t\t\t\t   hide-cancel-icon="true"\n\t\t\t\t\t\t   clear-after-selection="true"\n\t\t\t\t\t\t   placeholder="Enter a name or group"\n\t\t\t\t\t\t   custom-callback="[[customCallback]]"\n\t\t\t\t\t\t   menu-item-labels="[[menuItemLabels]]"\n\t\t\t\t\t\t   label=""\n\t\t\t\t></sb-lookup>\n\t\t\t</div>\n\t\t\t<div id="selectedContainer">\n\t\t\t\t<template is="dom-repeat" items="[[selectedItems]]" as="item">\n\t\t\t\t\t<div class="pill" data-value="[[item.Id]]" data-index="[[index]]">\n\t\t\t\t\t\t<span class$="pill-icon [[_iconClass(item)]]"></span>\n\t\t\t\t\t\t<span class="item-label">[[item.label]]</span>\n\t\t\t\t\t\t<span class="sf-icon-close" on-click="removeItem"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div id="resultsTable">\n\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t<div class="thead">[[objectName]]</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[results]]" as="row">\n\t\t\t\t\t\t\t<div class="trow" index="[[index]]" on-click="selectRow">[[row.label]]</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t    '])),C)}}customElements.define(S.is,S);var O;n(8560),n(2758);class I extends((0,v.J)((0,g.Q)(m.H3))){static get is(){return"sb-favorite-share-dialog"}static get properties(){return{favdUsers:{type:Array,value:[]},favdGroups:{type:Array,value:[]},favoriteCallback:{type:Function,value:function(){return this._favoriteCallbackFunction.bind(this)}},iconMap:{type:Object,value:{User:"sf-icon-user",Group:"sf-icon-groups"}},viewport:{type:Object,value:function(){return y._.getViewport()}}}}ready(){super.ready(),this.addEventListener("sb-cancel-share-fav",this.onCancel),this.viewport&&this.viewport.isMobile()&&(0,o.og)("mobile",!0,this.$.dialog)}_favoriteCallbackFunction(t){return new Promise(function(e,n){null==t||t.length<2?this.viewport.isMobile()?this.$.multilookup.updateTable([]):e([]):(this.$.service.uid="",this.$.service.context=t,this.$.multilookup.menuItemLabels=["label"],this.$.service.addEventListener("response-changed",function(t){let n=this._parseResults(t.detail.value);this.viewport.isMobile()?this.$.multilookup.updateTable(n):e(n)}.bind(this)),this.$.service.addEventListener("error-changed",function(t){n(t.detail.value)}.bind(this)))}.bind(this))}_parseResults(t){let e=t.groups,n=e.length,i=t.users,o=i.length;for(let t=0;t<n;t++)e[t].type="Group",e[t].label="Group - ".concat(e[t].Name);for(let t=0;t<o;t++)i[t].type="User",i[t].label="User - ".concat(i[t].Name);return i.concat(e)}onShare(){let t=this.$.multilookup.selectedIdsByItems,e=Object.keys(t).map((function(e){return t[e]})),n=e.length;for(let t=0;t<n;t++){let n="Group"===e[t].type?"favdGroups":"favdUsers";this.push(n,e[t].Id)}this.dispatchEvent((0,_.FU)("favorite-shared",{groups:this.favdGroups,users:this.favdUsers})),this.$.dialog.toggle(),this._clearFavdLists()}onCancel(){this.$.dialog.toggle()}_clearFavdLists(){this.set("favdUsers",[]),this.set("favdGroups",[]),this.$.multilookup.clear()}static get template(){return(0,m.dy)(O||(O=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-dialog device id="dialog" modal="true" close-dialog="sb-cancel-share-fav" appended-class="share-fav">\n\t\t\t\t<i slot="icon" class="sb-icon-star icon"></i>\n\t\t\t\t<div slot="title" class="title"><sb-i18n>Share Favorites</sb-i18n></div>\n\t\t\t\t<paper-button slot="paper-button" class="primary" on-click="onShare"><sb-i18n>Share</sb-i18n></paper-button>\n\n\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t<sb-multi-lookup id="multilookup" custom-callback="[[favoriteCallback]]" table-name="" in-dialog="true" icon-name="type" icon-map="[[iconMap]]" object-name="Users & Groups"></sb-multi-lookup>\n\t\t\t\t</div>\n\t\t\t</sb-dialog>\n\t\t\t<sb-service id="service" loader="FavoriteLookupServiceProvider.UserGroupModel" background="true"></sb-service>\n\t\t'])),w)}}customElements.define(I.is,I);var E;n(461),n(2724);class T extends((0,g.Q)(a.T3)){static get is(){return"sb-favorite-lookup"}static get properties(){return(0,o.l7)({lineEditorModel:Object,favoriteModel:Object,selectedFavorites:{type:Object,value:{}},actions:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,aId:String,groupKey:Number,isMobile:Boolean},a.T3.properties)}connectedCallback(){super.connectedCallback(),this.$.le.addEventListener("line-editor-model-changed",(t=>{this.lineEditorModel=t.detail.value,this._setMetaData(this.mdFields,this.lineEditorModel)})),this.$.md.addEventListener("md-changed",(t=>{this.mdFields=t.detail.value.fields,this._setMetaData(this.mdFields,this.lineEditorModel)})),this.$.fm.addEventListener("response-changed",(()=>{this._setSelected()})),this.$.addFavorite.addEventListener("response-changed",(t=>{let e=t.detail.value;if(e.partialVO&&(e=this._recombinePartialQuoteWithFullQuote(e)),this.lineEditorModel.quote=e,this._toggleSelected(),!this.addMore){let t={qId:this.qId};Object.keys(this.selectedFavorites).length>0&&(t.jspr=!0),null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),s.C.nav("#",t,["quote","le"],!1,this)}this.$.header.selected=!1,this.addMore=!1})),this.addEventListener("favorite-shared",(t=>{this.$.shareFavorites.addEventListener("response-changed",function(){this._toggleSelected()}.bind(this));let e=(new l.J).add("favIds",Object.keys(this.selectedFavorites)).add("groupIds",t.detail.groups).add("userIds",t.detail.users).build();this.$.shareFavorites.model=e})),this._handleOneFavoriteSelected(),this._handleAllFavoritesSelected()}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready(),this.qId=this.qId||this.ctx.params.qId,this.aId=this.aId||this.ctx.params.aId,this.groupKey=parseInt(this.groupKey||this.ctx.params.groupKey)||null,this.isMobile=this._isMobileViewport()}_recombinePartialQuoteWithFullQuote(t){var e=this.le.quote.lineItems;return t.lineItems=e.concat(t.lineItems),delete t.segmentTemplatesByDimensionTypeByGroupKey,delete t.emptyGroupKeys,t.partialVO=!1,t}_setMetaData(t,e){if(void 0===t||void 0===e)return!1;this.cols=t.map((t=>t.name));let n={},i={};for(let e of t)n[e.name]={type:e.type},i[e.name]=e.label;this.model=n;let o=e.developerPrefix+"Description__c";this.primaryMobileCols=["Name",o],this.colsDisplay=i,this.fieldLabels=t.map((t=>t.label))}_setSelected(){this.favoriteModel.favorites.forEach((t=>t.selected=!1))}_handleOneFavoriteSelected(){this.addEventListener("selection-changed",(t=>{let e=t.detail,n=e.selected,i=e.Id;n?this.selectedFavorites[i]=e:delete this.selectedFavorites[i]}))}_handleAllFavoritesSelected(){this.addEventListener("header-selection-changed",(t=>{t.detail.selected?(this._toggleSelected(!0),this.favoriteModel.favorites.forEach(function(t){this.selectedFavorites[t.record.Id]=t.record}.bind(this))):(this._toggleSelected(!1),this.selectedFavorites={})}))}_toggleSelected(t){let e=t||!1;this.$.header.selected=e;let n=this.$.tbody.querySelectorAll("sb-table-row");if(n&&n.length>0)for(let t of n)t.selected=e}_removeSelections(){this.selectedFavorites={},this._setSelected()}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}onDeleteFavorite(){const t=Object.keys(this.selectedFavorites);let e=(new l.J).add("quoteFavIds",this.le.quote.favoriteIds||[]).add("favIdsToRemove",t).build();this.$.deleteFavorite.save({model:e}).then((()=>{const e=new c.g(this.le.developerPrefix).FAVORITE_ID_FIELD;(0,o.u3)(t,e,this.le.quote.lineItems)}))}toggleAddProducts(){this._toggleSelected();let t={qId:this.qId};null!=this.groupKey&&(t.groupKey=this.groupKey),this.aId&&(t.aId=this.aId),s.C.nav("#",t,["product","lookup"],!1,this)}onShareFavorite(){0!==Object.keys(this.selectedFavorites).length?this.$.shareFavorite.$.dialog.toggle():this.error=["Please select at least one favorite to share."]}onSelect(){let t=this.le.settings.largeQuoteThreshold,e=this.le.customLabels.msg_large_quote_sent_without_lines,n=this.le.quote;t&&n.lineItems.length>t&&(n=this._minimizeQuoteVO(n),console.log(e.replace("{0}",n.record.Id).replace("{1}",t)));let i=(new l.J).addQuote("quote",n).add("groupKey",this.groupKey).add("favIds",Object.keys(this.selectedFavorites)).build();this.$.addFavorite.model=i}_minimizeQuoteVO(t){let e=JSON.parse(JSON.stringify(t)),n=new r.z(t),i=n.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);return e.segmentTemplatesByDimensionTypeByGroupKey={},e.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=i,e.emptyGroupKeys=n.getKeysOfEmptyGroups(),e.lineItems=[],e.partialVO=!0,e}onSelectMore(){this.addMore=!0,this.onSelect()}onCancel(){let t={qId:this.qId};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),s.C.nav("#",t,["quote","le"],!1,this)}clearStackTrace(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=(0,d.Z)(this.errors))}static get template(){return(0,m.dy)(E||(E=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-line-editor-read id="le" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t\t<sb-service id="fm" saver="FavoriteLookupServiceProvider.FavoriteModel" model=[[le.quote.favoriteIds]] response={{favoriteModel}} error="{{errors}}"></sb-service>\n\t\t\t<sb-field-md id="md" object="Favorite__c" fields="[[favoriteModel.resultFieldNames]]" error="{{errors}}"></sb-field-md>\n\n\t\t\t\x3c!--Favorite services--\x3e\n\t\t\t<sb-service id="deleteFavorite" saver="FavoriteLookupServiceProvider.FavoriteDeleter" response={{favoriteModel}} error="{{errors}}"></sb-service>\n\t\t\t<sb-service id="addFavorite" saver="FavoriteLookupServiceProvider.FavoriteAdder" error="{{errors}}"></sb-service>\n\t\t\t<sb-service id="shareFavorites" saver="FavoriteLookupServiceProvider.FavoriteSharer" error="{{errors}}"></sb-service>\n\n\t\t\t<sb-page-header device>\n\t\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t\t<i slot="icon" class="icon sf-icon-favorite"></i>\n\t\t\t\t<h1 slot="h1" id="headerTitle"><sb-i18n>Favorite Lookup</sb-i18n></h1>\n\t\t\t\t<h2 slot="h2" id="headerSubtitle">[[le.headerSubtitle]]</h2>\n\t\t\t\t<div class="actions left" slot="actions">\n\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts"><sb-i18n>Add Products</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts" class="sf-icon-search"></paper-button>\n\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\tfor="addProdFavBtn"\n\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\tfit-to-visible-bounds="true">\n\t\t\t\t\t\t\t<sb-i18n>Visit Product Search Page</sb-i18n>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t\t<paper-button id="shareFavBtn" noink on-click="onShareFavorite"><sb-i18n>Share</sb-i18n></paper-button>\n\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\tfor="shareFavBtn"\n\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\tfit-to-visible-bounds="true">\n\t\t\t\t\t\t<sb-i18n>Share favorites with other users</sb-i18n>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t<paper-button id="deleteFavBtn" noink on-click="onDeleteFavorite"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div class="actions" slot="actions">\n\t\t\t\t\t<paper-button id="selectFavBtn" noink on-click="onSelect"><sb-i18n>Select</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="selectMoreFavBtn" noink on-click="onSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="cancelFavBtn" noink on-click="onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t</sb-page-header>\n\n\t\t\t<div id="pageBody">\n\t\t\t\t<div device class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]" last-column-content-class="favoriteAction">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{favoriteModel.favorites}}" as="favorite">\n\t\t\t\t\t\t\t<sb-table-row cell="sb-table-cell"\n\t\t\t\t\t\t\t\t\t\t  cols="[[cols]]"\n\t\t\t\t\t\t\t\t\t\t  cols-display="[[colsDisplay]]"\n\t\t\t\t\t\t\t\t\t\t  primary-mobile-cols="[[primaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t  row-data="[[favorite.record]]"\n\t\t\t\t\t\t\t\t\t\t  model="[[model]]"\n\t\t\t\t\t\t\t\t\t\t  selectable="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\t  selection-id-data-path="Id"\n\t\t\t\t\t\t\t\t\t\t  selected="[[favorite.selected]]"\n\t\t\t\t\t\t\t\t\t\t  route-source="FavoriteLookup"\n\t\t\t\t\t\t\t\t\t\t  row-actions="[[actions]]"\n\t\t\t\t\t\t\t></sb-table-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\x3c!--Share Modal--\x3e\n\t\t\t<sb-favorite-share-dialog device id="shareFavorite"></sb-favorite-share-dialog>\n\t\t'])),h)}}customElements.define(T.is,T)},4127:(t,e,n)=>{"use strict";n.d(e,{w:()=>i});const i={Apply:"Apply","Asset Selection":"Asset Selection",Cancel:"Cancel","Clear Fields":"Clear Fields",Filter:"Filter",Select:"Select",None:"None",searchText:"Search {0}",lookupQueryError:"Can't perform lookup due to field encryption or a querying error",FieldSetWarning:"Create a Field Set with the label of CPQ_Lookup in {0} object setup to determine which fields are displayed in this CPQ list view popup.",numResults:"{0} Results",Save:"Save","Background color":"Background color","Block quote":"Block quote",Bold:"Bold","Bullet list":"Bullet list","Clear formatting":"Clear formatting","Decrease indent":"Decrease indent","Edit Description":"Edit Description","Font family":"Font family","Font size":"Font size","Header size":"Header size","Unsupported HTML tags detected":"Unsupported HTML tags detected, saving may cause original formatting to be altered or lost. If you wish to preserve original formatting, cancel out of the Rich-Text Editor.","Increase indent":"Increase indent","Insert or edit image":"Insert or edit image","Insert or edit link":"Insert or edit link",Italic:"Italic","Numbered list":"Numbered list",Redo:"Redo",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Align left":"Align left",Center:"Center","Align right":"Align right","Text color":"Text color",Underline:"Underline",Undo:"Undo","Constrain proportions":"Constrain proportions",Dimensions:"Dimensions","Insert image":"Insert image",Source:"Source","Search Products":"Search Products","Product Search":"Product Search","Select All":"Reduce search results to fewer than {0} to enable select all",Popup:"Popup","Add Products":"Add Products",Delete:"Delete","Favorite Lookup":"Favorite Lookup","Select & Add More":"Select & Add More",Share:"Share","Share Favorites":"Share Favorites",Attributes:"Attributes",Options:"Options",showAvailableUpgrades:"This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.","No visible options in feature":"No visible options in feature '{0}'",Features:"Features","Add Options":"Add Options",Add:"Add","Configure Products":"Configure Products","Configuration Attribute Error":"Please review required configuration attributes","Configuration Error":"Some or all options require further configuration. Look for configuration icon next to options that must be configured.","Maximum Quantity Error":"Exceeded maximum quantity available. Value has been reduced to {0}","Add to Cart":"Add to Cart",Categories:"Categories",Description:"Description",Go:"Go","My Favorites":"My Favorites",Price:"Price","Product Code":"Product Code","Product Name":"Product Name","Start Over":"Start Over",Alert:"Alert",Continue:"Continue","Return to Quote":"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it.","Contract Selection":"Active Contract Selection","Select Contract":"Select Contract","Active Contracts":"Active Contracts","Evergreen Contracts":"Evergreen Contracts",Skip:"Skip",Favorites:"Favorites","Guided Selling":"Guided Selling","Product Filter":"Product Filter","Product Selection":"Product Selection",Suggest:"Suggest","Available Groups":"Available Groups","Clone To Groups":"Clone To Group(s)","Select Groups":"Select one or more group(s)","Selected Groups":"Selected Groups","Custom Segments":"Custom Segments","Discount Schedule Editor":"Discount Schedule Editor",Update:"Update","Add to Favorites":"Add to Favorites","Favorite Name":"Favorite Name","Choose Price Book":"Choose Price Book",Details:"Details",Total:"Total","Quote Total":"Quote Total","Add To Favorite":"Add To Favorite","Click to edit description":"Click to edit description.",emptyLinesMsg:"This group has no line items. Click on Add Products button or drag lines from other groups.",mobileEmptyLinesMsg:"This group has no line items. Click on Add Products button to add a product.","Remove From Favorites":"Remove From Favorites","Segmented Products":"Segmented Products","Standard Products":"Standard Products",Subtotal:"Subtotal",missingOpportunityLineItem:"This product will not sync to the opportunity because a valid pricebook entry does not exist.",msg_qty_cannot_decrease_on_renewal:"Quantity of Line {0} cannot decrease below original value {1} on a Renewal Quote.",msg_qty_no_negative_on_amend:"The quantities of the assets in the Amendment Quote are not allowed to be negative. Please adjust line(s) {0}.",msg_qty_of_upgrade_exceeds_source_prior:"Combined quantity of upgrades to Line {0} cannot exceed {1}.",msg_qty_of_source_too_low:'Product "{0}" cannot be refunded. The quantity of Line {1} cannot decrease without a corresponding upgrade.',pesterPSLAssignment:"As of Winter 21, Salesforce CPQ requires permission set licenses instead of managed package licenses. Contact your Salesforce CPQ admin about upgrading.","Edit Quote":"Edit Quote",emptyGroupedQuoteMsg:"This quote has no line items. Click on Add Group button to select products.",emptyQuoteMsg:"This quote has no line items. Click on Add Products button to select products.",fullScreenMode:"Toggle Full Screen Mode",Reset_Column_Widths:"Reset Column Widths","Accept Recommendation":"Accept Recommendation",Explanation:"Explanation",Floor:"Floor",Norm:"Norm","Pricing Guidance":"Pricing Guidance",PricingGuidanceNotAvailable:"Can't load pricing guidance for this record. Contact your Salesforce admin.",Target:"Target","Back to Quote":"Back to Quote",There_are_unsaved_changes_in_one_or_more_of_your_categories:"There are unsaved changes in one or more of your categories.  We're just making sure you want to go back to the quote without updating.",Leave_page_without_updating:"Leave page without updating?","Consumption Schedule":"Consumption Schedule","Never Mind":"Never Mind",msg_cannot_delete_group:"You cannot delete this Group as it contains Quote Lines being amended.",msg_confirm_group_delete:"All lines will also be deleted. Are you sure you want to delete this group?",msg_confirm_remove_favorite:"Are you sure you want to remove favorite?",msg_confirm_remove_group_from_favorites:"All lines will be removed from favorites. Are you sure you want to remove this group from favorites?",Ok:"Ok",msg_missing_pricebook_id:"A PriceBook Id is missing. Please contact your administrator to resolve the issue.","Consumption Schedule Name":"Consumption Schedule Name",Items_Sorted_by:"{0} Items - Sorted by {1}","Search Consumption Schedule Name":"Search Consumption Schedule Name","There are no rates that match your search criteria":"There are no rates that match your search criteria",Your_search_term_must_have_2_or_more_characters:"Your search term must have 2 or more characters, excluding *, ?, (), or ' '","Recommended Products":"Recommended Products","Subscription Selection":"Subscription Selection","Quick Save and Continue":"Quick Save and Continue",lbl_close:"Close",lbl_groups:"Groups"}},6634:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});const i="cpqEPT";class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.salesforceBaseUrl=t}startTransaction(t){this.canGatherMetrics()&&this._isNotStarted()&&(this._init(),this._queueIdleCallback(),console.log(t||"CPQ Performance Metrics Service: started ept"))}startServiceRequest(t,e){if(this._isNotStarted())return null;window.sb.MetricsService.internal.sptNum+=1;let n=this._getUniqueId();return void 0===t&&(t=""),void 0!==e&&(t=t+"/"+e),window.sb.MetricsService.internal.actions.set(n,this._buildTransportAction(t)),console.log("CPQ Performance Metrics Service: started service call"),n}addExternalLogMetrics(t){t||(t={}),this._externalLogMetrics||(this._externalLogMetrics={}),Object.assign(this._externalLogMetrics,t)}_buildTransportAction(t){return{context:{actionDefs:[t]},pageStartTime:Date.now(),ts:this._getTime(),name:"request",ns:"transport"}}stopServiceRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._isNotStarted()||(window.sb.MetricsService.internal.sptNum-=1,window.sb.MetricsService.internal.idleRetries=2,window.sb.MetricsService.internal.idleStart>0&&(window.sb.MetricsService.internal.idleTime+=this._getTime()-window.sb.MetricsService.internal.idleStart,window.sb.MetricsService.internal.idleStart=0),this._populateTransportAction(t),window.sb.MetricsService.internal.sptTime+=e,console.log("CPQ Performance Metrics Service: ended service call",e))}_init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Date.now(),n=this._getTime();var i=this._getPageStartTime();if(window.sb.visibilityStateEnd=document.visibilityState,window.sb=window.sb||{},null!=window.sb&&null==window.sb.MetricsService){window.sb.MetricsService={},window.sb.MetricsService.bootstrap={id:"qtc:bootstrap"},window.sb.MetricsService.bootstrap.bootstrapEPT=n,window.sb.MetricsService.bootstrap.pageStartTime=i,window.sb.MetricsService.bootstrap.visibilityStateStart=window.sb.visibilityStateStart,window.sb.MetricsService.bootstrap.visibilityStateEnd=window.sb.visibilityStateEnd;if(window.performance&&performance.timing){var o=window.performance,r=o.timing,s={readyStart:r.fetchStart-r.navigationStart,lookupDomainTime:r.domainLookupEnd-r.domainLookupStart,connectTime:r.connectEnd-r.connectStart,requestTime:r.responseEnd-r.requestStart,initDomTreeTime:r.domInteractive-r.responseEnd,domReadyTime:r.domComplete-r.domInteractive,loadEventTime:r.loadEventEnd-r.loadEventStart,loadTime:r.loadEventEnd-r.fetchStart,unloadEventTime:r.unloadEventEnd-r.unloadEventStart,appCacheTime:r.domainLookupStart-r.fetchStart,redirectTime:r.redirectEnd-r.redirectStart};window.sb.MetricsService.bootstrap.timing=Object.assign(r.toJSON(),s),window.sb.MetricsService.bootstrap.allRequests=[],o.getEntries().forEach((function(t){var e=this._summarizeResourcePerfInfo(t);window.sb.MetricsService.bootstrap.allRequests.push(e)}),this)}}else window.sb.MetricsService.bootstrap={};window.sb.MetricsService.internal={lastIdleEndTime:n,sptNum:0,idleStart:0,idleTime:0,sptTime:0,idleRetries:2,actions:new Map},window.sb.MetricsService.currentPage={ept:void 0,bpt:void 0,spt:void 0,pageStartTime:e,ts:n,page:{attributes:{app:{appName:"SteelBrick",appType:"Standard"},url:window.location.href},entity:t}}}_idle(){if(!this._isNotStarted()){if(0===window.sb.MetricsService.internal.sptNum){if(0===window.sb.MetricsService.internal.idleRetries)return this._calcAndDisplayMetrics(),void this._logMetrics();2==window.sb.MetricsService.internal.idleRetries&&(window.sb.MetricsService.internal.lastIdleEndTime=this._getTime()),window.sb.MetricsService.internal.idleRetries--}0===window.sb.MetricsService.internal.idleStart&&(window.sb.MetricsService.internal.idleStart=this._getTime()),this._queueIdleCallback()}}_summarizeResourcePerfInfo(t){return{name:t.name,initiatorType:t.initiatorType,duration:parseInt(t.responseEnd-t.startTime,10),startTime:parseInt(t.startTime,10),fetchStart:parseInt(t.fetchStart,10),requestStart:parseInt(t.requestStart,10),dns:parseInt(t.domainLookupEnd-t.domainLookupStart,10),tcp:parseInt(t.connectEnd-t.connectStart,10),ttfb:parseInt(t.responseStart-t.startTime,10),transfer:parseInt(t.responseEnd-t.responseStart,10),transferSize:parseInt(t.transferSize,10),encodedBodySize:parseInt(t.encodedBodySize,10),decodedBodySize:parseInt(t.decodedBodySize,10)}}_populateTransportAction(t){if(!t)return;let e=window.sb.MetricsService.internal.actions.get(t);e&&(e.duration=parseInt(this._getTime()-e.ts))}_queueIdleCallback(){this.canGatherMetrics()&&window.requestIdleCallback(this._idle.bind(this))}_calcAndDisplayMetrics(){let t=window.sb.MetricsService.internal.lastIdleEndTime-window.sb.MetricsService.currentPage.ts,e=t-window.sb.MetricsService.internal.idleTime,n=window.sb.MetricsService.internal.sptTime;var i=[],o=null;for(var[r,s]of(window.performance&&window.performance.getEntriesByType&&(o=window.performance.getEntriesByType("resource")),window.sb.MetricsService.internal.actions)){if(null!=o){var a=o.filter((function(t){return t.startTime>=s.ts&&t.startTime<=s.ts+s.duration}))[0];null!=a&&(s.resource=a)}i.push(s)}if(window.sb.MetricsService.internal=null,window.sb.MetricsService.currentPage.ept=t,window.sb.MetricsService.currentPage.bpt=e,window.sb.MetricsService.currentPage.spt=n,window.sb.MetricsService.currentPage.marks={transport:i},console.log("CPQ Performance Metrics Service: ",window.sb.MetricsService.bootstrap,window.sb.MetricsService.currentPage),this._canDisplayMetrics()){let t=new CustomEvent("metrics-changed",{detail:window.sb.MetricsService.currentPage,bootstrap:window.sb.MetricsService.bootstrap});document.dispatchEvent(t)}}_normalizeApiHost(t){var e=/([a-zA-Z0-9_-]+)\.(vpod\.visual\.t\.force|visual\.force|salesforce)\.com$/.exec(t);return e&&(t="vpod.visual.t.force"==e[2]?e[1]+".vpod.t.force.com":e[1]+".salesforce.com"),t}_logMetrics(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(window.sb.MetricsService.currentPage.ept<150)&&this.salesforceBaseUrl){var e=this.salesforceBaseUrl+"/_ui/common/request/servlet/CPQLoggingServlet",n=new XMLHttpRequest;n.withCredentials=!0,n.open("POST",e,!0);var o=this;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE)if(200==n.status)console.log("CPQ Performance Metrics service Successfully logged");else{if(t)return console.log("Error while logging CPQ Performance Metrics Service:"),void console.log(n.getAllResponseHeaders());console.log("Logging failed, trying on different endpoint..");var e=o._normalizeApiHost(location.host),i=location.protocol+"//"+e;o.salesforceBaseUrl=i,o._logMetrics(!0)}};var r={pkgVersion:window.sb.userSettings.pkgVersion,apiVersion:57,url:window.sb.MetricsService.currentPage.page.attributes.url,pageStartTime:window.sb.MetricsService.currentPage.pageStartTime,version:"1.0",polymerVersion:"P3"};this._externalLogMetrics&&Object.assign(r,this._externalLogMetrics);var s=[{logName:i,logLevel:"INFO",logAttrs:{attrsId:"cpq:page",ept:window.sb.MetricsService.currentPage.ept,bpt:window.sb.MetricsService.currentPage.bpt,spt:window.sb.MetricsService.currentPage.spt,resources:window.sb.MetricsService.currentPage.marks}}];Object.assign(s[0].logAttrs,r),0!==Object.keys(window.sb.MetricsService.bootstrap).length&&(s.push({logName:i,logLevel:"INFO",logAttrs:{attrsId:window.sb.MetricsService.bootstrap.id,bootstrapEPT:window.sb.MetricsService.bootstrap.bootstrapEPT,visibilityStateStart:window.sb.MetricsService.bootstrap.visibilityStateStart,visibilityStateEnd:window.sb.MetricsService.bootstrap.visibilityStateEnd,resources:window.sb.MetricsService.bootstrap.allRequests,timing:window.sb.MetricsService.bootstrap.timing}}),Object.assign(s[1].logAttrs,r));var a=new FormData;a.append("logLines",JSON.stringify(s)),n.send(a)}}_canDisplayMetrics(){if(!this.canGatherMetrics())return!1;var t=new URL(window.location.href);return 1==new URLSearchParams(t.search).get("eptVisible")}canGatherMetrics(){return"function"==typeof window.requestIdleCallback}_isNotStarted(){return null==window.sb||null==window.sb.MetricsService||null==window.sb.MetricsService.internal||null==window.sb.MetricsService.internal.sptNum}_getTime(){return window.performance?window.performance.now():Date.now()}_getPageStartTime(){var t=window.performance;return t&&t.timing&&t.timing.navigationStart?t.timing.navigationStart:window.pageStartTime}_getUniqueId(){return this._getRandomInt(1,1e4)}_getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}}},9843:(t,e,n)=>{"use strict";n.d(e,{Ep:()=>d,IW:()=>a,PF:()=>f,SF:()=>m});var i=n(3345),o=n(4155),r=n(1068);function s(t,e){if(t)for(let n in t)if(t[n])for(let i of t[n])e(i,n)}function a(t){return void 0===t.optionId&&void 0!==t.productId}function l(t,e,n,i,o,r){if(!1===n.selected&&!1===a(n))return;let p=d(o,n),b=f(i,p);if(void 0===b){const o=function(t,e,n,i,o,r){let s;if(a(n)){s=u(g(n.productId,e),n,r)}else{const t=n.optionId;s=h(e.staticOptions[t],n,r)}o.pop(),o=d(o,s);const l=c(i,s,o);return t.optionConfigurations=t.optionConfigurations||[],t.configured=!0,{path:o,option:l}}(t,e,n,i,p,r);p=o.path,b=o.option}s(n.optionConfigurations,(t=>{l(b,e,t,i,p,r)}))}function d(t,e){let n;return n=a(e)?{optionId:"This is a new dynamic option and does not yet exist in the NOM tree",index:e.index}:{optionId:e.optionId,index:e.index},t.concat([n])}function c(t,e,n){const i=f(t,n.slice(0,-1));let o=f(t,n);return o?t._updateSubtree(o,e,!0):(t._appendSubtree(e,i,e.index),o=f(t,n)),o}function u(t,e,n){t=t||{};const i=Object.assign({},t);i.record=Object.assign({},t.record);const o=p(e.configurationData);if(o)for(let t in o)i.record[t]=o[t];return i.configurationData={},i.optionId=t.record.Id,i.optionConfigurations=[],i.index=e.index,i.isDynamicOption=!0,i.added=!0,i.upgradedAssetId=null,i.isUpgrade=!1,i.record[n+"Quantity__c"]=e.Quantity,void 0===i.record[n+"UnitPrice__c"]&&(i.record[n+"UnitPrice__c"]=0),void 0!==e.selected?i.selected=e.selected:i.selected=!0,i.optionData=Object.assign({},i.record),i}function h(t,e,n){t=t||{};const o=Object.assign({},t);return o.optionData=Object.assign({},t.optionData),o.optionId=e.optionId,o.configured=!0,o.isDynamicOption=o.isDynamicOption||!1,o.upgradedAssetId=o.upgradedAssetId||null,o.isUpgrade=o.isUpgrade||!1,void 0!==e.selected?o.selected=e.selected:o.selected=!0,o.index=e.index,o.optionConfigurations=[],null!=e.Quantity&&(o.optionData[n+"Quantity__c"]=e.Quantity),function(t,e){if(t.configurationData=t.configurationData||{},!e.configurationData)return;const n=p(e.configurationData);t.externalConfigurationData=e.externalConfigurationData||{},(0,i.l7)(t.externalConfigurationData,n),(0,i.l7)(t.optionData,n),t.configurationData={}}(o,e),o}function p(t){return t?JSON.parse(JSON.stringify(t,(function(t,e){return t.endsWith("__c")&&e instanceof Object?JSON.stringify(e):e}))):t}function f(t,e){const n=t.configTree.root;if(0==e.length)return n;return b(n,JSON.parse(JSON.stringify(e)))}function b(t,e){const n=e.shift(),i=t.getChildren().find((t=>t.optionId===n.optionId&&t.index===n.index));return void 0===i||0===e.length?i:b(i,e)}function g(t,e){return void 0!==e.dynamicOptions[t]?e.dynamicOptions[t]:(e.dynamicOptions15Char=e.dynamicOptions15Char||function(t){const e={},n=t.dynamicOptions;for(let t in n)e[(0,i.Rc)(t)]=n[t];return e}(e),e.dynamicOptions15Char[(0,i.Rc)(t)])}class m{static buildExternalConfiguratorOptionRequest(t){const e=new o.J;return t.dynamicFeatureOptionIds&&e.add("dynamicFeatureOptionIds",t.dynamicFeatureOptionIds),t.optionsToExtend&&(e.add("staticOptionIds",t.optionsToExtend.staticOptionIds),e.add("dynamicOptions",t.optionsToExtend.dynamicOptions)),e.add("quoteRecord",t.quoteRecord),e.build()}static findOptionsToExtendOrUpdate(t,e,n,i,o){if(e.length>3)throw new Error("Your nested bundle has exceeded the number of supported levels.");let r={};s(n.optionConfigurations,((s,l)=>{m.setIndex(s,r);const c=d(e,s);m.findOptionsToExtendOrUpdate(t,c,s,i,o);const u=f(t,c);if(void 0!==u||!0!==s.selected&&!a(s)){if(void 0!==u){const n=f(t,e);if(!1===s.selected)t._removeSubtree(u,n);else{const e=h(u,s,o),n=e.optionData[o+"UnitPrice__c"];null!=n&&(u.listPrice=n),t._updateSubtree(u,e,!0)}}}else if(a(s)){let t=n.productId;void 0===t&&void 0!==n.readOnly&&void 0!==n.readOnly.line&&(t=n.productId||n.readOnly.line[o+"Product__c"]),i.dynamicOptions.push({parentFeatureName:l,parentProductId:t,parentOptionId:n.optionId,productId:s.productId})}else!0===s.selected&&i.staticOptionIds.push(s.optionId)}))}static extendOptionsWithServerResponse(t,e,n,o,r){const p=(0,i.wC)(r);s(e,(e=>{let i;if(a(e)){i=u(g(e.productId,t),e,p)}else i=h({},e,p);const r=d(o,i),f=c(n,i,r);s(e.optionConfigurations,(e=>{l(f,t,e,n,r,p)}))}))}static hasOptionsToBeExtended(t){return!!t&&(!!t.staticOptionIds&&(!!t.dynamicOptions&&(t.staticOptionIds.length>0||t.dynamicOptions.length>0)))}static async getDataForNestedReconfigure(t,e){const n=[],i={features:{},products:{}};for(const i of t||[])n.push(...m._getProductIdsFromConfigGraph(i._transient_.optionConfigurations,e));if(0===n.length)return i;const o=await m.queryProductsWithFeatures(n,e);for(const t of o.records)Object.assign(i.features,m._getFeaturesFromProductResults(t["".concat(e,"Features__r")])),i.products[t.Id]=t;return i}static _getFeaturesFromProductResults(t){const e={};if(null!=t&&null!=t.records)for(const n of t.records)for(const n of t.records)e[n.Id]=n;return e}static _getProductIdsFromConfigGraph(t,e){const n=[];for(const i of t||[])n.push(...m._getProductIdsFromConfigGraph(i.optionConfigurations||[],e)),i.configuredProductId&&n.push(i.configuredProductId);return n}static async queryProductsWithFeatures(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.getConnection();return await n.query("SELECT Id, Name, ProductCode,(SELECT Id, Name, ".concat(e,"OptionSelectionMethod__c FROM ").concat(e,"Features__r) FROM Product2 WHERE Id IN ('").concat(t.join("','"),"')"))}static getConnection(){return new r.S}static setIndex(t,e){let n;n=a(t)?t.productId:t.optionId;let i=0;void 0!==t.index?i=t.index:void 0!==e[n]&&(i=e[n]),t.index=i,e[n]=i+1}}},8802:(t,e,n)=>{"use strict";var i,o=n(1305),r=(n(5969),n(8228),n(6008)),s=n(8373),a=(n(6190),n(354)),l=n(4253),d=n(1361),c=n(2680),u=n(7953),h=n(4166),p=n(5775),f=n(2576),b=n(1019),g=n(5234),m=n(3345),y=(n(2758),n(2596),n(1609),n(9294),n(9712),n(1929)),v=n(4316),_=(n(6733),n(1510));const w=(0,_.f)(i||(x=["\n:host #fieldLabel {\n  padding-top: 5px;\n}\n"],C||(C=x.slice(0)),i=Object.freeze(Object.defineProperties(x,{raw:{value:Object.freeze(C)}}))));var x,C,k,S;n(5677),n(5310);class O extends((0,f.J)(o.H3)){static get is(){return"sb-option-cell"}static get properties(){return{item:String,itemLabel:String,value:{notify:!0},model:Object,data:Object,editable:Boolean,prefix:{type:String,value:function(){return y.I.org.prefix?y.I.org.prefix+"__":""}},selected:{type:Boolean,value:!1},index:Number,display:String,viewport:{type:Object,value:function(){return d._.getViewport()}},optionDrawer:{type:Boolean,value:function(){return this.classList.contains("drawerCell")}},renderReadOnly:{type:Boolean,computed:"getRenderReadOnly(optionDrawer)"},isDisabled:{type:Boolean,computed:"getDisabled(optionDrawer, selected)"}}}static get observers(){return["_buildCellObserver(itemLabel, model, data, prefix)","setItemLabel(item)","_displayChangedObserver(value, display, item, data, field)"]}_buildCellObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.buildCell(t,e,n,i)}buildCell(){this.field=this.getField(),this.itemLabel===this.prefix+"Quantity__c"?this.initQuantityCell():this.itemLabel===this.prefix+"UnitPrice__c"?this.initUnitPriceCell():this.initCell()}getQuantityEditable(){return this.getFieldRecordValue("QuantityEditable__c")||!1===this.data.recordHasQuantity}getPriceEditable(){return"Yes"===this.getFieldRecordValue("PriceEditable__c")&&!1===this.getFieldRecordValue("Bundled__c")}getField(){return this.model.fieldDetails[this.item]}initQuantityCell(){if(!0===this.data.hasDimension&&!0===this.data.isSegmented&&!0===this.data.configured)return this.mdqWarningIcon=!0;this.editable=this.getQuantityEditable(),null!=this.getFieldRecordValue("ProductQuantityScale__c")?(this.field=JSON.parse(JSON.stringify(this.field)),this.field.scale=this.getFieldRecordValue("ProductQuantityScale__c")):void 0!==y.I.org.quantityScale&&(this.field.scale=y.I.org.quantityScale),this.$.field.preventNumericAlignment=!0,this.attachQuantityChangeCallback(),this.initCell()}initUnitPriceCell(){this.editable=this.getPriceEditable(),null!=y.I.org.currencyDecimalScale&&(this.field.scale=y.I.org.currencyDecimalScale),this.initCell()}initCell(){0===this.index&&this.viewport&&this.viewport.isMobile()&&(this.editable=!1),void 0===this.editable&&this.optionDrawer&&(this.editable=!0),void 0===this.editable&&(this.editable=this.field.updateable&&this.quoteLineHasField(this.itemLabel)),this.setDisplayIfRelationshipItem(),this.attachValueChangedCallback(),this.handleOriginalValues(),this.$.field.record=this,this.$.field.md=this.field}attachQuantityChangeCallback(){this.addEventListener("value-changed",function(t){this.dispatchEvent((0,h.FU)("sb-quantity-changed",{Id:this.data.record.Id,bundleId:this.getBundleId(),changed:!0,invalidQuantity:this.data.invalidQuantity,validQuantity:this.data.validQuantity,path:t.composedPath?t.composedPath():[t.target.parentNode]}))}.bind(this))}attachValueChangedCallback(){this.addEventListener("value-changed",this.syncValueChangeWithOptionConfiguration.bind(this))}getBundleId(){return this.data.parentProductKey||this.getFieldRecordValue("ConfiguredSKU__c")}getFieldRecordValue(t){return this.data.record[this.prefix+t]}quoteLineHasField(t){return!!this.model.quoteLineFields[t]}setItemLabel(){this.item.startsWith("record.")?this.itemLabel=this.item.split(".")[1]:this.itemLabel=this.item}syncValueChangeWithOptionConfiguration(){if(!this.data.configuration||0==this.data.configuration.length)return;if(this.data.configuration.length>1)return;let t=this.data.configuration[0].optionData;if(!t)return;let e=this.item.split("."),n=e[e.length-1];void 0!==t[n]&&(t[n]=this.value)}handleOriginalValues(){!this.data._transient_.original&&this.data.record&&(this.data._transient_.original={},this.data._transient_.original.record=JSON.parse(JSON.stringify(this.data.record))),this.data._transient_.original&&(this.data._transient_.original.record.hasOwnProperty(this.item.split(".")[1])||this.set("data._transient_.original."+this.item,this.value),this.$.field.originalValue=this.get("data._transient_.original."+this.item))}setDisplayIfRelationshipItem(){let t=new v.Z(this.item,null,(t=>this.get("data."+t)),this.setValue.bind(this));t.hasRelationship()&&(this.display=t.getRelationshipName())}_displayChangedObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this._displayChanged(t,e,n,i,o)}_displayChanged(){new v.Z(this.item,null,(t=>this.get("data."+t)),this.setValue.bind(this)).addRelationshipName(this.value,this.display,this.field.referenceTo[0])}getValue(t){return this.data.record[t]}setValue(t,e){this.set("data."+t,e)}equals(t){return this.data===t.data}getRenderReadOnly(){return!this.optionDrawer}getDisabled(){return!!this.optionDrawer||this.selected}static get template(){return(0,o.dy)(k||(k=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-common-styles"></style>\n\t\t<style>','</style>\n\n\t\t<template is="dom-if" if="[[mdqWarningIcon]]">\n\t\t\t<span id="warningIcon" class="sf-icon-warning"></span>\n\t\t\t<paper-tooltip for="warningIcon" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t[[data.reconfigureDimensionWarning]]\n\t\t\t</paper-tooltip>\n\t\t</template>\n\t\t<template is="dom-if" if="[[optionDrawer]]">\n\t\t\t<div id="fieldLabel">[[field.label]]</div>\n\t\t</template>\n\t\t<sb-field id="field"\n\t\t\t\t  property="[[item]]"\n\t\t\t\t  disabled="[[!isDisabled]]"\n\t\t\t\t  value="{{value}}"\n\t\t\t\t  editing="[[editable]]"\n\t\t\t\t  ref-display="{{display}}"\n\t\t\t\t  index="[[index]]"\n\t\t\t\t  signaler="[[signaler]]"\n\t\t\t\t  render-read-only="[[renderReadOnly]]"></sb-field>\n\t\t'])),w)}}customElements.define(O.is,O);const I=(0,_.f)(S||(S=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n#drawerTable {\n  border-bottom: 1px solid #D8DDE6;\n}\n"])));var E,T;n(9402);class M extends((0,p.Q)(o.H3)){static get is(){return"sb-option-drawer"}static get properties(){return{option:Object,md:Object,fieldNames:Array,richTextFields:Array}}static get observers(){return["_setFieldNamesAndRichTextFieldsObserver(option, md)"]}_setFieldNamesAndRichTextFieldsObserver(t,e){if(void 0!==t&&void 0!==e)return this.setFieldNamesAndRichTextFields(t,e)}setFieldNamesAndRichTextFields(){let t=[],e=[];for(let n in this.option._transient_.attributeItems)t.push("record."+n),this.md.fieldDetails["record."+n]&&"richtextarea"===this.md.fieldDetails["record."+n].extraTypeInfo&&e.push("record."+n);this.fieldNames=t,this.richTextFields=e}static get template(){return(0,o.dy)(E||(E=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<div id="drawerTable">\n\t\t\t<sb-row-drawer\n\t\t\t\titem="sb-option-cell"\n\t\t\t\tmodel="[[md]]"\n\t\t\t\tdata="{{option}}"\n\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\trich-text-fields="[[richTextFields]]"\n\t\t\t\thighlight-on-focus="true"\n\t\t\t></sb-row-drawer>\n\t\t</div>\n\n\t\t'])),I)}}customElements.define(M.is,M);const B=(0,_.f)(T||(T=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sf-icon-padding: 0;\n}\n:host .drawer {\n  background-color: var(--sbPageHeaderBgColor);\n  border-bottom: 1px solid #d0d0d0;\n  display: table-row;\n}\n[hidden] {\n  display: none;\n}\n#optiontable {\n  padding: 0px;\n}\n.datatable > .featureless {\n  display: none;\n}\na {\n  display: inline-block;\n  cursor: pointer;\n  padding: 8px 12px;\n  margin: 4px 0;\n}\n:host([label='Options']) {\n  --sbOptionCellBorderTop: 0;\n  --sbOptionCellBorderBottom: 1px solid #d8dde6;\n}\n#upgradeOptionsButton {\n  margin: 10px;\n}\n#upgradeOptionsButton[class*='--mobile'] {\n  margin: 0;\n  width: 100%;\n  height: 53px;\n  border-radius: 0;\n}\n#optiontable[class*='--mobile'] {\n  border-bottom: var(--option-table-border-bottom, none);\n  overflow-x: hidden;\n}\n[class*='--mobile'] #upgradeOptionsButton {\n  margin: 0;\n  width: 100%;\n  height: 53px;\n  border-radius: 0;\n}\n[class*='--mobile'] #optiontable {\n  border-bottom: var(--option-table-border-bottom, none);\n  overflow-x: hidden;\n}\n.upgradeOption {\n  --upgrade-option-color: #aaaaaa;\n  color: #aaaaaa;\n}\nsb-table-row[class*='--desktop']::shadow #swipe-header.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] sb-table-row::shadow #swipe-header.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n"])));var P;n(4561);class D extends((0,g.S)((0,f.J)((0,p.Q)((0,b.U)(o.H3))))){static get is(){return"sb-product-option-table"}static get properties(){return{featureId:String,model:Object,isClickSelection:Boolean,index:String,routeSource:String,options:Array,showAddOptionsButton:Boolean,md:Object,fieldSet:Array,featureless:Boolean,prefix:{type:String,computed:"getPrefix(model)"},primaryMobileCol:{type:Array,computed:"_getPrimaryMobileColumns(prefix, fieldSet, fieldSetName)"},parentIdDataPath:{type:String,computed:"setParentIdDataPath(model, prefix)"},disabledStateMap:Object,disableAllFields:Boolean,configSearch:Object,viewport:{type:Object,value:function(){return d._.getViewport()}},showUpgradeOptions:{type:Boolean,value:!1},upgradeOptionButtonText:{type:String,value:"Show Available Upgrades"},hasUpgradeOptions:Boolean,headerActions:{type:Array,value:[]},spinner:{type:Boolean,notify:!0},attributeItemFields:{type:Array,value:[]},productHasAttributeSet:Boolean,tabIndex:{type:Number,value:null}}}get events(){let t={};return t[h.zW.NAVIGATION_CHANGED]=this.navigationChanged,t}static get observers(){return["_setMetadataRequestObserver(model, fieldSet, prefix, options)","_initOptionsObserver(model, featureId, isClickSelection, fieldSet)","disabledStateMapChanged(disabledStateMap.*)","_setOptionsDisabledDataObserver(disabledStateMap, options)","setUpgradeOptionClass(options)","_filterOptionsObserver(configSearch, options)","setProductRulesActions(options, model.productRulesActions.*)","_firePriceRules(options, model.optionDataByOptionIdAndIndex.*)","_notifyObserver(model.optionNotifications, options)","_showOrHideAddOptionsButtonObserver(model, featureId, isClickSelection)","_setHasUpgradeOptionsObserver(hasUpgradeOptions, showAddOptionsButton)","_setHeaderActions(options)","_showUpgradeOptionIfSelectionMethodAddObserver(options, isClickSelection)","setOptionIndex(options)","isFeatureOptionless(options.splices)"]}ready(){super.ready(),this.$.header.selectable=!1,this.handleSelectionChanged(),this.handleMetadataChanged(),this.handleDeleteOption(),this.handleConfigureOption(),this.viewport&&this.viewport.isMobile()||(this.editFirstWhenSelected="sb-field")}handleSelectionChanged(){this.addEventListener("selection-changed",this._selectionChanged.bind(this)),this.addEventListener("sb-quantity-changed",this._handleOptionUpgrades.bind(this))}_selectionChanged(t){this.model.setOptionSelected(t.detail.Id,t.detail.selected),this.ifRadioSelectedClearOtherRadioSelections(t);let e=null!=t.detail.index?t.detail.index:this.getOptionIndex(t.detail.Id);e<0||(!0===t.detail.selected&&"Configurator"===this.routeSource?(this._displayAvailableRowActions(e,!1),this.set(["options",e,"selected"],t.detail.selected)):this._displayAvailableRowActions(e,!0),"Configurator"===this.routeSource&&t.detail.path&&this.options.length>e&&(this.options[e].upgradedAssetId||this.options[e].sourceProductIds)&&this._handleOptionUpgrades(t,e))}_displayAvailableRowActions(t,e){if(!(this.options.length<=t))for(let n=0;n<this.options[t]._transient_.rowActions.length;n++)this.set(["options",t,"_transient_.rowActions",n,"invisible"],e),"OptionLookup"===this.routeSource&&this.set(["options",t,"_transient_.rowActions",n,"hidden"],e),"Configure"===this.options[t]._transient_.rowActions[n].title&&!0!==this.options[t].configurable&&this.set(["options",t,"_transient_.rowActions",n,"invisible"],!0)}handleMetadataChanged(){this.$.fieldMetaData.addEventListener("md-changed",function(t){let e=this.initFieldMetadata(t.detail.value.fieldsByObject);this.rowClassMap=e.fieldSetMd.rowClassMap,this.md=e.fieldSetMd,this.attributeItemMd=e.attributeItemMd,this.spinner=!1}.bind(this))}_handleOptionUpgrades(t,e){if("Amendment"!==this.model.product.quoteType)return;let n=this.options[e||this.getOptionIndex(t.detail.Id)],i=new c.k(this.prefix,this.options,n);if(new u.G(i).setQuantitiesByRatio(),!i.getSourceOption()&&!i.getUpgradeOption())return;let o=this.getOptionIndex(i.getSourceOption().record.Id),a=this.getOptionIndex(i.getUpgradeOption().record.Id);this._handleOptionUpgradesDebouncer=s.dx.debounce(this._handleOptionUpgradesDebouncer,r.Wc.after(10),(()=>{let t=i.getSourceOption(),e=i.getUpgradeOption();t.invalidQuantity?this._notifyQuantityChange(o,a,t,!0):e.invalidQuantity?this._notifyQuantityChange(a,o,e,!0):this._notifyQuantityChange(o,a),t.invalidQuantity=null,e.invalidQuantity=null}))}_notifyQuantityChange(t,e,n,i){i&&(n.record[this.prefix+"Quantity__c"]=n.invalidQuantity,this.notifyPath(["options",t,"record",this.prefix+"Quantity__c"]),n.record[this.prefix+"Quantity__c"]=n.validQuantity),this.notifyPath(["options",e,"record",this.prefix+"Quantity__c"]),this.notifyPath(["options",t,"record",this.prefix+"Quantity__c"])}_getPrimaryMobileColumns(){let t=["record."+this.prefix+"ProductName__c"];return t&&t.length>0&&this.fieldSetName&&this.fieldSetName.endsWith("Phone")&&(t=["record."+this.fieldSet[0]]),t}_setMetadataRequestObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.setMetadataRequest(t,e,n,i)}setMetadataRequest(){this.spinner=!0;let t=new Set,e=[];for(let e of this.fieldSet)t.add(e);t=this.setAttributeItemMetaData(t);for(let n of t.values())e.push("ProductOption__c."+n),e.push("QuoteLine__c."+n);JSON.stringify(this.$.fieldMetaData.fields)!==JSON.stringify(e)&&(this.$.fieldMetaData.fields=e)}setAttributeItemMetaData(t){let e=new Set;for(let n of this.options)if(this.hasAttributeItems(n))for(let i in n._transient_.attributeItems)t.add(i),e.add(i);for(let t of e.values())this.attributeItemFields.push(t);return t}initFieldMetadata(t){let e={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.fieldSet},n={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.attributeItemFields};for(let i in t[this.prefix+"ProductOption__c"]){let o=t[this.prefix+"ProductOption__c"][i];"currency"===o.type.toLowerCase()&&(o.CurrencyIsoCode=this.model.currencyIsoCode),this.addMetaDataProperties(e,o),this.attributeItemFields.length>0&&this.addMetaDataProperties(n,o)}return this.addAdditionalMetaDataProperties(e,t),this.addAdditionalMetaDataProperties(n,t),{fieldSetMd:e,attributeItemMd:n}}addMetaDataProperties(t,e){let n=e.name;if(-1==t.fields.indexOf(n))return;t.fieldLabels.push(e.label),t.recordKeys.push("record."+n),t.fieldLabelMap[n]=e.label,t.fieldDetails["record."+n]=e;let i=e.type;if(!this._isMobile()){n===this.prefix+"Quantity__c"&&(i="string");let t=new a.dr(e).getImageWidth(20);t&&(i+=":"+t)}t.labelTypeMap[e.label.replace(/\W/g,"")]=i,t.itemTypeMap["record."+n]=i}addAdditionalMetaDataProperties(t,e){t.quoteLineFields=e[this.prefix+"QuoteLine__c"],t.headerClassMap=new l.o(Object.keys(t.labelTypeMap),"Th",t.labelTypeMap,null,!0).build(),t.rowClassMap=new l.o(t.recordKeys,"Td",t.itemTypeMap,["initial"]).build(),delete t.fields}_initOptionsObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.initOptions(t,e,n,i)}initOptions(){this.productHasAttributeSet=!this._isMobile()&&this.model.product._transient_&&this.model.product._transient_.hasAttributeItems,this.options=this.model.getOptionsByFeatureId(this.featureId)}_notifyObserver(t,e){if(void 0!==t&&void 0!==e)return this.notify(t,e)}notify(t){if(this.isClickSelection)for(let e=0,n=this.options.length;e<n;e++)for(let n of t)this.notifyPath("options.".concat(e,".").concat(n));else{this.model.getFeature(this.featureId)._transient_.changedExternally&&this._optionsExternallyChanged();let e=this.$.tbody.querySelectorAll("sb-table-row");e.length&&e.forEach((e=>{e.notify(t)}))}}_optionsExternallyChanged(){this.$.tbody.querySelector("dom-repeat").render(),this._renderChangedRows(),this.isFeatureOptionless(),this._setHeaderActions()}_renderChangedRows(){let t=this.$.tbody.querySelectorAll("sb-table-row");for(let e=this.options.length-1;e>=0;e--)this.options[e].selected?this._addSelectedOption(this.options[e],t[e],e):this.deleteOption(this.options[e].record.Id,e)}_addSelectedOption(t,e,n){e.rowData||(t._transient_.rowActions=this.model.getOption(t.record.Id)._transient_.rowActions,e.rowData=t,e.$.row.selected=!0,this._displayAvailableRowActions(n,!1))}deselectOptionsOnOptionLookup(){for(let[t,e]of this.options.entries())this.set("options.".concat(t,".selected"),!1)}getOptionIndex(t){let e=-1,n=0,i=this.options.length;for(;e<0&&n<i;)this.options[n].record.Id===t&&(e=n),n++;return e}ifRadioSelectedClearOtherRadioSelections(t){if("radio"!==t.detail.selectionType||!t.detail.selected)return;let e=this.$.tbody.querySelectorAll("sb-table-row");if(!e||0==e.length)return;let n=t.composedPath()[0];for(let t of e)"radio"==t.selectionType&&t!==n&&(this.dispatchEvent((0,h.FU)("group-selected",{selected:!1})),t.selected=!1)}setParentIdDataPath(){return"record."+this.prefix+"ConfiguredSKU__c"}navigationChanged(){this.model.getFeature(this.featureId)._transient_.changedExternally||this.reset()}_setOptionsDisabledDataObserver(t,e){if(void 0!==t&&void 0!==e)return this.setOptionsDisabledData(t,e)}setOptionsDisabledData(){this.options.length&&this.disabledStateMap&&Object.keys(this.disabledStateMap).length&&this.options.forEach(function(t,e){this.optionShouldChange(t)&&this.changeOptionDisabled(t,e)}.bind(this))}disabledStateMapChanged(t){if(!this.options||!this.options.length||!Object.keys(this.disabledStateMap).length)return;let e=t.path.split(".")[1],n=this.model.optionsById[e],i=this.options.findIndex((t=>t.record.Id===e));i>=0&&this.optionShouldChange(n)&&this.changeOptionDisabled(n,i)}optionShouldChange(t){return t.disabledData&&this.disabledStateMap[t.record.Id]!==t.disabledData.constrained}changeOptionDisabled(t,e){let n=!!this.disabledStateMap[t.record.Id],i=t.disabledData.disabled;this.set("options.".concat(e,".disabledData"),{disabled:i,constrained:n}),this.isClickSelection||1!=this.disabledStateMap[t.record.Id]||this.deleteOption(t.record.Id,e,!0)}reset(){}routeToLookup(){let t={qId:this.model.qId,pId:this.model.product.record.Id,fId:this.featureId};"Dynamic"===this.model.getFeature(this.featureId).optionSelectionMethod&&(t.path=["product","dl"]),this.dispatchEvent((0,h.FU)("add-option-clicked",t))}isFeatureOptionless(){this.options&&(this.featureless=0===this.options.length?"featureless":null)}isOptionSelected(t){return"OptionLookup"!==this.routeSource&&!!t.selected}handleDeleteOption(){this.addEventListener("delete-tapped",function(t){this.deleteOption(t.detail.Id,t.detail.index)}.bind(this))}deleteOption(t,e,n){let i=this.sameOptionAdded(t,this.options[e].index,!0);i||(this.model.optionsById[t].selected=!1),this.dispatchEvent((0,h.FU)("sb-option-deleted",this.options[e])),this.splice("options",e,1),this.showOrHideAddOptionsButton(),n&&i&&this.deleteOption(i.id,i.index,!0)}sameOptionAdded(t,e){let n=null;for(let[i,o]of this.options.entries())if(o.record.Id===t){if(o.index===e)continue;n={id:t,index:i},o.index>e&&o.index--}return n}handleConfigureOption(){this.addEventListener("configure-tapped",function(t){let e=this.isClickSelection?null:t.detail.index,n=this.isClickSelection?this.model.optionsById[t.detail.Id]:this.model.getFeature(this.featureId)._transient_.optionConfigurations[t.detail.index];this.dispatchEvent((0,h.FU)("configure-option-tapped",{addedIndex:n.index||0,index:e,optionId:n.record.Id,optionalSKU:n.record[this.prefix+"OptionalSKU__c"],productId:this.model.product.record.Id,tabIndex:this.tabIndex,optionData:n.record,isDynamicOption:n.isDynamicOption}))}.bind(this))}_filterOptionsObserver(t,e){if(void 0!==t&&void 0!==e)return this.filterOptions(t,e)}filterOptions(){let t=this.configSearch.setOptionVisibility(this.options);for(let e=0;e<this.options.length;e++)this.options[e].hiddenByRule||this.set("options."+e+".hidden",t[e].hidden)}setOptionIndex(){let t={};for(let e=0;e<this.options.length;e++){t[this.options[e].record.Id]||(t[this.options[e].record.Id]=0),void 0===this.options[e].index&&this.set("options."+e+".index",t[this.options[e].record.Id]);let n="_"+this.options[e].record.Id+"_"+this.options[e].index,i=this.model.product.configuration.configuredOptions&&this.model.product.configuration.configuredOptions[n];this.set("options."+e+".configured",i),t[this.options[e].record.Id]++}}setProductRulesActions(){0!=Object.keys(this.model.productRulesActions).length&&this.model.optionsByFeatureId[this.featureId]&&(0==this.isClickSelection&&this.setUnaddedOptionsRulesActions(),void 0!==this.options[0]&&this.setDisplayedOptionsRulesActions())}setUnaddedOptionsRulesActions(){let t=this.model.optionsByFeatureId[this.featureId];for(let e=0;e<t.length;e++){let n=t[e];this.model.productRulesActions.selectOptions[n.record.Id]&&!this.sameOptionAdded(n.record.Id,e)&&(n.selected=!0,n.added=!0,this.push("options",n),this.showOrHideAddOptionsButton(),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.showOptions[n.record.Id]&&(n.hidden=!1,n.hiddenByRule=!1),this.model.productRulesActions.hideOptions[n.record.Id]&&(n.hidden=!0,n.hiddenByRule=!0),!0===this.model.productRulesActions.disableOptions[n.record.Id]&&(n.disabledData={disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[n.record.Id]&&(n.disabledData={disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[n.record.Id]&&(n.disabledData={disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[n.record.Id]&&(n.disabledData={disabled:!1,constrained:!0})}}setDisplayedOptionsRulesActions(){for(let t=0;t<this.options.length;t++)if(this.model.productRulesActions.hideOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".hidden"),!0),this.options[t].hiddenByRule=!0),this.model.productRulesActions.showOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".hidden"),!1),this.options[t].hiddenByRule=!1),!0===this.model.productRulesActions.disableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[this.options[t].record.Id]&&this.set("options.".concat(t,".disabledData"),{disabled:!1,constrained:!0}),this.isClickSelection&&this.model.productRulesActions.selectOptions[this.options[t].record.Id]&&(this.set("options.".concat(t,".selected"),!0),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.deselectOptions[this.options[t].record.Id])if(this.isClickSelection)this.set("options.".concat(t,".selected"),!1),this.fireOptionChangedByRule(!1);else{if(this.deleteOption(this.options[t].record.Id,t),void 0===this.options[t])return;t--}}fireOptionChangedByRule(t){this.viewport&&!this.viewport.isMobile()||this.dispatchEvent((0,h.FU)("option-changed-by-rule",{added:t}))}_firePriceRules(){let t=this.model.optionDataByOptionIdAndIndex,e=this.options;if(null!=e&&void 0!==t)for(let n=0;n<e.length;n++){let i=e[n].optionId||e[n].record.Id,o=e[n].index;if(t[i]&&null!=t[i][o]){let t=this._getPriceActions(e[n],i,o);for(let e in t)t.hasOwnProperty(e)&&this.set(["options",n,"record",e],t[e])}}}_getPriceActions(t,e,n){let i={},o=this.model.optionDataByOptionIdAndIndex[e][n].optionData;for(let e in o)o.hasOwnProperty(e)&&"attributes"!=e&&t.record[e]!=o[e]&&(i[e]=o[e]);return this._calculateUnitPrice(i,o),i}_calculateUnitPrice(t,e){const n=this.getPrefix()+"UnitPrice__c";if(void 0!==e[n])return t[n]=e[n]}setUpgradeOptionClass(){this.observeNode(this.$.tbody,function(){let t=this.$.tbody.querySelectorAll("#row[hidden]");for(let e=0;e<t.length;e++)t[e].rowData.isUpgrade&&(0,m.og)("upgradeOption",!0,t[e])}.bind(this))}toggleUpgradeOptions(){let t=this.options;this.showUpgradeOptions=!this.showUpgradeOptions,this.showUpgradeOptions?this.upgradeOptionButtonText="Hide Available Upgrades":this.upgradeOptionButtonText="Show Available Upgrades";for(let e=0;e<t.length;e++)!0===t[e].isUpgrade&&(this.showUpgradeOptions?this.set("options."+e+".hidden",!1):this.set("options."+e+".hidden",!0))}_showOrHideAddOptionsButtonObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.showOrHideAddOptionsButton(t,e,n)}showOrHideAddOptionsButton(){this.showAddOptionsButton=!this.isClickSelection&&!this.model.maxOptionsMet(this.model.getFeature(this.featureId))}getPrefix(){return this.model.prefix}_setHasUpgradeOptionsObserver(t,e){if(void 0!==t&&void 0!==e)return this.setHasUpgradeOptions(t,e)}setHasUpgradeOptions(t,e){this.hasUpgradeOptions=t&&!e}_setHeaderActions(){if("OptionLookup"!==this.routeSource&&0!==this.options.length&&this.options[0]._transient_.rowActions){this.headerActions=JSON.parse(JSON.stringify(this.options[0]._transient_.rowActions));for(let t=this.headerActions.length-1;t>=0;t--)this.headerActions[t].invisible=!0;this.isClickSelection||(this.headerActions[0].hidden=!0)}}_getDisplayStyle(t,e){return e?"none":t?"table-row":"table-row-group"}_showUpgradeOptionIfSelectionMethodAddObserver(t,e){if(void 0!==t&&void 0!==e)return this._showUpgradeOptionIfSelectionMethodAdd(t,e)}_showUpgradeOptionIfSelectionMethodAdd(){if(!this.isClickSelection)for(let t=0;t<this.options.length;t++)this.options[t].isUpgrade&&this.set("options.".concat(t,".hidden"),!1)}_isMobile(){return this.viewport&&this.viewport.isMobile()}hasAttributeItems(t){return!this._isMobile()&&"Add"!==this.model.getFeature(this.featureId).optionSelectionMethod&&t&&t._transient_&&t._transient_.attributeItems&&Object.keys(t._transient_.attributeItems).length>0||!1}static get template(){return(0,o.dy)(P||(P=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="fieldMetaData" background="true"></sb-field-md>\n\t\t<div device class="datatable" id="optiontable">\n\t\t\t<div class$="thead [[featureless]]">\n\t\t\t\t<sb-table-header\n\t\t\t\t\t\tid="header"\n\t\t\t\t\t\tcols="[[md.fieldLabels]]"\n\t\t\t\t\t\theader-class-map="[[md.headerClassMap]]"\n\t\t\t\t\t\theader-actions="[[headerActions]]"\n\t\t\t\t\t\thas-placeholder="[[productHasAttributeSet]]"\n\t\t\t\t></sb-table-header>\n\t\t\t</div>\n\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t<template is="dom-repeat" items="{{options}}" as="option">\n\n\t\t\t\t\t<sb-table-row\n\t\t\t\t\t\t\tid="row"\n\t\t\t\t\t\t\tcell="sb-option-cell"\n\t\t\t\t\t\t\tcols="[[md.recordKeys]]"\n\t\t\t\t\t\t\tcols-display="[[md.fieldLabelMap]]"\n\t\t\t\t\t\t\trow-data="{{option}}"\n\t\t\t\t\t\t\tselectable="[[md]]"\n\t\t\t\t\t\t\tselection-type="[[option.selectionType]]"\n\t\t\t\t\t\t\tselected="{{option.selected}}"\n\t\t\t\t\t\t\tdisabled-data="[[option.disabledData]]"\n\t\t\t\t\t\t\tdisable-all-fields="[[disableAllFields]]"\n\t\t\t\t\t\t\tmodel="[[md]]"\n\t\t\t\t\t\t\trequires-model="true"\n\t\t\t\t\t\t\trow-actions="[[option._transient_.rowActions]]"\n\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\tselection-id-data-path="record.Id"\n\t\t\t\t\t\t\tparent-id-data-path="[[parentIdDataPath]]"\n\t\t\t\t\t\t\thidden$="[[option.hidden]]"\n\t\t\t\t\t\t\tprimary-mobile-cols="[[primaryMobileCol]]"\n\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\tpath-prefix="record."\n\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\tedit-first-when-selected="[[editFirstWhenSelected]]"\n\t\t\t\t\t\t\toption-selected="[[option.selected]]"\n\t\t\t\t\t\t\thighlight-row-on-focus="[[!_isMobile()]]"\n\t\t\t\t\t\t\tselection-on-load="true"\n\t\t\t\t\t\t\tname$="[[option.name]]"\n\t\t\t\t\t\t\thas-toggle="[[hasAttributeItems(option)]]"\n\t\t\t\t\t\t\thas-toggle-placeholder="[[productHasAttributeSet]]"\n\t\t\t\t\t\t\tstyle$="display:[[_getDisplayStyle(productHasAttributeSet, option.hidden)]]"\n\t\t\t\t\t></sb-table-row>\n\n\t\t\t\t\t<template is="dom-if" if="[[hasAttributeItems(option)]]">\n\t\t\t\t\t\t<template is="dom-if" if="[[option._transient_.optionDrawerExpanded]]">\n\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t<sb-option-drawer\n\t\t\t\t\t\t\t\t\tid="drawerRow"\n\t\t\t\t\t\t\t\t\toption="{{option}}"\n\t\t\t\t\t\t\t\t\tmd="[[attributeItemMd]]"\n\t\t\t\t\t\t\t\t\tname$="[[option.name]]"\n\t\t\t\t\t\t\t\t></sb-option-drawer>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[hasUpgradeOptions]]">\n\t\t\t\t\t<paper-button noink id="upgradeOptionsButton" on-click="toggleUpgradeOptions">[[upgradeOptionButtonText]]</paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<template is="dom-if" if="[[showAddOptionsButton]]">\n\t\t\t<a on-click="routeToLookup"><sb-i18n>Add Options</sb-i18n></a>\n\t\t</template>\n\t\t'])),B)}}customElements.define(D.is,D)},5341:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DynamicLookup:()=>y});var i,o=n(9685),r=n(9815),s=n(2833),a=n(7830),l=n(566),d=n(4166),c=n(5775),u=n(9497),h=n(1305),p=n(3345);n(4589),n(2150),n(6082),n(7358),n(5799),n(2724),n(6190),n(6733),n(2758),n(461),n(5969),n(3737),n(3046),n(9107),n(4561),n(5310),n(5677);const f=(0,n(1510).f)(i||(b=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .panelbutton[class*='--mobile'] {\n  border-bottom: inherit;\n  background-color: #0070d2;\n  width: initial;\n  font-size: inherit;\n}\n:host [class*='--mobile'] .panelbutton {\n  border-bottom: inherit;\n  background-color: #0070d2;\n  width: initial;\n  font-size: inherit;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n.datatable {\n  position: relative;\n}\n.dynamic-header {\n  padding: 15px 15px 30px 15px;\n  font-size: 18px;\n}\n.dynamic-header .header-container {\n  display: inline-block;\n}\n.dynamic-header .header-container .instructions-text {\n  display: flex;\n  font-size: 14px;\n}\n.dynamic-header .additional-instructions {\n  display: inline-block;\n  font-size: 14px;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.additional-instructions[class*='--desktop'] {\n  float: right;\n}\n[class*='--desktop'] .additional-instructions {\n  float: right;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],g||(g=b.slice(0)),i=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(g)}}))));var b,g,m;class y extends((0,c.Q)((0,u.P)(o.T3))){static get is(){return"sb-dynamic-lookup"}static get properties(){return(0,p.l7)({quote:Object,model:Object,feature:Object,selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,defaultFilters:{type:Object,value:{}},internal:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},productIds:{type:String,computed:"getProductIds(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasInstructions:{type:Boolean,computed:"setHasInstructions(feature)"},validationMessages:Array},o.T3.properties)}static get observers(){return["searchModelChanged(searchModel)"]}searchModelChanged(){this.deSelectAll()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.handleOptionConfiguratorResponse()}cancel(){this.spinner=!0;let t=this._createQueryParams();this.nav("#",t,["product","pc"],!1)}add(){if(0===Object.keys(this.selectedProducts).length)return void this.cancel();let t=[];for(let e in this.selectedProducts)t.push(this.ctx.params.fId+":"+e);const e=this.validateMaximumOptionsNotExceeded(t.length);this.validationMessages=[],e>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[e,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:(this.$.productLoader.featureOptionIds=t,this.$.productLoader.ignoreCache=!0)}convertProductsToOptions(t){for(let n in t){var e=t[n];e.record[this.prefix+"UnitPrice__c"]=this.selectedProducts[n].record.UnitPrice,e.isDynamicOption=!0,this.push("product.options",e),this.push("feature._transient_.optionConfigurations",e)}this.syncConfigurationAttributesToProduct(e);let n=this._createQueryParams();this.nav("#",n,["product","pc"],!1)}syncConfigurationAttributesToProduct(t){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};for(let e of this.product.configurationAttributes)!0===e.autoSelect&&void 0===this.autoSelectAttributes[e.targetFieldName]&&t.record["".concat(this.prefix,"Feature__c")]===e.featureId&&(this.autoSelectAttributes[e.targetFieldName]=!0)}for(let e in this.autoSelectAttributes)this.product.configuration.configurationData[e]=t.record[e]}_createQueryParams(){let t={qId:this.model.qId},e=this.ctx.params;return e?(e.pId&&(t.pId=e.pId),e.oId&&(t.oId=e.oId,t.origin="dl"),e.lineKey&&(t.lineKey=e.lineKey),e.redirectUrl&&(t.redirectUrl=e.redirectUrl),e.productIdx&&(t.productIdx=e.productIdx),e.tab&&(t.tab=e.tab),e.groupKey&&(t.groupKey=e.groupKey),e.aId&&(t.aId=e.aId),t):t}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.quote=t.detail.value.quote,this.$.productLoader.productIds=this.productIds,this.$.productLoader.quote=this.$.optionConfigure.quote=this.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this)),this.$.productLoader.addEventListener("product-load-model-changed",function(t){if(Object.keys(this.selectedProducts).length>0)return this.convertProductsToOptions(t.detail.value);let e=this.ctx.params.productIdx?t.detail.value.configuredProducts[this.ctx.params.productIdx]:t.detail.value.configuredProducts[0];if(this.localizer=new s.E(this.prefix),""!==this.optionId)return this.$.optionConfigure.product=e;this.setCurrentProductModel(e)}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){let e=this.localizer.localizeSearchModel(t.detail.value),n=this.product.productFieldSets[this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"]];n&&(e.resultFieldNames=n),this.$.lookupLayout.fieldPrefix=e.targetObjectName+".",this.searchModel=e,this.buildDelegator()}.bind(this))}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.setCurrentProductModel(t.detail.value.configuredProducts[0])}.bind(this))}setCurrentProductModel(t){if(this.product=t,this.model=new a.e(this.quote.record.Id,t,this.app.org.prefix,this.isoCode,this.ctx.params.fId),this.feature=this.model.getFeature(this.ctx.params.fId),void 0===this.feature)return void(this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]);let e=[],n=!1;if(this.feature.searchFilters){null!=this.defaultFilters[this.feature.record.Id]?n=!0:this.defaultFilters[this.feature.record.Id]=[];for(let t of this.feature.searchFilters)null!=t.valueObject&&(t.stringValue=this.getStringValue(t)),e.push(JSON.stringify(t)),n||this.defaultFilters[this.feature.record.Id].push(t)}this.$.smLoadService.filters=e,this.$.smLoadService.fieldSet=this.feature.record[this.prefix+"DynamicProductFilterFieldSet__c"],this.$.smLoadService.quote=this.quote}buildDelegator(){let t=new r.s(this.searchModel);t.dynamicSearchFilters=this.defaultFilters[this.feature.record.Id]?this.defaultFilters[this.feature.record.Id]:[],t.fieldSet=this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"],this.searcher=t}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.panelHeader="Product Filter",this.$.drawer.togglePanel(),this.refocus()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(){this.$.pf.focusFirstField()}reverseFocus(){this.$.clearfilter.focus()}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.lastSubmit="pf",this.$.pf.runService(),this.closeDrawer()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}getConfigProductIds(t){let e=[];for(let n of t.detail.value.configuredProducts)e.push(n.record.Id);return e.join(",")}deSelectAll(){this.$.lookupLayout.deSelectAll()}getOrderedSelectedProducts(){let t=Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)),e=[];for(let n of t)e.push(this.selectedProducts[n]);return e}handleDrawerClosed(){"main"===this.$.drawer.selected&&(0,d.BX)(d.zW.PANEL_CLOSED)}clearFilterFields(){this.filterData=this.searcher.clearFields()}getStringValue(t){return"Product"===t.valueObject?this.product.record[t.valueField]:"Quote"===t.valueObject?this.quote.record[t.valueField]:"Configuration Attributes"===t.valueObject?this.product.configuration.configurationData[t.valueField]:void 0}bindFilterEnterCallBacks(){this.$.pf.enterCallback=this.runSearcher.bind(this)}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,l.Z)(this.errors),this.spinner=!1)}setHasInstructions(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}validateMaximumOptionsNotExceeded(t){return this.feature._transient_.optionConfigurations.length+t-this.feature.record[this.prefix+"MaxOptionCount__c"]}static get template(){return(0,h.dy)(m||(m=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoader" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-search-model-load id="smLoadService" loader="ProductConfigurationServiceProvider.DynamicOptionsLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t\t<sb-toast type="error" messages="[[error]]"></sb-toast>\n\t\t</div>\n\n\t\t<sb-page-header>\n\t\t\t<i class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Configure Products</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button on-click="add" noink>\n\t\t\t\t\t<sb-i18n>Add</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="cancel" noink>\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tclass="main"\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t>\n\t\t\t\t\t<header device class="dynamic-header" slot="dynamic-header">\n\t\t\t\t\t\t<div class="header-container">\n\t\t\t\t\t\t\t<span>[[feature.record.Name]]</span>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t\t<div class="instructions-text">[[feature.instructionsText]]</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t<div class="additional-instructions">[[feature.additionalInstructions]]</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</header>\n\t\t\t\t</sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer class="panel" slot="drawer">\n\t\t\t\t<div device id="pflayout" class="panel-actions">\n\t\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t<sb-filter-layout id="pf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductConfigurationServiceProvider.DynamicOptionsSearcher"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="runSearcher" class="primary panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t    '])),f)}}customElements.define(y.is,y)},9893:(t,e,n)=>{"use strict";n.r(e),n.d(e,{OptionLookup:()=>m});var i,o=n(9685),r=n(733),s=n(7830),a=n(2567),l=n(566),d=n(5775),c=n(2576),u=n(1305),h=n(3345);n(6190),n(9229),n(4589),n(8802),n(6082),n(7358),n(2758),n(461),n(2724),n(5310),n(5677);const p=(0,n(1510).f)(i||(f=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n#feature-name {\n  font-weight: 300;\n  padding: 15px;\n  margin: 0;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  --sbFieldWordWrap: break-word;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host([class*=\'--mobile\']) {\n  --option-table-border-bottom: 1px solid #d8dde6;\n}\n:host([class*=\'--mobile\']) {\n  --option-table-border-bottom: 1px solid #d8dde6;\n}\n'],b||(b=f.slice(0)),i=Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(b)}}))));var f,b,g;class m extends((0,c.J)((0,d.Q)(o.T3))){static get is(){return"sb-option-lookup"}static get properties(){return(0,h.l7)({topLevelBundle:Object,currentProductModel:Object,feature:Object,disabledStateMap:{type:Object,value:{}},optionConstraintsHandler:Object,headerSubtitle:String,selectedOptions:Object,productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasUpgradeOptions:{type:Boolean,computed:"setHasUpgradeOptions(feature)"},optionId:{type:String,computed:"getOptionId(ctx)"},validationMessages:Array,errors:{type:Array,value:[],notify:!0}},o.T3.properties)}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.preLoadObjects(),this._handleLineEditorModelResponse(),this._handleProductLoadResponse(),this.handleOptionConfiguratorResponse(),this.addEventListener("selection-changed",this._handleOptionSelection)}_selectAndAdd(){this.validationMessages=[];const t=this._validateMaximumOptionsNotExceeded();t>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[t,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:this._addSelected()}add(){this._selectAndAdd(!1),this._routeToConfig()}addMore(){this._selectAndAdd(),this._resetPage()}cancel(){for(let t in this.selectedOptions)this.currentProductModel.optionsById[t].added=!1,this.currentProductModel.optionsById[t].selected=!1;this._routeToConfig()}_handleLineEditorModelResponse(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(t){this.$.productLoad.quote=this.$.optionConfigure.quote=t.detail.value.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this))}_handleProductLoadResponse(){this.$.productLoad.addEventListener("product-load-model-changed",function(t){let e=t.detail&&t.detail.value?t.detail.value.configuredProducts:null,n=this.ctx.params&&this.ctx.params.productIdx?this.ctx.params.productIdx:0,i=e?e[n]:t.detail.value;if(!i.rulesProcessed){new r.j(i.configuration,i).initProductRulesActions(""===this.optionId?"load":"reconfigure")}if(this.topLevelBundle=i,""!==this.optionId)return this.$.optionConfigure.product=i;this.setCurrentProductModel(i)}.bind(this))}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.setCurrentProductModel(t.detail.value.configuredProducts[0])}.bind(this))}setCurrentProductModel(t){const e=t.currencyCode||null;this.currentProductModel=new s.e(this.$.productLoad.quote.record.Id,t,this.app.org.prefix,e,this.ctx.params.fId),this.feature=this.currentProductModel.getFeature(this.ctx.params.fId),void 0!==this.feature?(this.selectedOptions={},this.optionConstraintsHandler=new a.C(this.currentProductModel.product,this.currentProductModel.prefix),this.$.optionTable.fieldSetName="OptionLookup",this.$.optionTable.fieldSet=this.currentProductModel.product.optionFieldSets[this.$.optionTable.fieldSetName],this.$.optionTable.displayDelete=!1,this._createConstraintsHoverMessages(),this._fireSelectionStatesForOtherFeatures()):this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]}_handleOptionSelection(t){t&&t.detail&&(this._toggleOptionSelection(t.detail.Id,t.detail.selected),this._handleOptionConstraints(t.detail.Id,t.detail.selected))}_fireSelectionStatesForOtherFeatures(){for(let t of Object.keys(this.currentProductModel.featureIdsWithSelectionMethodClick))for(let e of this.currentProductModel.optionsByFeatureId[t])this._handleOptionConstraints(e.record.Id,e.selected)}_resetPage(){this.selectedOptions={},this.$.optionTable.deselectOptionsOnOptionLookup(),this._fireSelectionStatesForOtherFeatures()}_toggleOptionSelection(t,e){!e&&this.selectedOptions[t]?delete this.selectedOptions[t]:e&&!this.selectedOptions[t]&&(this.selectedOptions[t]=this.currentProductModel.getOption(t))}_handleOptionConstraints(t,e){let n=this.feature._transient_.optionConfigurations.find((function(e){return e.record.Id===t})),i=n&&n.selected,o=this.optionConstraintsHandler.handleOptionConstraints(t,e||i);o&&o.forEach((t=>{this.set("disabledStateMap.".concat(t.optionId),t.disabledState)}))}_addSelected(){for(let t in this.selectedOptions){let e=JSON.parse(JSON.stringify(this.currentProductModel.optionsById[t]));this.currentProductModel.initOptionActions(e,!0),e.addedManually=!0,e.index=this.feature._transient_.optionConfigurations.filter((e=>e.record.Id===t)).length,e.configured=!1,this.currentProductModel.setOptionDisabledData(e),this.push("feature._transient_.optionConfigurations",e),this.currentProductModel.optionsById[t].added=!0,this.currentProductModel.optionsById[t].selected=!0}}_validateMaximumOptionsNotExceeded(){return this.feature._transient_.optionConfigurations.length+Object.keys(this.selectedOptions).length-this.feature.record[this.prefix+"MaxOptionCount__c"]}_routeToConfig(){this.selectedOptions={};let t=this._createQueryParams();this.nav("#",t,["product","pc"],!1)}_createQueryParams(){let t={qId:this.currentProductModel?this.currentProductModel.qId:this.ctx.params.qId},e=this.ctx.params;return e?(e.pId&&(t.pId=e.pId),e.oId&&(t.oId=e.oId,t.origin="ol"),e.lineKey&&(t.lineKey=e.lineKey),e.redirectUrl&&(t.redirectUrl=e.redirectUrl),e.productIdx&&(t.productIdx=e.productIdx),e.tab&&(t.tab=e.tab),e.groupKey&&(t.groupKey=e.groupKey),e.aId&&(t.aId=e.aId),t):t}preLoadObjects(){this.optionLookupObjects=[this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getLineKey(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}setHasUpgradeOptions(){return this.currentProductModel.getHasUpgradeOptions(this.feature)}_createConstraintsHoverMessages(){this.currentProductModel.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,l.Z)(this.errors),this.spinner=!1)}static get template(){return(0,u.dy)(g||(g=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-describe objects="[[optionLookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\n\t\t<sb-page-header device>\n\t\t\t<i class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 slot="h1">Configure Products</h1>\n\t\t\t<h2 slot="h2">[[headerSubtitle]]</h2>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button on-click="addMore" noink id="addMoreBtn">\n\t\t\t\t\t<sb-i18n>Select & Add More</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="add" noink>\n\t\t\t\t\t<sb-i18n>Add</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button on-click="cancel" noink>\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<div device id="pageBody">\n\t\t\t<h1 id="feature-name">[[feature.record.Name]]</h1>\n\t\t\t<sb-product-option-table\n\t\t\t\t\tid="optionTable"\n\t\t\t\t\tmodel="{{currentProductModel}}"\n\t\t\t\t\tfeature-id="[[ctx.params.fId]]"\n\t\t\t\t\tis-click-selection="false"\n\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\tdisable-all-fields="true"\n\t\t\t\t\troute-source="OptionLookup"\n\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t></sb-product-option-table>\n\t\t</div>\n\t    '])),p)}}customElements.define(m.is,m)},8424:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ProductConfig:()=>Bt});var i=n(1305),o=(n(5969),n(6008)),r=n(8373),s=n(707),a=(n(6190),n(6733),n(9685)),l=n(733);class d{constructor(t){this.root=t,this.idProperties=["optionId","index","tag"],this.buildSubtree(this.root)}buildSubtree(t){let e={};this._buildNode(t),t.getChildren(t).forEach((t=>{e[t.optionId]=e[t.optionId]||t.index||0,void 0!==t.index&&e[t.optionId]!==t.index||(t.index=e[t.optionId],e[t.optionId]++),this.buildSubtree(t)}))}getFromPath(t){let e=this.root;for(let n=0,i=t.length;n<i;n++){let i=this._buildId(t[n]);e=this._findOnLevel(i,e)}return e}_buildNode(t){t.nodeId=this._buildId(t),t.getChildren=function(){return this.optionConfigurations}.bind(t)}_buildId(t){let e="";for(let n of this.idProperties)("tag"!==n||"tag"===n&&null!=t[n])&&(e+="_"+t[n]);return e}_findOnLevel(t,e){let n=t.constructor===String?t:this._buildId(t);return(e=e||this.root).getChildren().find((t=>t.nodeId===n))}}class c{constructor(t,e){this.init(t,e)}init(t,e){this.path=[],this.descendLevel=!1,this.configTree=new d(t),this._setConfiguredOptionsObject(e),this.CONFIG_TAG="config",this.SAVE_TAG="save"}configure(t){let e=this.getLastFromPath(),n=this._getParentConfiguration();t.index=t.index||e.index,t.optionId=t.optionId||e.optionId,void 0!==this.stagedOption&&(t.optionData=this.stagedOption.optionData||t.optionData,t.isDynamicOption=this.stagedOption.isDynamicOption||t.isDynamicOption||!1);const i=this._setAndReturnConfiguration(t,n,this.CONFIG_TAG);return i.configuredOptions=this.getConfiguredOptionsFromPath(),this.descendLevel=!1,i}save(t,e){const n=this._setAndGetConfiguration(e),i=this._getTagForSave(e);return this._removeDeselectedOptions(t.removedOptions,i,null),this._addSelectedOptions(t.selectedOptions,i),this._sortOptionConfigurations(n,t.selectedOptions),e||this._setConfigured(n),n}_getTagForSave(t){return 0===this.path.length?null:t?this.CONFIG_TAG:this.SAVE_TAG}cancel(){const t=this.getCurrentConfiguration(),e=this._getParentConfiguration();this._removeSubtree(t,e,this.CONFIG_TAG,!0)}remove(t,e,n){let i=this._getConfiguration(e);!i.getChildren||i.getChildren().length<1||(t.optionId=t.record?t.record.Id:t.optionId,t.index=t.index||0,this._removeSubtree(t,i,n))}removeAddedOption(t){const e=0===this.path.length?null:this.CONFIG_TAG;this.remove(t,e,null)}swapConfiguration(t){const e=this._getParentConfiguration(),n=this.getSaveConfiguration();t.index=n.index,this._removePreviousConfigurations(e),this._addToConfigTree(e,t),this._setConfigured(t),t.tag="saved"}removeClonedConfiguration(){const t=this.getSaveConfiguration(),e=this._getParentConfiguration();this._removeSubtree(t,e,this.SAVE_TAG,!0)}handleDescendantRules(t,e,n,i,o){let r,s=this.configTree.getFromPath(this.path.concat(t));if(!s)return;s.changedByProductActions=o;let a={};r=s.getChildren(),e.forEach((t=>{a[t.optionId]=void 0===a[t.optionId]?0:a[t.optionId]+1,t.index=a[t.optionId],void 0===r.find((e=>this._buildId(t)===e.nodeId))&&(this.configTree.buildSubtree(t),r.push(t))}));for(let t=r.length-1;t>=0;t--){let n=r[t];void 0===e.find((t=>n.nodeId===this._buildId(t)))&&this._removeSubtree(n,s)}s.disabledOptionIds=i,s.hiddenOptionIds=n}getExistingConfiguration(){return this._getConfiguration()}getCurrentConfiguration(){return this._getConfiguration(this.CONFIG_TAG)}getSaveConfiguration(){return this._getConfiguration(this.SAVE_TAG)}_getConfiguration(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=this._createPath(t);return this.configTree.getFromPath(e)}addToPath(t,e,n,i){this.path.push({optionId:t,optionalSKU:e,index:n,tabIndex:i}),this.descendLevel=!0}popFromPathAndGetNextSKU(){this.path.pop(),this.descendLevel=!1;let t=this.getLastFromPath();return t?t.optionalSKU:t}getLastFromPath(){return this.path[this.path.length-1]}getConfiguredOptionsFromPath(){return this.configuredOptions[this._buildPathString(!0)]||{}}_getParentConfiguration(){const t=this.path.length>0?this.CONFIG_TAG:null,e=this.path.slice(0,this.path.length-1),n=this._createPath(t,e);return this.configTree.getFromPath(n)}_setConfiguredOptionsObject(t){this.configuredOptions={},t&&(this._addConfigsToConfigurationObject(this.configTree.root,[]),this.configTree.root.configuredOptions=this.getConfiguredOptionsFromPath())}_addConfigsToConfigurationObject(t,e){t.getChildren().forEach((t=>{let n={optionId:t.optionId,index:t.index};this._addConfigsToConfigurationObject(t,e.concat([n]))})),this._setConfigured(t,e)}_setConfigured(t,e){let n=this._buildPathString(!1,e);t.configured=!0,t.configurationEntered=!0,n&&(this.configuredOptions[n]=this.configuredOptions[n]||{},this.configuredOptions[n][t.nodeId]=!0)}_updateThenGetSubtree(t,e,n,i){const o=this._buildId(t);let r=this._findInConfiguration(o,e);return r?(this._updateSubtree(r,t,n),r):(this._appendSubtree(t,e,i),t.staged=!0,t)}_updateSubtree(t,e,n){n&&(delete t.staged,t.optionData=e.optionData,t.externalConfigurationData=e.externalConfigurationData),this._propagateRuleData(t,e.disabledOptionIds,e.hiddenOptionIds),this._propagateAttributes(t.configurationData,e.configurationData),this._mergeNestedConfigurations(e,t)}_mergeNestedConfigurations(t,e){if(t.optionConfigurations.length>0){let n={};t.optionConfigurations.forEach((t=>{n[t.optionId]=void 0===n[t.optionId]?0:n[t.optionId]+1,t.index=n[t.optionId],t.selected=!0,this._updateThenGetSubtree(t,e,!1)}))}}_propagateRuleData(t,e,n){t.disabledOptionIds=t.disabledOptionIds||e,t.hiddenOptionIds=t.hiddenOptionIds||n}_propagateAttributes(t,e){Object.keys(e).forEach((n=>{t[n]=t[n]||e[n]}))}_setAndReturnConfiguration(t,e,n){let i=n===this.SAVE_TAG?this._cloneConfiguration(t,e):t;return i.tag=n,i.staged=!0,this._addToConfigTree(e,i)}_cloneConfiguration(t,e){const n=this._buildId(t,this.CONFIG_TAG),i=this._findInConfiguration(n,e);return JSON.parse(JSON.stringify(i))}_addToConfigTree(t,e){return this.configTree.buildSubtree(e),t.getChildren().push(e),e}_appendSubtree(t,e,n){this._addIndexProperty(t,e),this.configTree.buildSubtree(t),null!=n?e.getChildren().splice(n,0,t):e.getChildren().push(t)}_removeSubtree(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this._getChildIndexAndAdjustIndices(t.optionId,t.index,e.getChildren(),n,i);o>=0&&this._removeConfiguration(e,o,this._buildId(t,n))}_removeConfiguration(t,e,n){let i=this._buildPathString(!0);t.getChildren().splice(e,1),i&&this.configuredOptions[i]&&this.configuredOptions[i][n]&&!this._findInConfiguration(n,t)&&delete this.configuredOptions[i][n]}_findInConfiguration(t,e){let n=t.constructor===String?t:this._buildId(t);return e.getChildren().find((t=>t.nodeId===n))}_addIndexProperty(t,e){let n=t.index||0;for(;this._findInConfiguration(this._buildId({optionId:t.optionId,index:n}),e);)n++;t.index=n}_getChildIndexAndAdjustIndices(t,e,n,i,o){let r=0,s=-1,a=this._buildId({optionId:t,index:e},i===this.SAVE_TAG?"":i);for(let l of n)l.nodeId===a||i===this.SAVE_TAG&&-1!==l.nodeId.indexOf(a)?s=r:!o&&l.optionId===t&&l.index>e&&this._alterIndexPropertyAndNodeId(l),r++;return s}_alterIndexPropertyAndNodeId(t){let e=t.nodeId;t.index--,t.nodeId=this._buildId(t);let n=this._buildPathString(!0);n&&this.configuredOptions[n]&&(this.configuredOptions[n][t.nodeId]=!0,delete this.configuredOptions[n][e])}_buildId(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"_"+t.optionId+"_"+t.index+(e?"_"+e:"")}_buildPathString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,n=this.configTree.root.nodeId,i=t?0:1;for(let t=0;t<e.length-i;t++)n+="-"+this._buildId(e[t]);return n}_createPath(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,n=[];for(let[i,o]of e.entries())i===e.length-1?o.tag=t:o.tag=this.CONFIG_TAG,n.push(o);return n}_setAndGetConfiguration(t){return 0===this.path.length?this.getExistingConfiguration():t?this.getCurrentConfiguration():this._setAndReturnConfiguration(this.getCurrentConfiguration(),this._getParentConfiguration(),this.SAVE_TAG)}_removeDeselectedOptions(t,e,n){for(let i of t)this.remove(i,e,n)}_addSelectedOptions(t,e){let n=this._getConfiguration(e);for(let[e,i]of t.entries())this._updateThenGetSubtree(i,n,!0,e)}_sortOptionConfigurations(t,e){if(!e||0===e.length||e.length!==t.getChildren().length)return;const n=[];for(let[i,o]of e.entries())n[i]=this._findInConfiguration(o,t);t.optionConfigurations=n}_removePreviousConfigurations(t){const e=this.getExistingConfiguration();e&&this._removeSubtree(e,t,null,!0),this._removeSubtree(this.getCurrentConfiguration(),t,this.CONFIG_TAG,!0),this._removeSubtree(this.getSaveConfiguration(),t,this.SAVE_TAG,!0)}}class u{reconfigure(t,e){let n={};if(e?t.configuration=e:t.nestedOptionModel=t.nestedOptionModel||new c(t.configuration,!0),t.configuration.optionConfigurations.length){this.buildOptionConfiguration(t,t.configuration.optionConfigurations,n);for(let e of t.options)this._addSelectedDataToOption(n[e.record.Id],e)}else for(let e of t.options)e.configuration&&delete e.configuration}buildOptionConfiguration(t,e,n){let i={};for(let o=0;o<e.length;o++){let r=e[o];!0!==i[r.optionId]&&(r.isSegmented&&(i[r.optionId]=!0),n[r.optionId]=this.buildStrippedOptionData(t,r,o))}}buildStrippedOptionData(t,e,n){if(0===e.optionConfigurations.length){let i=this.newConfiguration(e.optionId,e.optionData,e.isDynamicOption,n);return i.configured=e.configured,"Amendment"===t.quoteType&&(i.upgradedAssetId=e.upgradedAssetId,i.priorBundledQuantity=e.priorBundledQuantity),i}let i=e.optionConfigurations.length>0;return{optionId:e.optionId,optionData:e.optionData,optionConfigurations:i,index:n}}newConfiguration(t,e,n,i){return{optionId:t,optionData:e,isDynamicOption:n,index:i}}_addSelectedDataToOption(t,e){t?(e.isDynamicOption=t.isDynamicOption,e.priorBundledQuantity=t.priorBundledQuantity,e.configured=e.configured||!0===t.configured||t.optionConfigurations):e.selected=!0===e.selected}}var h,p=n(2680),f=n(566),b=n(8401),g=n(1929),m=n(5775),y=n(9843),v=n(1510);const _=(0,v.f)(h||(w=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  --my-page-header-display: block;\n}\n.product-header {\n  font-weight: 300;\n  padding: 15px;\n  margin: 0;\n  font-size: 1.5em;\n}\n#pcNav[class*='--desktop'] {\n  display: none !important;\n}\n[class*='--desktop'] #pcNav {\n  display: none !important;\n}\npaper-tooltip[class*='--mobile'] {\n  display: none;\n}\n[class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.actionsCollapsed {\n  display: flex;\n  flex-direction: column;\n}\n.actionsCollapsed #pcSave {\n  order: 1;\n}\n.actionsCollapsed #pcCancel {\n  order: 2;\n}\n.actionsCollapsed #customActions {\n  order: 3;\n}\n"],x||(x=w.slice(0)),h=Object.freeze(Object.defineProperties(w,{raw:{value:Object.freeze(x)}}))));n(9229),n(4589);var w,x,C=n(3345),k=n(1361),S=n(461),O=n(7830),I=n(2867);class E{constructor(t,e,n,i){this.quote=t,this.product=e,this.prefix=n,this.currencyIsoCode=i,this.dynamicOptions=[],this.featureOptionIds=[],this.product&&!this.product.initialized&&this._initializeProduct(this.product),this.fieldSetHandler=new I.u(this.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone"),this.defaultOptionPaths=["selected","record.".concat(this.prefix,"Quantity__c")],this.additionalOptionPaths=[]}getRequest(){let t={quote:this.quote.record};return this.product?(t.product={configuredProductId:this.product.configuration.configuredProductId,lineItemId:this.product.configuration.lineItemId,lineKey:this.product.configuration.lineItemKey,configurationAttributes:this._createConfigAttributesMap(),optionConfigurations:this._createFeatureOptionsMap(this.product.features),configurationData:{}},t.products=[],this._appendReadOnlyProperties(t,this.product.configuration),t):t}getResponse(t){if(!t)return;let e=[];if(this.dynamicOptions=[],this.featureOptionIds=[],t.products)for(let n=0,i=t.products.length;n<i;n++)e.push(this._cloneProduct(n));this._extendResponseQuote(t.quote),this._extendResponseProduct(this.product,t.product);let n={quote:this.quote,product:this.product,products:this._extendResponseProducts(t.products,e),optionNotifications:this._getResponseOptionPaths()};return this.dynamicOptions.length>0&&this.featureOptionIds.length>0&&(n.dynamicOptions=this.dynamicOptions,n.featureOptionIds=this.featureOptionIds),this.optionsToExtend&&(n.optionsToExtend=this.optionsToExtend),n}_appendReadOnlyProperties(t,e){t.readOnly={};let n=this._getMatchingQuoteLine(e);n&&(t.readOnly.line=n.record)}_getMatchingQuoteLine(t){if(null==t||null==t.lineItemKey)return null;let e=this.quote.lineItems.filter(function(e){return e.key===t.lineItemKey}.bind(this));return 1===e.length?e[0]:null}_createConfigAttributesMap(){var t={};for(let e=0,n=this.product.configurationAttributes.length;e<n;e++)t[this.product.configurationAttributes[e].targetFieldName]=null;return(0,C.l7)(t,this.product.configuration.configurationData),t}_createFeatureOptionsMap(t){let e={};for(let i=0,o=t.length;i<o;i++){var n=t[i].record.Name;e[n]=[];let o=t[i]._transient_.optionConfigurations;delete t[i]._transient_.changedExternally,"Add"===t[i].optionSelectionMethod?this._mixInUnselectedOptionsToAdd(e[n],t[i].record.Id,o):o&&this._pushOptionConfigurations(e[n],o,"Click"===t[i].optionSelectionMethod)}return e}_pushOptionConfigurations(t,e,n){for(let i=0,o=e.length;i<o;i++){let o=n?void 0:e[i].index;t.push(this._createPseudoOptionConfiguration(e[i],o))}n||t.push({productId:null,Quantity:1,configurationData:{}})}_createPseudoOptionConfiguration(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={optionId:t.record.Id,selected:t.selected,ProductCode:t.record[this.prefix+"ProductCode__c"],ProductName:t.record[this.prefix+"ProductName__c"],Quantity:t.record[this.prefix+"Quantity__c"],configurationData:{}};return void 0!==e&&(i.index=e),this._appendReadOnlyProperties(i,t),this.isNestedBundlesSupported()&&void 0!==t.optionConfigurations&&!0===t.configured&&this._createNestedFeatureMap(i,t.optionConfigurations,n),i}_createNestedFeatureMap(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>=2)return;const i={};for(const o of e){o.selected=!0,t.optionConfigurations=t.optionConfigurations||{};const e=o.optionId;let r=this.product.virtualFeatureTitle;const s=o.optionData[this.prefix+"Feature__c"];if(void 0!==s){const t=this.product._transient_.featuresForNestedBundles.features[s];r=t.Name,"Click"!==t[this.prefix+"OptionSelectionMethod__c"]&&(void 0===i[e]?i[e]=0:i[e]++)}const a=this.product._transient_.featuresForNestedBundles.products[o.configuredProductId];o.record=this._createOptionConfigurationRecordFromProductRecord(a,e,o.optionData[this.prefix+"Quantity__c"]),t.optionConfigurations[r]=t.optionConfigurations[r]||[],t.optionConfigurations[r].push(this._createPseudoOptionConfiguration(o,i[e],n+1))}}_createOptionConfigurationRecordFromProductRecord(t,e,n){const i={};return null!=t.ProductCode&&(i[this.prefix+"ProductCode__c"]=t.ProductCode),i[this.prefix+"ProductName__c"]=t.Name,i.Id=e,i[this.prefix+"Quantity__c"]=n,i}_mixInUnselectedOptionsToAdd(t,e,n){this.product.options.forEach((i=>{if((i.record[this.prefix+"Feature__c"]||"Other")!==e)return;let o=n.filter((t=>t.record.Id===i.record.Id));if(o.length)for(let e=0;e<o.length;e++)t.push(this._createPseudoOptionConfiguration(o[e],o[e].index||e));else i.selected=!1,t.push(this._createPseudoOptionConfiguration(i,0))}))}_extendResponseQuote(t){null!=t&&(0,C.l7)(this.quote.record,this._sanitizeObject(t))}_extendResponseProduct(t,e,n){e&&(this._extendResponseConfigurationData(t,e.configurationData),this._extendResponseConfigurationAttributes(t,e.configurationAttributes),this._extendResponseOptionConfigurations(t,e.optionConfigurations,n))}_extendResponseConfigurationData(t,e){null!=e&&(0,C.l7)(t.configuration.externalConfigurationData,this._sanitizeObject(e))}_extendResponseConfigurationAttributes(t,e){null!=e&&(0,C.l7)(t.configuration.configurationData,this._sanitizeObject(e))}_extendResponseOptionConfigurations(t,e,n){let i,o={};for(let n in e){let i=e[n],r={};for(let e of i){const i=this.isNestedBundlesSupported(),s=void 0!==e.optionConfigurations&&Object.keys(e.optionConfigurations).length>0,a=i&&s;if(a){this.optionsToExtend=this.optionsToExtend||{staticOptionIds:[],dynamicOptions:[],configurationsByFeature:{}},(!0===e.selected||(0,y.IW)(e))&&(this.optionsToExtend.configurationsByFeature[n]=this.optionsToExtend.configurationsByFeature[n]||[],this.optionsToExtend.configurationsByFeature[n].push(e)),(0,y.IW)(e)&&this.optionsToExtend.dynamicOptions.push({parentFeatureName:n,parentProductId:t.record.Id,parentOptionId:null,productId:e.productId}),y.SF.setIndex(e,r);const i=t.nestedOptionModel,o=(0,y.Ep)([],e);y.SF.findOptionsToExtendOrUpdate(i,o,e,this.optionsToExtend,this.prefix)}let l=e.optionId;l?(o[l]=o[l]||[],o[l].push(e)):e.productId&&!a&&this._createDynamicOption(e,n)}}let r=t.options;for(let e of r){let r=o[e.record.Id];r&&r.forEach((o=>{i||null==o.configurationData||(i=this.fieldSetHandler.getByViewport(k._.getViewport()).fields),this._extendResponseOptionConfiguration(t,e,o,i,n)}))}}_createDynamicOption(t,e){let n=this.product.features.find((t=>t.record.Name===e));this.featureOptionIds.push(n.record.Id+":"+t.productId),this.dynamicOptions.push({productId:t.productId,featureId:n.record.Id,Quantity:isNaN(t.Quantity)?1:t.Quantity,configurationData:t.configurationData})}_extendResponseOptionConfiguration(t,e,n,i,o){o&&(e.parentProductKey=o);let r=e.record[this.prefix+"Feature__c"]||"Other",s=t.features.find((t=>t.record.Id===r));"Click"===s.optionSelectionMethod?this._setOptionDataForClickFeature(e,n,i):this._setOptionDataForNonClickFeature(e,n,i,s),this.isNestedBundlesSupported()&&(e.configured=!0);const a=t.nestedOptionModel;null!=a&&a.constructor===c&&this._setOptionListPriceToUnitPrice(a,e)}_setOptionListPriceToUnitPrice(t,e){const n=e.record[this.prefix+"UnitPrice__c"];if(null!=n){const i=(0,y.Ep)([],e),o=(0,y.PF)(t,i);null!=o&&(o.listPrice=n)}}_setOptionDataForClickFeature(t,e,n){null!=e.selected&&(t.selected=e.selected),this._extendQuantityAndConfigurationDataToOption(t,e,n)}_setOptionDataForNonClickFeature(t,e,n,i){let o=i._transient_.optionConfigurations.find((t=>t.record.Id===e.optionId&&t.index===e.index));if(e.selected)if(o)this._extendQuantityAndConfigurationDataToOption(o,e,n);else{let o=this._createOptionConfigurationFromOption(t,e.index);this._extendQuantityAndConfigurationDataToOption(o,e,n),i._transient_.optionConfigurations.push(o),i._transient_.changedExternally=!0}else!e.selected&&o&&(o.selected=!1,i._transient_.changedExternally=!0)}_createOptionConfigurationFromOption(t,e){let n=JSON.parse(JSON.stringify(t));return n.index=e,n.addedManually=!0,n.selected=!0,n.configured=!!this.isNestedBundlesSupported(),n}_extendQuantityAndConfigurationDataToOption(t,e,n){null!=e.Quantity&&t.selected&&(t.record[this.prefix+"Quantity__c"]=e.Quantity),null!=e.configurationData&&this._extendConfigurationDataToOption(t,e,n)}_extendConfigurationDataToOption(t,e,n){let i=this._sanitizeObject(e.configurationData),o={};for(let e in i){let r=i[e];if(-1===n.indexOf(e)){o[e]=r;continue}t.record[e]=r;let s="record.".concat(e);-1===this.additionalOptionPaths.indexOf(s)&&this.additionalOptionPaths.push(s)}t.externalConfigurationData=t.externalConfigurationData||{},(0,C.l7)(t.externalConfigurationData,o)}_extendResponseProducts(t,e){if(!t||0===t.length)return[];let n=[];for(let i=0,o=t.length;i<o;i++){let o=e[i];o.nestedOptionModel=new c(o.configuration,o.configuration.configured),this._extendResponseProduct(o,t[i],o.productKey),this._resetFeatureOptionConfiguration(o),n.push(o)}return n}_cloneProduct(t){let e=JSON.parse(JSON.stringify(this.product));return e.productKey=this._buildProductKey(this.product.record.Id,t),this._enableSaveToLineEditor(e),e}_buildProductKey(t,e){let n=(e<10?"00":e<100?"0":"")+e;return t.substring(0,15)+n}_enableSaveToLineEditor(t){t.configuration.lineItemKey=null,delete t.configuration.lineItemId}_resetFeatureOptionConfiguration(t){let e=t.features||[];for(let t of e)t._transient_.optionConfigurations=[];this._initializeProduct(t)}_initializeProduct(t){const e=this.prefix.endsWith("__")?this.prefix.substring(0,this.prefix.length-2):this.prefix;this._prepareForNestedBundleSupport(t,e),new O.e(this.quote.record.Id,t,e,this.quote.record.CurrencyIsoCode)}isNestedBundlesSupported(){return g.I.isExternalConfiguratorNestedBundlesEnabled&&this.product.record[this.prefix+"ExternallyConfigurable__c"]}_prepareForNestedBundleSupport(t,e){if(!0===t.configuration.configured)return;const n=t.record[(0,C.wC)(e)+"ExternallyConfigurable__c"];if(g.I.isExternalConfiguratorNestedBundlesEnabled&&n&&(t.configuration.configured=!0,t.configuration.optionConfigurations))for(const t of this.product.configuration.optionConfigurations)t.configured=!0,t.optionConfigurations=[]}_getResponseOptionPaths(){let t=this.defaultOptionPaths.concat(this.additionalOptionPaths);return this.additionalOptionPaths=[],t}_sanitizeObject(t){return JSON.parse(JSON.stringify(t,(function(t,e){return t.endsWith("__c")&&e instanceof Object?JSON.stringify(e):e})))}}var T,M=n(4166),B=n(1019);n(8228),n(6910);const P=(0,v.f)(T||(T=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.container {\n  display: inline-block;\n}\npaper-button {\n  background-color: var(--sbConfiguratorCustomActionBgColor);\n  color: var(--sbConfiguratorCustomActionFontColor);\n  border-color: var(--sbConfiguratorCustomActionBorderColor);\n}\npaper-button:hover {\n  background-color: var(--sbConfiguratorCustomActionHoverBgColor);\n  font-color: var(--sbConfiguratorCustomActionHoverFontColor);\n}\n#menuButton > .sf-icon-down {\n  margin: -10px;\n  font-size: var(--sbIcon16);\n}\n#remainingItems {\n  border-radius: var(--sbDialogBorderRadius);\n  border: var(--sbBtnBorder);\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  position: fixed;\n  z-index: 100;\n  display: none;\n}\n#remainingItems.open {\n  display: block;\n}\n#remainingItems > paper-button {\n  display: block;\n  white-space: nowrap;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n  border-radius: 0;\n}\n#remainingItems > paper-button:first-of-type {\n  border-top-left-radius: var(--sbDialogBorderRadius);\n  border-top-right-radius: var(--sbDialogBorderRadius);\n}\n#remainingItems > paper-button:last-of-type {\n  border-bottom-left-radius: var(--sbDialogBorderRadius);\n  border-bottom-right-radius: var(--sbDialogBorderRadius);\n}\n.collapsedActions paper-button {\n  display: block;\n  white-space: nowrap;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\n#firstItem,\n#menuButton {\n  border-radius: 0;\n}\n#firstItem:first-of-type,\n#menuButton:first-of-type {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\n#firstItem:last-of-type,\n#menuButton:last-of-type,\n#firstItem.end,\n#menuButton.end {\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\n.hide {\n  display: none;\n}\n'])));var D;n(5310),n(5677);const A={"Product Code":"ProductCode"};class L extends((0,m.Q)((0,B.U)(i.H3))){static get is(){return"sb-custom-actions"}static get properties(){return{customActions:Array,products:Array,isClassic:Boolean,productIndex:Number,firstItem:Object,remainingItems:Array,customActionsExist:Boolean,moreThanOneCustomActionsExist:{type:Boolean,value:!1},menuClosed:{type:Boolean,value:!0},viewport:{type:Object,observer:"_viewportChanged",value:function(){return k._.getViewport()}},buttonsCollapsed:{type:Boolean,notify:!0},messenger:{type:Object,computed:"_newMessenger(quote, products, productIndex)"},quote:{type:Object,notify:!0},popupResponse:{type:Object,notify:!0,observer:"_updateQuoteFromPopupResponse"},callBeforePopupOpen:Object}}get events(){let t={};return t[M.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_initObserver(customActions, products, productIndex, isClassic, menuClosed)"]}get prefix(){return g.I.org.prefix?g.I.org.prefix+"__":""}_initObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this.init(t,e,n,i,o)}init(){if(this.isClassic&&this.products.length>1)return this.classList.add("hide"),void(this.customActionsExist=!1);let t=this.prefix+"URL__c",e=this.prefix+"Label__c",n=this.prefix+"Page__c",i=this.prefix+"URLTarget__c",o=this.prefix+"Action__c",r=this.prefix+"BrandButton__c",s=[];if(this.customActions.forEach((a=>{if("Product Configurator"===a[n]&&this.checkCustomActionsConditionsMet(a)){let n="";!0===a[r]&&(n="primary"),s.push({label:a[e],url:a[t],target:a[i],action:a[o],brandButtonClass:n})}})),0===s.length)return this.classList.add("hide"),void(this.customActionsExist=!1);this.firstItem=s[0],s.length>1&&(this.remainingItems=s.slice(1),this.moreThanOneCustomActionsExist=!0),this.customActionsExist=!0,this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.classList.remove("hide")}_itemSelected(t){const e=t.target.id,n="firstItem"===e?this.firstItem:this.remainingItems[e];void 0!==n.url?this.handleURLAction(n):"Apply Edit Rules"===n.action&&this.applyRules()}handleURLAction(t){"Popup"===t.target?this.handlePopup(t.url):this.handleNav(t.url)}handlePopup(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$.popup.url=t,this.$.popup.autoLaunched=e,this.$.popup.redirectOnCancelOrClose=n,this.$.popup.messenger=this.messenger,this.$.popup.callBeforeOpen=this.callBeforePopupOpen,this.$.popup.open()}handleNav(t){this._isLightningExperience()?sforce.one.navigateToURL(t):window.location.href=t}applyRules(){this.dispatchEvent((0,M.FU)("sb-apply-edit-rules",{bundleId:this.products[this.productIndex].record.Id}))}_isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}checkCustomActionsConditionsMet(t){let e=this.prefix+"Custom_Action_Conditions__r",n=this.prefix+"Field__c",i=this.prefix+"Operator__c",o=this.prefix+"FilterValue__c",r=this.prefix+"TargetObject__c";return!1!==this._checkPackagedCustomActionConditionMet(t)&&(void 0===t[e]||t[e].records.some((t=>{if(void 0===t[n]||void 0===t[o]||void 0===t[i])return!1;let e="Product";t[r]&&(e=t[r]);let s=A[t[n]]||t[n],a="Quote"===e?this.quote.record:this.products[this.productIndex].record;return C.Zr.arithmeticOperatorConversion(a[s],t[o],t[i])})))}_checkPackagedCustomActionConditionMet(t){return"Launch External"!==t.Name||void 0!==t[this.prefix+"URL__c"]&&!!this.products[this.productIndex].record[this.prefix+"ExternallyConfigurable__c"]}_changeMenu(t){this.menuClosed=S.m.changeMenu(t,this.menuClosed,this.shadowRoot.querySelector("#remainingItems"),"open",this)}viewportChanged(t){this.viewport=t.detail.viewport}_viewportChanged(){this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up)}_newMessenger(){if(void 0!==this.quote&&void 0!==this.products&&void 0!==this.productIndex)return new E(this.quote,this.products[this.productIndex],this.prefix,this.currencyIsoCode)}_updateQuoteFromPopupResponse(){this.quote=this.popupResponse.quote}static get template(){return(0,i.dy)(D||(D=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div class="container" device>\n\t\t\t<template is="dom-if" if="[[customActionsExist]]">\n\t\t\t\t<template is="dom-if" if="[[buttonsCollapsed]]">\n\t\t\t\t\t<div class="collapsedActions">\n\t\t\t\t\t\t<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>\n\t\t\t\t\t\t<template is="dom-repeat" items="[[remainingItems]]" as="item">\n\t\t\t\t\t\t\t<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[!buttonsCollapsed]]">\n\t\t\t\t\t<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>\n\t\t\t\t\t<template is="dom-if" if="[[moreThanOneCustomActionsExist]]">\n\t\t\t\t\t\t<paper-button id="menuButton" on-click="_changeMenu" noink><i class="sf-icon-down"></i></paper-button>\n\t\t\t\t\t\t<div id="remainingItems">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="[[remainingItems]]" as="item">\n\t\t\t\t\t\t\t\t<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>\n\t\t</div>\n\t    '])),P)}}customElements.define(L.is,L);class F{constructor(t,e,n){this.searchFilters=t,this.prefix=e,this.fieldTypes=n}containsFeature(t){let e=this.searchFilters[this.prefix+"Feature__c"];return null==e||(-1!==t.record.Name.toLowerCase().indexOf(e.toLowerCase())||void 0!==t.untranslatedRecord&&-1!==t.untranslatedRecord.Name.toLowerCase().indexOf(e.toLowerCase()))}hasVisibleOptions(t,e){if(t.length>0){for(let n=0,i=t.length;n<i;n++){if(!t[n].hidden)return!0;if(e&&e[t[n].record.Id])return!0}return!1}return!this.hasFilterValues()}allOptionsHiddenByRule(t){for(let e of t)if(!1===e.hiddenByRule||null==e.hiddenByRule)return!1;return!0}hasRequiredConfigAttributes(t,e){let n=e.configAttributesByFeatureId[t.record.Id];if(n)for(let t of n)if(t.required)return!0;return!1}hasConfigAttributes(t,e){return!!e.configAttributesByFeatureId[t.record.Id]}setOptionVisibility(t){for(let t in this.searchFilters)""===this.searchFilters[t]&&(this.searchFilters[t]=null);let e=JSON.parse(JSON.stringify(t));for(let t=0,n=e.length;t<n;t++){if(void 0===e[t].record[this.prefix+"UnitPrice__c"]){e[t].hidden=!0;continue}if(e[t].isUpgrade)continue;const n=Object.keys(this.searchFilters).some((n=>{let i=this.searchFilters[n],o=e[t].record[n];return null!=i&&n!==this.prefix+"Feature__c"&&(null==o||("number"==typeof o?this.checkNumber(i,o):"multipicklist"===this.fieldTypes[n]?this.checkMultiPicklist(i,o):this.checkDefault(i,String(o),e[t].untranslatedRecord,n)))}));e[t].hidden=e[t].hiddenByRule||n}return e}hasFilterValues(){for(let t in this.searchFilters)if(null!==this.searchFilters[t])return!0;return!1}checkDefault(t,e,n,i){return!(-1!==e.toLowerCase().indexOf(t.toLowerCase())||n&&n[i]&&-1!==n[i].toLowerCase().indexOf(t.toLowerCase()))}checkNumber(t,e){const n=Number(t);return!(!Number.isNaN(n)&&""!==t)||e!==n}checkMultiPicklist(t,e){let n=t.split(";"),i=e.split(";");return n.every((t=>i.every((e=>this.checkDefault(t,e)))))}}var q,N=n(5234);const R=(0,v.f)(q||(q=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host paper-drawer-panel#drawer {\n  overflow: auto;\n  overflow-y: hidden;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .primary {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n}\n:host .primary:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n#drawer,\n#search {\n  position: relative;\n  top: inherit;\n  overflow-x: hidden !important;\n}\n#openPanel,\n#closePanel {\n  top: 50%;\n  position: fixed;\n  z-index: 3;\n  width: 16px;\n}\n#openPanel:hover,\n#closePanel:hover {\n  cursor: pointer;\n}\n#closePanel {\n  left: 295px;\n}\n.product-header {\n  background-color: var(--sbProductBundlesLayoutProductHeaderBgColor);\n  font-family: var(--sbProductBundlesLayoutProductHeaderFontFamily);\n  color: var(--sbProductBundlesLayoutProductHeaderColor);\n  font-size: var(--sbProductBundlesLayoutProductHeaderFontSize);\n  font-weight: var(--sbProductBundlesLayoutProductHeaderFontWeight);\n  font-style: var(--sbProductBundlesLayoutProductHeaderFontStyle);\n  text-decoration: var(--sbProductBundlesLayoutProductHeaderTextDecoration);\n  display: flex;\n  padding: 15px;\n  margin: 0;\n}\n.nav-item {\n  background-color: var(--sbNavigationDrawerRowColor);\n  border-bottom: 1px solid #d8dde6;\n  padding: 15px;\n  cursor: pointer;\n  text-transform: uppercase;\n}\n.nav-item[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1rem;\n}\n[class*='--mobile'] .nav-item {\n  font-weight: 400;\n  font-size: 1rem;\n}\n.nav-item:hover {\n  background-color: var(--sbNavigationDrawerRowHoverColor);\n}\n.mobile-panel {\n  font-weight: bold;\n}\n.hidden {\n  display: none;\n}\n.selected-tab {\n  background-color: var(--sbNavigationDrawerRowSelectedColor);\n}\n.back {\n  padding: 15px;\n}\n:host {\n  --paper-drawer-panel-scrim-width: 0px;\n}\n#bundleContainer[class*='--mobile'] {\n  left: 0 !important;\n  display: block;\n  margin-top: -1px;\n}\n[class*='--mobile'] #bundleContainer {\n  left: 0 !important;\n  display: block;\n  margin-top: -1px;\n}\n.title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n#bundleContainer {\n  position: relative;\n}\n#bundleContainer.transition {\n  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n  transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;\n}\n.multiple-bundles {\n  float: right;\n}\n#bundleContainer[class*='--mobile'] {\n  float: none;\n}\n[class*='--mobile'] #bundleContainer {\n  float: none;\n}\n#bundleContainer.multiple-bundles.close[class*='--desktop'] {\n  width: calc(100% - 24px);\n}\n#bundleContainer.multiple-bundles.open[class*='--desktop'] {\n  width: calc(100% - 280px);\n}\n[class*='--desktop'] #bundleContainer.multiple-bundles.close {\n  width: calc(100% - 24px);\n}\n[class*='--desktop'] #bundleContainer.multiple-bundles.open {\n  width: calc(100% - 280px);\n}\n"])));var j;n(3737),n(2758),n(2596),n(2667),n(8383),n(9712);const z=(0,v.f)(j||(j=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\npaper-tooltip {\n  --paper-tooltip-padding: 5px;\n  --paper-tooltip-color: var(--sbFontColor);\n  --paper-tooltip-font-family: var(--sbFont);\n  --paper-tooltip-font-size: 14px;\n  --paper-tooltip-border-radius: 4px;\n  --paper-tooltip-z-index: 999;\n  --paper-tooltip-background-color: #fff;\n  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  --paper-tooltip-border: var(--sbBtnBorder);\n  --paper-tooltip-opacity: 1;\n}\n:host {\n  --sbFieldWordWrap: break-word;\n}\n#feature-header {\n  background-color: var(--sbGroupHeaderBgColor);\n  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);\n  border-bottom-style: solid;\n  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);\n  padding: 8px 15px 8px 15px;\n  margin: 0px;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\nh2 {\n  display: inline-block;\n  font-family: var(--sbGroupHeaderFontFamily);\n  font-size: var(--sbGroupHeaderFontSize);\n  color: var(--sbGroupHeaderFontColor);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  font-style: var(--sbGroupHeaderFontStyle);\n  text-decoration: var(--sbGroupHeaderTextDecoration);\n}\n#tooltip-container {\n  float: right;\n  display: inline-block;\n}\n.sf-icon-info {\n  color: var(--sbBrandedButtonBackgroundColor);\n  font-size: 30px;\n  position: relative;\n  top: -7px;\n}\n#additional-information-tooltip {\n  min-width: 155px;\n  max-width: 320px;\n}\n#instructions {\n  display: flex;\n  justify-content: space-between;\n  color: var(--sbProductFeatureHeaderInstructionsColor);\n  font-family: var(--sbProductFeatureHeaderInstructionsFontFamily);\n  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);\n  font-weight: var(--sbProductFeatureHeaderInstructionsFontWeight);\n  font-style: var(--sbProductFeatureHeaderInstructionsFontStyle);\n  text-decoration: var(--sbProductFeatureHeaderInstructionsTextDecoration);\n  padding-top: var(--sbProductFeatureHeaderInstructionsPaddingTop);\n  padding-right: var(--sbProductFeatureHeaderInstructionsPaddingRight);\n  padding-bottom: var(--sbProductFeatureHeaderInstructionsPaddingBottom);\n  padding-left: var(--sbProductFeatureHeaderInstructionsPaddingLeft);\n}\n.group {\n  margin: 15px;\n  border-color: var(--sbGroupBorderColor);\n  border-style: solid;\n  border-width: var(--sbGroupBorderWidth);\n  border-radius: 4px;\n}\n.footer-attributes {\n  background-color: var(--sbGroupHeaderBgColor);\n  padding: 4px 15px 8px 15px;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n#feature-header[class*='--mobile'] {\n  font-weight: 400;\n  color: #16325c;\n  min-height: 1.1rem;\n}\n#feature-sub-header[class*='--mobile'] {\n  padding: 15px;\n}\n#feature-sub-header[class*='--mobile'],\n#feature-tabs[class*='--mobile'],\n#feature-body[class*='--mobile'],\n.footer-attributes[class*='--mobile'] {\n  display: none;\n}\n#feature-sub-header.expanded[class*='--mobile'],\n#feature-tabs.expanded[class*='--mobile'],\n#feature-body.expanded[class*='--mobile'] {\n  display: block;\n}\n#feature-sub-header.expanded[class*='--mobile'] #instructions {\n  flex-flow: column;\n}\n.primary.first[class*='--mobile']:after {\n  margin-top: 0px !important;\n}\n.first-feature[class*='--mobile'] header {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n#feature-header.expanded[class*='--mobile'] {\n  border-bottom: 0;\n}\n#feature-sub-header.expanded[class*='--mobile'] {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n#feature-body.expanded[class*='--mobile'] {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n.loadingSpinner[class*='--mobile'] {\n  position: absolute;\n  left: calc(100% - 20px);\n  margin-top: -28px;\n}\n[class*='--mobile'] #feature-header {\n  font-weight: 400;\n  color: #16325c;\n  min-height: 1.1rem;\n}\n[class*='--mobile'] #feature-sub-header {\n  padding: 15px;\n}\n[class*='--mobile'] #feature-sub-header,\n[class*='--mobile'] #feature-tabs,\n[class*='--mobile'] #feature-body,\n[class*='--mobile'] .footer-attributes {\n  display: none;\n}\n[class*='--mobile'] #feature-sub-header.expanded,\n[class*='--mobile'] #feature-tabs.expanded,\n[class*='--mobile'] #feature-body.expanded {\n  display: block;\n}\n[class*='--mobile'] #feature-sub-header.expanded #instructions {\n  flex-flow: column;\n}\n[class*='--mobile'] .primary.first:after {\n  margin-top: 0px !important;\n}\n[class*='--mobile'] .first-feature header {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] #feature-header.expanded {\n  border-bottom: 0;\n}\n[class*='--mobile'] #feature-sub-header.expanded {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] #feature-body.expanded {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n}\n[class*='--mobile'] .loadingSpinner {\n  position: absolute;\n  left: calc(100% - 20px);\n  margin-top: -28px;\n}\n"])));var H;n(4561),n(2430);const U=(0,v.f)(H||(H=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n}\n.td {\n  width: 33%;\n}\n.td[class*='--mobile'] {\n  width: 100%;\n}\n[class*='--mobile'] .td {\n  width: 100%;\n}\n.header-attributes {\n  padding: 0 30px 8px;\n}\n.header-attributes[class*='--mobile'] {\n  padding: 0 0 0 25px;\n}\n[class*='--mobile'] .header-attributes {\n  padding: 0 0 0 25px;\n}\n.footer-attributes {\n  padding: 0 30px 15px 30px;\n}\n.footer-attributes[class*='--mobile'] {\n  padding: 0 0 0 25px;\n}\n[class*='--mobile'] .footer-attributes {\n  padding: 0 0 0 25px;\n}\n.tr[class*='--mobile'] {\n  flex-flow: column;\n}\n#table[class*='--mobile'] {\n  padding-left: 25px;\n  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);\n}\n:host([class*='--mobile'][label='Attributes']) #table {\n  border-bottom: 1px solid #d8dde6;\n}\n:host([class*='--mobile'][label='Attributes']) {\n  --sbAttributeTableBorderTop: 0;\n}\n[class*='--mobile'] .tr {\n  flex-flow: column;\n}\n[class*='--mobile'] #table {\n  padding-left: 25px;\n  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);\n}\n:host([class*='--mobile'][label='Attributes']) #table {\n  border-bottom: 1px solid #d8dde6;\n}\n:host([class*='--mobile'][label='Attributes']) {\n  --sbAttributeTableBorderTop: 0;\n}\n"])));var V,W=n(2576);const Q=(0,v.f)(V||(V=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.td {\n  display: flex;\n  padding-top: 4px;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n}\n.td > .label {\n  text-align: right;\n  padding-right: 10px;\n  width: 40%;\n  align-self: center;\n  white-space: normal;\n  color: var(--sbConfigAttrLabelColor);\n  font-size: 13px;\n}\n.td > .field {\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n  border-left: transparent solid;\n  padding-left: 2px;\n}\n.td > .field[class*='--mobile'] {\n  width: 105%;\n}\n[class*='--mobile'] .td > .field {\n  width: 105%;\n}\n.td > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n}\n.td > .mandatory-no-value {\n  border-left: #c23934 solid;\n  padding-left: 2px;\n}\n.td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 18px 0 12px;\n  text-transform: uppercase;\n  max-width: 90%;\n}\n.td[class*='--mobile'] > .label {\n  text-align: left;\n  align-self: auto;\n  width: 100%;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] > .field {\n  padding-left: 0;\n  width: 100%;\n}\n.td.attributeItem[class*='--mobile'] {\n  max-width: 100%;\n}\n[class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 18px 0 12px;\n  text-transform: uppercase;\n  max-width: 90%;\n}\n[class*='--mobile'] .td > .label {\n  text-align: left;\n  align-self: auto;\n  width: 100%;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td > .field {\n  padding-left: 0;\n  width: 100%;\n}\n[class*='--mobile'] .td.attributeItem {\n  max-width: 100%;\n}\n"])));var G,$;class K extends((0,W.J)((0,m.Q)(i.H3))){static get is(){return"sb-attribute-item"}static get properties(){return{value:{notify:!0,observer:"_notifyAttributeChanged"},item:String,model:Object,md:Object,data:{type:Object,notify:!0},label:{type:String,reflectToAttribute:!0}}}static get observers(){return["_setAttributeMDObserver(item, model, targetField)","_setTargetFieldObserver(item, model)","_setRequiredObserver(value, model, attributeMD)","setLabel(md)"]}_setRequiredObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setRequired(t,e,n)}setRequired(){!1!==this.attributeMD.required&&!0!==this.attributeMD.autoSelect&&(0,C.og)("mandatory-no-value",!1===this.isValidValue(),this.$.attributeField)}isValidValue(){return!(void 0===this.value||null===this.value||""===this.value)}_setAttributeMDObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setAttributeMD(t,e,n)}setAttributeMD(){if(!this.model.fields)return;this.attributeMD=this.model.attributeMD[this.item],this.$.field.disabled=this.attributeMD.autoSelect,this.hidden=this.attributeMD.hidden;let t=JSON.parse(JSON.stringify(this.model.fields[this.targetField]));"picklist"!==t.type&&"multipicklist"!==t.type||(t.picklistValues=this.getPicklistValues(t.picklistValues),t.required=this.attributeMD.required),this.md=t}_setTargetFieldObserver(t,e){if(void 0!==t&&void 0!==e)return this.setTargetField(t,e)}setTargetField(){this.$.field.record=this,this.targetField=this.model.attributeMD[this.item].targetFieldName}setLabel(){this.label=this.md.label}getPicklistValues(t){if(void 0===this.attributeMD)return t;if(!this.attributeMD.shownValues&&!this.attributeMD.hiddenValues)return t;let e=this.attributeMD.shownValues||[];if(!this.attributeMD.shownValues)for(let n of t)e.push(n.value);let n=this.attributeMD.hiddenValues||[];return t.filter((function(t){return-1!==e.indexOf(t.value)&&-1===n.indexOf(t.value)}))}_notifyAttributeChanged(t){this.model&&this.dispatchEvent((0,M.FU)("sb-config-attribute-changed",{Id:this.item,bundleId:this.model.attributeMD[this.item].bundleId,changed:!0,path:!0}))}getValue(t){let e=this.model.attributeFieldMD[t];if(e&&e.length>0)return this.data[e[0]]}setValue(t,e){this.set("data."+t,e)}equals(t){return this.data===t.data}static get template(){return(0,i.dy)(G||(G=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t\n\t\t<div device class="td attributeItem">\n\t\t\t<div class="label">[[label]]</div>\n\t\t\t<div class="field" id="attributeField">\n\t\t\t\t<sb-field\n\t\t\t\t\tid="field"\n\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\tmd="[[md]]"\n\t\t\t\t\tediting=true\n\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),Q)}}customElements.define(K.is,K);class Y extends((0,m.Q)(i.H3)){static get is(){return"sb-attribute-table"}static get properties(){return{featureId:String,position:String,model:Object,configAttributes:Object,addedClass:String,md:Object,showTable:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return k._.getViewport()}},spinner:{type:Boolean,notify:!0}}}static get observers(){return["_generateColumnsObserver(featureId, model, configAttributes, md)","_getMDObserver(configAttributes, model)","bindDataToModel(configAttributes.*)"]}ready(){super.ready(),this.$.optionFieldMetadata.addEventListener("md-changed",function(t){this.setMD(t),this.spinner=!1}.bind(this)),this.addEventListener("lookup-value-changed",this._setReferencedData.bind(this))}_getMDObserver(t,e){if(void 0!==t&&void 0!==e)return this.getMD(t,e)}getMD(){this.spinner=!0;let t={},e=this.model.configurationAttributeModelMap;for(let n in e)t[e[n].targetFieldName]=null;this.$.optionFieldMetadata.fields=Object.keys(t)}setMD(t){this.md={fields:t.detail.value.fieldsByObject[this.model.prefix+"ProductOption__c"],attributeMD:this.model.configurationAttributeModelMap,attributeFieldMD:this.model.configurationAttributeTargetFieldMap}}_generateColumnsObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.generateColumns(t,e,n,i)}prepareColumns(t,e){const n=[],i=[],o=[],r=t.length;for(let s=0;s<r;s++){const r=t[s].myId;t[s].position!=e&&e||(1==t[s].columnOrder?n.push(r):2==t[s].columnOrder?i.push(r):o.push(r))}return[n,i,o]}createFeatureAttributesByFieldName(t,e){let n={};const i=t.length;for(let o=0;o<i;o++){const i=t[o].myId;e.attributeMD[i].processed=!0;const r=t[o].targetFieldName;let s=n[r]||[];s.push(i),n[r]=s}return n}generateColumns(t,e,n,i){const o=(e.configAttributesByFeatureId[t]||[]).filter((t=>i.fields&&i.fields.hasOwnProperty(t.targetFieldName))),[r,s,a]=this.prepareColumns(o,this.position);this.normalizeData(this.createFeatureAttributesByFieldName(o,i)),this.setColumns(r,s,a)}normalizeData(t){for(let e in t){let n=t[e],i=this.md.attributeFieldMD[e];if(i.length<=n.length)return;for(let t of i)if(-1===n.indexOf(t)&&this.md.attributeMD[t].processed){for(let e of n)this.configAttributes[e]=this.configAttributes[t];break}}}setColumns(t,e,n){t.length>0&&(this.showTable=!0,this.$.firstColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.firstColumn.setFromChildToParentExtension(this.captureCallBack),this.$.firstColumn.model=this.md,this.$.firstColumn.group||(this.$.firstColumn.group=t)),e.length>0&&(this.showTable=!0,this.$.secondColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.secondColumn.setFromChildToParentExtension(this.captureCallBack),this.$.secondColumn.model=this.md,this.$.secondColumn.group||(this.$.secondColumn.group=e)),n.length>0&&(this.showTable=!0,this.$.thirdColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.thirdColumn.setFromChildToParentExtension(this.captureCallBack),this.$.thirdColumn.model=this.md,this.$.thirdColumn.group||(this.$.thirdColumn.group=n))}captureCallBack(t){let e=this.elements,n=t.path.split(".")[1];if(void 0===n)return;let i=this.model.attributeMD[n].targetFieldName;for(let o=0,r=e.length;o<r;o++){e[o].item.split(".")[0]!==n&&(this.model.attributeMD[e[o].item].targetFieldName===i&&(e[o].value=t.value))}}bindDataToModel(t){if(void 0===t.path||"configAttributes"===t.path)return;let e=this._getTargetFieldNameFromModel(t.path.split(".")[1]);this.model.product.configuration.configurationData[e]=t.value}_setReferencedData(t){if(!(t&&t.detail&&t.detail.obj&&t.detail.item))return;const e=this._getTargetFieldNameFromModel(t.detail.item),n=this.md.fields[e].relationshipName;if(null===n)return;const i=null===t.detail.value?null:{attributes:t.detail.obj.attributes,Id:t.detail.obj.Id,Name:t.detail.obj.Name};this.model.product.configuration.configurationData[n]=i}_getTargetFieldNameFromModel(t){return this.model.configurationAttributeModelMap[t].targetFieldName}isMobile(){return this.viewport&&this.viewport.isMobile()}static get template(){return(0,i.dy)($||($=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t\n\t\t<sb-field-md id="optionFieldMetadata" object="ProductOption__c" background="true"></sb-field-md>\n\t\t<div device id="table" class$="table [[addedClass]]" hidden$="[[!showTable]]">\n\t\t\t<div class="tr">\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="firstColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="secondColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t\t<div class="td">\n\t\t\t\t\t<sb-group\n\t\t\t\t\t\t\tid="thirdColumn"\n\t\t\t\t\t\t\titem="sb-attribute-item"\n\t\t\t\t\t\t\tdata="{{configAttributes}}"\n\t\t\t\t\t></sb-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),U)}}customElements.define(Y.is,Y);var X;n(8802);class J extends((0,N.S)((0,m.Q)((0,B.U)(i.H3)))){static get is(){return"sb-product-feature"}static get properties(){return{featureId:String,model:Object,maxOptions:Object,feature:Object,fieldSetKey:String,fieldSetHandler:Object,tabNames:{type:Array,readOnly:!0,value:["options","attributes"]},tabs:{type:Array,value:[]},viewport:{type:Object,value:function(){return k._.getViewport()}},configSearch:Object,isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"},hasConfigAttributes:{type:Boolean,value:!1,computed:"_setHasConfigAttributes(model, featureId)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(model, featureId)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(model, featureId)"},mobileHasConfigAttributes:{type:Boolean,value:!1},hasOptions:{type:Boolean,computed:"_setHasOptions(model, featureId)"},mobileHasOptions:Boolean,hasOptionsAndConfigAttributes:{type:Boolean,value:!1,computed:"_setHasOptionsAndConfigAttributes(hasConfigAttributes, hasOptions)"},mobileHasOptionsAndConfigAttributes:Boolean,hasInstructions:{type:Boolean,computed:"_setHasInstructions(feature)"},mobileHasInstructions:Boolean,expanded:{type:Boolean,value:!1},selectedOptions:{type:Number,value:0},hasSelectedOptions:{type:Boolean,value:!1,computed:"_hasSelectedOptions(selectedOptions)"},featureIndex:Number,configAttributes:{type:Object,notify:!0},hasUpgradeOptions:{type:Boolean,computed:"_setHasUpgradedOptions(feature)"},mobileRendering:{type:Boolean,value:!1},mobileExpanded:{type:Boolean,value:!1},spinner:{type:Boolean,notify:!0},tabIndex:{type:Number,value:null}}}ready(){Object.entries({"selection-changed":"handleSelectionCounter"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready()}get events(){let t={};return t[M.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_renderObserver(featureId, model)","_buildTabsObserver(viewport, model, featureId)","featureChanged(feature)","_initFieldSetObserver(model, fieldSetKey, fieldSetHandler)"]}_setHasUpgradedOptions(){return this.model.getHasUpgradeOptions(this.feature)}_hasSelectedOptions(t){return!t}_renderObserver(t,e){if(void 0!==t&&void 0!==e)return this.render(t,e)}render(){this.model.featureIdsWithOptionsOrConfigAttr[this.featureId]&&(this.setFeatureAndOptionSelectionMethod(),this.setOptionsDetails(),this.setFieldSetHandler(),this.renderFeatureInDesktopOrMobileView(),this.initSelectedOptions(),this.handleDeleteOptions(),this.handleOptionChangedByRule())}_buildTabsObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildTabs(t,e,n)}buildTabs(){if(!this.isMobile)return;let t=g.I.properties.i18n.value(),e={name:"t1",label:t.l("Options"),pageComponent:"sb-product-option-table",attributes:[{name:"id",value:"ot"}],bind:["model","featureId","fieldSet","fieldSetName","routeSource","isClickSelection","disabledStateMap","configSearch","hasUpgradeOptions"]},n={name:"t2",label:t.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"configAttributesTop"},{name:"added-class",value:"header-attributes"}],bind:["featureId","model","configAttributes"]};this.tabs=[e,n]}setFieldSetHandler(){this.fieldSetHandler=new I.u(this.model.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone")}setFeatureAndOptionSelectionMethod(){this.feature=this.model.getFeature(this.featureId)}setOptionsDetails(){this.isClickSelection="Click"===this.feature.optionSelectionMethod,this.routeSource="Configurator"}featureChanged(){let t=this.feature.record[this.model.prefix+"ConfigurationFieldSet__c"];this.fieldSetKey=void 0===t?null:t}setFieldSetFromViewport(){let t=this.fieldSetHandler.getByViewport(this.viewport);this.fieldSet=t.fields,this.fieldSetName=t.name}_initFieldSetObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.initFieldSet(t,e,n)}initFieldSet(){this.fieldSetKey?(this.fieldSet=this.model.product.optionFieldSets[this.fieldSetKey],this.fieldSetName=this.fieldSetKey):this.setFieldSetFromViewport()}_setIsMobile(t){if(t)return t.isMobile()}_setHasConfigAttributes(t,e){let n=this.model.configAttributesByFeatureId[e];if(!n)return!1;for(let t=0;t<n.length;t++)if(!n[t].hidden)return!0;return!1}_setHasTopConfigAttributes(t,e){return this._hasTopOrBottomConfigAttributes("Top",e)}_setHasBottomConfigAttributes(t,e){return this._hasTopOrBottomConfigAttributes("Bottom",e)}_hasTopOrBottomConfigAttributes(t,e){if(!this.model.configAttributesByFeatureId[e])return!1;for(let n of this.model.configAttributesByFeatureId[e])if(n.position===t&&!n.hidden)return!0;return!1}_setHasOptions(){return!!this.model.optionsByFeatureId[this.featureId]||this.model.featureIdsWIthSelectionMethodDynamic[this.featureId]}_setHasOptionsAndConfigAttributes(t,e){return!(!t||!e)}_setHasInstructions(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}viewportChanged(t){this.viewport=t.detail.viewport,this.fieldSetKey||this.setFieldSetFromViewport()}renderFeatureInDesktopOrMobileView(){(0,C.og)("group",!this.isMobile,this.$.feature)}applyFilters(){let t=this.model.getOptionsByFeatureId(this.featureId),e=new ConfiguratorSearch(this.searchFilters,t,{});this.filtered=!e.hasOptions||!e.containsFeature(this.feature)}mobileExpand(t){this.mobileExpanded?this.expand(t.composedPath()):this.mobileRendering||(this.mobileRendering=!0,(0,C.og)("first",!1,this.shadowRoot.querySelector("header")),(0,s.T8)(this,function(t){this.mobileHasInstructions=this.hasInstructions,this.mobileHasOptionsAndConfigAttributes=this.hasOptionsAndConfigAttributes,this.mobileHasConfigAttributes=this.hasConfigAttributes,this.mobileHasOptions=this.hasOptions,this.observeNode(this.$.feature,function(){this.mobileExpanded=!0,this.mobileRendering=!1,(0,C.og)("first",!0,this.shadowRoot.querySelector("header")),this.expand(t)}.bind(this))}.bind(this,t.composedPath())))}domExpand(t){this.expand(t.composedPath())}expand(t){this.expanded=!this.expanded,this.dispatchEvent((0,M.FU)("feature-expanded",{expanded:this.expanded,path:t}))}initSelectedOptions(){let t=""!==g.I.org.prefix?g.I.org.prefix+"__":"";var e=this.model.getOptionsByFeatureId(this.featureId);for(let n=0,i=e.length;n<i;n++)if(e[n].selected&&this.selectedOptions++,void 0===e[n].record[t+"UnitPrice__c"])return console.warn("Option is missing entry in selected pricebook => "+e[n].record[t+"ProductCode__c"]+": "+e[n].record[t+"ProductName__c"]),!0}handleSelectionCounter(t){t.detail.changed&&("radio"!==t.detail.selectionType?(this.selectedOptions||t.detail.selected)&&(this.selectedOptions+=t.detail.selected?1:-1):this.selectedOptions=t.detail.selected?1:0)}handleDeleteOptions(t){this.addEventListener("delete-tapped",(function(t){this.selectedOptions>0&&this.selectedOptions--}))}handleOptionChangedByRule(t){this.addEventListener("option-changed-by-rule",(function(t){t.detail.added?this.selectedOptions++:this.selectedOptions--}))}static get template(){return(0,i.dy)(X||(X=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-icons-styles sb-tables-styles"></style>\n\n\t\t<div device id="feature">\n\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t<header id="feature-header" class="primary first" on-click="mobileExpand">\n\t\t\t\t\t<span id="feature-name">[[feature.record.Name]]</span>\n\t\t\t\t\t<span hidden$="[[hasSelectedOptions]]">&nbsp;([[selectedOptions]])</span>\n\t\t\t\t</header>\n\t\t\t\t<sf-loading-spinner class="loadingSpinner" invisible$="[[!mobileRendering]]" show="truthy" position="relative" size="small"></sf-loading-spinner>\n\n\t\t\t\t<template is="dom-if" if="[[mobileHasInstructions]]">\n\t\t\t\t\t\t<div id="feature-sub-header">\n\t\t\t\t\t\t\t<div id="instructions">\n\t\t\t\t\t\t\t\t<i class="sf-icon-warning" hidden$="[[!!feature.instructionsText]]"> <span id="instructions-text">[[feature.instructionsText]]</span></i>\n\t\t\t\t\t\t\t\t<p id="additional-instructions" hidden$="[[!feature.additionalInstructions]]">[[feature.additionalInstructions]]</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div id="feature-tabs">\n\t\t\t\t\t<template is="dom-if" if="[[mobileHasOptionsAndConfigAttributes]]">\n\t\t\t\t\t\t<sb-tabs secondary-tabs\n\t\t\t\t\t\t\t\ttabs="[[tabs]]"\n\t\t\t\t\t\t\t \tmodel="[[model]]"\n\t\t\t\t\t\t\t \tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t \tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t \tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t \troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t \tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t \tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[!mobileHasOptionsAndConfigAttributes]]">\n\t\t\t\t\t<div id="feature-body">\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasConfigAttributes]]">\n\t\t\t\t\t\t\t<div class="attribute-table-wrapper">\n\t\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\t\tid="configAttributesTop"\n\t\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasOptions]]">\n\t\t\t\t\t\t\t<sb-product-option-table\n\t\t\t\t\t\t\t\t\tid="ot"\n\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t\t\tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t\t></sb-product-option-table>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[mobileHasConfigAttributes]]">\n\t\t\t\t\t\t\t<div class="attribute-table-wrapper">\n\t\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\t\tid="configAttributesBottom"\n\t\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t<header id="feature-header" class="primary first" on-click="domExpand">\n\t\t\t\t\t<h2 id="feature-name">[[feature.record.Name]]</h2>\n\n\t\t\t\t\t<template is="dom-if" if="[[hasUpgradeOptions]]">\n\t\t\t\t\t\t<div id="tooltip-container">\n\t\t\t\t\t\t\t<div id="additional-instructions-icon" class="sf-icon-info"></div>\n\t\t\t\t\t\t\t<paper-tooltip for="additional-instructions-icon" fit-to-visible-bounds="true" position="left" offset="20" animation-delay="0" id="additional-information-tooltip">\n\t\t\t\t\t\t\t\t<sb-i18n key="showAvailableUpgrades">This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.</sb-i18n>\n\t\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div id="feature-sub-header">\n\t\t\t\t\t\t<template is="dom-if" if="[[hasInstructions]]">\n\t\t\t\t\t\t\t<div id="instructions">\n\t\t\t\t\t\t\t\t<p id="instructions-text">[[feature.instructionsText]]</p>\n\t\t\t\t\t\t\t\t<p id="additional-instructions">[[feature.additionalInstructions]]</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template is="dom-if" if="[[hasTopConfigAttributes]]">\n\t\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\t\tid="configAttributesTop"\n\t\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\n\t\t\t\t<template is="dom-if" if="[[hasOptions]]">\n\t\t\t\t\t<div id="feature-body">\n\t\t\t\t\t\t<sb-product-option-table\n\t\t\t\t\t\t\t\tid="ot" model="{{model}}"\n\t\t\t\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\tfield-set="[[fieldSet]]"\n\t\t\t\t\t\t\t\tfield-set-name="[[fieldSetName]]"\n\t\t\t\t\t\t\t\troute-source="[[routeSource]]"\n\t\t\t\t\t\t\t\tis-click-selection="[[isClickSelection]]"\n\t\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\t\thas-upgrade-options="[[hasUpgradeOptions]]"\n\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t></sb-product-option-table>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div class="footer-attributes">\n\t\t\t\t\t<template is="dom-if" if="[[hasBottomConfigAttributes]]">\n\t\t\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\t\t\tid="configAttributesBottom"\n\t\t\t\t\t\t\t\tfeature-id="[[featureId]]"\n\t\t\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t\t></sb-attribute-table>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),z)}}customElements.define(J.is,J);var Z,tt=n(2567);const et=(0,v.f)(Z||(Z=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-tabs[class*='--desktop']::shadow #paperTabContainer {\n  border: none;\n}\n[class*='--desktop'] sb-tabs::shadow #paperTabContainer {\n  border: none;\n}\n"])));var nt;n(5799);const it=(0,v.f)(nt||(nt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\ndiv {\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n.empty {\n  margin: 15px;\n  padding: 15px;\n  background: #f4f6f9;\n  border: 1px solid #d0d0d0;\n  border-radius: 4px;\n  overflow: auto;\n}\n"])));var ot,rt;class st extends((0,W.J)(i.H3)){static get is(){return"sb-product-feature-list"}static get properties(){return{features:Object,configSearch:Object,model:Object,label:String,spinner:{type:Boolean,value:!1},show:{type:Boolean,value:!1},tabIndex:{type:Number,value:null},viewport:{type:Object,value:function(){return k._.getViewport()}}}}_initLazyTabRenderingObserver(t,e){if(void 0!==t&&void 0!==e)return this.initLazyTabRendering(t,e)}initLazyTabRendering(t,e){this.show=!0===this.isMobile()||null===t,!1===this.show&&this.addEventListener("sb-tab-selected",this.handleTabSelected.bind(this))}static get observers(){return["_initFeaturesObserver(label, model)","_filterFeaturesObserver(configSearch, features, model)","filterFeaturesFromRules(model.productRulesActions)","handleFeatureExpandEvent(features)","_setFeatureOptionsAsRenderedObserver(show, features, model)","_initLazyTabRenderingObserver(tabIndex, viewport)"]}_initFeaturesObserver(t,e){if(void 0!==t&&void 0!==e)return this.initFeatures(t,e)}initFeatures(){this.features=this.features||this.model.getTabFeaturesMap()[this.label]}filterFeaturesFromRules(t){this.configSearch&&this.features&&t&&Object.keys(t).length>0&&this.filterFeatures(this.configSearch,this.features,this.model,t)}_filterFeaturesObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.filterFeatures(t,e,n)}filterFeatures(t,e,n,i){(0,C.GC)(this)?this._filterFeatures(t,e,n,i):this._filterQueuedForNextRender||((0,s.T8)(this,this._filterFeatures.bind(this,t,e,n,i)),this._filterQueuedForNextRender=!0)}_filterFeatures(t,e,n,i){let o=!0;for(let r=0,s=this.features.length;r<s;r++)o=this._filterFeatureByIndex(t,e,n,i,r)&&o;this._parentHandleContentFiltered(!o),this._filterQueuedForNextRender=!1}_parentHandleContentFiltered(t){if(null==this.label)return;let e=(0,C.GC)(this);e&&"function"==typeof e.contentFilteredHandler&&e.contentFilteredHandler(this.label,t)}_filterFeatureByIndex(t,e,n,i,o){let r=i?i.showOptions:null,s=n.optionsByFeatureId[e[o].record.Id]||[];s=t.setOptionVisibility(s);let a=this._hideFeature(t,e[o],n,s,r);return this.set("features."+o+".hidden",a),a}_hideFeature(t,e,n,i,o){if(t.hasRequiredConfigAttributes(e,n))return!1;if(!t.containsFeature(e))return!0;if(t.hasVisibleOptions(i,o))return!1;let r=t.allOptionsHiddenByRule(i),s=t.hasConfigAttributes(e,n);if(r&&s)return!1;let a=e.optionSelectionMethod;return"Click"===a||(!!n.maxOptionsMet(e)||"Dynamic"!==a&&!t.hasVisibleOptions(e._transient_.optionConfigurations,o))}handleFeatureExpandEvent(){this.addEventListener("feature-expanded",function(t){t.detail.path.forEach(function(e){if("feature-header"===e.id)for(;e.nextElementSibling;)e.classList.toggle("expanded",t.detail.expanded),e=e.nextElementSibling}.bind(this))}.bind(this))}handleTabSelected(){!0!==this.show&&(this.spinner=!0,setTimeout(this.renderComponent.bind(this),10))}renderComponent(){this.renderingComponent||(this.renderingComponent=!0,(0,s.T8)(this,function(){this.show=!0,this.spinner=!1,this.renderingComponent=!1}.bind(this)))}get prefix(){return g.I.org.prefix?g.I.org.prefix+"__":""}isMobile(){return!(!this.viewport||!this.viewport.isMobile())}_setFeatureOptionsAsRenderedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.setFeatureOptionsAsRendered(t,e,n)}setFeatureOptionsAsRendered(){!1!==this.show&&this.features.forEach((t=>{this.model.getOptionsByFeatureId(t.record.Id).forEach((e=>{"Add"==t.optionSelectionMethod&&(e=this.model.product.options.find((t=>t.record.Id===e.record.Id))),e._transient_=e._transient_||{},e._transient_.rendered=!0}))}))}_showNoVisibleOptionsInFeatureMessage(t){return!(!t||g.I.isHideFeatureNoOptionEnabled)}static get template(){return(0,i.dy)(ot||(ot=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<div id="featureList">\n\t\t\t<template is="dom-if" if="[[show]]">\n\t\t\t\t<template id="features" class="features" is="dom-repeat" items="{{features}}" as="feature">\n\t\t\t\t\t<sb-product-feature\n\t\t\t\t\t\t\tfeature-id="[[feature.record.Id]]"\n\t\t\t\t\t\t\tname$="[[feature.record.Name]]"\n\t\t\t\t\t\t\thidden$="[[feature.hidden]]"\n\t\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\t\ttab-index="[[tabIndex]]"\n\t\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t\t></sb-product-feature>\n\n\t\t\t\t\t<template is="dom-if" if="[[_showNoVisibleOptionsInFeatureMessage(feature.hidden)]]">\n\t\t\t\t\t\t<div class="empty"><sb-i18n key="No visible options in feature" value="[[feature.record.Name]]">No visible options in feature \'{0}\'</sb-i18n></div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),it)}}customElements.define(st.is,st);const at=(0,v.f)(rt||(rt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\nheader {\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 18px 13px 8px;\n  font-weight: 500;\n  color: #16325c;\n  text-align: center;\n  text-transform: uppercase;\n}\n"])));var lt,dt,ct;function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ht(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class pt extends i.H3{static get is(){return"sb-product-feature-category-list"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({categoryNamesOrFeatures:Array,hasCategories:{type:Boolean,value:!1}},st.properties)}static get observers(){return["setHasCategories(model)","_setCategoryNamesOrFeaturesObserver(model, hasCategories)"]}setHasCategories(t){this.hasCategories=t.checkAtLeastOneFeatureHasCategory()}_setCategoryNamesOrFeaturesObserver(t,e){if(void 0!==t&&void 0!==e)return this.setCategoryNamesOrFeatures(t,e)}setCategoryNamesOrFeatures(t,e){this.categoryNamesOrFeatures=e?Object.keys(t.getTabFeaturesMap()):t.featuresWithOptionsOrConfigAttr}getFeaturesByCategory(t){return this.model.getTabFeaturesMap()[t]}static get template(){return(0,i.dy)(lt||(lt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<template is="dom-if" if="[[hasCategories]]">\n\t\t\t<template id="categories" is="dom-repeat" items="[[categoryNamesOrFeatures]]" as="categoryName">\n\t\t\t\t<header>[[categoryName]]</header>\n\n\t\t\t\t<sb-product-feature-list\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tfeatures="[[getFeaturesByCategory(categoryName)]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-product-feature-list>\n\t\t\t</template>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[!hasCategories]]">\n\t\t\t<sb-product-feature-list\n\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\tfeatures="[[categoryNamesOrFeatures]]"\n\t\t\t\t\tmodel="[[model]]"\n\t\t\t></sb-product-feature-list>\n\t\t</template>\n\t\t'])),at)}}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function bt(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}customElements.define(pt.is,pt);class gt extends((0,W.J)((0,m.Q)((0,B.U)(a.T3)))){static get is(){return"sb-product-feature-layout"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({qId:String,product:Object,model:Object,configAttributes:{type:Object,notify:!0},features:{type:Object,value:{},computed:"_setFeatures(model)"},vp:{type:Object,value:function(){return k._.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(vp)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(configAttributes)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(configAttributes)"},hasFeaturelessConfigAttributes:{type:Boolean,computed:"_setHasFeaturelessConfigAttributes(configAttributes)"},isMobileAndHasConfigAttributes:{type:Boolean,value:!1,computed:"_setIsMobileAndHasFeaturelessConfigAttributes(isMobile, hasFeaturelessConfigAttributes)"},isSectionLayout:{type:Boolean,value:!1},isPaginationRequired:{type:Boolean,value:!1},tabsForFeatureLayout:Object,tabsForTabsAndWizardLayout:Object,selectedTabIndex:{type:Number,notify:!0},optionConstraintsHandler:{type:Object,value:{},computed:"setOptionConstraintsHandler(model)"},disabledStateMap:{type:Object,value:{}},configSearch:Object,listenersAttached:{type:Boolean,value:!1},spinner:{type:Boolean}},a.T3.properties)}get events(){let t={};return t[M.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_setConfigAttributes(model)","_renderObserver(model, isSectionLayout)","_buildModelObserver(product, qId, currencyIsoCode)","_handleProductRulesResponseObserver(model, disabledStateMap, product.configuration.*)","_setOptionDataObserver(model, product.configuration.optionDataByOptionIdAndIndex)","_updateProductFromPopupResponseObserver(popupResponse, model)","_createConstraintsHoverMessagesObserver(model, optionConstraintsHandler)","_setSelectedForConstraintsObserver(optionConstraintsHandler.optionConstraints, disabledStateMap)"]}_buildModelObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this.buildModel(t,e,n)}buildModel(){this.model=new O.e(this.qId,this.product,this.app.org.prefix,this.currencyIsoCode)}_setConfigAttributes(){this.configAttributes=this.model.configurationAttributeValueMap}_setHasFeaturelessConfigAttributes(){let t=this.model.configAttributesByFeatureId.featureless;if(!t)return!1;for(let e=0;e<t.length;e++)if(!t[e].hidden)return!0;return!1}_setFeatures(t){return t.featuresWithOptionsOrConfigAttr}_setIsMobile(t){if(t)return t.isMobile()}_setHasTopConfigAttributes(t){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;for(let t of this.model.configAttributesByFeatureId.featureless)if("Top"===t.position&&!t.hidden)return!0;return!1}_setHasBottomConfigAttributes(t){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;for(let t of this.model.configAttributesByFeatureId.featureless)if("Bottom"===t.position&&!t.hidden)return!0;return!1}_setIsMobileAndHasFeaturelessConfigAttributes(t,e){return t&&e}viewportChanged(t){this.vp=t.detail.viewport}_renderObserver(t,e){if(void 0!==t&&void 0!==e)return this.render(t,e)}render(){let t=this.model.getOptionLayout();if(this.isMobile&&(t="Sections",this.hasFeaturelessConfigAttributes))return this.buildFeatureLayoutTabs(),void this.handleOptionSelectionChanged();this.isSectionLayout&&(t="Sections"),this.isMobile||"Tabs"!==t&&!this.model.checkAtLeastOneFeatureHasCategory()?"Wizard"===t?(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!0):"Sections"!==t&&"None"!==t||(this.isSectionLayout=!0):(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!1),this.handleOptionSelectionChanged(),this.listenersAttached=!0}buildFeatureLayoutTabs(){let t={name:"t1",label:this.i18n.l("Features"),pageComponent:"sb-product-feature-category-list",bind:["model","configAttributes","disabledStateMap","configSearch"]},e={name:"t2",label:this.i18n.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"globalConfigAttributes"},{name:"added-class",value:"header-attributes"},{name:"feature-id",value:"featureless"}],bind:["model","configAttributes"]};this.tabsForFeatureLayout=[t,e]}buildTabsAndWizardLayoutTabs(){let t=this.model.getTabFeaturesMap(),e=Object.keys(t),n=[];for(let t=0,i=e.length;t<i;t++){let i="t"+t;n.push({name:i,label:e[t]})}this.isSectionLayout=!1,this.tabsForTabsAndWizardLayout=n}setOptionConstraintsHandler(){return new tt.C(this.model.product,this.model.prefix)}handleOptionSelectionChanged(){this.listenersAttached||(this.addEventListener("selection-changed",(function(t){if(t&&t.detail){if(!1===t.detail.selected&&this.model.getOption(t.detail.Id).added){let e=this.model.getOption(t.detail.Id);e.added=!1,e.removed=!0}this.handleOptionConstraints(t.detail.Id,t.detail.selected)}})),this.addEventListener("delete-tapped",function(t){if(t&&t.detail&&!this.hasSameOptionAdded(t.detail.Id)){let e=this.model.getOption(t.detail.Id);e.added=!1,e.removed=!0,e._transient_&&(e._transient_.rendered=!1),this.handleOptionConstraints(t.detail.Id,!1)}}.bind(this)))}hasSameOptionAdded(t){let e=this.model.getOption(t).record[this.model.prefix+"Feature__c"],n=this.model.getFeature(e),i=n?n._transient_.optionConfigurations:[];for(let e=0,n=i.length;e<n;e++)if(i[e].record.Id===t)return!0;return!1}handleOptionConstraints(t,e){let n=this.optionConstraintsHandler.handleOptionConstraints(t,e);n&&n.forEach((t=>{this.set("disabledStateMap.".concat(t.optionId),t.disabledState)}))}_handleProductRulesResponseObserver(t,e){if(void 0!==t&&void 0!==e&&this.product&&this.product.configuration&&this.product.configuration.productRulesActions)return this._handleProductRulesResponse(t,e)}_handleProductRulesResponse(){(0,C.GC)(this)&&this.product.configuration.productRulesActions&&(this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.enableOptions),!1),this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.disableOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.hideOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.showOptions),!1),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.selectOptions),!0),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.deselectOptions),!1),this.set("model.productRulesActions",this.product.configuration.productRulesActions),delete this.product.configuration.productRulesActions)}setOptionsDisabledByRules(t,e){const n=e?"disableOptions":"enableOptions";for(let i of t){if(this.model.optionSystemOrRequired(i)){delete this.product.configuration.productRulesActions[n][i];continue}let t=e?this.optionConstraintsHandler.optionShouldBeDisabled(i):!this.optionConstraintsHandler.optionShouldBeDisabled(i);this.product.configuration.productRulesActions[n][i]=t;let o=!!(e&&t||!e&&!t);this.model.getOption(i).disabledData={disabled:e,constrained:o}}}setOptionsHiddenByRules(t,e){for(let n of t){let t=this.model.getOption(n);t.hidden=e,t.hiddenByRule=e,this.handleFeatureVisibility(this.model.featureIdByOptionId[n])}}setOptionsSelectedByRules(t,e){for(let n of t){let t=this.model.getOption(n);t.selected=e,t.selectedByRule=e}}_setOptionSelections(t,e,n){e&&Object.keys(e).forEach((e=>{let i=t.getOption(e);i&&i.selected!==n&&(i.selected=n)}))}handleFeatureVisibility(t){const e=this.checkFeatureHasVisibleOptions(t),n=this.features.findIndex((e=>e.record.Id===t));this.set(["features",n,"hidden"],e)}checkFeatureHasVisibleOptions(t){for(let e of this.model.optionsByFeatureId[t])if(!e.hidden)return!1;return!0}_setOptionDataObserver(t,e){if(void 0!==t&&void 0!==e)return this._setOptionData(t,e)}_setOptionData(){(0,C.GC)(this)&&(this.set("model.optionDataByOptionIdAndIndex",this.product.configuration.optionDataByOptionIdAndIndex),delete this.product.configuration.optionDataByOptionIdAndIndex)}_updateProductFromPopupResponseObserver(t,e){if(void 0!==t&&void 0!==e)return this._updateProductFromPopupResponse(t,e)}_updateProductFromPopupResponse(){this.popupResponse.dynamicOptions&&this.popupResponse.dynamicOptions.length>0||this._bindResponseChangesToUI()}_bindResponseChangesToUI(){this.model.init(this.popupResponse.product),this._setConfigAttributes(),this.set("model.optionNotifications",this.popupResponse.optionNotifications)}handleDynamicOptionsAdded(t){for(let n in t){let i=0,o=this._getDynamicOptions(n,t[n].record[this.model.prefix+"Feature__c"]);for(let r of o){var e=this._extendDataToOption(t[n],r,i++);let o=this.model.getFeature(r.featureId);this.popupResponse.product.options.push(e),o._transient_.optionConfigurations.push(e),o._transient_.changedExternally=!0}}this.syncConfigurationAttributesToProduct(e),this._bindResponseChangesToUI()}_getDynamicOptions(t,e){let n=[];for(let i of this.popupResponse.dynamicOptions||[])i.productId.substring(0,15)===t.substring(0,15)&&i.featureId.substring(0,15)===e.substring(0,15)&&n.push(i);return n}_extendDataToOption(t,e,n){if(t=Object.assign({},t),e.configurationData&&"object"==typeof e.configurationData)for(let n in e.configurationData)t.record[n]=e.configurationData[n];return t.record=Object.assign({},t.record),t.record[this.model.prefix+"Quantity__c"]=e.Quantity,t.index=e.index||n,t.isDynamicOption=!0,t.selected=!0,t.added=!0,void 0===t.record[this.model.prefix+"UnitPrice__c"]&&(t.record[this.model.prefix+"UnitPrice__c"]=0),t}syncConfigurationAttributesToProduct(t){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};for(let t of this.popupResponse.product.configurationAttributes)!0===t.autoSelect&&void 0===this.autoSelectAttributes[t.targetFieldName]&&(this.autoSelectAttributes[t.targetFieldName]=!0)}for(let e in this.autoSelectAttributes)this.popupResponse.product.configuration.configurationData[e]=t.record[e]}_createConstraintsHoverMessagesObserver(t,e){if(void 0!==t&&void 0!==e)return this._createConstraintsHoverMessages(t,e)}_createConstraintsHoverMessages(){this.model.optionConstraintsByConstrained||this.model.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}_setSelectedForConstraintsObserver(t,e){if(void 0!==t&&void 0!==e)return this.setSelectedForConstraints(t,e)}setSelectedForConstraints(){let t=this.optionConstraintsHandler.getConstrainingByConstrained();for(let e of t)for(let t of e){let e=t.selected&&!this.disabledStateMap[t.record.Id];this.handleOptionConstraints(t.record.Id,e)}}static get template(){return(0,i.dy)(dt||(dt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t<template is="dom-if" if="[[hasFeaturelessConfigAttributes]]">\n\t\t\t\t<sb-tabs\n\t\t\t\t\t\ttabs="[[tabsForFeatureLayout]]"\n\t\t\t\t\t\tselected-tab-index="{{selectedTabIndex}}"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[!hasFeaturelessConfigAttributes]]">\n\t\t\t\t<sb-product-feature-category-list\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t></sb-product-feature-category-list>\n\t\t\t</template>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\x3c!--Featureless Config Attributes--\x3e\n\t\t\t<template is="dom-if" if="[[hasTopConfigAttributes]]">\n\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\tid="globalConfigAttributes"\n\t\t\t\t\t\tfeature-id="featureless"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tadded-class="header-attributes"\n\t\t\t\t\t\tposition="Top"\n\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t></sb-attribute-table>\n\t\t\t</template>\n\n\t\t\t\x3c!--Section layout--\x3e\n\t\t\t<template is="dom-if" if="[[isSectionLayout]]">\n\t\t\t\t<sb-product-feature-list\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tfeatures="[[features]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t></sb-product-feature-list>\n\t\t\t</template>\n\n\t\t\t\x3c!--Tab or Wizard layout--\x3e\n\t\t\t<template is="dom-if" if="[[!isSectionLayout]]">\n\t\t\t\t<sb-tabs\n\t\t\t\t\t\ttabs="[[tabsForTabsAndWizardLayout]]"\n\t\t\t\t\t\tpage-component="sb-product-feature-list"\n\t\t\t\t\t\tselected-tab-index="{{selectedTabIndex}}"\n\t\t\t\t\t\tuse-pagination="[[isPaginationRequired]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tdisabled-state-map="[[disabledStateMap]]"\n\t\t\t\t\t\tconfig-search="[[configSearch]]"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tbind=\'["model", "configAttributes", "disabledStateMap", "configSearch"]\'\n\t\t\t\t\t\tdevice\n\t\t\t\t></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[hasBottomConfigAttributes]]">\n\t\t\t\t<sb-attribute-table\n\t\t\t\t\t\tid="globalConfigAttributes"\n\t\t\t\t\t\tfeature-id="featureless"\n\t\t\t\t\t\tmodel="[[model]]"\n\t\t\t\t\t\tconfig-attributes="{{configAttributes}}"\n\t\t\t\t\t\tadded-class="footer-attributes"\n\t\t\t\t\t\tposition="Bottom"\n\t\t\t\t\t\tspinner="{{spinner}}"\n\t\t\t\t></sb-attribute-table>\n\t\t\t</template>\n\t\t</template>\n\t\t'])),et)}}customElements.define(gt.is,gt);const mt=(0,v.f)(ct||(ct=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.header {\n  margin: 20px 20px;\n}\n.header[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n[class*='--mobile'] .header {\n  font-weight: 400;\n  font-size: 1rem;\n  color: #16325c;\n}\n"])));var yt,vt;class _t extends((0,m.Q)((0,B.U)(i.H3))){static get is(){return"sb-product-bundles-filter-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,label:String}}get events(){let t={};return t[M.zW.CLEAR_PRODUCT_FILTER]=this.clear,t}static get observers(){return["setFieldData(model)"]}setFieldData(){let t;for(let e=0,n=this.model.length;e<n;e++)if(this.model[e].name===this.item){this.label=this.model[e].label,t="picklist"===this.model[e].type||"multipicklist"===this.model[e].type?this.model[e]:{type:"string"};break}this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=t}clear(){this.value=null}static get template(){return(0,i.dy)(yt||(yt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t    <style>",'</style>\n\t\t<div device class="header">\n\t\t\t<div>[[label]]</div>\n\t\t\t<div>\n\t\t\t\t<sb-field id="field" value="{{value}}" record="[[data]]"></sb-field>\n\t\t\t</div>\n\t\t</div>\n\t    '])),mt)}}customElements.define(_t.is,_t);class wt extends((0,N.S)((0,m.Q)((0,B.U)(i.H3)))){static get is(){return"sb-product-bundles-layout"}static get properties(){return{productIndex:{type:Number,notify:!0},selectedTabIndex:{type:Number,value:0},configuredProducts:Array,setToSections:{type:Boolean,value:!0},isClassic:Boolean,noHeader:{type:Boolean,value:!1},hasSelected:{type:Boolean,value:!1},hasMultipleBundles:{type:Boolean,value:!1,observer:"formatBundlesLayout"},drawerState:String,qId:String,searchFilters:Array,searchValuesByFilter:Object,searchFieldMD:Object,searchFilterTypeMap:Object,configSearch:Object,viewport:{type:Object,value:function(){return k._.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"}}}get events(){let t={};return t[M.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["setMD(searchFilters)","initSearchFilter(searchFieldMD)","_updateProductFromPopupResponseObserver(popupResponse, configuredProducts)","_resize(configuredProducts.*)","_selectBundleObserver(isMobile, configuredProducts, isClassic, hasMultipleBundles, productIndex)"]}get prefix(){return g.I.org.prefix?g.I.org.prefix+"__":""}_resize(){this.resize()}initSearchFilter(){this.$.group.group=this.searchFilters,this.$.group.model=this.searchFieldMD,this.$.group.data=this.searchValuesByFilter;let t={};for(let e of this.searchFieldMD)t[e.name]=e.type;this.searchFilterTypeMap=t,this.configSearch=new F(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}connectedCallback(){super.connectedCallback(),this.handleResize(),this.handlePanelSlide(),this.handlePanelEvents(),this.handleMD()}handlePanelEvents(){this.addEventListener("side-toggle-clicked",function(){this.toggle()}.bind(this)),this.addEventListener("iron-select",function(){"drawer"==this.$.drawer.selected?this.drawerState="open":this.drawerState="closed"}.bind(this)),this.addEventListener("x-clicked",function(){this.$.search.closeDrawer()}.bind(this)),this.addEventListener("enter-keypress",function(){this.searchFilters&&this.applyFilters()}.bind(this))}handleMD(){this.$.md.addEventListener("md-changed",function(t){this.searchFieldMD=t.detail.value.fields}.bind(this))}navTo(t){let e=t.composedPath()[0].id.split("_")[1],n=this.configuredProducts.length,i=this.productIndex;for(let t=0;t<n;t++)this.getProductId(t)===e&&(i=t);this.setSelected(e),!this.isMobile&&this.isClassic?this.shadowRoot.querySelector("#Bundle"+e).scrollIntoView():this.dispatchEvent((0,M.FU)("bundle-panel-clicked",i))}toggle(){this.toggleTransition(!0),this.$.drawer.togglePanel()}classicOrSelectedIndex(t,e){return this.isClassic&&!this.isMobile||this.configuredProducts[this.productIndex]===t||!this.productIndex&&0===e||this.productIndex>=this.configuredProducts.length&&0===e}handleResize(){let t=document.querySelector("#sidebarCell");t&&t.addEventListener("click",this.resize.bind(this)),window.addEventListener("resize",this.resize.bind(this))}resize(){this.toggleTransition(!1),"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}handlePanelSlide(){this.isMobile||this.addEventListener("iron-select",function(){"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}.bind(this)),this.isMobile&&this.addEventListener("iron-deselect",function(t){"drawer"===t.detail.item.id&&document.activeElement.blur()}.bind(this))}_selectBundleObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this.selectBundle(t,e,n,i,o)}selectBundle(){if(this.$.search.shadowRoot.querySelector("#scrim").style.width="100%",this.isMobile&&(this.navWidth=0,this.$.drawer.shadowRoot.querySelector("#scrim").style.width="100%"),1===this.configuredProducts.length&&(this.navWidth=0),this.buildPanelIfMultipleBundesAndNotMobile(),!this.isClassic||this.isMobile){let t=this.getProductId(this.productIndex);this.dispatchEvent((0,M.FU)("bundle-name-changed",{name:this.configuredProducts[this.productIndex].record.Name})),this.observeNode(this.$.panel,function(){this.setSelected(t)}.bind(this))}this.resize()}buildPanelIfMultipleBundesAndNotMobile(){1===this.configuredProducts.length||this.isMobile||(this.panelWidth=256,this.navWidth=24,this.$.panel.rightSideButton=!0,this.toggleTransition(!1),"1"===this.isOpen?(this.$.drawer.selected="drawer",this.drawerState="open",this._setBundleContainerWidth(!1)):(this.$.drawer.selected="main",this.drawerState="closed",this._setBundleContainerWidth(!0)))}_setBundleContainerWidth(t){this.configuredProducts&&this.configuredProducts.length<2||((0,C.og)("open",!t,this.$.bundleContainer),(0,C.og)("close",t,this.$.bundleContainer))}toggleTransition(t){this.$.drawer._transition=t,(0,C.og)("transition",t,this.$.bundleContainer)}defaultState(){return"1"===this.isOpen?"drawer":"main"}toggleSearch(){this.$.search.togglePanel()}refocus(){this.$.search.querySelector("#searchPanel").querySelector("sb-group").shadowRoot.querySelector("sb-product-bundles-filter-item").shadowRoot.querySelector("sb-field").shadowRoot.querySelector("div#f").firstChild.focus()}reverseFocus(){this.$.clear.focus()}setMD(){this.$.md.object="ProductOption__c",this.$.md.fields=this.searchFilters}applyFilters(){this.$.clear.focus(),this.$.search.closeDrawer(),this.configSearch=new F(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}clearFields(){(0,M.BX)(M.zW.CLEAR_PRODUCT_FILTER),this.blur(),this.configSearch=new F(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}viewportChanged(t){this.viewport=t.detail.viewport}getProductId(t,e){let n=this.configuredProducts[t];return(e?"_":"")+(n.productKey||n.record.Id)}setSelected(t){this.removeAllSelected(),(0,C.og)("selected-tab",!0,this.shadowRoot.querySelector("#_"+t))}removeAllSelected(){let t=this.shadowRoot.querySelectorAll("div.nav-item");for(let e of t)(0,C.og)("selected-tab",!1,e)}_setIsMobile(t){if(t)return t.isMobile()}_updateProductFromPopupResponseObserver(t,e){if(void 0!==t&&void 0!==e)return this._updateProductFromPopupResponse(t,e)}_updateProductFromPopupResponse(){let t=this.popupResponse.products;if(!t||0===t.length)return;let e=this.configuredProducts.length;for(let e of t)this.push("configuredProducts",e);1===e&&this.buildPanelIfMultipleBundesAndNotMobile()}formatBundlesLayout(){(0,C.og)("multiple-bundles",this.hasMultipleBundles,this.$.bundleContainer)}static get template(){return(0,i.dy)(vt||(vt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<sb-field-md id="md"></sb-field-md>\n\t\t\x3c!--Search Wrapper Component--\x3e\n\t\t<paper-drawer-panel device id="search" right-drawer force-narrow="true" disable-swipe="true" style="position:relative">\n\t\t\t<div slot="main">\n\t\t\t\t\x3c!--Bundle List Wrapper Component--\x3e\n\t\t\t\t<paper-drawer-panel id="drawer" force-narrow="true" disable-swipe="true">\n\t\t\t\t\t<div slot="main" style="overflow-x: hidden; overflow-y: scroll">\n\t\t\t\t\t\t<div id="bundleContainer">\n\t\t\t\t\t\t\t<template is="dom-repeat" id="bundles" items="[[configuredProducts]]" as="configuredProduct">\n\t\t\t\t\t\t\t\t\x3c!--Each Bundle in this repeat--\x3e\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[classicOrSelectedIndex(configuredProduct,index)]]">\n\t\t\t\t\t\t\t\t\t<div id$="Bundle[[configuredProduct.record.Id]]">\n\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class="product-header">[[configuredProduct.record.Name]]</h1>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<sb-product-feature-layout id="features"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   product="[[configuredProduct]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   selected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   is-section-layout="[[isClassic]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   q-id="[[qId]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   currency-iso-code="[[currencyIsoCode]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   config-search="[[configSearch]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   popup-response="[[popupResponse]]"\n\t\t\t\t\t\t\t\t\t\t></sb-product-feature-layout>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div slot="drawer">\n\t\t\t\t\t\t\x3c!--Bundle List side panel--\x3e\n\t\t\t\t\t\t<sb-side-panel id="panel" render-header="[[noHeader]]" is-open="[[drawerState]]" side-text="Bundles">\n\t\t\t\t\t\t\t<div class="panel-actions" slot="panel-actions">\n\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[configuredProducts]]">\n\t\t\t\t\t\t\t\t\t<div on-click="navTo" class="nav-item" label$="[[item.record.Name]]" id$="[[getProductId(index, \'true\')]]">[[item.record.Name]]</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</sb-side-panel>\n\t\t\t\t\t</div>\n\t\t\t\t</paper-drawer-panel>\n\t\t\t</div>\n\t\t\t\x3c!--Search Filters side panel--\x3e\n\t\t\t<div slot="drawer">\n\t\t\t\t<sb-side-panel id="searchPanel">\n\t\t\t\t\t<h3 class="title" slot="title"><sb-i18n>Filter</sb-i18n></h3>\n\t\t\t\t\t<div class="panel-actions" slot="panel-actions" tabindex="0" on-focus="refocus">\n\t\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\t\t\t\t\t\t<sb-group id="group" item="sb-product-bundles-filter-item"></sb-group>\n\t\t\t\t\t\t<div class="filter-buttons">\n\t\t\t\t\t\t\t<paper-button noink on-click="applyFilters" class="primary"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t\t\t<text id="clear" class="click" on-click="clearFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-side-panel>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t\t'])),R)}}customElements.define(wt.is,wt);n(6082),n(2516),n(7358);var xt,Ct=n(4155),kt=n(922),St=n(8765);n(2337);class Ot extends i.H3{static get is(){return"sb-product-rules-invoke"}static get properties(){return{quote:Object,product:Object,upgradeAssetId:{type:String,value:null},error:{type:Array,notify:!0},configResponse:{type:String,notify:!0}}}static get observers(){return["_updateObserver(quote, product)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){this.configResponse=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}setSpinnerMessage(){(0,St.gz)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_updateObserver(t,e){if(void 0!==t&&void 0!==e)return this.update(t,e)}update(){this.product.configuration.configuredProductKey=this.product.productKey||this.product.configuration.configuredProductId,this.quote.priorBundledQuantityByLineKey=new kt.z(this.quote).mapPriorBundledQuantityByLineKey();let t=this.quote.lineItems;this.quote.lineItems=null,this.$.service.model=this._getRequestModel(this.quote,this.product.configuration,this.upgradeAssetId),this.quote.lineItems=t,delete this.quote.priorBundledQuantityByLineKey}_getRequestModel(t,e,n){return(new Ct.J).addQuote("quote",t,!0).addObject("configuration",e).add("upgradedAssetId",n).build()}static get template(){return(0,i.dy)(xt||(xt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<sb-async-service id="service" saver="ProductConfigurationServiceProvider.ProductRulesInvoker" background="[[background]]"></sb-async-service>\n\t\t'])))}}customElements.define(Ot.is,Ot);var It;n(1481),n(2724);function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tt(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Mt="ConfigurationError";class Bt extends((0,m.Q)(a.T3)){static get is(){return"sb-product-config"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({lineEditorModel:Object,productSelectionModel:Object,topLevelBundle:Object,currentTarget:Object,productIndex:Number,headerSubtitle:String,hasMultipleBundles:Boolean,isClassic:Boolean,searchValuesByFilter:Object,searchFilters:Array,validationMessages:Array,headerTitle:String,isMobileAndHasMultipleBundles:{type:Boolean,value:!1,computed:"_setIsMobileAndHasMultipleBundles(viewport, hasMultipleBundles)"},productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},groupKey:{type:Number,computed:"getGroupKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},spinner:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},preventPreLoadObjects:{type:Boolean,value:!1}},a.T3.properties)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready(),this.handleLineEditorModelResponse(),this.handleProductLoadResponse(),this.handleOptionSaveResponse(),this.handleProductRulesInvokerResponse(),this.handleCustomActionsCollapsed(),this.handleOnAddOptionClick(),this.handleBundlePanelClick(),this.handleChangeEvents(),this.handleApplyEditRulesAction(),this.handleBundleNameChange(),this.handleExternalConfiguration(),this.handleConfigureOptionEvent(),this.handleOptionConfiguratorResponse(),this.handleExternalConfiguratorOptionLoadResponse()}connectedCallback(){super.connectedCallback(),this.preventPreLoadObjects||this.preLoadObjects()}handleLineEditorModelResponse(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.$.optionSave.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.optionSave.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.productLoad.quote=this.$.optionSave.quote=this.$.productRulesInvoke.quote=this.$.optionConfigure.quote=t.detail.value.quote,this.headerSubtitle=t.detail.value.headerSubtitle}.bind(this))}handleProductLoadResponse(){this.$.productLoad.addEventListener("product-load-model-changed",function(t){if(t.detail.value&&!t.detail.value.returnToQuote&&void 0===t.detail.value.configuredProducts)return void this._handleExternalDynamicOptionsResponse(t.detail.value);let e=this.handleProductConfigurationInitializer(t.detail.value);if(e.returnToQuote)return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",{qId:this.lineEditorModel.quote.record.Id},["quote","le"],!1)}.bind(this),this.$.productAlerts.alerts=[e.returnToQuote];if(""!==this.optionId)return this.setOptionConfigurationDetails(e);if(this.loadedModelIsReconfigure(e)){const t=e.configuredProducts[0];t.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new u).reconfigure(t),this.addAttributeSetFromServerProductVO(e.configuredProducts[0])}for(let t of e.configuredProducts){if(!t.rulesProcessed){new l.j(t.configuration,t).initProductRulesActions(!0)}null!=e.attributeSet&&Object.keys(e.attributeSet.attributeItemIdsByOptionId).length>0&&(t._transient_=t._transient_||{},t._transient_.attributeSet=e.attributeSet),null!=t.configuration&&null==t.nestedOptionModel&&(t.nestedOptionModel=new c(t.configuration)),t.configuration.configuredOptions=t.nestedOptionModel.getConfiguredOptionsFromPath()}this.productSelectionModel=void 0,this.productSelectionModel=e,this.hasMultipleBundles=this.productSelectionModel.configuredProducts.length>1,this.isClassic=this.hasMultipleBundles&&"Classic"===this.lineEditorModel.settings.multipleBundlesView,this.currentTarget=this.productSelectionModel;for(let t=0;t<this.productSelectionModel.configuredProducts.length;t++)this.productIndex=t;this.productIndex=this.getProductIndex(),this.searchFilters=this.productSelectionModel.configuredProducts[0].optionFieldSets.SearchFilters;let n={};if(this.searchFilters&&!this.productSelectionModel.searchValuesByFilter){for(let t=0,e=this.searchFilters.length;t<e;t++)n[this.searchFilters[t]]=null;this.productSelectionModel.searchValuesByFilter=n}this.$.bundles.searchValuesByFilter=this.productSelectionModel.searchValuesByFilter,this.$.bundles.searchFilters=this.searchFilters,this.checkForExternalConfiguration()}.bind(this))}handleExternalConfiguratorOptionLoadResponse(){this.$.productLoad.addEventListener("external-configurator-response-changed",(t=>{const e=t.detail.value.dynamicOptions;this._delegateDynamicOptionsToFeatureLayout(e);const n=t.detail.value.nestedOptions,i=this.optionsToExtend.configurationsByFeature,o=this.currentTarget.configuredProducts[this.productIndex],r=void 0!==this.topLevelBundle?this.topLevelBundle.nestedOptionModel:o.nestedOptionModel,s=this.app.org.prefix;y.SF.extendOptionsWithServerResponse(n,i,r,[],s),this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1})}))}handleOptionSaveResponse(){this.$.optionSave.addEventListener("psm-response-changed",function(t){this.validationMessages=null;let e=t.detail.value,n=new l.j(e,this.topLevelBundle);return n.initValidationMessages(),this.validationMessages=n.getValidationMessages(),this.validationMessages.length>0?(this.spinner=!1,void(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.removeClonedConfiguration())):e.guidedMessages&&e.guidedMessages.length>0?(this.$.productAlerts.cancelCB=()=>{""!==this.optionId&&this.topLevelBundle.nestedOptionModel.removeClonedConfiguration()},this.$.productAlerts.displayContinueButton=!0,this.$.productAlerts.continueCB=()=>{""!==this.optionId&&this.topLevelBundle.nestedOptionModel.swapConfiguration(e),this.afterSaveNavigate(e,n)},this.spinner=!1,void(this.$.productAlerts.alerts=e.guidedMessages)):(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.swapConfiguration(e),void this.afterSaveNavigate(e,n))}.bind(this))}afterSaveNavigate(t,e){let n,i="none";if(""!==this.optionId){n=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,i=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU()||"none",e.initDescendantTree()}let o,r=this.ctx.params?this.ctx.params.redirectUrl:null,s=this.createPathParams(r);""!==this.optionId?o=this.createQueryParams({oId:i,ignoreCache:!1,jspr:!0},n):(o={qId:t.quote.record.Id},null!=this.ctx.params.groupKey&&(o.groupKey=this.ctx.params.groupKey),this.ctx.params.aId&&"quote"!==s[0]&&(o.aId=this.ctx.params.aId)),t.quote&&(this.lineEditorModel.quote=t.quote),this.nav("#",o,s,!1)}handleProductRulesInvokerResponse(){this.$.productRulesInvoke.addEventListener("config-response-changed",this._processProductRulesInvokerResponse.bind(this))}_processProductRulesInvokerResponse(t){let e=t.detail.value,n=this.currentTarget.configuredProducts.findIndex((t=>(t.productKey||t.record.Id)===e.configuredProductKey)),i=this.currentTarget.configuredProducts[n],o=new l.j(e,i);o.init(void 0!==this.topLevelBundle?this.topLevelBundle.nestedOptionModel:i.nestedOptionModel),this.validationMessages=o.getValidationMessages(),void 0!==i.configuration&&void 0!==i.configuration.configurationData&&(e.configurationData=i.configuration.configurationData),i.configuration=this._setHiddenAndDisabledOptionIds(i.configuration,e.hiddenOptionIds,e.disabledOptionIds),this.$.bundles.set("configuredProducts.".concat(n,".configuration.productRulesActions"),o.getProductRulesActions()),this.$.bundles.set("configuredProducts.".concat(n,".configuration.optionDataByOptionIdAndIndex"),o.getOptionDataByOptionIdAndIndex()),(0,s.T8)(this,(function(){this.spinner=!1}))}_setHiddenAndDisabledOptionIds(t,e,n){return t.hiddenOptionIds=e,t.disabledOptionIds=n,t}handleCustomActionsCollapsed(){this.changeAllActions(this.$.customActions.buttonsCollapsed),this.$.customActions.addEventListener("buttons-collapsed-changed",function(t){let e=t.detail.value;this.changeAllActions(e)}.bind(this))}handleOnAddOptionClick(){let t;this.addEventListener("selected-page-changed",function(e){t=e.detail}.bind(this)),this.addEventListener("add-option-clicked",function(e){let n,i=""===this.optionId?e.detail:Object.assign({},e.detail,{oId:this.optionId});""===this.optionId&&(n=this.getProductIndex(e.detail.pId));let o=this.createQueryParams(i,t),r=null!=i.path?i.path:["product","ol"];void 0!==n&&(o.productIdx=n),this.nav("#",o,r,!1)}.bind(this))}handleBundlePanelClick(){this.addEventListener("bundle-panel-clicked",this.navToBundle)}navToBundle(t){let e=this.createQueryParams(this.ctx.params);e.productIdx=t.detail,e.open=1,e.tab&&delete e.tab,this.nav("#",e,["product","pc"],!1)}handleChangeEvents(){this.addEventListener("selection-changed",function(t){this.handleChangeEvent(t,"On Selection")}.bind(this)),this.addEventListener("sb-quantity-changed",function(t){this.handleChangeEvent(t,"On Quantity Change")}.bind(this)),this.addEventListener("sb-config-attribute-changed",function(t){this.handleChangeEvent(t,"On Attribute Change")}.bind(this)),this.addEventListener("sb-option-deleted",function(t){let e=this.topLevelBundle||this.productSelectionModel.configuredProducts[this.productIndex];e.nestedOptionModel&&e.nestedOptionModel.removeAddedOption(t.detail)}.bind(this))}handleApplyEditRulesAction(){this.addEventListener("sb-apply-edit-rules",(function(t){let e=this.getProductById(t.detail.bundleId);this.handleApplyImmediatelyProductRules(e,t.detail,"On Apply Rules")}))}handleBundleNameChange(){this.isMobileViewport()?this.addEventListener("bundle-name-changed",function(t){this.headerTitle=t.detail.name}.bind(this)):this.headerTitle=this.i18n.l("Configure Products")}handleExternalConfiguration(){this.addEventListener("sb-close-popup",(function(t){const e=g.I.isExternalConfiguratorNestedBundlesEnabled,n=t.detail.dynamicOptions&&t.detail.dynamicOptions.length>0&&t.detail.featureOptionIds;if(e&&y.SF.hasOptionsToBeExtended(t.detail.optionsToExtend))this._loadExternalConfiguratorOptions(t.detail);else{if(n)return e&&(t.detail.redirect=t.detail.redirect||{},t.detail.redirect.auto=!0),void this._handleExternalDynamicOptions(t.detail);if(e&&(!1===t.detail.redirect.save?this.cancel():this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1})),!t.detail.redirect)return null;if(1===this.productSelectionModel.configuredProducts.length){if(!t.detail.redirect.auto)return null;t.detail.redirect.save?this.save():this.cancel()}else{const e=this.lineEditorModel.settings.thirdPartyConfigurator;if(e&&t.detail.redirect.save)this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1});else{if(!e)return null;this.cancel()}}}}))}handleProductConfigurationInitializer(t){if(this.isReconfigure(t))return t;if(t.hasInitializedProductConfiguration)return t;for(let e of t.configuredProducts){let t=e.configuration;for(let n of t.optionConfigurations){let t=n.optionData.Id;for(let i of e.options)if(i.record.Id===t)for(let t in n.optionData)void 0!==i.record[t]&&i.record[t]!=n.optionData[t]&&(i.record[t]=n.optionData[t])}}return t.hasInitializedProductConfiguration=!0,t}save(){if(!1===this.configurationAttributesValid())return void(this.validationMessages=[this.i18n.l(this.lineEditorModel.customLabels.Configuration_Attribute_Error)+this.getConfigurationAttributeMissingFeaturesMessage()]);if(this.validationMessages=null,""!==this.optionId){let t=this.prepareProductForServer(this.currentTarget.configuredProducts[0]);if(this.validationMessages)return;return this.spinner=!0,this.$.optionSave.configuration=void 0,this.$.optionSave.configuration=t.configuration}let t=this.isReconfigure(this.productSelectionModel)?this.getConfiguredProductsToSave():this.getSelectedProductsToSave();this.validationMessages||(this.spinner=!0,this.$.optionSave.products=void 0,this.$.optionSave.products=t)}cancel(){if(this.spinner=!0,""===this.optionId){let t={qId:this.lineEditorModel.quote.record.Id};return null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),b.C.back(this,t,["quote","le"])}this.topLevelBundle.nestedOptionModel.cancel();let t=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,e=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),n=e?this.createQueryParams({oId:e,ignoreCache:!1},t):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},t);this.nav("#",n,["product","pc"],!1)}getConfiguredProductsToSave(){let t=[];return this.productSelectionModel.configuredProducts.forEach((e=>{t.push(this.prepareProductForServer(e))})),t}getSelectedProductsToSave(){let t=this.productSelectionModel.configuredProducts,e={};for(let n of t){let t=this.prepareProductForServer(n),i=n.record.Id,o=e[i];o||(o=[]),o.push(t),e[i]=o}let n=this.productSelectionModel.selectedProducts,i=Object.keys(n).sort((function(t,e){return n[t].index-n[e].index})),o=[];for(let t of i){let i=n[t],r=e[t];r?o=o.concat(r):i.invalid||o.push(i)}return o}checkForExternalConfiguration(){let t=this.productSelectionModel.configuredProducts[this.productIndex],e=this.prefix+"ExternallyConfigurable__c",n=this.lineEditorModel.settings.externalConfiguratorUrl,i=this.lineEditorModel.settings.thirdPartyConfigurator;!t.record[e]||t.visitedExternal&&!i||this.isClassic||null===n||(t.visitedExternal=!0,this.$.customActions.callBeforePopupOpen=this._loadDataBeforeExtConfiguratorOpens.bind(this,t),this.$.customActions.handlePopup(n,!0,i))}async _loadDataBeforeExtConfiguratorOpens(t){let e;g.I.isExternalConfiguratorNestedBundlesEnabled&&(this.spinner=!0,e=await y.SF.getDataForNestedReconfigure(t.features,this.prefix),t._transient_.featuresForNestedBundles=e,this.spinner=!1)}_handleExternalDynamicOptions(t){this.$.productLoad.featureOptionIds=t.featureOptionIds,this.$.productLoad.ignoreCache=void 0,this.$.productLoad.ignoreCache=!0,this._setRedirectConfiguration(t)}_delegateDynamicOptionsToFeatureLayout(t){if(!t)return;this.$.bundles.shadowRoot.querySelector("#features").handleDynamicOptionsAdded(t)}_redirectAfterOptionsHandled(){void 0!==this.redirectAfterOptionsAdded&&("save"===this.redirectAfterOptionsAdded?this.save():this.cancel())}_handleExternalDynamicOptionsResponse(t){this._delegateDynamicOptionsToFeatureLayout(t),this._redirectAfterOptionsHandled()}_loadExternalConfiguratorOptions(t){this.optionsToExtend=t.optionsToExtend,this.$.productLoad.externalConfiguratorRequest={optionsToExtend:t.optionsToExtend,dynamicFeatureOptionIds:t.featureOptionIds,quoteRecord:this.lineEditorModel.quote.record},this._setRedirectConfiguration(t)}_setRedirectConfiguration(t){t.redirect&&t.redirect.auto&&(t.redirect.save?this.redirectAfterOptionsAdded="save":this.redirectAfterOptionsAdded="cancel")}handleChangeEvent(t,e){if(t&&t.detail&&t.detail.bundleId&&t.detail.changed&&t.detail.path){let n=this.getProductById(t.detail.bundleId);this.handleApplyImmediatelyProductRules(n,t.detail,e)}if("On Quantity Change"===e&&(this.validationMessages=null,t.detail.invalidQuantity>0)){let e=this.i18n.l(this.lineEditorModel.customLabels.Maximum_Quantity_Error,[t.detail.validQuantity]);this.validationMessages=[{type:"warning",msg:e}]}}handleApplyImmediatelyProductRules(t,e,n){t&&this.isAppliedImmediately(t,e,n)&&(this.spinner=!0,this._applyImmediatelyProductRulesDebouncer=r.dx.debounce(this._applyImmediatelyProductRulesDebouncer,o.Wc.after(250),(()=>{this.$.productRulesInvoke.product=void 0,t=this.prepareProductForServer(t,!0),this.$.productRulesInvoke.upgradeAssetId=t.upgradedAssetId||null,this.$.productRulesInvoke.product=t})))}isAppliedImmediately(t,e,n){let i,o,r=this.prefix+"AppliedImmediately__c",s=this.prefix+"AppliedImmediatelyContext__c";return"On Apply Rules"===n||("On Attribute Change"===n?(i=t.configurationAttributes.find((t=>t.myId===e.Id)),i.appliedImmediately):(i=t.options.find((t=>t.record.Id===e.Id)),o=i.record[s],("Always"===o||o===n||void 0===o&&"On Selection"===n)&&i.record[r]))}handleConfigureOptionEvent(){this.addEventListener("configure-option-tapped",function(t){let e=this.prepareProductForNestedConfigure(t.detail),n=this.createQueryParams({oId:e.nestedOptionModel.getLastFromPath().optionalSKU,ignoreCache:!1},0);this.nav("#",n,["product","pc"],!1)}.bind(this))}prepareProductForNestedConfigure(t){let e;if(""===this.optionId){let n=this.productSelectionModel.currentIndex=this.getProductIndex(t.productId);e=this.productSelectionModel.configuredProducts[n]}else e=this.topLevelBundle;return e.nestedOptionModel=e.nestedOptionModel||new c,e.nestedOptionModel.addToPath(t.optionId,t.optionalSKU,t.addedIndex,t.tabIndex),e.nestedOptionModel.stagedOption={optionData:t.optionData,isDynamicOption:t.isDynamicOption},e}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(t){this.currentTarget=t.detail.value;let e=this.currentTarget.configuredProducts[0];if(this.ctx.params.oId&&0==e.options.length&&0==e.configurationAttributes.length&&!this.hasDynamicFeature(e)){let t=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,e=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),n=e?this.createQueryParams({oId:e,ignoreCache:!1},t):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},t);return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",n,["product","pc"],!1)}.bind(this),this.$.productAlerts.alerts=[this.i18n.l(this.lineEditorModel.customLabels.msg_has_no_options_config)]}{if(this.topLevelBundle.nestedOptionModel&&(this.topLevelBundle.nestedOptionModel.descendLevel?(e.configuration=this.topLevelBundle.nestedOptionModel.configure(e.configuration),e.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new u).reconfigure(e,e.configuration),this.ctx.params.tab&&(this.ctx.params.tab=0)):(e.configuration=this.topLevelBundle.nestedOptionModel.getCurrentConfiguration(),e.configuration.configuredOptions=this.topLevelBundle.nestedOptionModel.getConfiguredOptionsFromPath())),!e.rulesProcessed){new l.j(e.configuration,e).initProductRulesActions(!0)}this.addAttributeSetFromServerProductVO(e);let t=this.topLevelBundle.optionFieldSets.SearchFilters,n={};for(let e of t)n[e]=null;this.productIndex=0,this.$.bundles.searchValuesByFilter=n,this.$.bundles.searchFilters=t,this.$.bundles.set("configuredProducts",this.currentTarget.configuredProducts)}}.bind(this))}getProductById(t){return this.currentTarget.configuredProducts.find((e=>(e.productKey||e.record.Id)===t))}getProductIndex(t){if(""!==this.optionId)return;if(t)for(var e=0;e<this.productSelectionModel.configuredProducts.length;e++)if(this.productSelectionModel.configuredProducts[e].record.Id===t)return e;if(!this.ctx.params||!this.ctx.params.productIdx)return 0;let n=+this.ctx.params.productIdx;return Number.isNaN(n)||n<0||n>=this.currentTarget.configuredProducts.length?0:n}hasDynamicFeature(t){for(let e of t.features)if("Dynamic"===e.record[this.prefix+"OptionSelectionMethod__c"])return!0;return!1}addAttributeSetFromServerProductVO(t){t.attributeSet&&0===Object.keys(t.attributeSet.attributeItemIdsByOptionId).length||(t._transient_=t._transient_||{},t._transient_.attributeSet=t.attributeSet)}changeAllActions(t){t?this.shadowRoot.querySelector("#allActions").classList.add("actionsCollapsed"):this.shadowRoot.querySelector("#allActions").classList.remove("actionsCollapsed")}prepareProductForServer(t,e){let n,i={record:{}},o=this.topLevelBundle?this.topLevelBundle.nestedOptionModel:t.nestedOptionModel;i.upgradedAssetId=t.upgradedAssetId;try{n=this.getSelectedAndRemovedOptions(t,e)}catch(t){if(t.name===Mt)return void(this.validationMessages=[t.message]);throw t}return i.configuration=o.save(n,e),i.configuration.configurationData=t.configuration.configurationData,i.configuration.configuredProductId=i.record.Id=t.record.Id,i}getSelectedAndRemovedOptions(t,e){let n={selectedOptions:[],removedOptions:[]};for(let i of t.features)for(let o of i._transient_.optionConfigurations)if(o.selected){if(!e&&o.configurationRequired&&!0!==o.configured){const t=this.i18n.l(this.lineEditorModel.customLabels.msg_options_missing_config);throw new Pt(t)}if(o.isUpgrade){new p.k(this.prefix,t.options,o).setUpgradedAssetId()}let i=JSON.parse(JSON.stringify(o));this.buildOptionForLineEditor(i,n.selectedOptions)}else n.removedOptions.push(o);return n}buildOptionForLineEditor(t,e){t.optionConfigurations=t.optionConfigurations||[],t.optionId=t.record.Id,t.optionData=t.record,void 0===t.configurationData&&(t.configurationData={}),t.isDynamicOption=t.isDynamicOption||t.isUpgrade,delete t.record,e.push(t)}createQueryParams(t,e){let n=this.ctx.params;return n?(n.pId?t.pId=n.pId:t.pId=this.getAllProductIds(),n.redirectUrl&&(t.redirectUrl=n.redirectUrl),t.oId&&(t.qId=n.qId,"none"===t.oId&&delete t.oId),n.productIdx?t.productIdx=n.productIdx:null!=n.pId&&"string"!=typeof n.pId&&n.pId.length>1&&(t.productIdx=0),n.lineKey&&(t.lineKey=n.lineKey),null==t.ignoreCache&&n.ignoreCache&&(t.ignoreCache=!1),e||0==e?t.tab=e:n.tab&&(t.tab=n.tab),n.groupKey&&(t.groupKey=n.groupKey),n.aId&&(t.aId=n.aId),t):t}getAllProductIds(){let t=[];for(let e of this.currentTarget.configuredProducts)t.push(e.record.Id);return t.join()}createPathParams(t){return""!==this.optionId?["product","pc"]:"ProductLookup"===t?["product","lookup"]:"RecommendationLookup"===t?["recommend","lookup"]:["quote","le"]}toggle(){this.viewport.isMobile()&&this.hasMultipleBundles&&this.$.bundles.toggle()}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}_setIsMobileAndHasMultipleBundles(t,e){return t.isMobile()&&e}getRequiredConfigurationAttributes(){if(this.requiredConfigAttributes)return this.requiredConfigAttributes;let t=this.currentTarget.configuredProducts,e={};for(let n=0,i=t.length;n<i;n++){let i=t[n].configurationAttributes,o={};for(let t=0,e=i.length;t<e;t++){let e=i[t];!0===e.required&&-1===Object.keys(o).indexOf(e.targetFieldName)&&(o[e.targetFieldName]=e)}e[n]=o}return this.requiredConfigAttributes=e,this.requiredConfigAttributes}configurationAttributesValid(){let t=this.getRequiredConfigurationAttributes(),e={},n=this.currentTarget.configuredProducts;for(let i=0,o=n.length;i<o;i++){let o=n[i].configuration.configurationData,r=t[i];for(let t in r)this.requiredConfigurationAttributeValid(o[t])||(e[t]=!0)}return this.requiredAttributeMissingValue=e,0===Object.keys(e).length}getConfigurationAttributeMissingFeaturesMessage(){let t={};void 0===this.requiredAttributeMissingValue&&this.getRequiredConfigurationAttributes();for(let e in this.requiredConfigAttributes)for(let n in this.requiredConfigAttributes[e]){if(!0!==this.requiredAttributeMissingValue[n])continue;let i=this.getFeatureNameFromId(this.requiredConfigAttributes[e][n].featureId);void 0!==i&&(t[i]=void 0)}let e=Object.keys(t);return 0===e.length?"":" in the following features: "+e}getFeatureNameFromId(t){if(void 0!==t)for(let e of this.currentTarget.configuredProducts)for(let n of e.features)if(n.record.Id===t)return n.record.Name}requiredConfigurationAttributeValid(t){return!this.isNil(t)}search(){this.$.bundles.toggleSearch()}setOptionConfigurationDetails(t){if(this.topLevelBundle=t.currentIndex?t.configuredProducts[t.currentIndex]:t.configuredProducts[0],null==this.topLevelBundle.nestedOptionModel)return delete this.ctx.params.oId,this.nav("#",this.ctx.params,["product","pc"],!1);let e=this.topLevelBundle.nestedOptionModel.getExistingConfiguration();this.topLevelBundle.nestedOptionModel&&e&&(e.configured||e.changedByProductActions||e.optionConfigurations.length)&&(this.$.optionConfigure.featureOptionalSKUs=this.buildDynamicConfigurations(e),this.$.optionConfigure.configuration=e),this.topLevelBundle.nestedOptionModel?this.$.optionConfigure.ignoreCache="ol"!==this.ctx.params.origin&&this.topLevelBundle.nestedOptionModel.descendLevel:this.$.optionConfigure.ignoreCache=!0,this.$.optionConfigure.product=void 0,this.$.optionConfigure.product=this.topLevelBundle}buildDynamicConfigurations(t){let e=[];for(let n of t.optionConfigurations){if(!n.isDynamicOption)continue;let t=n.optionData;t.Id&&t[this.prefix+"Feature__c"]&&t[this.prefix+"OptionalSKU__c"]&&e.push(t[this.prefix+"Feature__c"]+":"+t[this.prefix+"OptionalSKU__c"]+":"+t.Id)}return e}preLoadObjects(){this.configuratorObjects=[this.prefix+"DiscountSchedule__c",this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getLineKey(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}getGroupKey(){return this.ctx.params?parseInt(this.ctx.params.groupKey||-1):-1}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}get prefix(){return g.I.org.prefix?g.I.org.prefix+"__":""}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}isNil(t){return null==t||""===t}loadedModelIsReconfigure(t){return!t.quote&&1==t.configuredProducts.length}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,f.Z)(this.errors),this.spinner=!1)}isReconfigure(t){return!t.selectedProducts}static get template(){return(0,i.dy)(It||(It=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-describe objects="[[configuratorObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\t\t<div device id="messages">\n\t\t\t<sb-toast type="error" messages="[[validationMessages]]"/>\n\t\t</div>\n\t\t<sb-product-alert id="productAlerts"></sb-product-alert>\n\n\t\t<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"\n\t\t\t\t\t\t\tgroup-key="[[groupKey]]" ignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>\n\t\t<sb-pc-option-save id="optionSave" group-key="[[groupKey]]" error="{{errors}}"></sb-pc-option-save>\n\t\t<sb-product-rules-invoke id="productRulesInvoke" error="{{errors}}" background="true"></sb-product-rules-invoke>\n\t\t<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>\n\n\t\t<sb-page-header device>\n\t\t\t<i id="headerIcon" class="icon sf-icon-custom_apps resize" slot="icon"></i>\n\t\t\t<h1 id="headerTitle" slot="h1">[[headerTitle]]</h1>\n\t\t\t<h2 slot="h2">[[headerSubtitle]]</h2>\n\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<template is="dom-if" if="[[isMobileAndHasMultipleBundles]]">\n\t\t\t\t\t<paper-button noink on-click="toggle" class="icon sf-icon-rows">\n\t\t\t\t\t\t<span class="badge icon-badge-upper-left">[[productSelectionModel.configuredProducts.length]]</span>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t\t<paper-button noink on-click="search" id="fb" class="sf-icon-filterlist"></paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\n\t\t\t<div class="actions" id="allActions" slot="actions">\n\t\t\t\t<sb-custom-actions id="customActions"\n\t\t\t\t\t\t\t\t\tclass="end"\n\t\t\t\t\t\t\t\t\tproducts="[[productSelectionModel.configuredProducts]]"\n\t\t\t\t\t\t\t\t\tcustom-actions="[[lineEditorModel.customActions]]"\n\t\t\t\t\t\t\t\t\tproduct-index="[[productIndex]]"\n\t\t\t\t\t\t\t\t\tis-classic="[[isClassic]]"\n\t\t\t\t\t\t\t\t\tquote="{{lineEditorModel.quote}}"\n\t\t\t\t\t\t\t\t\tpopup-response="{{popupResponse}}"\n\t\t\t\t></sb-custom-actions>\n\t\t\t\t<paper-button noink id="pcCancel" on-click="cancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t<paper-button class="primary" noink id="pcSave" on-click="save"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<sb-product-bundles-layout id="bundles"\n\t\t\t\t\t\t\t\t\tproduct-index="[[productIndex]]"\n\t\t\t\t\t\t\t\t\tis-mobile="[[ctx.params.m]]"\n\t\t\t\t\t\t\t\t\tconfigured-products="[[productSelectionModel.configuredProducts]]"\n\t\t\t\t\t\t\t\t\tis-classic="[[isClassic]]"\n\t\t\t\t\t\t\t\t\tis-open="[[ctx.params.open]]"\n\t\t\t\t\t\t\t\t\tselected-tab-index="[[ctx.params.tab]]"\n\t\t\t\t\t\t\t\t\tq-id="[[ctx.params.qId]]"\n\t\t\t\t\t\t\t\t\tcurrency-iso-code="[[isoCode]]"\n\t\t\t\t\t\t\t\t\tpopup-response="[[popupResponse]]"\n\t\t\t\t\t\t\t\t\thas-multiple-bundles="[[hasMultipleBundles]]"\n\t\t\t\t\t\t\t\t\tdevice\n\t\t></sb-product-bundles-layout>\n\t\t'])),_)}}class Pt extends Error{constructor(t){super(),this.name=Mt,this.message=t}}customElements.define(Bt.is,Bt)},6082:(t,e,n)=>{"use strict";var i,o=n(4155),r=n(1305);n(8011);class s extends r.H3{static get is(){return"sb-pc-option-configure"}static get properties(){return{quote:Object,product:Object,optionId:String,featureOptionalSKUs:{type:Array,value:[]},ignoreCache:{type:Boolean,value:!1},configuration:Object,error:{type:Array,notify:!0},optionConfiguratorResponse:{type:String,notify:!0}}}static get observers(){return["_loadObserver(quote, product, optionId, ignoreCache)"]}ready(){super.ready();let t=this.$.service;t.addEventListener("response-changed",function(t){this.optionConfiguratorResponse=t.detail.value}.bind(this)),t.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this))}_loadObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.load(t,e,n,i)}load(){this.$.service.uid=this.optionId,this.$.service.ignoreCache=this.ignoreCache;let t=this.quote.lineItems;this.quote.lineItems=[];let e=(new o.J).addQuote("quote",this.quote).add("optionId",this.optionId).add("featureOptionalSKUs",this.featureOptionalSKUs).addObject("configuration",this.configuration).addObject("parentProduct",this.serverProduct).addObject("stagedOption",this.stagedOption);this.quote.lineItems=t,this.$.service.context=e.build()}get serverProduct(){let t={};return t.configurationAttributes=this.product.configurationAttributes,t.inheritedConfigurationAttributes=this.product.inheritedConfigurationAttributes,void 0===this.product.configuration||(t.configuration={configurationData:this.product.configuration.configurationData,inheritedConfigurationData:this.product.configuration.inheritedConfigurationData}),t}get stagedOption(){return null==this.product.nestedOptionModel||null==this.product.nestedOptionModel.stagedOption||this.product.nestedOptionModel.stagedOption.isDynamicOption?null:this.product.nestedOptionModel.stagedOption.optionData}static get template(){return(0,r.dy)(i||(t=['\n\t\t<sb-service id="service" loader="ProductConfigurationServiceProvider.OptionConfigurator" cache="nestedConfig"></sb-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(s.is,s)},2516:(t,e,n)=>{"use strict";var i=n(4155),o=n(922),r=n(267);class s{constructor(t,e,n){this.clientQuote=t,this.serverQuote=e,this.requiredKeys=n}reconcileServerQuoteWithUIQuote(){let t,e=new Map,n=[],i=this.serverQuote.lineItems.length;for(let o=0;o<i;o++){let i=this.serverQuote.lineItems[o];this.requiredKeys&&this.requiredKeys.has(i.key)?(e.set(i.key,[i]),t=i.key):t&&i.parentItemKey?e.get(t).push(i):(t=null,n.push(i))}let o=[];return this.clientQuote.lineItems.forEach((t=>{this.requiredKeys&&!this.requiredKeys.has(t.key)?o.push(t):e.has(t.key)&&(o=o.concat(e.get(t.key)))})),o=o.concat(n),this.serverQuote.lineItems=o,this.serverQuote}}var a,l=n(8765),d=n(1305);n(2337);class c extends d.H3{static get is(){return"sb-pc-option-save"}static get properties(){return{quote:Object,products:Array,configuration:Object,upgradeAssetId:String,groupKey:{type:Number,value:-1},error:{type:Array,notify:!0},psmResponse:{type:String,notify:!0},background:{type:Boolean,value:!0},stripLinesThreshold:Number,stripLinesMessage:String,cache:String}}static get observers(){return["_topLevelSaveObserver(quote, products)","_nestedConfigurationSaveObserver(quote, configuration)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){let e=t.detail.value.quote;if(e&&e.partialVO){let n=new s(this.quote,e,this.requiredKeys);t.detail.value.quote=n.reconcileServerQuoteWithUIQuote()}this.psmResponse=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}.bind(this))}setSpinnerMessage(){(0,l.gz)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_topLevelSaveObserver(t,e){if(void 0!==t&&void 0!==e)return this.topLevelSave(t,e)}topLevelSave(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(t){let e=t.detail.value.validationMessages;console.log(e)};let t=new i.J;if(t.addObject("products",this.products),null!=this.groupKey&&this.groupKey>=0&&t.add("groupKey",this.groupKey),null==this.stripLinesThreshold||this.quote.lineItems.length<=this.stripLinesThreshold)t.addQuote("quote",this.quote),this.$.service.model=t.build();else{let e=new r.d(this.quote,this.products,this.groupkey,this.stripLinesThreshold,this.stripLinesMessage);this.quote=e.reduceQuote(),this.requiredKeys=e.getRequiredKeys(),t.addQuote("quote",this.quote),this.$.service.model=t.build(),this.quote=e.revertQuote()}}_nestedConfigurationSaveObserver(t,e){if(void 0!==t&&void 0!==e)return this.nestedConfigurationSave(t,e)}nestedConfigurationSave(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(t){let e=t.detail.value.validationMessages;console.log(e)},this.quote.priorBundledQuantityByLineKey=new o.z(this.quote).mapPriorBundledQuantityByLineKey();let t=this.quote.lineItems;this.quote.lineItems=null;let e=(new i.J).addQuote("quote",this.quote).addObject("configuration",this.configuration);this.quote.lineItems=t,delete this.quote.priorBundledQuantityByLineKey,this.$.service.model=e.build()}static get template(){return(0,d.dy)(a||(t=['\n\t        <sb-async-service cache="[[cache]]" id="service" saver="ProductConfigurationServiceProvider.OptionSaver" background="[[background]]"></sb-async-service>\n\t    '],e||(e=t.slice(0)),a=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(c.is,c)},7358:(t,e,n)=>{"use strict";var i,o=n(4155),r=n(8765),s=n(1305),a=n(9843);n(2337);class l extends s.H3{static get is(){return"sb-pc-product-load"}static get properties(){return{productIds:{type:String,value:""},lineKey:{type:Number,value:-1},featureOptionIds:{type:Array,value:null},groupKey:{type:Number,value:-1},fieldSet:{type:String,value:null},quote:Object,product:{type:Object,notify:!0},error:{type:Array,notify:!0},productLoadModel:{type:Object,notify:!0},ignoreCache:{type:Boolean,value:!1},externalConfiguratorRequest:{type:Object},externalConfiguratorResponse:{type:Object,notify:!0}}}static get observers(){return["_loadObserver(quote, productIds, lineKey, ignoreCache)","_loadExternalConfiguratorOptions(externalConfiguratorRequest)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(t){this.featureOptionIds=null,this.productLoadModel=t.detail&&t.detail.value?t.detail.value:null}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message]),console.log(t.detail)}.bind(this)),this.$.externalConfiguratorService.addEventListener("response-changed",(t=>{this.externalConfiguratorResponse=t.detail.value})),this.$.externalConfiguratorService.addEventListener("error-changed",(t=>{t.detail.value&&(this.error=[t.detail.value.message]),console.log(t.detail)}))}setSpinnerMessage(){(0,r.gz)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_loadObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.load(t,e,n,i)}load(){if(null!=this.lineKey&&this.lineKey>=0&&this.lineKey>this.quote.nextKey)return this.productLoadModel={returnToQuote:"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it."};var t=[];this.productIds.split(",").forEach((function(e){t.push({record:{Id:e}})})),this.$.service.context=void 0,this.$.service.uid=this.featureOptionIds?"dynamic":this.quote.record.Id.substring(0,15),this.$.service.ignoreCache=this.ignoreCache;let e=new o.J;if(null!=this.featureOptionIds)e.add("featureOptionIds",this.featureOptionIds).add("fieldSet",this.fieldSet),e.addObject("quoteRecord",this.quote.record);else if(null!=this.lineKey&&this.lineKey>=0){e.add("lineKey",this.lineKey);let t=this._getLinesRelevantToParentKey(this.lineKey),n=this.quote.lineItems;this.quote.lineItems=t,e.addObject("quote",this.quote,!1,!1,!1),this.quote.lineItems=n}else{e.addObject("products",t);let n=this.quote.lineItems;this.quote.lineItems=[],e.addQuote("quote",this.quote),this.quote.lineItems=n}null!=this.groupKey&&this.groupKey>=0&&e.add("groupKey",this.groupKey),this.$.service.context=e.build()}_getLinesRelevantToParentKey(t){let e="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),n=new Set,i=t=>{n.add(t),this.quote.lineItems.forEach((o=>{o.parentItemKey===t&&(n.add(o.key),o.record[e+"Bundle__c"]&&i(o.key),null!=o.sourceLineKey&&i(o.sourceLineKey))}))};i(t);let o=[];return this.quote.lineItems.forEach((t=>{n.has(t.key)&&o.push(t)})),o}_loadExternalConfiguratorOptions(t){const e=a.SF.buildExternalConfiguratorOptionRequest(t);this.$.externalConfiguratorService.ignoreCache=!0,this.$.externalConfiguratorService.uid=t.quoteRecord.Id,this.$.externalConfiguratorService.context=e}static get template(){return(0,s.dy)(i||(t=['\n\t\t<sb-async-service id="service" loader="ProductConfigurationServiceProvider.ProductLoader" cache="searchModel"></sb-async-service>\n\t\t<sb-service id="externalConfiguratorService" loader="ProductConfigurationServiceProvider.ExternalConfiguratorOptionLoader"></sb-service>\n\t\t'],e||(e=t.slice(0)),i=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}customElements.define(l.is,l)},7830:(t,e,n)=>{"use strict";n.d(e,{e:()=>a});var i=n(1929),o=n(2833),r=n(4316),s=n(4166);class a{constructor(t,e,n,i,o){this.init(e,t,n,i,o)}init(t,e,n,i,o){this.product=t||this.product,this.qId=e||this.qId,this.prefix=n?n+"__":this.prefix||"",this.currencyIsoCode=i||this.currencyIsoCode,this.featureLookupId=o||this.featureLookupId,this.optionsById={},this.optionIndexById={},this.optionsByFeatureId={},this.featuresWithOptionsOrConfigAttr=[],this.featureIdsWithOptionsOrConfigAttr={},this.featureIdsWithSelectionMethodAdd={},this.featureIdsWithSelectionMethodClick={},this.featureIdsWIthSelectionMethodDynamic={},this.configAttributesByFeatureId={},this.configurationAttributeValueMap={},this.configurationAttributeModelMap={},this.configurationAttributeTargetFieldMap={},this.configurationAttributeApplyToOptionMap={},this.attributeValueMap={},this.productRulesActions={},this.optionDataByOptionIds={},this.featureIdByOptionId={},this.productOptionConfigurationsMap={},this.initializeProduct(),this.product.initialized=!0}getFeature(t){return void 0!==t&&"null"!==t||(t=null),this.product.features.find((e=>e.record.Id===t))}getOption(t){return this.optionsById[t]}getOptionsByFeatureId(t){if(null!==t&&"null"!==t||(t="Other"),this.isOptionLookupViewModel()){var e=[];return this.optionsByFeatureId[t].forEach((t=>{let n=JSON.parse(JSON.stringify(t));n.selected=!1,e.push(n)})),e}let n=this.getFeature(t);for(let t of n._transient_.optionConfigurations)this.isClickFeature(n)||(t.selected=!0);return n._transient_.optionConfigurations}getFeatureByOptionId(t){const e=this.featureIdByOptionId[t];return this.getFeature(e)}maxOptionsMet(t){let e=this.prefix+"MaxOptionCount__c";return t._transient_.optionConfigurations.length>=t.record[e]}setOptionSelected(t,e){let n=this.optionsById[t];this.featureIdsWithSelectionMethodClick[this.featureIdByOptionId[t]]&&!n.record[this.prefix+"Required__c"]&&(n.selected=e)}setConfigurationAttributesToOptions(t){for(let e in this.configurationAttributeApplyToOptionMap)t.record[e]=this.product.configuration.configurationData[e]}getOptionLayout(){let t=this.prefix+"OptionLayout__c";return this.product.record[t]||"Sections"}getTabFeaturesMap(){let t=this.product.featureCategoryLabels,e=this.featuresWithOptionsOrConfigAttr.filter((t=>void 0===t.record[this.prefix+"Category__c"])),n={};return this.featuresWithOptionsOrConfigAttr.length===e.length?this.featuresWithOptionsOrConfigAttr.forEach((t=>{n[t.record.Name]=[t]})):(this.product.featureCategories.forEach((e=>{this.featuresWithOptionsOrConfigAttr.forEach((i=>{let o=i.record[this.prefix+"Category__c"];void 0!==o&&o===t[e]&&(void 0!==n[e]?n[e].push(i):n[e]=[i])}))})),0!==e.length&&(n.Other=n.Other||[],n.Other=n.Other.concat(e))),n}checkAtLeastOneFeatureHasCategory(){return!!this.featuresWithOptionsOrConfigAttr.find((t=>null!=t.record[this.prefix+"Category__c"]&&"Other"!==t.record[this.prefix+"Category__c"]))}isAppliedImmediately(t){let e=this.prefix+"AppliedImmediately__c";return this.getOption(t).record[e]}initializeProduct(){this.localizer=new o.E(this.prefix),this.product=this.localizer.localizeProduct(this.product),this.product._transient_=this.product._transient_||{},this.product.configuration.configurationEntered=!0;let t=this.prefix+"Feature__c",e=[];this.featureLookupId||(this.initConfigAttributesById(),this.initConfigurationAttributeMap());for(let t of this.product.options)this.initOptionInfo(t,e);this.buildOptionConfigurationMap();for(let t of this.product.features)t.optionSelectionMethod=this.getOptionSelectionMethod(t),t._transient_||(t._transient_={}),this.initFeatureOptionConfigurations(t),this.addFeaturesWithOptionsOrConfigAttr(t);for(let n of e){let e,i=this.getFeature(n.record[t]||"Other");"radio"===n.selectionType&&n.hidden&&i.visibleSelected&&(n.selected=!1),this.isAddFeature(i)&&(e=i._transient_.optionConfigurations.find((function(t){return t.record.Id===n.record.Id})),e?(e.added=!0,void 0!==n.configured&&(e.configured=n.configured),this.setOptionDisabledData(e)):i._transient_.optionConfigurations.push(n),n.added=!0),this.setOptionDisabledData(n)}}initOptionInfo(t,e){let n=this.prefix+"Feature__c",i=this.prefix+"Quantity__c",o=this.prefix+"MinQuantity__c",r=this.prefix+"Selected__c",s=this.prefix+"Required__c",a=this.prefix+"UnitPrice__c",l=this.prefix+"ProductName__c",d=t.record[n]||"Other";this.setConfigurationAttributesToOptions(t),t.valueChanged=!1,t.record[a]=null==t.record[a]?void 0:t.record[a],t.hidden=t.hiddenByRule&&t.hidden||void 0===t.record[a],t.removed=t.removed||!1===t.selected&&t.record[r],t.selected=void 0===t.selected?t.record[r]&&!t.removed||t.record[s]:t.selected,t.name=t.record[l],t._transient_||(t._transient_={}),t.selected?null!=e&&e.push(t):this.setOptionDisabledData(t),!0===t.isUpgrade&&(t.hidden=!0),t.record[n]||this.product.mappedFeaturelessOptions||(this.product.features.push(this.createOtherOptionsFeature(this.product.virtualFeatureTitle)),this.product.mappedFeaturelessOptions=!0),void 0===t.record[i]&&(t.recordHasQuantity=!1,t.record[i]=void 0===t.record[o]?1:t.record[o]),t.record[s]&&(t.required=!0),this.product._transient_&&this.product._transient_.attributeSet&&this.product._transient_.attributeSet.attributeItemIdsByOptionId[t.record.Id]&&(this.product._transient_.hasAttributeItems=!0,this.addAttributeItems(t,this.product._transient_.attributeSet)),this.optionsById[t.record.Id]=t,this.featureIdByOptionId[t.record.Id]=d,this.addToOptionByFeatureId(d,t)}createOtherOptionsFeature(t){return{addOptionButtonLabel:"Add Option",addOptionDialogTitle:"Add Option",instructionsText:null,record:{Id:"Other",Name:t},searchFilters:null}}addAttributeItems(t,e){t._transient_.attributeItems={};for(let n of e.attributeItemIdsByOptionId[t.record.Id]){let i=e.attributeItemById[n].targetFieldName;t._transient_.attributeItems[i]=t.record[i]}t._transient_.optionDrawerExpanded=!1,t._transient_.drawerIconClass="sf-icon-chevronright"}getOptionSelectionMethod(t){return null!=t.record[this.prefix+"OptionSelectionMethod__c"]?t.record[this.prefix+"OptionSelectionMethod__c"]:null!=this.product.record[this.prefix+"OptionSelectionMethod__c"]?this.product.record[this.prefix+"OptionSelectionMethod__c"]:"Click"}setOptionDisabledData(t,e){if(t.disabledData=t.disabledData||{disabled:!!t.record[this.prefix+"Required__c"]&&!t.added||!!t.record[this.prefix+"System__c"],constrained:!1},e){this.optionsById[t.record.Id].disabledData={disabled:!1,constrained:!1},t.disabledData.disabled=!1}}initFeatureOptionConfigurations(t){if(null==t._transient_.optionConfigurations&&(t._transient_.optionConfigurations=[]),null==this.optionsByFeatureId[t.record.Id])return;let e=1===t.record[this.prefix+"MaxOptionCount__c"],n=0===t._transient_.optionConfigurations.length,i=t.record.Id||"Other",o=[];for(let r of this.optionsByFeatureId[i]){r.index=r.index||0,t.visibleSelected=t.visibleSelected||!r.hidden&&r.selected,r.selectionType=e?"radio":"checkbox",r.record[this.prefix+"ConfiguredSKU__c"]=this.product.record.Id;const i=r.record[this.prefix+"UnitPrice__c"];void 0===r.listPrice&&""!==i&&null!=i&&(r.listPrice=i),this.isDynamicFeature(t)&&!t._transient_.changedExternally&&(r.selected=!0,r.added=!0),this.featureLookupId?r._transient_.rowActions=[]:((null==r._transient_.rowActions||0===r._transient_.rowActions.length||t._transient_.changedExternally)&&this.initOptionActions(r,!this.isClickFeature(t)),this.initReconfiguredOption(r,t,n,o))}o.length>0&&this.sortAndAddOptionConfigs(t,o)}buildOptionConfigurationMap(){if(this.product.features[0])if(null==this.product.features[0]._transient_||null==this.product.features[0]._transient_.optionConfigurations)for(let t of this.product.configuration.optionConfigurations){let e=t.optionId;this.productOptionConfigurationsMap[e]=this.productOptionConfigurationsMap[e]||[],this.productOptionConfigurationsMap[e].push(t)}else this._syncOptionConfigurations()}initOptionActions(t,e){let n=[];e&&n.push(this.createOptionAction("sf-icon-delete","Delete","left",!0,!1,!1,"delete-tapped")),this.addOptionConfigurationAction(t,n),t._transient_.rowActions=n}addOptionConfigurationAction(t,e){let n=t.configurable?t.configurationRequired:void 0;e.push(this.createOptionAction("sf-icon-custom_apps","Configure","left",!1,!1,!1,"configure-tapped",n))}createOptionAction(t,e,n,i,o,r,a,l){return{icon:t,title:e,position:n,mobileDisabled:i,hidden:o,invisible:r,configurationRequired:l,onTapFunction:function(){this.dispatchEvent((0,s.FU)(a,{Id:this.data.record.Id,index:this.index}))}}}addToOptionByFeatureId(t,e){this.optionsByFeatureId[t]=this.optionsByFeatureId[t]||[],this.optionsByFeatureId[t].push(e)}initConfigAttributesById(){let t=this.product.configurationAttributes,e=t.length;for(let n=0;n<e;n++)null===t[n].featureId?this.configAttributesByFeatureId.featureless?this.configAttributesByFeatureId.featureless.push(t[n]):this.configAttributesByFeatureId.featureless=[t[n]]:this.configAttributesByFeatureId[t[n].featureId]?this.configAttributesByFeatureId[t[n].featureId].push(t[n]):this.configAttributesByFeatureId[t[n].featureId]=[t[n]]}initConfigurationAttributeMap(){let t=this.product.configurationAttributes,e=t.length,n=this.product.configuration.configurationData;for(let i=0;i<e;i++){let e=t[i].targetFieldName;this.attributeValueMap[t[i].targetFieldName]="";let o=new r.Z(e,n).getRelationshipName(),s=n[e];this.configurationAttributeValueMap[t[i].myId]=void 0!==s?s:null;let a=this.product.productKey||this.product.record.Id;this.configurationAttributeModelMap[t[i].myId]={targetFieldName:t[i].targetFieldName,value:s,required:t[i].required,hidden:t[i].hidden,myId:t[i].myId,bundleId:a,autoSelect:t[i].autoSelect,shownValues:t[i].shownValues,hiddenValues:t[i].hiddenValues,referencedFieldValue:o};let l=this.configurationAttributeTargetFieldMap[t[i].targetFieldName]||[];l.push(t[i].myId),this.configurationAttributeTargetFieldMap[t[i].targetFieldName]=l,!0===t[i].applyToProductOptions&&void 0===this.configurationAttributeApplyToOptionMap[t[i].targetFieldName]&&(this.configurationAttributeApplyToOptionMap[t[i].targetFieldName]=!0)}}initReconfiguredOption(t,e,n,o){const r=this.product.record[this.prefix+"ExternallyConfigurable__c"];i.I.isExternalConfiguratorNestedBundlesEnabled&&r&&(t.configured=!0);const s=this.productOptionConfigurationsMap[t.record.Id];if(!s||t.removed)return n&&this.isClickFeature(e)?e._transient_.optionConfigurations.push(t):void 0;if(this.isAddFeature(e))return void this.cloneOptionAndSyncConfiguration(t,o);let a=s[0];this.syncOptionToConfigData(t),this.setPropertiesWithConfig(t,a),n&&(this.isClickFeature(e)?e._transient_.optionConfigurations.push(t):o.push(t))}cloneOptionAndSyncConfiguration(t,e){let n=this.productOptionConfigurationsMap[t.record.Id],i={};for(let o=0;o<n.length;o++){let r=n[o],s=JSON.parse(JSON.stringify(t));s._transient_.rowActions=t._transient_.rowActions,!0===i[s.record.Id]?s.required=!1:i[s.record.Id]=!0,s.index=o,this.syncOptionToConfigData(s),this.setPropertiesWithConfig(s,r),e.push(s)}}syncOptionToConfigData(t){let e=this.getProductOptionConfigurationData(t.record.Id,t.index);if(void 0!==e)for(let n in e)t.hasOwnProperty(n)||(t[n]=e[n])}getProductOptionConfigurationData(t,e){return void 0===this.productOptionConfigurationsMap[t][e]&&this.buildOptionConfigurationMap(),this.productOptionConfigurationsMap[t][e]}setPropertiesWithConfig(t,e){const n=t.untranslatedRecord&&Object.keys(t.untranslatedRecord).length>0;for(const i in e.optionData)if("attributes"!==i){if(n&&void 0!==t.untranslatedRecord[i]){if(t.untranslatedRecord[i]===e.optionData[i])continue}t.record[i]=e.optionData[i]}t.dynamicOptionKey=e.dynamicOptionKey,t.selected=!1!==t.selected}getHasUpgradeOptions(t){if("Other"===t.record.Id){for(let e=0;e<t._transient_.optionConfigurations.length;e++)if(!0===t._transient_.optionConfigurations[e].isUpgrade)return!0;return!1}return t.containsUpgrades}sortAndAddOptionConfigs(t,e){let n;for(let i of e)i&&(this.isAddFeature(t)&&(i.added=!0,n=!!t._transient_.optionConfigurations.filter((t=>t.record.Id===i.record.Id))),this.setOptionDisabledData(i,n),t._transient_.optionConfigurations.push(i))}createConstraintsHoverMessages(t){this.optionConstraintsByConstrained=t;for(let t of this.product.options)this.createConstraintHoverMessage(t)}createConstraintHoverMessage(t){if(!this.optionConstraintsByConstrained[t.record.Id])return;let e=this.optionConstraintsByConstrained[t.record.Id],n={Requires:[],Excludes:[]},i=[];if(e.ungroupedConstraints.forEach(function(t){let e="Dependency"===t.type?"Requires":"Excludes",i="Dependency"===t.type?"or ":"and ",o=n[e].length?i:e+": ",r=this.optionsById[t.option].record[this.prefix+"ProductName__c"];n[e].push(o+r)}.bind(this)),Object.keys(e.groups).forEach(function(t,i){let o=e.groups[t],r="Dependency"===o.type?"Requires":"Excludes",s=n[r].length?0==i&&e.ungroupedConstraints[0]?"and ":"or ":r+": ",a="";o.options.forEach(function(t,e){let n=this.optionsById[t].record[this.prefix+"ProductName__c"];s=0===e?s:" and ",a+=s+n}.bind(this)),n[r].push(a)}.bind(this)),n.Requires.length)for(let t of n.Requires)i.push(t);if(n.Excludes.length)for(let t of n.Excludes)i.push(t);t.constraintMessage=i}optionSystemOrRequired(t){let e=this.optionsById[t];return e.record[this.prefix+"System__c"]||e.record[this.prefix+"Required__c"]}isOptionLookupViewModel(){return!!this.featureLookupId}isClickFeature(t){return"Click"===t.optionSelectionMethod}isAddFeature(t){return"Add"===t.optionSelectionMethod}isDynamicFeature(t){return"Dynamic"===t.optionSelectionMethod}addFeaturesWithOptionsOrConfigAttr(t){(this.optionsByFeatureId[t.record.Id]||this.configAttributesByFeatureId[t.record.Id]||this.isDynamicFeature(t))&&(this.featuresWithOptionsOrConfigAttr.push(t),this.featureIdsWithOptionsOrConfigAttr[t.record.Id]=t,this.isClickFeature(t)?this.featureIdsWithSelectionMethodClick[t.record.Id]=!0:this.isAddFeature(t)?this.featureIdsWithSelectionMethodAdd[t.record.Id]=!0:this.isDynamicFeature(t)&&(this.featureIdsWIthSelectionMethodDynamic[t.record.Id]=!0))}_syncOptionConfigurations(){const t=this._getPreviouslyConfiguredBundle();if(null===t)return;const e=t.optionData.Id||t.optionId,n=this.getFeatureByOptionId(e);for(let i of n._transient_.optionConfigurations)if(i.record.Id===e&&i.index===t.index)return i.optionConfigurations=t.optionConfigurations,i.configurationData=t.configurationData,void delete t.tag}_getPreviouslyConfiguredBundle(){for(const t of this.product.configuration.optionConfigurations)if("saved"===t.tag)return t;return null}}},2833:(t,e,n)=>{"use strict";n.d(e,{E:()=>i});class i{constructor(t){this.prefix=t}localizeSearchModel(t){let e=t.localizationByFieldByProductId;if(!e)return t;for(let n of t.results){let t=e[n.record.Product2Id];if(t)for(let e in t){let i=this.getLocalizedValue(t[e].record);i&&(n.record.Product2[e]=i)}}return t}localizeProduct(t){if(!t.localizationByFieldByProductId)return t;let e=t.localizationByFieldByProductId[t.record.Id];if(e&&e.Name){let n=this.getLocalizedValue(e.Name.record);n&&(t.untranslatedRecord||(t.untranslatedRecord={Name:JSON.parse(JSON.stringify(t.record.Name))}),t.record.Name=n)}for(let e of t.options){let t={};for(let n in e.localizationByFieldName){let i=null;if(-1===n.indexOf("__c"))continue;let o=e.localizationByFieldName[n];o&&(i=this.getLocalizedValue(o.record)),"Description__c"===n&&(n=this.prefix+"ProductDescription__c"),n=this._appendPrefix(this.prefix,n,o.record[this.prefix+"APIName__c"]),t[n]=e.record[n],i&&e.record[n]?e.record[n]=JSON.parse(JSON.stringify(i)):i&&e.record[this.prefix+n]&&(t[this.prefix+n]=e.record[this.prefix+n],e.record[this.prefix+n]=JSON.parse(JSON.stringify(i)))}e.untranslatedRecord||(e.untranslatedRecord=t)}for(let e of t.features){e.untranslatedRecord||(e.untranslatedRecord={Name:JSON.parse(JSON.stringify(e.record.Name))});let t=e.localizationByFieldName;if(t&&t.Name){let n=t.Name,i=this.getLocalizedValue(n.record);i&&(e.record.Name=i)}}return t}_appendPrefix(t,e,n){return-1===n.indexOf(t)?e:e.replace("__c","")!==n.replace("__c","")||e===n.replace(t,"")?t+e:e}getLocalizedValue(t){return t[this.prefix+"Text__c"]||t[this.prefix+"TextArea__c"]||t[this.prefix+"LongTextArea__c"]||t[this.prefix+"RichTextArea__c"]}}},2567:(t,e,n)=>{"use strict";n.d(e,{C:()=>i});class i{constructor(t,e){this.product=t,this.prefix=e,this.messages={},this.setOptionConstraints()}setOptionConstraints(){if(!this.product.constraints)return null;let t=this.prefix+"Type__c",e=this.prefix+"ConstrainedOption__c",n=this.prefix+"ConstrainingOption__c",i=this.prefix+"OptionConstraintGroup__c",o={byConstraining:{},byConstrained:{},constrainingByConstrained:{}};this.product.constraints.forEach((r=>{let s=r.record[t],a=r.record[e],l=r.record[n],d=r.record[i]?r.record[i].split(", "):null;this.setByConstraining(o,s,a,l),this.setByConstrained(o,s,a,l,d),"Exclusion"!==s||d||(this.setByConstraining(o,s,l,a),this.setByConstrained(o,s,l,a));let c=o.constrainingByConstrained[a]||[];c.push(this.getOption(l)),o.constrainingByConstrained[a]=c})),this.optionConstraints=o}handleOptionConstraints(t,e){if(!this.optionConstraints||!this.optionConstraints.byConstraining[t])return;let n=[],i=e||this.getOption(t).added;return this.getOption(t).selected=e,this.optionConstraints.byConstraining[t].forEach((e=>{let o=this.optionIsConstrained(e,t,i),r=this.getOption(e.option),s=r.selected,a=r._transient_&&r._transient_.rendered;n.push({optionId:e.option,disabledState:o,selected:s,rendered:a})})),n}getUnrenderedConstraining(t){return(this.optionConstraints.constrainingByConstrained[t]||[]).filter((t=>!t._transient_||!t._transient_.rendered))}optionIsConstrained(t,e,n){let i=t.type,o=this.optionConstraints.byConstrained[t.option],r=Object.keys(o.groups).length>0,s=this.isConstrainedByUngrouped(o);return!!s.constrained||(r?this.isConstrainedByGrouped(o.groups):this.getUnaffectedDisabledState(e,n,"Dependency"===i,s.requiredConditionMet))}isConstrainedByUngrouped(t){let e=!1,n=!1,i=!1,o=t.ungroupedConstraints,r=o?o.length:-1,s=0;for(;!e&&s<r;){let t=this.getOption(o[s].option),r=o[s].type;"Exclusion"===r?e=this.isSelected(t):"Dependency"!==r||i||(i=this.isSelected(t),n=!i),s++}return{constrained:e||n,requiredConditionMet:i}}isConstrainedByGrouped(t){let e=!1,n=!0,i=!1,o=Object.keys(t).length,r=0;for(;r<o;){let o=!1,s=t[Object.keys(t)[r]],a=s.type,l=s.options,d=l.length,c=0;if("Dependency"===a&&n&&!i){for(;!o&&c<d;){let t=this.getOption(l[c]);o=!this.isSelected(t),o||c!==d-1||(n=!1),c++}e=n}if("Exclusion"===a&&!i){for(;!o&&c<d;){let t=this.getOption(l[c]);o=!this.isSelected(t),o||c!==d-1||(i=!0),c++}e=i}r++}return e}getOption(t){return this.product.options.find((e=>e.record.Id===t))}isSelected(t){return t&&(t.selected||t.added||!!t.priorOptionExists)}getUnaffectedDisabledState(t,e,n,i){return n?!i&&!(e||this.getOption(t).priorOptionExists):e||!!this.getOption(t).priorOptionExists}optionShouldBeDisabled(t){let e,n,i,o,r,s=this.optionConstraints.byConstrained[t];if(!s)return!1;if(e=s.ungroupedConstraints.length>=1,n=Object.keys(s.groups).length>=1,e)i=s.ungroupedConstraints[0].option;else{if(!n)return!1;i=s.groups[Object.keys(s.groups)[0]].options[0]}return o=this.isSelected(this.getOption(i)),r=this.optionConstraints.byConstraining[i].find((e=>e.option===t)),this.optionIsConstrained(r,i,o)}setByConstraining(t,e,n,i){t.byConstraining[i]=t.byConstraining[i]||[],t.byConstraining[i].push({type:e,option:n})}setByConstrained(t,e,n,i,o){t.byConstrained[n]=t.byConstrained[n]||{ungroupedConstraints:[],groups:{}},o?this.setConstrainedForGroups(t,e,n,i,o):this.setConstrainedForUngrouped(t,e,n,i)}setConstrainedForGroups(t,e,n,i,o){for(let r of o)t.byConstrained[n].groups[r]=t.byConstrained[n].groups[r]||{type:e,options:[]},t.byConstrained[n].groups[r].options.push(i)}setConstrainedForUngrouped(t,e,n,i){t.byConstrained[n].ungroupedConstraints.push({type:e,option:i})}getConstrainingByConstrained(){return Object.values(this.optionConstraints.constrainingByConstrained)}}},2680:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});class i{constructor(t,e,n){this.prefix=t,this.options=e,this.option=n}isSourceLine(){return null!=this.option.priorBundledQuantity}getLine(){return this.option}getLines(){return this.options}getSourceOrUpgrade(t,e){for(let n=0;n<this.options.length;n++){let i=t||this.options[n],o=e||this.options[n];if(o.sourceProductIds&&-1!=o.sourceProductIds.indexOf(i.record[this.prefix+"OptionalSKU__c"]))return this.options[n]}}setSourceAndUpgrade(t,e){this.sourceOption=t,this.upgradeOption=e}getSourceIdField(){return this.prefix+"OptionalSKU__c"}getUpgradeConversionRateField(){return this.prefix+"UpgradeConversionRate__c"}getSourceCurrentQuantityField(t){return t.selected?t.record[this.prefix+"Quantity__c"]:0}getUpgradeCurrentQuantityField(t){return t.selected?t.record[this.prefix+"Quantity__c"]:0}getSourcePriorQuantity(t){return t.priorBundledQuantity}didSourceQuantityChange(t,e,n){return n.selected&&(t||!e.selected)}didUpgradeQuantityChange(t,e){return e.selected&&!t}isSelected(t){return t.selected}setUpdatedQuantity(t,e,n,i){t.selected&&(t.record[this.prefix+"Quantity__c"]=n),e.selected&&(e.record[this.prefix+"Quantity__c"]=i)}getSourceOption(){return this.sourceOption}getUpgradeOption(){return this.upgradeOption}setUpgradedAssetId(){let t=this.getSourceOrUpgrade(null,this.option);this.option.upgradedAssetId=t.upgradedAssetId}}},733:(t,e,n)=>{"use strict";n.d(e,{j:()=>o});var i=n(1929);class o{constructor(t,e){this.prefix=i.I.org.prefix?i.I.org.prefix+"__":"",this.data=t,this.product=e,this.validationMessages=[],this.productRulesActions={},this.optionDataByOptionIdAndIndex={}}getValidationMessages(){return this.validationMessages}getProductRulesActions(){return this.productRulesActions}getOptionDataByOptionIdAndIndex(){return this.optionDataByOptionIdAndIndex}init(t){this.initValidationMessages(),this.product&&(this.initProductRulesActions(),this.initDescendantTree(t),this.initOptionDataByOptionIdAndIndex())}initValidationMessages(){if(this.data.validationMessages)for(var t of this.data.validationMessages)this.validationMessages.push(t);else for(let e of this.data.configuredProducts)for(var t of e.configuration.validationMessages)this.validationMessages.push(t)}initProductRulesActions(t){let e={},n={},i={},o={},r={},s={},a={},l={},d={};for(var c of this.data.optionConfigurations)e[c.optionData.Id||c.optionId]=!0;if(null!=this.data.disabledOptionIds)for(var u of this.data.disabledOptionIds)n[u]=!0;if(null!=this.data.hiddenOptionIds)for(var h of this.data.hiddenOptionIds)i[h]=!0;if(t)return this.assignProductRules(e,n,i);for(var p of this.product.options)this.optionNotInPricebook(p)||(this.handleProductActions(i,p,s,a,"hiddenByRule"),this.handleProductActions(n,p,l,d,"disabled"),this.handleProductActions(e,p,r,o,"selected"));this.productRulesActions={showOptions:s,hideOptions:a,selectOptions:o,deselectOptions:r,enableOptions:l,disableOptions:d}}initOptionDataByOptionIdAndIndex(){let t=this.data.optionConfigurations;for(let e=0;e<t.length;e++){let n=t[e];void 0===this.optionDataByOptionIdAndIndex[n.optionId]&&(this.optionDataByOptionIdAndIndex[n.optionId]={}),this.optionDataByOptionIdAndIndex[n.optionId][n.index]={optionData:n.optionData,listPrice:n.listPrice}}}handleProductActions(t,e,n,i,o){return"disabled"===o?t[e.record.Id]&&e.disabledData&&!e.disabledData.disabled?i[e.record.Id]=!0:!t[e.record.Id]&&e.disabledData&&e.disabledData.disabled?n[e.record.Id]=!0:void 0:t[e.record.Id]&&!e[o]?i[e.record.Id]=!0:!t[e.record.Id]&&e[o]?n[e.record.Id]=!0:void 0}assignProductRules(t,e,n){this.prefix;for(var i of(this.product.rulesProcessed=!0,this.product.options))this.optionNotInPricebook(i)||(i.selected=i.selectedByRule=!!t[i.record.Id],e[i.record.Id]&&(i.disabledData={disabled:!0,constrained:!1}),n[i.record.Id]&&(i.hidden=!0,i.hiddenByRule=!0))}initDescendantTree(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.product.nestedOptionModel;if(!t)return void(console.log&&console.warn("Skipped descendant level rules",this.product));let e={};for(var n=0;n<this.data.optionConfigurations.length;n++){let i=this.data.optionConfigurations[n];e[i.optionId]=void 0===e[i.optionId]?0:e[i.optionId]+1;let o={optionId:this.data.optionId,index:this.data.index||0},r={optionId:i.optionId,index:e[i.optionId]};i.index=e[i.optionId],t.handleDescendantRules([o,r],i.optionConfigurations,i.hiddenOptionIds,i.disabledOptionIds,i.changedByProductActions)}}optionNotInPricebook(t){return void 0===t.record[this.prefix+"UnitPrice__c"]||null==t.record[this.prefix+"UnitPrice__c"]}}},1481:(t,e,n)=>{"use strict";var i,o=n(5775),r=n(1305);n(5969),n(8228),n(6190),n(2758),n(8560),n(6802);const s=(0,n(1510).f)(i||(a=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n.header {\n  min-width: 600px;\n}\n.content {\n  margin-top: -15px;\n  margin-bottom: -15px;\n}\n.footer {\n  border-top: none;\n}\n#alert-icon {\n  font-size: 20px;\n}\npaper-button {\n  margin: 0 !important;\n  text-transform: none;\n}\n#alert-title {\n  display: inline-block;\n}\n#alert-title > h2 {\n  margin: 0;\n}\n#alert-title > h2 > sb-i18n {\n  font-size: 24px;\n  margin-left: 6px;\n  font-weight: 300;\n}\n.alert-rule {\n  padding: 12px;\n}\n#continue[class*='--mobile'] {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n.content[class*='--mobile'] {\n  margin: 0;\n}\n[class*='--mobile'] #continue {\n  padding: 4px 10px;\n  margin-left: 10px;\n  float: left;\n  font-size: 16px;\n}\n[class*='--mobile'] .content {\n  margin: 0;\n}\n"],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));var a,l,d,c=n(4799);class u extends((0,o.Q)(r.H3)){static get is(){return"sb-product-alert"}static get properties(){return{alerts:Array,continueCB:Object,cancelCB:Object,displayContinueButton:{type:Boolean,value:!1},cancelText:{type:String,value:c.o.localize("lbl_close")}}}ready(){super.ready(),this.$.dialog.addEventListener("sb-close-dialog",this._onCancel.bind(this))}static get observers(){return["init(alerts)"]}init(){this.$.dialog.toggle()}onRevise(){this.$.dialog.toggle()}toggle(){this.$.dialog.toggle()}onContinue(){"function"==typeof this.continueCB&&this.continueCB()}_onCancel(){"function"==typeof this.cancelCB&&this.cancelCB(),this.$.dialog.toggle()}static get template(){return(0,r.dy)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-icons-styles sb-dialogs-styles"></style>\n\t\t<style>','</style>\n\t\t<style include="sb-common-styles"></style>\n\n\t\t<div device>\n\t\t\t<sb-dialog id="dialog" modal="true" hide-close-icon="true" cancel-text="[[cancelText]]">\n\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t<i id="alert-icon" class="sf-icon-warning"></i>\n\t\t\t\t\t<div id="alert-title">\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t<sb-i18n>Alert</sb-i18n>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<template is="dom-repeat" items="[[alerts]]" as="alertContent">\n\t\t\t\t\t\t\t<ul class="alert-rule"><sb-i18n key="[[alertContent]]"></sb-i18n></ul>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[displayContinueButton]]">\n\t\t\t\t\t<paper-button slot="paper-button" id="continue" on-click="onContinue" noink>\n\t\t\t\t\t\t<sb-i18n>Continue</sb-i18n>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t</sb-dialog>\n\t\t</div>\n\t\t'])),s)}}customElements.define(u.is,u)},8965:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ProductLookup:()=>O});var i=n(9685),o=n(9815),r=n(3345),s=n(1068),a=n(984);class l{constructor(t,e,n){this.prefix=t,this.searchModel=e,this.searchFilterData={},this.filterContext=n}buildFields(t){let e=[];for(let n of t)e.push(n.replace("Product2","ProcessInput__c"));return e}getSearchTable(){return this.prefix+"ProcessInput__c"}getGroupKey(t){return t.record.Id}setDefaultFilterValues(t,e){let n={},i=[];for(let o of t)for(let t of this.searchModel.quoteProcess.inputs)if(t.record.Id===o){this.searchModel.processInputValues[o]&&e&&this.isLookupType(e[o].model.type)&&this.searchModel.processInputValues[o][this.prefix+"Value__c"]&&i.push(this.queryLookupFilterName(this.searchModel.processInputValues[o][this.prefix+"Value__c"],e[o].model.referenceTo[0]));let r=null;r=this.searchModel.processInputValues[o]?this.searchModel.processInputValues[o][this.prefix+"Value__c"]||null:t.record[t.record[this.prefix+"InputField__c"]]||null,n[o]={value:r,hidden:!1,field:t.targetFieldName};break}return new Promise(function(t){0===i.length?(this.searchFilterData=n,t(n)):Promise.all(i).then(function(e){for(let t of e){let e=t.records[0];if(!e)continue;let i=new a.Z(e.attributes.type).getNameField();for(let t in n){let o=n[t];if(o.value&&o.value.substring(0,15)===e.Id.substring(0,15)){o.label=e[i];break}}}this.searchFilterData=n,this.evaluateProcessInputConditions(),t(n)}.bind(this))}.bind(this))}getFilterContext(){let t=JSON.parse(JSON.stringify(this.filterContext));for(let e of t.inputs)this.searchFilterData[e.record.Id].hidden?(e.record[e.targetFieldName]=null,e.hidden=!0):this.searchFilterData[e.record.Id]&&(""===this.searchFilterData[e.record.Id].value?e.record[e.targetFieldName]=null:e.record[e.targetFieldName]=this.searchFilterData[e.record.Id].value);let e=t.inputs.length;for(let n=0;n<e;n++)t.inputs[n].hidden&&(t.inputs.splice(n,1),e--,n--);return t}getAdditionalProperties(){return null}evaluateProcessInputConditions(){let t=JSON.parse(JSON.stringify(this.searchFilterData));for(let e of this.filterContext.inputs){let n=0;if(0!==e.conditions.length){for(let i of e.conditions){let e=t[i[this.prefix+"MasterProcessInput__c"]].value;r.Zr.arithmeticOperatorConversion(e,i[this.prefix+"Value__c"],i[this.prefix+"Operator__c"])&&n++}"All"===e.record[this.prefix+"ConditionsMet__c"]?t[e.record.Id].hidden=!(n===e.conditions.length):t[e.record.Id].hidden=!(n>0)}else t[e.record.Id].hidden=!1}return this.searchFilterData=t,t}runOnLoad(){let t=[];for(let e of this.searchModel.quoteProcess.inputs)t.push(e.record.Id);this.setDefaultFilterValues(t)}isLookupType(t){return"reference"===t||"id"===t}queryLookupFilterName(t,e){let n=new a.Z(e).getNameField(),i=t?"'".concat(t,"'"):null;return(new s.S).query("SELECT Id, ".concat(n," FROM ").concat(e," WHERE Id = ").concat(i))}}var d,c=n(1361),u=n(2833),h=n(566),p=n(922),f=n(8765),b=n(4166),g=n(5775),m=n(9497),y=n(1305);n(5969),n(6190),n(6733),n(3737),n(2758),n(5799),n(461),n(2724),n(9229),n(8011),n(549),n(3057),n(5491),n(8560),n(3046),n(9107),n(4589),n(2150),n(9277),n(5310),n(4561),n(5677);const v=(0,n(1510).f)(d||(_=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host #headersearch {\n  position: relative;\n}\n:host #drawer {\n  position: relative;\n}\n:host .visible-panel {\n  display: inline;\n}\n:host .hidden-panel {\n  display: none;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host sb-dialog[class*='--mobile'] {\n  position: fixed;\n  z-index: 1;\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog {\n  position: fixed;\n  z-index: 1;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host sb-dialog #suggest {\n  float: right;\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer #pflayout,\n.drawer #gslayout {\n  outline: none;\n}\nsb-pagination {\n  width: 100%;\n  -webkit-transform: translate3d(0, 0, 0);\n  -ms-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-transition: -webkit-transform 0.3s, visibility 0.3s;\n  transition: transform 0.3s, visibility 0.3s;\n  visibility: visible;\n  display: block;\n  --pagination-bar-background-color: #f4f6f9;\n  --pagination-bar-padding-bottom: 5px;\n  --pagination-bar-padding-top: 5px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-box-shadow: 0px 2px 6px #111;\n}\nsb-pagination[class*='--mobile'] {\n  position: fixed;\n  bottom: 0;\n  --pagination-bar-background-color: #fff;\n  --pagination-bar-padding-bottom: 10px;\n  --pagination-bar-padding-top: 10px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-display: table;\n  --pagination-bar-width: 100%;\n  --pagination-parts-display: table-cell;\n  --pagination-previous-text-align: left;\n  --pagination-pages-text-align: center;\n  --pagination-next-text-align: right;\n}\n[class*='--mobile'] sb-pagination {\n  position: fixed;\n  bottom: 0;\n  --pagination-bar-background-color: #fff;\n  --pagination-bar-padding-bottom: 10px;\n  --pagination-bar-padding-top: 10px;\n  --pagination-bar-text-align: center;\n  --pagination-bar-display: table;\n  --pagination-bar-width: 100%;\n  --pagination-parts-display: table-cell;\n  --pagination-previous-text-align: left;\n  --pagination-pages-text-align: center;\n  --pagination-next-text-align: right;\n}\nsb-pagination.hide[class*='--mobile'] {\n  -webkit-transform: translate3d(0, 3.75rem, 0);\n  -ms-transform: translate3d(0, 3.75rem, 0);\n  transform: translate3d(0, 3.75rem, 0);\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\npaper-tooltip[class*='--mobile'] {\n  display: none;\n}\n[class*='--mobile'] sb-pagination.hide {\n  -webkit-transform: translate3d(0, 3.75rem, 0);\n  -ms-transform: translate3d(0, 3.75rem, 0);\n  transform: translate3d(0, 3.75rem, 0);\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n[class*='--mobile'] paper-tooltip {\n  display: none;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],w||(w=_.slice(0)),d=Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(w)}}))));var _,w,x;function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function k(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const S=["#gslayout","#pflayout"];class O extends((0,g.Q)((0,m.P)(i.T3))){static get is(){return"sb-product-lookup"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,totalCount:String,hasTotalCount:Boolean,quote:Object,internal:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return c._.getViewport()}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},isMobile:{type:Boolean,computed:"_setIsMobile(viewport)"},searchContext:String,searchedValue:String,filterContext:Object,searcher:Object},i.T3.properties)}static get observers(){return["handleAutoSelect(searchModel)","_modalObserver(quote, modalActive)","handleValueChanged(searchFilterData.*)"]}_modalObserver(t,e){if(void 0!==t&&void 0!==e)return this.modal(t,e)}modal(){!this.modalActive&&this.hasQuoteProcess?(this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0}}),(0,r.og)("modaloverflow",!0,this),this.$.modal.show=!0,this.refocus()):(this.hasQuoteProcess||this.setPanelDisplay("#pflayout"),!0===this.lineEditorModel.settings.openSearchFilterByDefault&&this.toggleFilter(),this.panelSuggester=this.suggester,this.panelGroupItems=this.groupItems)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready(),this.setSpinnerMessage(),this.preLoadObjects(),this.handleClearSelected(),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.modal.addEventListener("sb-gs-modal-close",this.closeDialog.bind(this)),this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.$.modal.addEventListener("filter-item-value-changed",this.handleLabelChanged.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.addEventListener("clear-filters",this.clearFilterFields),this.addEventListener("sb-type-clear",this.resetSearchBar),this.attachSearchBarEventListeners()}setSpinnerMessage(){(0,f.gz)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}handleTransientCache(){this.$.selectionReader.read({uid:this.quote.record.Id}).then(function(t){this.lastSubmit=t?t.lastSubmit:null,this.modalActive=!!t&&t.modalActive,"gs"===this.lastSubmit?(this.suggester.runOnLoad(),this.runSuggester()):"pf"===this.lastSubmit&&(this.searcher.runOnLoad(t.filterValues),this.runSearcher())}.bind(this))}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=t.detail.value.quote,this.inputField=this.prefix+"InputField__c",this.localizer=new u.E(this.prefix);let e=parseInt(this.ctx.params.groupKey),n=this.getQuoteProcessId(this.quote,e);this.hasQuoteProcess=null!==n,!0===this.hasQuoteProcess?this.setPanelDisplay("#gslayout"):this.setPanelDisplay("#pflayout"),this.ctx.params.aId&&(this.$.smLoadService.actionId=this.ctx.params.aId),this.$.smLoadService.processId=n,this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){let e=this.localizer.localizeSearchModel(t.detail.value);void 0!==this.guidedOnly&&null!==this.guidedOnly||null==e.searchFiltersTabShown||(this.guidedOnly=!e.searchFiltersTabShown),this.onLoadSearchModel||(this.onLoadSearchModel=Object.assign({},e)),this.$.lookupLayout.groupByField=e.productResultsGroupFieldName,this.$.lookupLayout.fieldPrefix=e.targetObjectName+".",e=this._removeInactiveQuoteProcessInputs(e),this.quoteProcess=e.quoteProcess,this.searchModel=e,this.buildDelegator(),this.handleTransientCache()}.bind(this))}getQuoteProcessId(t,e){let n;for(let i of t.lineItemGroups)if(i.key===e){n=i.record[this.prefix+"QuoteProcess__c"];break}return n||t.record[this.prefix+"QuoteProcessId__c"]||null}attachSearchBarEventListeners(){this.addEventListener("sb-search-invoked",this.searchBarResultsChanged.bind(this)),this.addEventListener("sb-search-item-selected",this.searchBarItemSelected.bind(this)),this.addEventListener("sb-search-reset-clicked",this.searchBarResetClicked.bind(this)),this.addEventListener("sb-search-nil-search-invoked",this.searchBarNilSearchInvoked.bind(this))}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(t){this._updateQuote(t.detail.value.quote),0==t.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(t),t.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(t)}.bind(this))}handleNonConfigurableProducts(t){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"ProductLookup"===this.redirectUrl&&(this.$.smSelectService.quote=t.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.navigateToSelf(),this.spinner=!1)}handleConfigurableProducts(t){let e={};t.detail.value.selectedProducts=this.selectedProducts;let n=this.getConfigProductIds(t);e.qId=t.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(e.aId=this.ctx.params.aId),e.pId=n,e.redirectUrl=this.redirectUrl,e.open=0,this.nav("#",e,["product","pc"],!1)}_updateQuote(t){if(t.partialVO){var e=this.lineEditorModel.quote.lineItems;t.lineItems=e.concat(t.lineItems),delete t.existingProductIds,delete t.segmentTemplatesByDimensionTypeByGroupKey,delete t.emptyGroupKeys,t.partialVO=!1}this.lineEditorModel.quote=t}handleLabelChanged(t){this.searchFilterData&&(this.searchFilterData[t.detail.item].label=t.detail.value)}buildDelegator(){this.hasQuoteProcess&&(this.suggester=new l(this.prefix,this.searchModel,this.quoteProcess)),this.searcher||(this.searcher=new o.s(this.searchModel))}_removeInactiveQuoteProcessInputs(t){if(!this.hasQuoteProcess)return t;let e=t.quoteProcess.inputs;if(void 0===e||0===e.length)return t;let n=[];for(let t of e){!1!==t.record[this.prefix+"Active__c"]&&n.push(t)}return t.quoteProcess.inputs=n,t}handleValueChanged(){this.internal||(this.internal=!0,this.updateSearchFilterData(),this.internal=!1)}updateSearchFilterData(){this.suggester.searchFilterData=this.searchFilterData;let t=this.suggester.evaluateProcessInputConditions();this.searchFilterData=t}setPanelDisplay(t){S.forEach((e=>{const n=t===e;(0,r.og)("hidden-panel",!n,this.shadowRoot.querySelector(e)),(0,r.og)("visible-panel",n,this.shadowRoot.querySelector(e))}))}toggleFilter(){this.togglePanel("pflayout")}toggleGuidedSelling(){this.togglePanel("gslayout")}togglePanel(t){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.shadowRoot.querySelector(".visible-panel").id!==t&&"main"!==this.$.drawer.selected||this.$.drawer.togglePanel(),this.setPanelDisplay("#"+t),this.refocus()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(t){t&&"transitionend"===t.type||this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.modalGroup.focusFirstField():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.gs.focusFirstField():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.pf.focusFirstField())}reverseFocus(){this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.suggest.focus():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.cleargs.focus():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.clearfilter.focus())}closeDialog(){(0,r.og)("modaloverflow",!1,this),this.suggester.skipDefaults=!0,this.panelSuggester=this.suggester,this.panelGroupItems||(this.panelGroupItems=this.groupItems),this.$.modal.show=!1}suggestClicked(){this.suggest=!0,this.runSuggester()}runSuggester(){this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="gs",this.closeDialog(),this.$.gs.runService(),this.closeDrawer()}runSearcher(t){this.shadowRoot.querySelector("#submit").focus(),this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="pf",this.$.pf.actionId=this.ctx.params.aId,this.searchContext=this.searchedValue,this.filterContext=this.$.pf.filterDelegator.getFilterContext(),this.$.pf.runService(),this.closeDrawer()}saveCache(){this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0,lastSubmit:this.shadowRoot.querySelector(".visible-panel").id.substring(0,2),filterValues:this.searcher.searchFilterData}})}getConfigProductIds(t){let e=[];for(let n of t.detail.value.configuredProducts)e.push(n.record.Id);return e.join(",")}onSelect(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}onSelectMore(){this.redirectUrl="ProductLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToSelf()}_addAggregateDataIfThresholdExceeded(){let t=this.lineEditorModel.settings.largeQuoteThreshold;if(null!=t&&this.quote.lineItems.length>t){this.$.smSelectService.stripQuoteLines=!0;let e=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines;e=e.replace("{0}",this.lineEditorModel.quote.record.Id).replace("{1}",t),console.log(e);let n=new p.z(this.quote);this.quote.existingProductIds=n.getExistingProductIdsFromLines();let i=this.ctx.params.groupKey,o=n.getSegmentTemplatesByDimensionTypeForGroupKey(i);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(i||-1)+""]=o,this.quote.emptyGroupKeys=n.getKeysOfEmptyGroups()}}getOrderedSelectedProducts(){let t=Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)),e=[];for(let n of t){let t=this.selectedProducts[n];t.invalid||(delete t.record.UnitPrice,e.push(t))}return e}onCancel(){this.spinner=!0;let t={qId:this.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}navigateToLineEditor(){let t={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}navigateToSelf(){let t=this.ctx.params.aId?"&aId="+this.ctx.params.aId:"";(0,b.BX)(b.zW.NAVIGATION_CHANGED,{url:"#",location:"#/product/lookup?qId="+this.quote.record.Id+t}),this.$.plSelectMore.blur()}navToFavorites(){let t={qId:this.quote.record.Id};void 0!==this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(t.aId=this.ctx.params.aId),this.nav("#",t,["favorite","lookup"],!1)}handleAutoSelect(){if(this.suggest&&this.quoteProcess&&this.quoteProcess.record[this.prefix+"ProductAutoSelected__c"]&&1===this.searchModel.results.length){let t=this.searchModel.results[0];this.selectedProducts[t.record.Product2Id]={record:{Id:t.record.Product2Id,attributes:t.record.attributes,UnitPrice:t.record.UnitPrice},invalid:!1},this.suggest=!1,this.onSelect()}}handleClearSelected(){this.addEventListener("suggestion-loaded",function(){this.$.lookupLayout.deSelectAll()}.bind(this))}handleDrawerClosed(){"main"===this.$.drawer.selected&&(0,b.BX)(b.zW.PANEL_CLOSED)}clearFilterFields(){this.filterData=this.searcher.clearFields()}clearGSFields(){let t=JSON.parse(JSON.stringify(this.suggester.searchFilterData));for(let e in t)t[e].value=null;this.suggester.searchFilterData=t,this.searchFilterData=this.suggester.evaluateProcessInputConditions()}bindFilterEnterCallBacks(){this.$.pf.enterCallback=this.runSearcher.bind(this),this.$.gs.enterCallback=this.runSuggester.bind(this),this.$.modalGroup.enterCallback=this.runSuggester.bind(this)}searchBarResultsChanged(t){let e=t.detail.searchModel,n=t.detail.searchValue;this.searchContext=n,this.searchedValue=n,this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),void 0!==e&&(this.searchModel=e)}searchBarItemSelected(t){let e=t.detail.item,n=Object.assign({},this.searchModel),i=t.detail.searchValue;this.searchContext=i,this.searchedValue=i,void 0!==e&&(this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),n.results=[e],n.totalCount=1,this.searchModel=n)}searchBarResetClicked(){this.searchContext="",this.searchedValue="",this.shadowRoot.querySelector("#headersearch").toggleResetButton(!1),this.searchModel=Object.assign({},this.onLoadSearchModel)}searchBarNilSearchInvoked(){this.searcher.hasSearchFilterValues()?this.runSearcher():this.searchBarResetClicked()}resetSearchBar(){this.searchContext="",this.searchedValue=""}preLoadObjects(){this.lookupObjects=["Product2","PricebookEntry",this.prefix+"ProcessInput__c"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}hideFilters(t,e){return t||e&&e.every((t=>t.hidden))}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}clearStackTrace(){this.errors[0]&&(this.error=(0,h.Z)(this.errors),this.spinner=!1)}_setIsMobile(t){if(t)return t.isMobile()}showSearchBar(){return!this.app.org.hideProductSearchBarEnabled&&!this.isMobile}static get template(){return(0,y.dy)(x||(x=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<css-style><style include="sb-tables-styles sb-common-styles"></style></css-style>\n\t\t<style>','</style>\n\t\t<css-style><style include="sb-icons-styles"></style></css-style>\n\t\t\n\t\t<sb-describe objects="[[lookupObjects]]" error="{{errors}}"></sb-describe>\n\t\t<sb-service id="selectionReader" reader="LastSelectionReader" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>\n\t\t<sb-service id="selectionSaver" saver="LastSelectionSaver" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="ProductLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]"\n\t\t\t\t\t\t\t\tsaver="ProductLookupServiceProvider.SearchModelSelector" error="{{errors}}"\n\t\t\t\t\t\t\t\tuses-client-calculator="[[le.settings.usesClientCalculator]]"></sb-search-model-select>\n\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device searchbar="[[showSearchBar]]">\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Product Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\n\t\t\t<template is="dom-if" if="[[showSearchBar()]]">\n\t\t\t\t<sb-search-bar id="headersearch" slot="headersearch"\n\t\t\t\t\t\t\t   value="{{searchContext}}"\n\t\t\t\t\t\t\t   searched-value="{{searchedValue}}"\n\t\t\t\t\t\t\t   quote="[[quote]]"\n\t\t\t\t\t\t\t   search-service="ProductLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t   action-id="[[ctx.params.aId]]" is-mobile="[[isMobile]]"\n\t\t\t\t\t\t\t   reposition="true"\n\t\t\t\t\t\t\t   searcher = "[[searcher]]"\n\t\t\t\t></sb-search-bar>\n\t\t\t</template>\n\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" hidden$="[[hideFilters(guidedOnly, searchModel.searchFilters)]]" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">\n\t\t\t\t\t\t[[totalCount]]\n\t\t\t\t\t</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10"\n\t\t\t\t\t\t\t   fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[hasQuoteProcess]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">\n\t\t\t\t\t</paper-button>\n\t\t\t\t\t<paper-tooltip for="gs" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t<sb-i18n>Guided Selling</sb-i18n>\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\t\t\t\t<paper-button noink on-click="navToFavorites" id="fav" class="sb-icon-star"></paper-button>\n\t\t\t\t<paper-tooltip for="fav" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Favorites</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onSelectMore" id="plSelectMore">\n\t\t\t\t\t<sb-i18n>Select & Add More</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\n\t\t\t<div drawer class="panel" slot="drawer">\n\n\t\t\t\t<div id="pflayout">\n\t\t\t\t\t<header class="title"><sb-i18n>Product Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t\x3c!--this is the filter panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="pf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t\t  search-context="[[searchedValue]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" tabindex="0" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t\t<div id="gslayout">\n\t\t\t\t\t<header class="title"><sb-i18n>Guided Selling</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\n\t\t\t\t\t\x3c!--this is the guided selling panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="gs"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="quoteProcess.inputs"\n\t\t\t\t\t\t\t\t\t  filter-key="Id"\n\t\t\t\t\t\t\t\t\t  filter-context="[[quoteProcess]]"\n\t\t\t\t\t\t\t\t\t  target-field-name="[[inputField]]"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{panelSuggester}}"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{searchFilterData}}"\n\t\t\t\t\t\t\t\t\t  search-filter-model="{{searchFilterModel}}"\n\t\t\t\t\t\t\t\t\t  group-items="{{panelGroupItems}}"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSuggester"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="suggestClicked" class="primaryButton panelbutton"><sb-i18n>Suggest</sb-i18n></paper-button>\n\t\t\t\t\t<text id="cleargs" class="click" on-click="clearGSFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\n\t\t<sb-dialog device id="modal" modal="true" close-dialog="sb-gs-modal-close" hide-cancel-button="true">\n\t\t\t<i slot="icon" class="icon sb-icon-compass"></i>\n\t\t\t<sb-i18n slot="title" class="title dialog">Guided Selling</sb-i18n>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<div tabindex="0" on-focus="reverseFocus"></div>\n\t\t\t\t\x3c!--this is the guided selling model content--\x3e\n\t\t\t\t<sb-filter-layout id="modalGroup"\n\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t  filter-path="quoteProcess.inputs"\n\t\t\t\t\t\t\t\t  filter-key="Id"\n\t\t\t\t\t\t\t\t  target-field-name="[[inputField]]"\n\t\t\t\t\t\t\t\t  filter-delegator="{{suggester}}"\n\t\t\t\t\t\t\t\t  search-filter-data="{{searchFilterData}}"\n\t\t\t\t\t\t\t\t  search-filter-model="{{searchFilterModel}}"\n\t\t\t\t\t\t\t\t  group-items="{{groupItems}}"\n\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t  service-loader="ProductLookupServiceProvider.SearchModelSuggester"\n\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t  localizer="[[localizer]]"\n\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t></sb-filter-layout>\n\t\t\t</div>\n\n\t\t\t<paper-button slot="paper-button" id="suggest" class="primaryButton modal" noink on-click="suggestClicked">\n\t\t\t\t<sb-i18n>Suggest</sb-i18n>\n\t\t\t\t<div tabindex="0" on-focus="refocus"></div>\n\t\t\t</paper-button>\n\t\t</sb-dialog>\n\n\t\t<span device>\n\t\t\t<template is="dom-if" if="[[usePagination]]">\n\t\t\t\t<sb-pagination page-size="[[resultLimit]]" page-index="[[pageIndex]]" num-items="[[totalCount]]"></sb-pagination>\n\t\t\t</template>\n\t\t</span>\n\t\t'])),v)}}customElements.define(O.is,O)},1594:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});let i=null;class o{static get constants(){return i}static set constants(t){i=t}static isDiscountField(t){return t===i.ADDITIONAL_DISCOUNT_FIELD}static isMarkupField(t){return t===i.MARKUP_FIELD}static isListPriceField(t){return t===i.LIST_PRICE_FIELD}static isProductNameField(t){return t===i.PRODUCT_NAME_FIELD}static isNetTotalField(t){return t===i.NET_TOTAL_FIELD}static isSubscriptionScopeField(t){return t===i.SUBSCRIPTION_SCOPE_FIELD}static isUbpFieldInlineEditable(t,e){const n=i.UBP_FIELDS.ConsumptionRateFields;for(const i of[n.UpperBound,n.LowerBound,n.Price])if(i===t)return null!=e&&e[t];return!1}static shouldCalulateImmediately(t,e,n){if(!e)return!1;if(!(null!=n.quoteVO.record[o.constants.TARGET_CUSTOMER_AMOUNT]))return!0;return!new Set([o.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD,o.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,o.constants.ADDITIONAL_DISCOUNT_FIELD]).has(t)}}},8766:(t,e,n)=>{"use strict";n.d(e,{CD:()=>s,DH:()=>o,KI:()=>c,r$:()=>r,rr:()=>d});var i=n(8832);function o(t,e){if(c(t,e)){const e=t.editorModel.data.additionalDiscountUnitOptions;return null!==t.lineVO.targetCustomerAmount&&void 0!==t.lineVO.targetCustomerAmount?{units:e,unit:"UnitOverride",displayValue:t.getLineVOProperty("targetCustomerAmount")}:null!==t.lineVO.targetCustomerTotal&&void 0!==t.lineVO.targetCustomerTotal?{units:e,unit:"TotalOverride",displayValue:t.getLineVOProperty("targetCustomerTotal")}:null!=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?{units:e,unit:"Amount",displayValue:t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)}:null!=t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?{units:e,unit:"Percent",displayValue:t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)}:{units:e,unit:t.editorModel.data.defaultAdditionalDiscountUnit.replace(/ /g,""),displayValue:null}}{const e=t.editorModel.data.markupUnitOptions;return null!=t.getField(t.constants.MARKUP_AMOUNT_FIELD)?{units:e,unit:"Amount",displayValue:t.getField(t.constants.MARKUP_AMOUNT_FIELD)}:null!=t.getField(t.constants.MARKUP_RATE_FIELD)?{units:e,unit:"Percent",displayValue:t.getField(t.constants.MARKUP_RATE_FIELD)}:{units:e,unit:t.editorModel.data.defaultMarkupUnit.replace(/ /g,""),displayValue:null}}}function r(t,e){let{units:n,unit:i,displayValue:r}=o(t,e);if(t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&!n.some((t=>"Amount"===t.value))){let i=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&n.some((t=>"Percent"===t.value))?"Percent":n[0].value;d(t,e,i)}}function s(t,e,n){let{unit:r,displayValue:s}=o(t,e);const l=t.lineVO.record;c(t,e)?("Percent"===r?l[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=n:"Amount"===r?l[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=n:"UnitOverride"===r?t.lineVO.targetCustomerAmount=n:"TotalOverride"===r&&(t.lineVO.targetCustomerTotal=n),s=a(t)/(t.lineVO.amountDiscountProrated?l[t.constants.PRORATE_MULTIPLIER_FIELD]:1)):("Percent"===r?l[t.constants.MARKUP_RATE_FIELD]=n:"Amount"===r&&(l[t.constants.MARKUP_AMOUNT_FIELD]=n),s=l[t.constants.MARKUP_AMOUNT_FIELD]||(l[t.constants.UNIT_COST_FIELD]?l[t.constants.UNIT_COST_FIELD]*n/100:null)),(0,i.eZ)(t,["lineVO","record",t.constants.ADDITIONAL_DISCOUNT_FIELD],isNaN(s)?0:s)}function a(t){var e;let n,i,o=(null===(e=t.quoteModel)||void 0===e||null===(e=e.quoteVO)||void 0===e?void 0:e.applyAdditionalDiscountLast)?t.getField(t.constants.NET_PRICE_FIELD):t.getField(t.constants.REGULAR_PRICE_FIELD);return t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?(n=o*(t.getField(t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)/100),i=1):t.lineVO.targetCustomerAmount?(n=o-t.lineVO.targetCustomerAmount,i=1):t.lineVO.targetCustomerTotal?(n=o-t.lineVO.targetCustomerTotal/l(t),i=1):t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?(n=t.getField(t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD),i=t.lineVO.amountDiscountProrated?t.getField(t.constants.PRORATE_MULTIPLIER_FIELD):1):(n=0,i=1),n*i}function l(t){const e=t.lineVO.record;let n=e[t.constants.QUANTITY_FIELD],i=e[t.constants.PRIOR_QUANTITY_FIELD],o=e[t.constants.EXISTING_FIELD]?n-i:n;return"Block"!=e[t.constants.PRICING_METHOD_FIELD]&&"Slab"!=e[t.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]||!e[t.constants.EXISTING_FIELD]||null==i||n-i!=0?"Block"==e[t.constants.PRICING_METHOD_FIELD]||"Slab"==e[t.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]?1:e[t.constants.EXISTING_FIELD]&&t.dynamicSubscription&&0!=e[t.constants.LIST_PRICE_FIELD]&&0==o?n:"Amendment"==t.groupModel.quoteModel.quoteVO.record[t.constants.TYPE_FIELD]&&!t.subscription&&o<0?0:o:0}function d(t,e,n){const{displayValue:i}=o(t,e);if(!n)return;const r=t.lineVO.record;const s=c(t,e)?(()=>{var e;let i=(null===(e=t.quoteModel)||void 0===e||null===(e=e.quoteVO)||void 0===e?void 0:e.applyAdditionalDiscountLast)?r[t.constants.NET_PRICE_FIELD]:r[t.constants.REGULAR_PRICE_FIELD],o=()=>{r[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=null,r[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=null,(t.lineVO.targetCustomerAmount||0===t.lineVO.targetCustomerAmount)&&(t.lineVO.targetCustomerAmount=null),(t.lineVO.targetCustomerTotal||0===t.lineVO.targetCustomerTotal)&&(t.lineVO.targetCustomerTotal=null)};if(null==i)return void o();let s=a(t);if(o(),"Percent"==n)return r[t.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=s/i*100;if("Amount"==n){let e=t.lineVO.amountDiscountProrated?r[t.constants.PRORATE_MULTIPLIER_FIELD]:1;return r[t.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=s/e}return"UnitOverride"==n?t.lineVO.targetCustomerAmount=i-s:"TotalOverride"==n?t.lineVO.targetCustomerTotal=(i-s)*l(t):void 0})():(()=>{let e=r[t.constants.UNIT_COST_FIELD];if("Percent"===n){let n=r[t.constants.MARKUP_AMOUNT_FIELD];return null==n&&(n=0),r[t.constants.MARKUP_AMOUNT_FIELD]=null,r[t.constants.MARKUP_RATE_FIELD]=null!=e?n/e*100:null}{let n=r[t.constants.MARKUP_RATE_FIELD];return null==n&&(n=0),r[t.constants.MARKUP_RATE_FIELD]=null,r[t.constants.MARKUP_AMOUNT_FIELD]=null!=e?e*(n/100):null}})();return{unit:n,displayValue:isNaN(s)?isNaN(i)?null:i:s}}function c(t,e){return e===t.constants.ADDITIONAL_DISCOUNT_FIELD}},9920:(t,e,n)=>{"use strict";n.d(e,{IV:()=>d,N7:()=>l,U2:()=>r,gz:()=>a});var i=n(3345);function o(t,e){return t.has(e)||t.set(e,{fields:new Map,observers:[]}),t.get(e)}function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,i.q6)(__clientCache.data[t],e)}function s(t,e,n,i,o){if(n===i||!t)return;for(let e of t.observers)e(i);const r=r=>{s(t.fields.get(r),e,n?n[r]:void 0,i?i[r]:void 0,o+1)};o<e.length?r(e[o]):t.fields.forEach(((t,e)=>{r(e)}))}function a(t,e,n){const o=__clientCache.data[t];__clientCache.data[t]=(0,i.WW)(o,e,n),s(__clientCache.observers.get(t),e,o,__clientCache.data[t],0)}function l(t,e,n){if("function"!=typeof n)throw new Error("Observer must be a function!");let i=o(__clientCache.observers,t);for(let t of e)i=o(i.fields,t);i.observers.push(n);const s=r(t,e);return void 0!==s&&n(s),()=>{i.observers.splice(i.observers.indexOf(n),1)}}function d(t){a(t,[],void 0),__clientCache.observers.delete(t),delete __clientCache.data[t]}window.__clientCache={data:{},observers:new Map}},9584:(t,e,n)=>{"use strict";n.d(e,{mP:()=>i,vK:()=>o});class i{constructor(t,e,n){this.quoteLineOrProdId=t,this.lineKey=e,this.queryLimit=n,this.categoryIndex=0,this.errorMsg=null,this.searchKeyword=null,this.requestCount=0}}const o={RootState:{fields:{spinnerMessage:{type:"string",localizable:!0,required:!0},spinnerStatus:{type:"string"},showSpinnerMessage:{type:"boolean",required:!0}}}}},6416:(t,e,n)=>{"use strict";n.d(e,{g:()=>o});let i=null;function o(t){this.QUOTE="".concat(t,"Quote__c"),this.QUOTE_LINE="".concat(t,"QuoteLine__c"),this.QUOTE_LINE_GROUP="".concat(t,"QuoteLineGroup__c"),this.LAST_MODIFIED_DATE_FIELD="LastModifiedDate",this.ACCOUNT_FIELD="".concat(t,"Account__r"),this.ACCOUNT_ID_FIELD="".concat(t,"Account__c"),this.ACTION_FIELD="".concat(t,"Action__c"),this.ADDITIONAL_DISCOUNT_AMOUNT_FIELD="".concat(t,"AdditionalDiscountAmount__c"),this.ADDITIONAL_DISCOUNT_FIELD="".concat(t,"AdditionalDiscount__c"),this.ADDITIONAL_DISCOUNT_RATE_FIELD="".concat(t,"Discount__c"),this.ADDITIONAL_QUANTITY_FIELD="".concat(t,"AdditionalQuantity__c"),this.ALLOW_ASSET_REFUND_FIELD="".concat(t,"AllowAssetRefund__c"),this.BATCH_QUANTITY="".concat(t,"BatchQuantity__c"),this.BUNDLE_FIELD="".concat(t,"Bundle__c"),this.BUNDLED_FIELD="".concat(t,"Bundled__c"),this.BUNDLED_QUANTITY_FIELD="".concat(t,"BundledQuantity__c"),this.CARRYOVER_LINE_FIELD="".concat(t,"CarryoverLine__c"),this.CLASS_FIELD="".concat(t,"Class__c"),this.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD="".concat(t,"ComponentDiscountedByPackage__c"),this.COMPONENT_LIST_TOTAL_FIELD="".concat(t,"ComponentListTotal__c"),this.COMPONENT_SUBSCRIPTION_SCOPE_FIELD="".concat(t,"ComponentSubscriptionScope__c"),this.COMPONENT_VISIBILITY_FIELD="".concat(t,"ComponentVisibility__c"),this.CONDITIONS_MET_FIELD="".concat(t,"ConditionsMet__c"),this.CONSUMPTION_RATE_OVERRIDE="".concat(t,"ConsumptionRateOverride__c"),this.COST_EDITABLE_FIELD="".concat(t,"CostEditable__c"),this.CUSTOM_ACTION_CONDITIONS_FIELD="".concat(t,"Custom_Action_Conditions__r"),this.CUSTOMER_AMOUNT_FIELD="".concat(t,"CustomerAmount__c"),this.CUSTOMER_PRICE_FIELD="".concat(t,"CustomerPrice__c"),this.DEFAULT_SUBSCRIPTION_TERM_FIELD="".concat(t,"DefaultSubscriptionTerm__c"),this.DEFAULT_FIELD="".concat(t,"Default__c"),this.DESCRIPTION_FIELD="".concat(t,"Description__c"),this.DIMENSION_ID_FIELD="".concat(t,"Dimension__c"),this.DIMENSION_FIELD="".concat(t,"Dimension__r"),this.DISCOUNT_AMOUNT_FIELD="".concat(t,"DiscountAmount__c"),this.DISCOUNT_SCHEDULE_FIELD="".concat(t,"DiscountSchedule__c"),this.DISCOUNT_SCHEDULE_TYPE_FIELD="".concat(t,"DiscountScheduleType__c"),this.DISCOUNT_TIER_FIELD="".concat(t,"DiscountTier__c"),this.DISCOUNT_TIERS_FIELD="".concat(t,"DiscountTiers__r"),this.DISCOUNT_UNIT_FIELD="".concat(t,"DiscountUnit__c"),this.DISTRIBUTOR_DISCOUNT_FIELD="".concat(t,"DistributorDiscount__c"),this.EFFECTIVE_END_DATE_FIELD="".concat(t,"EffectiveEndDate__c"),this.EFFECTIVE_QUANTITY="".concat(t,"EffectiveQuantity__c"),this.END_DATE_FIELD="".concat(t,"EndDate__c"),this.EVENT_HANDLER_NAME_FIELD="".concat(t,"EventHandlerName__c"),this.EXISTING_FIELD="".concat(t,"Existing__c"),this.FAVORITE_ID_FIELD="".concat(t,"Favorite__c"),this.FIELD_FIELD="".concat(t,"Field__c"),this.FILTER_VALUE_FIELD="".concat(t,"FilterValue__c"),this.GROUP_LINE_ITEMS_FIELD="".concat(t,"LineItemsGrouped__c"),this.ICON_CLASS_FIELD="".concat(t,"IconClass__c"),this.LABEL_FIELD="".concat(t,"Label__c"),this.LIST_PRICE_FIELD="".concat(t,"ListPrice__c"),this.LOCATION_FIELD="".concat(t,"Location__c"),this.LONG_TEXT_AREA_FIELD="".concat(t,"LongTextArea__c"),this.LOWER_BOUND_FIELD="".concat(t,"LowerBound__c"),this.MARKUP_AMOUNT_FIELD="".concat(t,"MarkupAmount__c"),this.MARKUP_FIELD="".concat(t,"Markup__c"),this.MARKUP_RATE_FIELD="".concat(t,"MarkupRate__c"),this.NET_AMOUNT_FIELD="".concat(t,"NetAmount__c"),this.NET_PRICE_FIELD="".concat(t,"NetPrice__c"),this.NET_TOTAL_FIELD="".concat(t,"NetTotal__c"),this.NON_DISCOUNTABLE_FIELD="".concat(t,"NonDiscountable__c"),this.NON_PARTNER_DISCOUNTABLE_FIELD="".concat(t,"NonPartnerDiscountable__c"),this.NUMBER_FIELD="".concat(t,"Number__c"),this.OPERATOR_FIELD="".concat(t,"Operator__c"),this.OPPORTUNITY_FIELD="".concat(t,"Opportunity2__r"),this.OPPORTUNITY_ID_FIELD="".concat(t,"Opportunity2__c"),this.OPTION_LEVEL_FIELD="".concat(t,"OptionLevel__c"),this.OPTION_TYPE_FIELD="".concat(t,"OptionType__c"),this.OPTIONAL_FIELD="".concat(t,"Optional__c"),this.ORIGINAL_QUOTE_LINE_FIELD="".concat(t,"OriginalQuoteLine__c"),this.ORIGINAL_SCHEDULE_FIELD="".concat(t,"OriginalDiscountSchedule__c"),this.OVERRIDE_BEHAVIOR_FIELD="".concat(t,"OverrideBehavior__c"),this.PAGE_FIELD="".concat(t,"Page__c"),this.PARENT_CUSTOM_ACTION_FIELD="".concat(t,"ParentCustomAction__c"),this.PARTNER_DISCOUNT_FIELD="".concat(t,"PartnerDiscount__c"),this.PARTNER_PRICE_FIELD="".concat(t,"PartnerPrice__c"),this.PRICE_EDITABLE_FIELD="".concat(t,"PriceEditable__c"),this.PRICEBOOK_ID_FIELD="".concat(t,"PricebookId__c"),this.PRICEBOOK_LOOKUP_ID_FIELD="".concat(t,"PriceBook__c"),this.PRICING_GUIDANCE_FIELD="".concat(t,"Guidance__c"),this.PRICING_METHOD_EDITABLE_FIELD="".concat(t,"PricingMethodEditable__c"),this.PRICING_METHOD_FIELD="".concat(t,"PricingMethod__c"),this.PRIMARY_FIELD="".concat(t,"Primary__c"),this.PRICE_SCALE_FIELD="".concat(t,"PriceScale__c"),this.BRAND_BUTTON_FIELD="".concat(t,"BrandButton__c"),this.PRIOR_QUANTITY_FIELD="".concat(t,"PriorQuantity__c"),this.PRODUCT="".concat(t,"Product__c"),this.PRODUCT_CODE_FIELD="".concat(t,"ProductCode__c"),this.PRODUCT_NAME_FIELD="".concat(t,"ProductName__c"),this.PRORATE_MULTIPLIER_FIELD="".concat(t,"ProrateMultiplier__c"),this.QUANTITY_FIELD="".concat(t,"Quantity__c"),this.QUOTE_PROCESS_FIELD="".concat(t,"QuoteProcess__c"),this.QUOTE_PROCESS_ID_FIELD="".concat(t,"QuoteProcessId__c"),this.REGULAR_PRICE_FIELD="".concat(t,"RegularPrice__c"),this.RENEWAL_CHECKBOX="".concat(t,"Renewal__c"),this.RENEWED_ASSET_ID_FIELD="".concat(t,"RenewedAsset__c"),this.RENEWED_ASSET_RELATIONSHIP_FIELD="".concat(t,"RenewedAsset__r"),this.RENEWED_SUBSCRIPTION_RELATIONSHIP_FIELD="".concat(t,"RenewedSubscription__r"),this.REQUIRED_BY_FIELD="".concat(t,"RequiredBy__c"),this.RICH_TEXT_AREA_FIELD="".concat(t,"RichTextArea__c"),this.SEGMENT_INDEX_FIELD="".concat(t,"SegmentIndex__c"),this.SEGMENT_KEY_FIELD="".concat(t,"SegmentKey__c"),this.SEGMENT_LABEL_FIELD="".concat(t,"SegmentLabel__c"),this.SOLUTION_GROUP_ID_FIELD="".concat(t,"SolutionGroup__c"),this.SOURCE_FIELD="".concat(t,"Source__c"),this.SPECIAL_PRICE_FIELD="".concat(t,"SpecialPrice__c"),this.START_DATE_FIELD="".concat(t,"StartDate__c"),this.SUBSCRIBED_ASSET_IDS_FIELD="".concat(t,"SubscribedAssetIds__c"),this.SUBSCRIPTION_BASE_FIELD="".concat(t,"SubscriptionBase__c"),this.SUBSCRIPTION_PRICING_FIELD="".concat(t,"SubscriptionPricing__c"),this.SUBSCRIPTION_SCOPE_FIELD="".concat(t,"SubscriptionScope__c"),this.SUBSCRIPTION_TERM_FIELD="".concat(t,"SubscriptionTerm__c"),this.TARGET_CUSTOMER_AMOUNT="".concat(t,"TargetCustomerAmount__c"),this.SUBSCRIPTION_TYPE_FIELD="".concat(t,"SubscriptionType__c"),this.TARGET_CUSTOMER_AMOUNT="".concat(t,"TargetCustomerAmount__c"),this.TARGET_OBJECT_FIELD="".concat(t,"TargetObject__c"),this.TEXT_FIELD="".concat(t,"Text__c"),this.TEXT_AREA_FIELD="".concat(t,"TextArea__c"),this.TYPE_FIELD="".concat(t,"Type__c"),this.UNIT_COST_FIELD="".concat(t,"UnitCost__c"),this.UPGRADE_CONVERSION_RATE="".concat(t,"UpgradeConversionRate__c"),this.UPGRADED_ASSET_FIELD="".concat(t,"UpgradedAsset__c"),this.UPGRADED_QUANTITY="".concat(t,"UpgradedQuantity__c"),this.UPGRADED_SUBSCRIPTION_FIELD="".concat(t,"UpgradedSubscription__c"),this.UPGRADED_CONTRACT_LINE="UpgradedContractLine__c",this.UPLIFT_FIELD="".concat(t,"Uplift__c"),this.UPPER_BOUND_FIELD="".concat(t,"UpperBound__c"),this.URL_TARGET_FIELD="".concat(t,"URLTarget__c"),this.URL_FIELD="".concat(t,"URL__c"),this.RETURN_URL_FIELD="".concat(t,"ReturnURL__c"),this.USE_PRICE_FOR_AMOUNT_FIELD="".concat(t,"UsePriceForAmount__c"),this.USER_DEFINED_FIELD="".concat(t,"UserDefined__c"),this.UNOPENED_FIELD="".concat(t,"Unopened__c"),this.HAS_CONSUMPTION_SCHEDULE="".concat(t,"HasConsumptionSchedule__c"),this.CUSTOM_VALUE="Custom",this.PANEL_ADDED_INDEX=2,this.PERCENT_OF_TOTAL="Percent Of Total",this.TYPE_STANDARD="Standard",this.TYPE_YEARLY_DIMENSION="Year",this.TYPE_QUARTERLY_DIMENSION="Quarter",this.TYPE_MONTHLY_DIMENSION="Month",this.TYPE_SINGLE_DIMENSION="One-time",this.TYPE_CUSTOM_DIMENSION="Custom",this.STANDARD_LINE="STANDARD_LINE",this.SEGMENTED_LINE="SEGMENTED_LINE",this.GROUP_HEADER="GROUP_HEADER",this.GROUP_FOOTER="GROUP_FOOTER",this.PRICING_GUIDANCE_TARGET="".concat(t,"Target__c"),this.PRICING_GUIDANCE_FLOOR="".concat(t,"Floor__c"),this.PRICING_GUIDANCE_NORM="".concat(t,"Norm__c"),this.PRICING_GUIDANCE_EXPLANATION="".concat(t,"Explanation__c"),this.QUANTITY_FIELDS=new Set([this.ADDITIONAL_QUANTITY_FIELD,this.BATCH_QUANTITY,this.BUNDLED_QUANTITY_FIELD,this.EFFECTIVE_QUANTITY,this.PRIOR_QUANTITY_FIELD,this.QUANTITY_FIELD,this.UPGRADED_QUANTITY]),this.UNIT_PRICE_FIELDS=new Set([this.ADDITIONAL_DISCOUNT_FIELD,this.CUSTOMER_PRICE_FIELD,this.LIST_PRICE_FIELD,this.MARKUP_AMOUNT_FIELD,this.NET_PRICE_FIELD,this.PARTNER_PRICE_FIELD,this.REGULAR_PRICE_FIELD,this.SPECIAL_PRICE_FIELD,this.UNIT_COST_FIELD]),this.UBP_FIELDS={ConsumptionSchedule:"".concat(t,"QuoteLineConsumptionSchedule__r"),ConsumptionScheduleId:"".concat(t,"QuoteLineConsumptionSchedule__c"),ConsumptionRateFields:{UpperBound:"".concat(t,"UpperBound__c"),LowerBound:"".concat(t,"LowerBound__c"),ProcessingOrder:"".concat(t,"ProcessingOrder__c"),Price:"".concat(t,"Price__c")}},this.FIELD_SET_METADATA={Default:"".concat(t,"Default__c"),FieldSet:"".concat(t,"FieldSet__c"),ObjectType:"".concat(t,"ObjectType__c")},this.COLUMN_METADATA={FieldColumnSize:"".concat(t,"FieldColumnSize__c"),FieldName:"".concat(t,"FieldName__c"),FieldSetMetadata:"".concat(t,"FieldSetMetadata__c"),FieldSetMasterDetail:"".concat(t,"FieldSetMetadata__r"),FieldSet:"".concat(t,"FieldSet__c")},this.prefix=t,i=this}},6852:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var i=n(4473),o=n(9920);function r(t,e){t._ignoreFns.hasOwnProperty(e)&&t._ignoreFns[e](),t._ignoreFns[e]=(0,o.N7)(t._recordIds[e],t.constructor.properties[e].observing.path,(n=>{t.__data?t.set(e,n):t._detach()}))}const s=(0,i.o)((t=>class extends t{ready(){var t=this;super.ready&&super.ready(),this._ignoreFns={},this._recordIds={};for(let e in this.constructor.properties){const n=this.constructor.properties[e].observing;if(n){if(!Array.isArray(n.path))throw new Error("Expected path to be an Array. Got: ".concat(n.path));if(n.twoWay){const t="__".concat(e,"Changed");this[t]=t=>{this._recordIds.hasOwnProperty(e)&&(0,o.gz)(this._recordIds[e],n.path,t)},this._createPropertyObserver(e,t)}const i="__".concat(e,"IdChanged");if(n.hasOwnProperty("id"))this._recordIds[e]=n.id,r(this,e);else if(n.hasOwnProperty("idProperty"))this[i]=()=>{this._recordIds[e]=this.hasOwnProperty(e)?this[n.idProperty]:this.__data[n.idProperty],r(this,e)},this._createPropertyObserver(n.idProperty,i);else{const o=n.idFunction.indexOf("("),s=-1===o?null:n.idFunction.substring(0,o);this[i]=function(){t._recordIds[e]=t[s](...arguments),r(t,e)},this._createMethodObserver("".concat(i).concat(n.idFunction.substring(o)))}}}}connectedCallback(){super.connectedCallback&&super.connectedCallback();for(let t in this._recordIds)r(this,t)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._detach()}_detach(){for(let t in this._ignoreFns)this._ignoreFns[t]()}}))},8765:(t,e,n)=>{"use strict";n.d(e,{TS:()=>c,ZH:()=>l,em:()=>d,gz:()=>a});var i=n(1929),o=n(3345),r=n(9920),s=n(9584);function a(t,e,n){const o=function(t,e){if(!t.hasOwnProperty(e))throw new Error("Metadata type does not exist.");return t[e]}(s.vK,t),a=function(t,e){if(!t.fields||!t.fields.hasOwnProperty(e))throw new Error("Field does not exist in metadata.");return t.fields[e]}(o,e);!function(t,e){const n=t.type;if(n&&typeof e!==n)throw new Error("Given type does not match field metadata.")}(a,n),function(t,e){if(t.required&&(null==e||""===e))throw new Error("Field is required to have a value set.")}(a,n);let l=a.localizable?(0,i.M)(n):n;r.gz(t,[e],l)}function l(t,e){r.gz(t,[e],null)}function d(t,e){return new Promise((n=>{const i=r.N7(t,e,(t=>{setTimeout((()=>{i()})),n(t)}))}))}function c(t){for(let e in t)r.gz(e,[],(0,o.UK)(r.U2(e,[]),t[e]))}},8832:(t,e,n)=>{"use strict";n.d(e,{RM:()=>a,eZ:()=>l,h4:()=>r,z2:()=>o});const i=new Map;function o(t,e){i.has(t)||i.set(t,new Set);const n=i.get(t);return n.add(e),()=>{n.delete(e)}}function r(t,e){i.has(t)&&i.get(t).forEach((t=>{t(e)}))}const s=new Map;function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model";s.has(t)&&s.get(t)(),s.set(t,o(t[e],(n=>{t.notifyPath([e].concat(n).join("."))})))}function l(t,e,n){const i=e.length-1;e.slice(0,i).reduce(((t,e)=>t[e]),t)[e[i]]=n,r(t,e)}},5074:(t,e,n)=>{"use strict";n.r(e),n.d(e,{LineEditor:()=>Wa});var i=n(1929),o=n(4166),r=n(8401),s=n(9685),a=n(8529);class l{constructor(t,e,n){this.rules=t,this.prefix=void 0===e?"":e,this.errorStrings=n,this._setConstants()}_setConstants(){this.ACTIONS=this.prefix+"Actions__r",this.TYPE=this.prefix+"Type__c",this.PRODUCT=this.prefix+"Product__c"}_getResponseType(t){return"Add"===t||"Enable & Add"===t||"Show & Add"===t?"requiredProductIds":null}}class d{constructor(t){this.opType=t,this.testValueCache={},this.fieldValueCache={}}evaluate(t,e){if(null==t||null==e)return t==e;if(t instanceof Date)return t.getTime()===new Date(e).getTime();if("boolean"==typeof t)return t===("true"===String(e).toLowerCase());if("string"==typeof t&&"string"==typeof e){var n=e.toLowerCase(),i=t.toLowerCase();return null==this.testValueCache[n]&&(this.testValueCache[n]=this.valueFor(n)),null==this.fieldValueCache[i]&&(this.fieldValueCache[i]=this.valueFor(i)),this.testValueCache[n].equals(this.fieldValueCache[i])}return("number"==typeof t||t instanceof Number)&&t.valueOf()==e}valueFor(t){return t.indexOf(",")>-1&&0!=t.indexOf('"')&&t.lastIndexOf('"')!=t.length-1?{valueType:"Multi",valueSet:t.split(",").map((function(t){return t.trim()})),equals:function(t){return"Multi"===t.valueType?t.valueSet.some((function(t){return-1!=this.valueSet.indexOf(t)}),this):-1!=this.valueSet.indexOf(t.value)}}:{valueType:"Single",value:t,equals:function(t){return this.value===t.value}}}}class c{constructor(t){this.opType=t,this.equals=new d}evaluate(t,e){return!this.equals.evaluate(t,e)}}class u{constructor(t){this.opType=t}evaluate(t,e){if(null==t||null==e)return!1;if("number"==typeof t||t instanceof Number)return t.valueOf()>=e;if(t instanceof Date)return t>=new Date(e);if("string"==typeof t){var n=Date.parse(t),i=Date.parse(e);return n==n&&i==i?n>=i:t>=e}return!1}}class h{constructor(t){this.opType=t,this.gte=new u}evaluate(t,e){return null!=t&&null!=e&&("number"==typeof t||"string"==typeof t||t instanceof Date||t instanceof Number)&&!this.gte.evaluate(t,e)}}class p{constructor(t){this.opType=t}evaluate(t,e){if(null==t||null==e)return!1;if("number"==typeof t||t instanceof Number)return t.valueOf()>e;if(t instanceof Date)return t>new Date(e);if("string"==typeof t){var n=Date.parse(t),i=Date.parse(e);return n==n&&i==i?n>i:t.toLowerCase()>e.toLowerCase()}return!1}}class f{constructor(t){this.opType=t,this.gt=new p}evaluate(t,e){return null!=t&&null!=e&&("number"==typeof t||"string"==typeof t||t instanceof Date||t instanceof Number)&&!this.gt.evaluate(t,e)}}class b{constructor(t){this.opType=t}evaluate(t,e){return null!=t&&null!=e&&0===String(t).toLowerCase().indexOf(String(e).toLowerCase())}}class g{constructor(t){this.opType=t}evaluate(t,e){if(null==t||null==e)return!1;var n=String(t).toLowerCase(),i=String(e).toLowerCase();return-1!==n.indexOf(i,n.length-i.length)}}class m{constructor(t){this.opType=t}evaluate(t,e){if(null==t||null==e)return!1;var n=String(t).toLowerCase(),i=String(e).toLowerCase();return-1!==n.indexOf(i)}}class y{constructor(t){this.key=t,this.OP_EQ="equals",this.OP_NEQ="not equals",this.OP_LT="less than",this.OP_LTE="less or equals",this.OP_GT="greater than",this.OP_GTE="greater or equals",this.OP_SW="starts with",this.OP_EW="ends with",this.OP_CONT="contains"}getInstance(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new c(this.key);case this.OP_LT:return new h(this.key);case this.OP_LTE:return new f(this.key);case this.OP_GT:return new p(this.key);case this.OP_GTE:return new u(this.key);case this.OP_SW:return new b(this.key);case this.OP_EW:return new g(this.key);case this.OP_CONT:return new m(this.key);default:return null}}getInverseInstance(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new c(this.key);case this.OP_LT:return new p(this.key);case this.OP_LTE:return new u(this.key);case this.OP_GT:return new h(this.key);case this.OP_GTE:return new f(this.key);case this.OP_SW:return new b(this.key);case this.OP_EW:return new g(this.key);case this.OP_CONT:return new m(this.key);default:return null}}}class v{constructor(t,e,n,i){this.rules=t,this.quote=e,this.prefix=void 0===n?"":n,this.errorStrings=i,this._init()}_init(){this._setConstants(),this._setAliasedFieldsMap()}_setConstants(){this.ERROR_CONDITIONS=this.prefix+"ErrorConditions__r",this.TESTED_VARIABLE=this.prefix+"TestedVariable__c",this.CONDITIONS_MET=this.prefix+"ConditionsMet__c",this.TESTED_OBJECT=this.prefix+"TestedObject__c",this.TESTED_FIELD=this.prefix+"TestedField__c",this.FILTER_VALUE=this.prefix+"FilterValue__c",this.FILTER_TYPE=this.prefix+"FilterType__c",this.OPERATOR=this.prefix+"Operator__c",this.ACTIONS=this.prefix+"Actions__r"}_setAliasedFieldsMap(){this.aliasedFieldsMap={Quote:{"Group Line Items":this.prefix+"LineItemsGrouped__c"}}}isRuleSatisfied(t){if(!this._hasActions(t))return!1;if(!this._hasErrorConditions(t))return!0;let e=t[this.CONDITIONS_MET],n=!1;for(let i of t[this.ERROR_CONDITIONS].records||[]){let t=i[this.TESTED_VARIABLE],o=i[this.TESTED_OBJECT],r=this.packageConditionDetails(i);if("Quote"===o?n=this.evaluateCondition(i,this.quote.record,r):"Quote Line"===o&&this.quote.lineItems.length>0?n=this.evaluateCollection(i,this.quote.lineItems,r):"Quote Line Group"===o&&this.quote.lineItemGroups.length>0?n=this.evaluateCollection(i,this.quote.lineItemGroups,r):t?this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",i.Id)):this._throwError(this.errorStrings.msg_jspr_err_no_tested_object.replace("{0}",i.Id)),this._canReturnImmediately(n,e))return n}return n}packageConditionDetails(t){let e=new y(t[this.OPERATOR]).getInstance();if(null===e){let e=this.errorStrings.msg_jspr_err_invalid_operator.replace("{0}",t[this.OPERATOR]).replace("{1}",t.Id);this._throwError(e)}return"Variable"===t[this.FILTER_TYPE]&&this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",t.Id)),{op:e,filterValue:t[this.FILTER_VALUE]}}evaluateCollection(t,e,n){let i=0,o=e.length,r=!1;for(;i<o&&!r;)r=this.evaluateCondition(t,e[i++].record,n);return r}evaluateCondition(t,e,n){let i=this._getValue(t,e);return n.op.evaluate(i,n.filterValue)}_getValue(t,e){let n=t[this.TESTED_OBJECT],i=t[this.TESTED_FIELD],o=this.aliasedFieldsMap[n]&&this.aliasedFieldsMap[n][i]?this.aliasedFieldsMap[n][i]:null,r=null===o?i:o;if(Object.keys(e).indexOf(r)<0){let e=this.errorStrings.msg_jspr_err_no_tested_field.replace("{0}",t.Id).replace("{1}",t[this.TESTED_FIELD]).replace("{2}",n);this._throwError(e)}return e[r]}_throwError(t){throw{msg:t,type:"info"}}_canReturnImmediately(t,e){return!("All"!=e||t)||!("Any"!=e||!t)}_hasErrorConditions(t){return!!t[this.ERROR_CONDITIONS]}_hasActions(t){return!!t[this.ACTIONS]&&t[this.ACTIONS].totalSize>0}}class _ extends l{constructor(t,e,n,i){super(e,n,i),this._init(t)}_init(t){this.quote=t,this.response={requiredProductIds:[]},this.lineItemsById={};for(let t of this.quote.lineItems||[])this.lineItemsById[t.record[this.PRODUCT]]=t}execute(){let t=new v(this.rules,this.quote,this.prefix,this.errorStrings);for(let e of this.rules||[])if(t.isRuleSatisfied(e))for(let t of e[this.ACTIONS].records)this._conditionallyAddToResponseObject(t);return this.response}_conditionallyAddToResponseObject(t){let e=super._getResponseType(t[this.TYPE]);null!==e&&("requiredProductIds"===e&&this._productAdded(t[this.PRODUCT])||this.response[e].push(t[this.PRODUCT]))}_productAdded(t){return!!this.lineItemsById[t]}}const w=["init","isActive","isReady","addListener","removeListener","send","shutdown"];function x(t){if(!t)return!1;const e=w.map((e=>"function"==typeof t[e]));return e.reduce(((t,e)=>t&&e),!0)}function C(t){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));let e=t[0];return e&&"object"==typeof e||(e={type:"text",data:t.join(" ")}),e}class k{constructor(t,e){if(!t||!x(e))throw"Subscriber: Constructor requires 2 valid arguments (tag, channel)";this.tag=t,this.channel=e,this.callbacks=[]}init(){this.channel.init(),this.channel.addListener(this._receiveMessage.bind(this))}subscribe(t){"function"==typeof t?this.callbacks.push(t):console.error("Subscriber: subscribe() must be called with a valid function")}unsubscribe(t){const e=this.callbacks.indexOf(t);e<0?console.error("Subscriber: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(e,1)}shutdown(){this.callbacks=[],this.channel.shutdown()}_receiveMessage(t){t&&t.tag===this.tag&&this.callbacks.forEach((e=>e(t)))}}class S{constructor(t,e){if(!t||!x(e))throw"Publisher: Constructor requires 2 valid arguments (tag, channel)";this.tag=t,this.channel=e,this.msgQueue=[]}init(){this.channel.init(this._publishOnceReady.bind(this))}publish(t){if(!t)return void console.error("Publisher: publish() must be called with a valid message object argument");const e=Object.assign({},t);e.tag=this.tag,this.msgQueue.push(e),this._publishOnceReady()}shutdown(){this.msgQueue=[],this.channel.shutdown()}_publishOnceReady(){this.channel.isReady()&&(this.msgQueue.forEach((t=>this.channel.send(t))),this.msgQueue=[])}}class O{constructor(t){if(void 0===t||!t)throw"WindowChannel: Constructor requires a valid window argument";this.win=t,this.id=Math.random().toString(),this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[],this._receive=this._receive.bind(this)}init(t){if(t){if("function"!=typeof t)return void console.error("WindowChannel: init() must be undefined or called with a valid function");this.isReady()?t():this.readyCallbacks.push(t)}if(!this.active){this.active=!0;try{this.win.addEventListener("message",this._receive)}catch(t){}}}isActive(){return this.active&&!this.win.closed}isReady(){return this.isActive()&&this.ready}markReady(){this.ready=!0,this.readyCallbacks.forEach((t=>t())),this.readyCallbacks=[]}addListener(t){"function"==typeof t?this.listeners.push(t):console.error("WindowChannel: addListener() must be called with a valid function")}removeListener(t){const e=this.listeners.indexOf(t);e<0?console.error("WindowChannel: removeListener() must be called with a function previously set using addListener()"):this.listeners.splice(e,1)}send(t){if(!t)return void console.error("WindowChannel: send() must be called with a valid message object");const e=Object.assign({},t),n=this._getTargetOrigin();e.tag+="__"+this.id,this.win.postMessage(JSON.stringify(e),n)}shutdown(){this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[];try{this.win.removeEventListener("message",this._receive)}catch(t){}}_receive(t){if(!this._isValidSourceOrigin(t.origin))return void console.warn("WindowChannel: Received message from unknown source origin (".concat(t.origin,")!"));if(!t||!t.data)return;const e=JSON.parse(t.data);e.tag&&!e.tag.endsWith(this.id)&&(e.source=t.source,e.tag=e.tag.replace(/__[0-9.]+$/,""),this.listeners.forEach((t=>t(e))))}_getTargetOrigin(){return"*"}_isValidSourceOrigin(t){return!0}}const I="QuoteLogger",E="__SYN__",T="__ACK__",M={tag:I,type:E},B={tag:I,type:T};class P{static appender(){return t=>{if(this.instance){let e=C(t.data);e.timestamp=t.startTime,this.instance._publish(e)}}}static configure(){return this.appender()}static setInstance(t){this.instance&&this.instance.shutdown(),this.instance=t}constructor(t,e){this.subChannel=t,this.pubChannel=e,this.subscriber=t?new k(I,t):null,this.publisher=e?new S(I,e):null,this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}initPublisher(){if(this.publisher){if(this.pubChannel instanceof O){if(!this.subscriber)return void console.error("QuoteLogger: subChannel is required in order to initPublisher() when using WindowChannel");this.subscriber.init(),this.publisher.init(),this.subscriber.subscribe(this._receiveLog.bind(this)),this._waitForWindow()}else this.publisher.init();this.isPublisher=!0}else console.error("QuoteLogger: pubChannel is required in order to initPublisher()")}publish(){let t=C.apply(null,arguments);t.timestamp=(new Date).toString(),this._publish(t)}initSubscriber(){this.subscriber?(this.isSubscriber=!0,this.subscriber.init(),this.subscriber.subscribe(this._receiveLog.bind(this))):console.error("QuoteLogger: subChannel is required in order to initSubscriber()")}subscribe(t){this.isSubscriber?"function"==typeof t?this.callbacks.push(t):console.error("QuoteLogger: subscribe() must be called with a valid function"):console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods")}unsubscribe(t){if(!this.isSubscriber)return void console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods");const e=this.callbacks.indexOf(t);e<0?console.error("QuoteLogger: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(e,1)}shutdown(){this.subscriber&&this.subscriber.shutdown(),this.publisher&&this.publisher.shutdown(),this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}_publish(t){this.isPublisher?t.type?this.publisher.publish(t):console.error('QuoteLogger: publish() argument missing "type" property'):console.error("QuoteLogger: initPublisher() must be called prior to any publishing methods")}_receiveLog(t){if(t){if(this.subChannel instanceof O){if(t.type===E){new O(t.source).send(B)}else t.type===T&&this.isPublisher&&this.pubChannel.markReady();delete t.source}this.callbacks.forEach((e=>e(t,this)))}}_waitForWindow(){this.pubChannel.isActive()&&!this.pubChannel.isReady()&&(this.pubChannel.send(M),setTimeout(this._waitForWindow.bind(this),100))}}var D=n(1594),A=n(3345);const L={CHEVRON_DOWN_ICON:"sf-icon-chevrondown",CHEVRON_RIGHT_ICON:"sf-icon-chevronright",CHEVRON_DOWN_CONTENT:"&#xe86b;",CHEVRON_RIGHT_CONTENT:"&#xe86a;",RIGHT_ICON:"sf-icon-right",DOWN_ICON:"sf-icon-down",OPTION:"option",RIGHT:"right",CENTER:"center",OVERRIDDEN:"overridden",TOP_LEVEL:"top-level",INDENT:"sbIndent",EDITABLE:"editable",DISABLED:"disabled",BOOLEAN:"boolean",HAS_FOCUS:"sf-has-focus",EDIT_ICON:"pencil",SECONDARY:"secondary",EXPANDED:"expanded",EDIT_MODE:"editMode",SELECTION:"selection",DIRTY:"dirty",HIDE_CHECKBOX:"hideCheckbox",TAPPABLE:"tappable",LEFT_ALIGNED:"left-aligned",RIGHT_ALIGNED:"right-aligned"};class F{generateRowNode(t,e){let n=this.generateRow(t),i=document.createElement("div");return e&&Object.keys(e).forEach((t=>{i.setAttribute(t,e[t])})),i.innerHTML=n,i}generateRow(t){throw new Error("generateRow() must be implemented!")}generateFieldSetTemplate(t,e,n,i){const o=this.getColWidths(e);return this.generateInnerFieldSetTemplate(t,o,n,i)}generateSegmentedTooltipFieldSetTemplate(t,e,n){let i="<table><tbody>";return t.filter((t=>e[t]&&n.md.fieldsMap[n.constants.QUOTE_LINE]&&n.md.fieldsMap[n.constants.QUOTE_LINE][t])).forEach((t=>{i+="<tr><th>".concat(e[t],"</th><td>");let o=n.getFieldMetadata(t);i+=this.generateInnerFieldTemplate(t,o),i+="</td></tr>"})),i+="</tbody></table>",i}generateSegmentedFieldSetTemplate(t,e,n,o,r,s){const a=this.getColWidths(o,n);let l=this.generateInnerFieldSetTemplate(t,a,r,s);return i.I.isMobile||(l+=this.generateInnerFieldSetTemplate(e,a,r,s,t.length)),l}generateInnerFieldSetTemplate(t,e,n,o){let r="",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return t.forEach((t=>{let a=n.getFieldMetadata(t),l=this.getColumnClass(t),d=this.getPrimaryClass(s,o),c=D.U.isProductNameField(t)&&i.I.isBundleCollapsible(n)?"":"focusable";r+='<div tabindex="0" class$="container td sf-le-table-cell sf-le-table-row '.concat(d," ").concat(c," ").concat(l," [[_cellClasses.").concat(t,']]" '),e&&(r+='style="min-width:'.concat(e[t],"px;max-width:").concat(e[t],'px"')),r+=' index="'.concat(s,'" field="').concat(t,'" >'),r+=this.getFieldLabel(a,o),r+='<div class="r">',D.U.isProductNameField(t)&&n.isProductHierarchyVisualized()?r+=this.generateProductCell(t):r+=this.generateInnerFieldTemplate(t,n.getFieldMetadata(t)),r+="</div>",r+="</div>",s++})),r}generateProductCell(t){return""}generateInnerFieldTemplate(t,e){let n=e?e.type:null;switch(e&&"richtextarea"===e.extraTypeInfo&&(n="richtextarea"),e&&e.calculatedFormula&&e.calculatedFormula.includes("IMAGE")&&(n="image"),e&&e.calculated&&e.htmlFormatted&&(n="formulaHtml"),n){case"boolean":return this.generateCheckboxTemplate(t);case"image":return'<div class="imgFormula" inner-h-t-m-l="[['.concat(t,']]"></div>');case"richtextarea":case"formulaHtml":return'<div class="htmlField" inner-h-t-m-l="[['.concat(t,']]"></div>');case"url":return'<a href="[['.concat(t,']]" target="_blank">[[').concat(t,"]]</a>");default:return"[[".concat(t,"]]")}}generateCheckboxTemplate(t){return'<div class="checkboxcontainer">'+this.generateInnerCheckboxTemplate(t)+"</div>"}generateInnerCheckboxTemplate(t){let e=t?'checked="[['.concat(t,']]"'):"";return'<input type="checkbox" class="hidden" '.concat(e,">")+'<div class="paper-checkbox"><div class="checkmark"></div></div>'}generateColAdjBar(){return i.I.isColumnResizingEnabled&&!i.I.isMobile&&this.options.allowColumnResizing?'<span class="col-adj-bar"></span>':""}getColumnClass(t){return""}getPrimaryClass(t,e){return""}getFieldLabel(t,e){return""}getColWidths(t,e){return e?t.getDimensionColWidths(e):t.colWidth.Standard}buildRowSegmentFieldSet(t){let e=t.map(A.xn);return e.push("total"),e}static get classNames(){return L}}class q extends F{constructor(t,e){super(),this.metadata=t,this.options=e||{}}generate(t,e){let n="";return t.forEach((t=>{let i=e[t]||"";n+='<li class="detail-block" role="listitem">'+'<div class="truncate" title="'.concat(i,'">').concat(i,"</div>")+"<div ".concat(this._getAttributes(t),">")+this.generateInnerFieldTemplate(t,this._getMetadata(t))+"</div></li>"})),n}_getMetadata(t){return"function"==typeof this.metadata?this.metadata(t):this.metadata[t]}_getAttributes(t){return(this.options.attributes||'class="truncate body"').replace("$field",t)}}var N=n(9920),R=n(9584),j=n(1361),z=n(2867),H=n(8766);class U{constructor(t,e){t&&(this.lineVO=t,this.groupModel=e,this.selected=!1,this.lineItemDrawerIconClass=this._getLineItemDrawerIconClass(),this.expandedIconClass=this._getExpansionClass(),this.visible=this.isVisibleInLineEditor(),this.hasParent=this.hasParentLine(),this.bundleVisible=!0,this.setItemClassMap(),null==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]&&(this.lineVO.record[this.constants.PRICING_METHOD_FIELD]="List"),this.cellClasses={})}get editorModel(){return this.quoteModel.editorModel}set editorModel(t){this.quoteModel&&(this.quoteModel.editorModel=t)}get quoteModel(){return this.groupModel.quoteModel}get constants(){return this.editorModel.constants}get fieldNames(){return this.constants}get component(){return null!=this.lineVO.record[this.constants.OPTION_LEVEL_FIELD]}get subscription(){return null!=this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}get isMDQ(){return null!=this.lineVO.record[this.constants.SEGMENT_LABEL_FIELD]}get dynamicSubscription(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}get isCustomDimension(){return!!this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]&&"Custom"===this.quoteModel.quoteVO.multiSegmentKeys[this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]]}get dynamic(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]||"Percent Of Total"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get isBundle(){return this.bundle&&this.quoteModel.linesByParentItemKey[this.lineVO.key]}get subscriptionScopeEditable(){return this.dynamic&&null==this.lineVO.record[this.constants.COMPONENT_SUBSCRIPTION_SCOPE_FIELD]&&null==this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}get rootPackage(){return(this.bundle||this.lineVO.productPullIns&&(this.lineVO.productPullIns.hasConfiguration||this.lineVO.productPullIns.hasConfigurationAttributes))&&!this.component}get legacySupport(){return!(1==this.lineVO.record[this.constants.RENEWAL_CHECKBOX]&&1!=this.lineVO.record[this.constants.EXISTING_FIELD]&&null==this.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD])||this.editorModel.data.settings.renewalQuotesWithoutAssetsAllowed}get quantityEditable(){return(null==this.lineVO.record[this.constants.BUNDLED_QUANTITY_FIELD]||!this.component)&&this.legacySupport&&this.lineVO.productQuantityEditable||1==this.lineVO.quantityEditable}get costEditable(){return 1==this.lineVO.record[this.constants.COST_EDITABLE_FIELD]}get unitCostEditable(){return this.costEditable&&!this.bundled&&!this.dynamic}get pricingMethodList(){return"List"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodCustom(){return"Custom"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodCost(){return"Cost"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodDisabled(){return this.dynamicSubscription||this.bundled||!this.lineVO.record[this.constants.PRICING_METHOD_EDITABLE_FIELD]}get bundled(){return 1==this.lineVO.record[this.constants.BUNDLED_FIELD]}get bundle(){return 1==this.lineVO.record[this.constants.BUNDLE_FIELD]}get nonDiscountable(){return 1==this.lineVO.record[this.constants.NON_DISCOUNTABLE_FIELD]}get nonPartnerDiscountable(){return 1==this.lineVO.record[this.constants.NON_PARTNER_DISCOUNTABLE_FIELD]}get partnerDiscountEditable(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}get componentDiscountedByPackage(){return 1==this.lineVO.record[this.constants.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD]}get discountable(){return!(this.bundled||this.nonDiscountable||this.pricingMethodCustom||this.componentDiscountedByPackage)}get discountEditable(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}get removable(){return!this.component&&(!this.quoteModel.isAmendment||this.quoteModel.isAmendment&&!this.existing)}get configurable(){return this.rootPackage&&!this.lineVO.reconfigurationDisabled&&"Disabled"!=this.lineVO.configurationType&&(null==this.lineVO.configurationEvent||"Always"==this.lineVO.configurationEvent||"Edit"==this.lineVO.configurationEvent)}get listPriceEditable(){return this.lineVO.record[this.constants.PRICE_EDITABLE_FIELD]&&!this.bundled&&!this.dynamicSubscription&&this.pricingMethodList}get segmented(){return null!=this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]}get favorite(){return!this.component&&null!=this.lineVO.record[this.constants.FAVORITE_ID_FIELD]}get existing(){return this.lineVO.record[this.constants.EXISTING_FIELD]}get descriptionLocked(){return this.lineVO.descriptionLocked}get hasStandardLineItemDrawer(){return this._hasStandardLineItemDrawer()}get asset(){return null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]}get renewal(){return this.lineVO.record[this.constants.RENEWAL_CHECKBOX]}get hasSubscribedAssetIds(){return null!=this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}get isAsset(){return null!=this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]}get isDeltaQty(){return!this.existing||this.existing&&!this.renewal&&(this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]||this.asset)}get standardLineFieldNames(){return this.groupModel.standardLineFieldNames}get standardLineDrawerFieldNames(){return this.groupModel.standardLineDrawerFieldNames}get standardLineColumnWidths(){return this.editorModel.layout.colWidths[this.groupModel.groupKey].Standard}isDiscountScheduleIdExcluded(t){return this.editorModel.data.excludedDiscountScheduleIds.hasOwnProperty(t)}get discountedUnitPrice(){return this.quoteModel.quoteVO.applyAdditionalDiscountLast?this.getField(this.constants.CUSTOMER_PRICE_FIELD):this.getField(this.constants.NET_PRICE_FIELD)}getFieldMD(t){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName][t]}getField(t){return this.lineVO.record[t]}getLineVOProperty(t){return this.lineVO[t]}_getExpansionClass(){return this.segmented?this.lineVO.expanded?"sf-icon-down":"sf-icon-right":""}_hasStandardLineItemDrawer(){return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0&&!this.editorModel.deviceContext.isMobile&&!this.segmented}_getLineItemDrawerIconClass(){return this.segmented||!this.hasStandardLineItemDrawer?"":this.lineVO.expanded?"sf-icon-chevrondown":"sf-icon-chevronright"}isEditable(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lineVO.fieldEditability,n=this.getFieldMD(t);return!!n&&(e&&null!=e[t]?e[t]:("richtextarea"!==n.extraTypeInfo||!this.editorModel.deviceContext.isMobile)&&(n.name==this.constants.QUANTITY_FIELD||n.name==this.constants.ADDITIONAL_QUANTITY_FIELD?n.updateable&&this.quantityEditable:n.name==this.constants.LIST_PRICE_FIELD?n.updateable&&this.listPriceEditable:n.name==this.constants.ADDITIONAL_DISCOUNT_FIELD||n.name==this.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD||n.name==this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD?this.discountable&&this.discountEditable:n.name==this.constants.PARTNER_DISCOUNT_FIELD?!this.nonPartnerDiscountable&&this.partnerDiscountEditable:n.name==this.constants.DISTRIBUTOR_DISCOUNT_FIELD?this.discountEditable:n.name==this.constants.UPLIFT_FIELD?n.updateable&&this.lineVO.upliftable:n.name==this.constants.UNIT_COST_FIELD?n.updateable&&this.unitCostEditable:n.name==this.constants.CUSTOMER_PRICE_FIELD?n.updateable&&this.pricingMethodCustom:n.name==this.constants.PRICING_METHOD_FIELD?n.updateable&&!this.pricingMethodDisabled:n.name==this.constants.MARKUP_FIELD?!this.bundled&&this.pricingMethodCost&&this.discountEditable:n.name!=this.constants.NET_PRICE_FIELD&&(n.name!=this.constants.PARTNER_PRICE_FIELD&&(n.name==this.constants.DESCRIPTION_FIELD?!this.descriptionLocked:n.name!=this.constants.PACKAGE_PRODUCT_CODE_FIELD&&(n.name!=this.constants.PRORATED_LIST_PRICE_FIELD&&(n.name!=this.constants.REGULAR_PRICE_FIELD&&(("Evergreen"!==this.lineVO.record[this.constants.SUBSCRIPTION_TYPE_FIELD]||n.name!==this.constants.SUBSCRIPTION_TERM_FIELD&&n.name!==this.constants.END_DATE_FIELD)&&(n.name==this.constants.START_DATE_FIELD||n.name==this.constants.END_DATE_FIELD?this.subscription&&(!this.isMDQ||this.isCustomDimension):n.name===this.constants.SUBSCRIPTION_SCOPE_FIELD?n.updateable&&this.subscriptionScopeEditable:n.name!=this.constants.PRICING_GUIDANCE_FIELD&&(!!n&&n.updateable)))))))))}isFieldRendered(t,e){if(this.lineVO.fieldVisibility&&null!=this.lineVO.fieldVisibility[t])return this.lineVO.fieldVisibility[t];let n=this.getFieldMD(t);return n&&n.name==this.constants.SUBSCRIPTION_TERM_FIELD?this.subscription:!n||"richtextarea"!==n.extraTypeInfo||(!e||this.lineVO.record[t]&&e)}get serviceModel(){let t=[];if(this.segments)for(let e=0,n=this.segments.length;e<n;e++)t.push(this.segments[e].lineVO.key);else t.push(this.lineVO.key);return{keys:t,segmentKey:this.getField(this.constants.SEGMENT_KEY_FIELD),segmented:this.segmented,updateCustomSegments:!1,favIds:[this.getField(this.constants.FAVORITE_ID_FIELD)],scheduleId:this.getField(this.constants.DISCOUNT_SCHEDULE_FIELD)}}isVisibleInLineEditor(){let t=null==this.lineVO.componentVisibility||""==this.lineVO.componentVisibility||"Always"==this.lineVO.componentVisibility||"Editor Only"==this.lineVO.componentVisibility;return!(t&&null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]&&this.quoteModel.isRenewal&&this.editorModel.data.settings.renewedAssetsHiddenWhenEditing)&&t}hasParentLine(){return null!==this.lineVO.parentItemKey}addToSegmentsArray(t){this.segments||(this.segments=[]),this.segments.push(t)}removeFromSegmentsArray(t){this.segments.splice(this.segments.indexOf(t),1),0===this.segments.length&&delete this.segments}addToSegmentsByLabel(t,e){this.segmentsByLabel||(this.segmentsByLabel={}),this.segmentsByLabel[t]=e}removeFromSegmentsByLabel(t){this.segmentsByLabel[t]&&delete this.segmentsByLabel[t],0==Object.keys(this.segmentsByLabel).length&&delete this.segmentsByLabel}setLineTypeClass(){return this.bundle?"parent-line":this.component?"component":"standalone"}setItemClassMap(){let t=this.editorModel.deviceContext.isMobile,e={};for(let n in this.lineVO.record)this.isFieldRendered(n,t)||(e[n]=t?"hiddenInMobile":"hiddenInDesktop"),this.segmented&&(e[n]?e[n]+=" mdqSummaryRow":e[n]="mdqSummaryRow"),e.total="hiddenInMobile";let n=this.standardLineDrawerFieldNames||[];for(let i=0;i<n.length;i++){let o=n[i];this.lineVO.record[o]||this.isFieldRendered(o,t)||(e[o]=t?"hiddenInMobile":"hiddenInDesktop")}this.itemClassMap=e}static get recordPath(){return"lineModel.lineVO.record"}get modelType(){return"LineModel"}}var V=n(8832);class W{constructor(t,e){this.groupVO=t,this.quoteModel=e,this.standardLines=[],this.segmentedLines=[],this.dimensions=[],this.dimensionsMap={},this.segmentedLinesByDimension={},this.segmentedLinesBySegmentKey={},this.segmentedLineKeysBySegmentKey={},this.standardSubscriptionScopeEditable=!1,this.segmentedSubscriptionScopeEditable=!1,this.groupObjectName=this.constants.QUOTE_LINE_GROUP,this.summaries=this.quoteModel.grouped?this.groupVO.summaries:this.quoteModel.quoteVO.summaries,this.multiSegmentColumnTotals=this.groupVO.multiSegmentColumnTotals?this.groupVO.multiSegmentColumnTotals:this.quoteModel.quoteVO.multiSegmentColumnTotals,this.netMultiSegmentTotal=this.groupVO.netMultiSegmentTotal?this.groupVO.netMultiSegmentTotal:this.quoteModel.quoteVO.netMultiSegmentTotal,this.hasVisibleStandardLines=!1,this.hasVisibleSegmentedLines={},this.standardLineFieldNames=this._setStandardLineFieldNames(),this.groupFieldNames=this._getFieldSetNames(),this._setDrawerFields(),(0,V.z2)(this,(t=>{"lineType"!==t[0]&&(this.lineType===this.constants.TYPE_STANDARD?"standardLines"!==t[0]:"segmentedLinesByDimension"!==t[0]||t[1]!==this.lineType)||(0,V.h4)(this,["flattenedRows"])}))}get editorModel(){return this.quoteModel.editorModel}get constants(){return this.editorModel.constants}get quoteVO(){return this.quoteModel.quoteVO}get lineType(){return this._lineType||(this._lineType=this.standardLines.length>0||0===this.dimensions.length?"Standard":this.dimensions[0]),this._lineType}set lineType(t){this._lineType=t,(0,V.h4)(this,["lineType"])}get tabs(){return(0===this.dimensions.length?[]:this.standardLines.length>0?["Standard"].concat(this.dimensions):this.dimensions).map((t=>({name:t,label:this.editorModel.i18n.l(t)})))}get groupMD(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE_GROUP]}get standardLineColumnWidths(){return this.colWidth.Standard}get groupKey(){return this.groupVO.key}processQuoteLines(t){let e=new U(t,this);this.quoteModel.lineModelsByKey[e.lineVO.key]=e,e.segmented?this._addSegmentedLine(e):this._addStandardLine(e),e.lineVO.parentItemKey&&(!e.segmented||e.segmented&&e.segments)&&this.addToLinesByParentItemKey(e)}_addStandardLine(t){t.visible&&(this.hasVisibleStandardLines=!0),this.quoteModel.indexByGroupKey[t.lineVO.parentGroupKey].indexByLineKey[t.lineVO.key]=this.standardLines.length,this.standardLines.push(t),t.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.standardSubscriptionScopeEditable=!0)}_addSegmentedLine(t){let e=t.lineVO,n=e.record,i=e.key,o=n[this.constants.SEGMENT_KEY_FIELD],r=n[this.constants.SEGMENT_LABEL_FIELD],s=this.quoteVO.multiSegmentKeys?this.quoteVO.multiSegmentKeys[o]:null;if(this.segmentedLinesBySegmentKey[o])this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[i]=this.segmentedLinesBySegmentKey[o].segments.length,t.segmentedLineKey=this.segmentedLineKeysBySegmentKey[o],this.segmentedLinesBySegmentKey[o].segments.push(t),this.segmentedLinesBySegmentKey[o].segmentsByLabel[r]=t;else{t.visible&&!this.hasVisibleSegmentedLines[s]&&(this.hasVisibleSegmentedLines[s]=!0);let n=new U(e,this);this.setDimensionProperties(s),t.addToSegmentsArray(n),t.addToSegmentsByLabel(r,t),this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[i]=t.segments.length-1,n.segmentedLineKey=this.segmentedLineKeysBySegmentKey[o],this.segmentedLines.push(t),s&&(this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[o]=this.segmentedLinesByDimension[s].length,this.segmentedLinesByDimension[s].push(t),this.segmentedLinesBySegmentKey[o]=t,t.dimensionType=s)}t.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.segmentedSubscriptionScopeEditable=!0)}removeDimensionProperties(t){t&&this.segmentedLinesByDimension[t]&&0===this.segmentedLinesByDimension[t].length&&(delete this.segmentedLinesByDimension[t],this.dimensionsMap[t]&&delete this.dimensionsMap[t],this.dimensions.splice(this.dimensions.indexOf(t),1))}setDimensionProperties(t){t&&(this.dimensionsMap[t]||(this.dimensionsMap[t]=!0,this.dimensions.push(t)),this.segmentedLinesByDimension[t]||(this.segmentedLinesByDimension[t]=[]))}getDimensionColWidths(t){let e={};for(let n in this.colWidth[t])e[(0,A.xn)(n)]=this.colWidth[t][n];return e}addToLinesByParentItemKey(t){let e=this.quoteModel.linesByParentItemKey,n=this.quoteModel.standardLinesByParentItemKey,i=this.quoteModel.segmentedLinesByParentItemKey,o=t.lineVO.parentItemKey;o&&(e[o]||(e[o]=[]),e[o].push(t),t.segmented?(i[o]||(i[o]=[]),i[o].push(t)):(n[o]||(n[o]=[]),n[o].push(t)))}cloneLine(t,e,n){let o=JSON.parse(JSON.stringify(t.lineVO));o.record=JSON.parse(JSON.stringify(t.lineVO.record));let r=n||t.groupModel,s=new U(o,r);if(s.lineVO.parentItemKey=e||null,s.segmented&&!t.segmentedLineKey&&(s.segments=[],s.segmentsByLabel={}),i.I.isBundleCollapsible(t.editorModel)&&(s.bundleCollapsed=t.bundleCollapsed,s.bundleVisible=t.bundleVisible),s.lineVO.record.Id=null,null!=s.lineVO.quoteLinePricingGuidance&&s.lineVO.quoteLinePricingGuidance.record&&(s.lineVO.quoteLinePricingGuidance.record.Id=null),s.lineVO.record[this.constants.REQUIRED_BY_FIELD]=null,s.lineVO.record[this.constants.SOURCE_FIELD]=t.lineVO.record.Id||t.lineVO.record[this.constants.SOURCE_FIELD],null!=s.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]&&(s.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]=null),"Amendment"===t.editorModel.quoteModel.quoteVO.record[this.constants.TYPE_FIELD]){if(i.I.org.isServiceCloudEnabled){let t=i.I.org.scPrefix,e="".concat(t).concat(this.constants.UPGRADED_CONTRACT_LINE);s.lineVO.record[e]=null}else s.lineVO.record[this.constants.UPGRADED_SUBSCRIPTION_FIELD]=null;s.lineVO.record[this.constants.EXISTING_FIELD]=!1,s.lineVO.record[this.constants.RENEWAL_CHECKBOX]=!1,s.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]=null,s.lineVO.record[this.constants.NET_TOTAL_FIELD]=null,s.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD]=null,s.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]=null,s.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]=null}return s.lineVO.key=++s.editorModel.quoteModel.quoteVO.nextKey,n&&(s.lineVO.parentGroupKey=n.groupKey),this._updateColWidths(t),s}cloneSegmentedLine(t,e,n){let i=this.cloneLine(t,e,n),o=Math.random().toString(36).substr(2,9);i.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=o;let r=i.lineVO.record[this.constants.SEGMENT_KEY_FIELD],s=t.lineVO.record[this.constants.SEGMENT_KEY_FIELD],a=this.quoteModel.quoteVO.multiSegmentRowTotals;a&&(a[r]=a[s]),this.segmentedLinesBySegmentKey[r]=i,this.quoteVO.multiSegmentKeys[r]=i.lineVO.dimensionType;for(let e=0,o=t.segments.length;e<o;e++){let o=this.cloneLine(t.segments[e],null,n);if(o.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=r,o.lineVO.parentItemKey=i.lineVO.parentItemKey,o.segmentedLineKey=i.lineVO.key,i.segments&&i.segments.push(o),i.segmentsByLabel){let t=o.lineVO.record[this.constants.SEGMENT_LABEL_FIELD];i.segmentsByLabel[t]=o}}i.dimensionType=t.dimensionType;let l=i.dimensionType;return this.segmentedLinesByDimension[l]||this.setDimensionProperties(l),this.quoteModel.grouped&&(this._updateColWidths(t,l),this.groupVO.multiSegmentColumns[l]=t.groupModel.groupVO.multiSegmentColumns[l],this.groupVO.localizedMultiSegmentColumns[l]=t.groupModel.groupVO.localizedMultiSegmentColumns[l]),i}_updateColWidths(t,e){this.editorModel.deviceContext.isMobile||(this.colWidth||(this.colWidth={}),this.colWidth[e]||(this.colWidth[e]=t.groupModel.colWidth[e]),this.colWidth.Standard||(this.colWidth.Standard=t.groupModel.colWidth.Standard))}_groupHasStandardProducts(){this.hasVisibleStandardLines=!1;for(let t=0,e=this.standardLines.length;t<e;t++)if(this.standardLines[t].visible){this.hasVisibleStandardLines=!0;break}return this.hasVisibleStandardLines}_groupHasSegmentedProducts(){Object.keys(this.hasVisibleSegmentedLines);let t=!1;for(let e in this.segmentedLinesByDimension){this.hasVisibleSegmentedLines[e]=!1;for(let n=0,i=this.segmentedLinesByDimension[e].length;n<i;n++)if(this.segmentedLinesByDimension[e][n].visible){this.hasVisibleSegmentedLines[e]=!0,t=!0;break}}return t}_updateStandardSubscriptionScopeEditable(t){if(this.quoteModel.grouped)for(let e=0,n=this.standardLines.length;e<n;e++)if(this.standardLines[e].visible&&this.standardLines[e].subscriptionScopeEditable&&this.standardLines[e]!==t)return void(this.standardSubscriptionScopeEditable=!0);this.standardSubscriptionScopeEditable=!1}_updateSegmentedSubscriptionScopeEditable(t){if(this.quoteModel.grouped)for(let e=0,n=this.segmentedLines.length;e<n;e++)if(this.segmentedLines[e].visible&&this.segmentedLines[e].subscriptionScopeEditable&&this.segmentedLines[e]!==t)return void(this.segmentedSubscriptionScopeEditable=!0);this.segmentedSubscriptionScopeEditable=!1}get serviceModel(){return{keys:[this.groupKey],favIds:[this.groupVO.record[this.constants.FAVORITE_ID_FIELD]]}}renumberStandardIndexes(){for(let t=0,e=this.standardLines.length;t<e;t++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[this.standardLines[t].lineVO.key]=t}renumberSegmentedIndexes(){for(let e=0,n=this.dimensions.length;e<n;e++){let n=this.dimensions[e],i=this.segmentedLinesByDimension[n];for(let e=0;e<i.length;e++){var t=i[e].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[t]=e;let n=i[e].segments;for(let t=0,e=n.length;t<e;t++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[n[t].lineVO.key]=t}}}canDelete(){const t=t=>t.every((t=>!t.existing));return t(this.standardLines)&&t(this.segmentedLines)}get flattenedRows(){const t=this.lineType===this.constants.TYPE_STANDARD?this.constants.STANDARD_LINE:this.constants.SEGMENTED_LINE,e=t===this.constants.STANDARD_LINE?this.standardLines:this.segmentedLinesByDimension[this.lineType];return[{rowType:this.constants.GROUP_HEADER,model:this},...e.map((e=>({rowType:t,model:e}))),{rowType:this.constants.GROUP_FOOTER,model:this}]}_setStandardLineFieldNames(){let t=new z.u(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone");return this.fieldSet=t.getByViewport(j._.getViewport()),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this._getFields()}_getFields(){return this.standardSubscriptionScopeEditable?[this.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}_setDrawerFields(){let t=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,e=this.editorModel.deviceContext.isMobile;t&&!e?this.standardLineDrawerFieldNames=t:t&&e&&(this.standardLineFieldNames=this.standardLineFieldNames.concat(t))}toggleOptional(t){this._callChildren((e=>{(0,V.eZ)(e,["lineVO","record",this.constants.OPTIONAL_FIELD],t)}))}notifyUi(t){const e="segmentedLinesByDimension"===t[0]?it(t,this,3):"standardLines"===t[0]?it(t,this,2):null;null!==e?(0,V.h4)(e.target,e.path):(0,V.h4)(this,t)}_getFieldSetNames(){let t=this.editorModel.fieldsetMap.groupFieldNames.slice();for(let e=0,n=t.length;e<n;e++)this.isMobile||this.constants.DESCRIPTION_FIELD!=t[e]&&"Name"!=t[e]||(t.splice(e,1),e--);return t}getFieldMD(t){return this.groupMD[t]}toggleSelected(t){this._callChildren((e=>{(0,V.eZ)(e,["selected"],t)}))}resetDiscounts(){this._callChildren((t=>{(0,H.CD)(t,this.constants.ADDITIONAL_DISCOUNT_FIELD,null)}))}_callChildren(t){this.standardLines.forEach(t),this.dimensions.forEach((e=>{this.segmentedLinesByDimension[e].forEach((e=>{e.segments.forEach(t)}))}))}get modelType(){return"GroupModel"}}let Q="Renewal",G="Amendment",$="Re-Quote";class K{constructor(t,e){if(this.quoteVO=t,this.editorModel=e,this.grouped=t.record[this.constants.GROUP_LINE_ITEMS_FIELD],this.groupsByKey={},this.lineModelsByKey={},this.indexByGroupKey={},this.lineGroups=[],this.linesByParentItemKey={},this.standardLinesByParentItemKey={},this.segmentedLinesByParentItemKey={},this.selectedLinesByKey={},this.allOptional=!0,this.isPrimary=this.quoteVO.record[this.constants.PRIMARY_FIELD],this.isRenewal=this.quoteVO.record[this.constants.TYPE_FIELD]===Q,this.isAmendment=this.quoteVO.record[this.constants.TYPE_FIELD]===G,this.isChangeQuote=this.quoteVO.record[this.constants.TYPE_FIELD]===$,this.isAmendmentOrChangeQuote=this.isAmendment||this.isChangeQuote,this.hasConsumptionSchedules=this.quoteVO.hasConsumptionSchedules,this.grouped&&0==this.quoteVO.lineItemGroups.length){let t={Name:"Group".concat(1)};t[this.constants.prefix+"Number__c"]=1;let e={key:++this.quoteVO.nextKey,record:t,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},n=new W(e,this);this.quoteVO.lineItemGroups.push(e),this.groupsByKey[n.groupVO.key]=n,this.indexByGroupKey[n.groupVO.key]={index:Object.keys(this.indexByGroupKey).length,indexByLineKey:{},indexBySegmentKey:{}};let i=this.quoteVO.lineItems;for(let t=0;t<i.length;t++){i[t].parentGroupKey=n.groupVO.key}}let n=this.grouped?this.quoteVO.lineItemGroups:[{key:null,record:{}}];for(var o=0,r=n.length;o<r;o++){let t=new W(n[o],this);this.lineGroups.push(t),this.groupsByKey[t.groupVO.key]=t,this.indexByGroupKey[t.groupVO.key]={index:o,indexByLineKey:{},indexBySegmentKey:{}},this.quoteVO.nextGroupKey=t.groupVO.key+1}for(let t of this.quoteVO.lineItems)t.record[this.constants.OPTIONAL_FIELD]||(this.allOptional=!1),this.groupsByKey[t.parentGroupKey].processQuoteLines(t);i.I.isBundleCollapsible(this.editorModel)&&this._setBundleExpansionStates();let s=!0,a=()=>{s&&setTimeout((()=>{(0,V.h4)(this,["flattenedRows"]),s=!0}),0),s=!1};(0,V.z2)(this,(t=>{"lineGroups"===t[0]&&a()})),this.lineGroups.forEach((t=>{(0,V.z2)(t,(t=>{"flattenedRows"===t[0]&&a()}))}))}get constants(){return this.editorModel.constants}get quoteMD(){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteObjectName]}getFieldMD(t){return this.quoteMD[t]}renumberIndexes(t){for(let e=0,n=this.lineGroups.length;e<n;e++){let n=this.lineGroups[e].groupKey;this.indexByGroupKey[n].index=e,t&&(this.lineGroups[e].renumberStandardIndexes(),this.lineGroups[e].renumberSegmentedIndexes())}}renumber(){let t=1,e=3e3;for(let n=0,i=this.lineGroups.length;n<i;n++){let i=this.lineGroups[n];for(let o=0,r=i.dimensions.length;o<r;o++){let r=i.dimensions[o],s=i.segmentedLinesByDimension[r];for(let i=0,o=s.length;i<o;i++){let o=s[i].segments;if(s[i].visible){this.lineGroups[n].segmentedLinesByDimension[r][i].lineVO.record[this.constants.NUMBER_FIELD]=t;for(let e=0,n=o.length;e<n;e++)o[e].lineVO.record[this.constants.NUMBER_FIELD]=t;t++}else{s[i].lineVO.record[this.constants.NUMBER_FIELD]=e;for(let t=0,n=o.length;t<n;t++)o[t].lineVO.record[this.constants.NUMBER_FIELD]=e;e++}}}for(let o=0,r=i.standardLines.length;o<r;o++){i.standardLines[o].visible?(this.lineGroups[n].standardLines[o].lineVO.record[this.constants.NUMBER_FIELD]=t,t++):(i.standardLines[o].lineVO.record[this.constants.NUMBER_FIELD]=e,e++)}}}toggleOptional(t,e){this._callChildren(e,(e=>{e.toggleOptional(t)}))}resetDiscounts(t){this._callChildren(t,(t=>{t.resetDiscounts()}))}_callChildren(t,e){t?e(this.groupsByKey[t]):this.lineGroups.forEach(e)}get flattenedRows(){return[].concat(...this.lineGroups.map((t=>t.flattenedRows)))}notifyUi(t){const e="lineGroups"===t[0]?it(t,this,2):null;null!==e?e.target.notifyUi(e.path):(0,V.h4)(this,t)}setHiddenFromPSPClass(){let t={};for(let e in this.quoteVO.fieldVisibility)0==this.isFieldVisible(e)&&(t[e]="hiddenFromPSP");return t}isFieldVisible(t){if(this.quoteVO.fieldVisibility&&null!=this.quoteVO.fieldVisibility[t])return this.quoteVO.fieldVisibility[t]}_setBundleExpansionStates(){Object.keys(this.lineModelsByKey).forEach((t=>{let e=this.lineModelsByKey[t];if(e.isBundle){const t="l"+e.lineVO.key;let n=(0,N.U2)("BundleCollapsed",[t]);e.bundleCollapsed=null!=n?n:"Collapsed"===i.I.defaultBundleSetting,(0,N.gz)("BundleCollapsed",[t],e.bundleCollapsed),e.bundleCollapsed&&e.bundleVisible&&this._hideTree(e)}}))}_hideTree(t){let e=t.isBundle;e&&e.forEach((t=>{t.bundleVisible=!1,this.linesByParentItemKey[t.lineVO.key]&&this._hideTree(t)}))}get modelType(){return"QuoteModel"}}var Y=n(6416);class X{constructor(t,e,n,i){this.editorModel=t,this.record=e,this.customActionModelsByParentId=n,this.renderLocation=i,this.record&&(this.icon=this.record[this.editorModel.constants.ICON_CLASS_FIELD],this.class=this.icon?this.icon:"",this.caClass=this.record[this.editorModel.constants.CLASS_FIELD],this.location=this.record[this.editorModel.constants.LOCATION_FIELD],this.eventHandlerName=this.record[this.editorModel.constants.EVENT_HANDLER_NAME_FIELD],this.label=this.record[this.editorModel.constants.LABEL_FIELD],this.title=this.icon?this.record[this.editorModel.constants.LABEL_FIELD]:null,this.type=this.record[this.editorModel.constants.TYPE_FIELD],this.isSeparator="Separator"===this.type,this.primary=this.record[this.editorModel.constants.BRAND_BUTTON_FIELD],this.urlTarget=this.record[this.editorModel.constants.URL_TARGET_FIELD],this.url=this.record[this.editorModel.constants.URL_FIELD],this.name=this.record.Name),"Line"===this.renderLocation&&(this.class="".concat(this.class," ").concat(this.eventHandlerName," lineAction"))}isHidden(t){if(t&&(this.model=t),t&&!this._customActionsConditionsMet)return!0;if("Line"===this.renderLocation&&t)switch(this.eventHandlerName){case"onAddToFavorites":return t.favorite||t.hasParent||t.existing;case"onRemoveFromFavorites":return!t.favorite||t.existing;case"onDeleteLine":return t.hasParent||t.existing&&this.editorModel.quoteModel.isAmendment;case"onCloneLine":return t.hasParent;case"onReconfigureLine":return t.hasParent||!t.configurable;case"onResegmentLine":return!t.lineVO.productHasDimensions||t.segmented||t.existing||t.bundle;case"onDesegmentLine":return!t.lineVO.productHasDimensions||!t.segmented||t.existing||t.bundle;case"showDSModal":let e=this.editorModel.constants.DISCOUNT_SCHEDULE_FIELD;return null==t.lineVO.record[e]||t.isDiscountScheduleIdExcluded(t.lineVO.record[e]);case"onViewConsumptionSchedule":return i.I.isMobile||!t.lineVO.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]||!this.editorModel.data.settings.isUsageBasedPricingEnabled;case"onViewPricingGuidance":return!i.I.isPricingGuidanceEnabled||null==t.lineVO.quoteLinePricingGuidance||t.lineVO.quoteLinePricingGuidance.isDeleted}else{if("Quote"===this.renderLocation&&"Quote/Group"===this.location&&this.editorModel.quoteModel.grouped)return!0;switch(this.eventHandlerName){case"onUngroup":return!this.editorModel.quoteModel.grouped;case"updateLineOptional":return!this.editorModel.toggleOptionalShown||"Group"!==this.location&&"optionalAllBtn"===this.caClass===this.editorModel.quoteModel.allOptional;case"onRenewSubscriptions":return!this.editorModel.data.settings.renewSubscriptionsButtonRendered||this.editorModel.quoteModel.isAmendmentOrChangeQuote;case"onAmendSubscriptions":return!this.editorModel.quoteModel.isAmendment;case"onUpgradeAssets":return!this.editorModel.data.settings.upgradeAssetsButtonRendered;case"onDeleteLines":return!this.editorModel.data.settings.multiLineDeleteEnabled}}return!1}get _customActionsConditionsMet(){let t=this.editorModel.constants;if(!this.record||!this.record[t.CUSTOM_ACTION_CONDITIONS_FIELD])return!0;let e=e=>"Product"===e[t.TARGET_OBJECT_FIELD]?!this.model.productVO||A.Zr.arithmeticOperatorConversion(this.model.productVO.record[e[t.FIELD_FIELD]],e[t.FILTER_VALUE_FIELD],e[t.OPERATOR_FIELD]):"Quote"!==e[t.TARGET_OBJECT_FIELD]||A.Zr.arithmeticOperatorConversion(this.editorModel.quoteModel.quoteVO.record[e[t.FIELD_FIELD]],e[t.FILTER_VALUE_FIELD],e[t.OPERATOR_FIELD]),n="Any"!==this.record[t.CONDITIONS_MET_FIELD],i=this.record[t.CUSTOM_ACTION_CONDITIONS_FIELD].records;for(let t=0,o=i.length;t<o;t++)if(e(i[t])){if(!n)return!0}else if(n)return!1;return n}get hasMenu(){if(this.children||(this.children=this.customActionModelsByParentId?this.customActionModelsByParentId[this.record.Id]:null),"Menu"===this.type&&this.children&&this.children.length>0)for(let t=0,e=this.children.length;t<e;t++)if(!this.children[t].isHidden(this.model))return!0;return!1}get default(){let t=this.record[this.editorModel.constants.DEFAULT_FIELD];return this.record[this.editorModel.constants.DEFAULT_FIELD]=!1,t}get customActionId(){return this.record.Id}}class J{constructor(t,e,n){this.i18n=i.I.properties.i18n.value(),this._observers=new Map,this.data=t,this.md=e,this.fieldsetMap=Z(this.data,this.md),this.columnMetadata=this.data.columnMetadata,this.constants=new Y.g(t.developerPrefix),this.deviceContext=n?n.app.deviceContext:{},this.fieldNameSet=n?n.fieldNameSet:{},this.fieldSetNames=this.data.fieldSetNames,this.md.fieldsMap[this.data.quoteLineObjectName][this.constants.SUBSCRIPTION_SCOPE_FIELD].required=!0,this.data.excludedDiscountScheduleIds=Array.isArray(this.data.excludedDiscountScheduleIds)?this._convertExcludedDiscountScheduleIdsToObject(this.data.excludedDiscountScheduleIds):this.data.excludedDiscountScheduleIds||{},this.largeQuoteExperienceEnabled=t.settings.largeQuoteExperienceEnabled&&!this.deviceContext.isMobile,this.summarized=t.quote.summaries&&Object.keys(t.quote.summaries).length>0,this.createQuoteModel(t.quote),this.standardPrimaryMobileCols=[],this.segmentedPrimaryMobileCols=[],this.segmentedDetailsPrimaryMobileCols=[],this.toggleOptionalShown=et(this),n&&n.editorModel?(this.customActionsByLocation=n.editorModel.customActionsByLocation,this.customActionsByLocationMobile=n.editorModel.customActionsByLocationMobile,this.groupMobileMenuButtonAction=n.editorModel.groupMobileMenuButtonAction,ot(this)):nt(t.customActions,this),this.quoteCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Quote:this.customActionsByLocation.Quote,this.lineCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Line:this.customActionsByLocation.Line,this.styleQuoteAndGroupActionButtons(),this.communityPrefix=this._getCommunityPrefix(),this.scPrefix=i.I.org.scPrefix,this._verifyAdditionalDiscountUnitOptions()}get actionsOnTheLeft(){return"Left"===this.data.settings.actionsColumnPlacement}createQuoteModel(t){this.quoteModel=new K(t,this)}styleQuoteAndGroupActionButtons(){let t=t=>{let e=!0,n=this.customActionsByLocation[t],i=n[0];for(let t=0,o=n.length;t<o;t++)n[t].isHidden(this.quoteModel)||(n[t].first=e,n[t].isSeparator?(e=!0,i.last=!0):(e=!1,i=n[t],i.last=!1));i&&(i.last=!0)};t("Quote"),t("Group")}_verifyAdditionalDiscountUnitOptions(){0===this.data.additionalDiscountUnitOptions.length&&this.data.additionalDiscountUnitOptions.push({label:"%",value:"Percent"})}_getCommunityPrefix(){let t=document.location.pathname,e=t.indexOf("/apex");return e<0?"":t.substring(0,e)}getFieldMetadata(t,e){let n=this.md.fieldsMap[this.data.quoteLineObjectName][t];return e&&this.data.settings.isMultiCurrencyOrg&&"currency"===n.type&&e.CurrencyIsoCode&&(n=JSON.parse(JSON.stringify(n)),n.CurrencyIsoCode=e.CurrencyIsoCode),n}getDependentFields(t){let e=this.md.fieldsMap[this.data.quoteLineObjectName];return Object.keys(e).filter((n=>e[n].controllerName===t))}hasDrawerFields(){return this.fieldsetMap.standardLineItemDrawerFieldNames.length>0}isProductHierarchyVisualized(){return this.data.settings.productHierarchyVisualized}isMultiLineDeleteEnabled(){return this.data.settings.multiLineDeleteEnabled}_convertExcludedDiscountScheduleIdsToObject(t){if(t)return t.reduce((function(t,e){return t[e]=!0,t}),{})}}let Z=(t,e)=>{let n=tt(t.developerPrefix),i={};return n.forEach((n=>{t[n.name]?(i[n.name]=[],t[n.name].forEach((t=>{e.fieldsMap[n.table]&&e.fieldsMap[n.table][t]&&i[n.name].push(t)}))):i[n.name]=t[n.name]})),i},tt=t=>[{table:t+"QuoteLine__c",name:"lineFieldNames"},{table:t+"QuoteLine__c",name:"lineFieldNamesTablet"},{table:t+"QuoteLine__c",name:"lineFieldNamesPhone"},{table:t+"QuoteLine__c",name:"standardLineItemDrawerFieldNames"},{table:t+"QuoteLine__c",name:"multiSegmentLineFieldNames"},{table:t+"QuoteLine__c",name:"multiSegmentLineSummaryFieldNames"},{table:t+"DiscountTier__c",name:"discountScheduleModalFieldNames"},{table:t+"Quote__c",name:"quoteFieldNames"},{table:t+"QuoteLineGroup__c",name:"groupFieldNames"}],et=t=>{let e=e=>{for(let n=0,i=e.length;n<i;n++)if(e[n]===t.constants.OPTIONAL_FIELD)return!0};return e(t.fieldsetMap.lineFieldNames)||e(t.fieldsetMap.multiSegmentLineFieldNames)||e(t.fieldsetMap.standardLineItemDrawerFieldNames)},nt=(t,e)=>{e.defaultCustomActions=[];let n,i=["Quote","Group","Line"],o={Quote:[],Group:[],Line:[]},r={Quote:[],Group:[],Line:[]},s={Quote:{},Group:{},Line:{}},a=(t,a)=>{if(-1===i.indexOf(a))return;let l=new X(e,t,s[a],a);if(l.isSeparator||r[a].push(l),l.default&&e.defaultCustomActions.push(l),"onAddGroup"===l.eventHandlerName&&(n=l),t[e.constants.PARENT_CUSTOM_ACTION_FIELD]){let n=t[e.constants.PARENT_CUSTOM_ACTION_FIELD],i=s[a][n];i?i.push(l):s[a][n]=[l]}else o[a].push(l)};for(let n=0,i=t.length;n<i;n++){let i=t[n][e.constants.LOCATION_FIELD];"Quote/Group"===i?(a(t[n],"Quote"),a(t[n],"Group")):i&&"Configurator"!==i&&a(t[n],i)}if(e.customActionsByLocation=o,e.customActionsByLocationMobile=r,e.groupMobileMenuButtonAction=new X(e),e.groupMobileMenuButtonAction.children=r.Group,e.data.settings.solutionGroupsEnabled&&e.data.solutionGroups.length>0&&n){let t=e.data.solutionGroups,i=s.Quote[n.record.Id]||[];n.type="Menu";for(let n=0,o=t.length;n<o;n++){let o=new X(e,t[n]);o.type="Solution Group",o.eventHandlerName="onAddGroup",o.label=t[n].Name,i.push(o)}n.children=i}};function it(t,e,n){for(let i=0;i<n;i++){if(t.length<=1||"splices"===t[1])return null;e=e[t[0].startsWith("#")?t[0].substring(1):t[0]],t=t.slice(1)}return{path:t,target:e}}let ot=t=>{let e=function(e){for(let n in e)for(let i of e[n])i.editorModel=t};t.deviceContext.isMobile?(e(t.customActionsByLocationMobile),t.groupMobileMenuButtonAction.editorModel=t):e(t.customActionsByLocation)};var rt=n(8765);class st{constructor(t){this.data=t,this.orgUrl=this.data.settings.orgUrl,this.siteUrl=this.data.settings.siteUrl,this.proxyUrl=this.data.settings.proxyUrl,this.oik=this.data.settings.oik,this.prefix=this.data.developerPrefix?this.data.developerPrefix.slice(0,this.data.developerPrefix.indexOf("_")):"",this.constants=new Y.g(this.data.developerPrefix),this.filePath=this.siteUrl+"/resource/"+(new Date).getTime()+"/"+this.data.developerPrefix+"PrecacherUI2"}beginPrecaching(){this.sessionId=window.sb.vfSessionId,this._spoolWorkers()}_spoolWorkers(){var t=this.data.quote.record[this.constants.ACCOUNT_ID_FIELD],e=this.data.settings,n=this.data.quote,i=this.data.settings.referencedFieldMap,o=this._createWorker(),r=this._createWorkerContext("PriceRuleSequence",new Map([["accountId",t]]));o.postMessage(r);var s=this._createWorker(),a=this._createWorkerContext("MetadataSequence",new Map([["referencedFieldMap",i],["settings",e]]));s.postMessage(a);var l=this._createWorker(),d=this._createWorkerContext("DiscountAndAccountSequence",new Map([["accountId",t],["quote",n]]));l.postMessage(d);var c=this._createWorker(),u={quoteLookups:e.quoteLookups||{},groupLookups:e.groupLookups||{},lineLookups:function(){var t=e.lineLookups||{},n={},i=e.developerPrefix||"";for(var o in t)o!==i+"Product__c"&&o!==i+"ProductOption__c"&&(n[o]=t[o]);return n}()},h=this._createWorkerContext("RelatedRecordSequence",new Map([["quote",n],["referencedFieldMap",i],["lookupFieldMap",u]]));c.postMessage(h);var p=this._createWorker(),f=this._createWorkerContext("ProductSequence",new Map([["quote",n],["referencedFields",e.referencedFieldMap.Product2]]));p.postMessage(f);var b=e.developerPrefix||"",g=this._createWorker(),m=this._createWorkerContext("OptionSequence",new Map([["quote",n],["referencedFields",e.referencedFieldMap[b+"ProductOption__c"]]]));g.postMessage(m);let y=this._createWorker(),v=this._createWorkerContext("UbpSequence",new Map([["quote",n],["settings",e]]));if(y.postMessage(v),e&&e.isPricingGuidanceEnabled){let i=this._createWorker(),o=this._createWorkerContext("PricingGuidanceSequence",new Map([["accountId",t],["quote",n],["settings",e]]));i.postMessage(o)}}_createWorkerContext(t,e){var n={orgUrl:this.orgUrl,siteUrl:this.siteUrl,proxyUrl:this.proxyUrl,sessionId:this.sessionId,precacheSequence:t,prefix:this.prefix,oik:this.oik};return e&&0!=e.size&&e.forEach((function(t,e){n[e]=t})),n}_createWorker(){var t=new Worker(this.filePath),e=this._precache;return t.addEventListener("message",(function(t){t.data.successful?e(t.data.provider,t.data.uid,t.data.results):t.data.failure?console.error("Main thread received failure from precache sequence "+t.data.sequence+": "+t.data.msg):t.data.err&&console.error("Main thread received error from precache sequence "+t.data.sequence+": "+t.data.msg)})),t}_precache(t,e,n){SB&&SB.JSQCPrecacher&&(new SB.JSQCPrecacher).precacheValue(t,e,n)}}var at=n(2042);class lt{static getLocalizedValue(t,e,n){let i=t.editorModel.constants,o=t.groupModel.quoteModel.quoteVO.localizationByFieldByProductId[t.getField(i.PRODUCT)],r=t.getFieldMD(e);if(!o||!r)return;let s=t.editorModel.data.developerPrefix,a=r&&r.calculatedFormula&&0===r.calculatedFormula.indexOf("".concat(s,"Product__r"))?r.calculatedFormula.split(".")[1].replace(s,""):r.name,l=n?o[a][n]:o[a];return l?l.record[i.TEXT_FIELD]||l.record[i.TEXT_AREA_FIELD]||l.record[i.LONG_TEXT_AREA_FIELD]||l.record[i.RICH_TEXT_AREA_FIELD]:void 0}}class dt{static prepareLineData(t,e,n){let i=[];return t&&t.forEach(function(t,o){null==t.lineVO.ui_original_record&&(t.lineVO.ui_original_record=JSON.parse(JSON.stringify(t.lineVO.record)));let r=this.prepareSingleLineData(t,o,e,n);i.push(r)}.bind(this)),i}static prepareSingleLineData(t,e,n,i){let o=t.lineVO.record,r={Id:o.Id},s=t.lineVO.fieldVisibility;n.forEach(function(e){let n=i[e];r[e]=this.prepareFieldData(o,e,n,t,s),this.computeCellClass(o,e,r,t,s,n)}.bind(this)),t.hasOwnProperty("segments")&&this.prepareSegmentedLineData(t,o,r,i,s);let a=t.editorModel.constants;return r.lineNumber=o[a.NUMBER_FIELD],r.rowIndex=e,r.lineModel=t,this.prepareSelectionCheckbox(t,r),this.prepareWarningIcon(t,r),this.prepareBundleCaret(t,r),r._cellClasses||(r._cellClasses={}),r}static prepareBundleCaret(t,e){t.editorModel.isProductHierarchyVisualized()&&!t.segmented&&t.isBundle?(e._caretContent=t.bundleCollapsed?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT,i.I.isBundleCollapsible(t.editorModel)&&(e._cellClasses=e._cellClasses||{},e._cellClasses._isFocusable="focusable")):e._caretContent=""}static prepareSelectionCheckbox(t,e){t.editorModel.data.settings.multiLineDeleteEnabled&&t.component&&(e._cellClasses=e._cellClasses||{},e._cellClasses._selectionCB=F.classNames.DISABLED)}static prepareWarningIcon(t,e){!1===t.lineVO.validPricebookEntryExists&&(e.hasLineWarning=!0,t.groupModel.quoteModel.isPrimary&&0==t.lineVO.opportunityLineItemExists?(e.lineWarningKey="missingOpportunityLineItem",e.lineWarningMsg="This product will not sync to the opportunity because a valid pricebook entry does not exist."):(e.lineWarningKey="invalidPricebookEntry",e.lineWarningMsg="There is not a valid price book entry for this line item."))}static prepareFieldData(t,e,n,o,r){if(r&&!1===r[e])return"";if(D.U.isSubscriptionScopeField(e)&&!o.subscriptionScopeEditable)return"";if(o.bundled&&D.U.isListPriceField(e))return i.I.properties.i18n.value().l("Included");let s=lt.getLocalizedValue(o,e);if(s)return s;if(n){let i=this._getFieldMetadata(t,n,o),r=o.lineVO.ui_original_record;return t.Id||t.hasOwnProperty(e)||!r||r.Id||r.hasOwnProperty(e)||!i.defaultValue||(o.lineVO.ui_original_record[e]=i.defaultValue,t[e]=i.defaultValue),at.M.formatFieldData(o,t[e],i,t)}return t[e]}static _getFieldMetadata(t,e,n){let i="currency"===e.type,o=n.editorModel.constants.QUANTITY_FIELDS.has(e.name)&&null!==n.lineVO.productQuantityScale;return(i||o)&&(e=JSON.parse(JSON.stringify(e)),i&&(e.CurrencyIsoCode=t.CurrencyIsoCode),o&&(e.scale=n.lineVO.productQuantityScale)),e}static prepareSegmentedLineData(t,e,n,i,o){let r={};e.CurrencyIsoCode&&(r.CurrencyIsoCode=e.CurrencyIsoCode);let s=t.editorModel.constants;const a=t.editorModel.quoteModel.quoteVO;t.segments.forEach((t=>{let e=(0,A.xn)(t.lineVO.record[s.SEGMENT_LABEL_FIELD]);r[e]=t.discountedUnitPrice*t.lineVO.record[s.EFFECTIVE_QUANTITY]})),r.total=a.multiSegmentRowTotals[e[s.SEGMENT_KEY_FIELD]],Object.keys(r).forEach((e=>{let a=i[s.NET_TOTAL_FIELD];n[e]=this.prepareFieldData(r,e,a,t,o),this.computeCellClass(r,e,n,t,o,i[e])})),n._cellClasses._expansionIcon=t.lineVO.expanded?F.classNames.DOWN_ICON:F.classNames.RIGHT_ICON}static computeCellClass(t,e,n,o,r,s){let a="";r&&!1===r[e]||(a+=o.isEditable(e)&&!o.dimensionType?"".concat(F.classNames.EDITABLE," "):"",a+=o.itemClassMap[e]?o.itemClassMap[e]:""),r&&!1===r[e]&&s&&"boolean"===s.type&&(a+=F.classNames.HIDE_CHECKBOX+" "),o.editorModel.isProductHierarchyVisualized()&&!o.segmented&&(a+=this.computeProductHierarchyCss(e,t,o)),i.I.isBundleCollapsible(o.editorModel)&&!o.isBundle&&(a+=" focusable");const l=o.cellClasses?o.cellClasses[e]:null;if(l)for(let t in l)l[t]&&(a+=" ".concat(t));a&&(n._cellClasses=n._cellClasses||{},n._cellClasses[e]=a)}static computeProductHierarchyCss(t,e,n){let o="",r=F.classNames;return i.I.isMobile?(D.U.isProductNameField(t)||D.U.isNetTotalField(t))&&null!==e[D.U.constants.OPTION_LEVEL_FIELD]&&(o+="".concat(r.INDENT).concat(e[D.U.constants.OPTION_LEVEL_FIELD]," ")):D.U.isProductNameField(t)&&(n.isBundle||n.component||(o+="".concat(r.TOP_LEVEL," ")),n.component&&(n.isBundle||(o+="".concat(r.OPTION," ")),o+="".concat(r.INDENT).concat(e[D.U.constants.OPTION_LEVEL_FIELD]," "))),o}}var ct=n(1068),ut=n(5178);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t){const e=xt();if(!e)return Promise.resolve();const{name:n,nameSpace:i,sortField:o,sortOrder:r}=(0,N.U2)(e,[]);return vt((0,N.U2)("UBPClientState",["quoteLineOrProdId"]),pt(pt({},wt(t,o,r)),{},{category:n,nameSpace:i}),((t,e)=>It("ConsumptionServiceProvider.ConsumptionCategoryRateLoader",t,e)),St)}function gt(t){return _t(t,{categoryId:xt()},((t,e)=>It("ConsumptionServiceProvider.ConsumptionScheduleLoader",t,e)),Ot)}function mt(t,e,n){let i=(0,N.U2)(t,e);if(!i&&n){if("function"==typeof n)return n().then((n=>Promise.resolve((0,N.U2)(t,e))));throw new Error("Expecting loadFunction to be a function but got ".concat(typeof n))}return Promise.resolve(i)}function yt(t){(0,N.gz)("UBPClientState",["requestCount"],(0,N.U2)("UBPClientState",["requestCount"])+t)}function vt(t,e,n,i){return yt(1),_t(t,e,n,i).then((()=>{yt(-1)})).catch((t=>{throw yt(-1),t}))}function _t(t,e,n,i){return n(t,e).then((n=>{const o=i(n,t,e);for(let t in o)(0,N.gz)(t,[],(0,A.UK)((0,N.U2)(t,[]),o[t]))})).catch((t=>{throw(0,N.gz)("UBPClientState",["errorMsg"],[t instanceof Error?t.message:t]),t}))}function wt(t,e,n){const{quoteLineOrProdId:i,queryLimit:o,searchKeyword:r}=(0,N.U2)("UBPClientState",[]),s=[{field:e,order:n}],a="".concat(D.U.constants.prefix,"ProcessingOrder__c");return e!==a&&s.push({field:a,order:"asc"}),{quoteLineOrProdId:i,queryLimit:o,searchKeyword:r,offSet:t,sortOrders:s,currencyCode:(0,N.U2)(i,["record","CurrencyIsoCode"])}}function xt(){if(!(0,N.U2)("UBPClientState",[]))return;const{quoteLineOrProdId:t,categoryIndex:e}=(0,N.U2)("UBPClientState",[]),n=(0,N.U2)(t,["related","categoryIds"]);return n?n[e]:null}function Ct(t,e){return"".concat(t,"_").concat(e)}function kt(t,e,n){if(t.rateFieldsMd){const e=t.rateFieldsMd;let n={},i={};Object.keys(e).forEach((t=>{const o=e[t].scale?{[t]:{scale:e[t].scale}}:{};Object.assign(n,{[t]:e[t].updatable}),i=pt(pt({},i),o)})),(0,N.gz)("ConsumptionRateMetadata",["rateEditable"],n),(0,N.gz)("ConsumptionRateMetadata",["rateScale"],i)}const{field:i,order:o}=n.sortOrders[0],r=(0,N.U2)("ConsumptionRateMetadata",["rateScale"]);let s={},a=[];r?t.categories.forEach((t=>{let e=t.fields.map((t=>{const e=t.fieldPath,n=r[e]?r[e]:{};return pt(pt({},t),n)}));t.fields=e,a.push(t)})):a=t.categories;const l=a.map((t=>{let{name:n,nameSpace:r,label:a,fields:l}=t;const d=Ct(e,n);return s[d]={name:n,nameSpace:r,label:a,fields:l,sortField:i,sortOrder:o},d}));let d=[];if(t.qlFieldMD){const e=ut.C.get("describe","".concat(D.U.constants.prefix,"QuoteLine__c"),"value");e&&e.fields?t.qlFieldMD.forEach((t=>{let n=e.fields.find((e=>e.name===t.fieldPath));d.push(Object.assign(t,n||{}))})):d=t.qlFieldMD}s[e]={related:{categoryIds:l,ubpFields:d}},t.customLabels&&(s.ubpLabels=t.customLabels);const c=t.resultSet.categoryName;return s.UBPClientState={categoryIndex:l.indexOf(Ct(e,c))},(0,A.UK)(s,St(t,e,pt(pt({},n),{},{category:c})))}function St(t,e,n){let{resultSet:{totalCount:i,records:o}}=t,{offSet:r,category:s}=n;const a=Ct(e,s),l={};l[a]={rateCount:i};const d=(0,N.U2)(a,["orderedRates"])||[];return r<=d.length&&(o=o||[],l[a].orderedRates=[...d.slice(0,r),...o.map((t=>(l[t.Id]={record:t},t.Id)))]),l}function Ot(t,e,n){let{fields:i,record:o}=t,{categoryId:r}=n,s={};return s[r]={rateCardFields:i},s[e]={record:o},s}function It(t,e,n){return(new ct.S).load(i.I.org.prefix,t,e,n)}function Et(t,e,n){const i=JSON.parse(JSON.stringify(t));return e&&n.forEach((t=>{e.hasOwnProperty(t.fieldPath)&&(0,A.k2)(i,t.fieldPath.split("."),e[t.fieldPath])})),i}const Tt="loadQLE",Mt="resizeColumn",Bt="resetColumn",Pt="pricingGuidance";class Dt{constructor(){this.client=new ct.S}log(t,e,n){if("undefined"!=typeof Visualforce){n&&"object"==typeof n&&(n=JSON.stringify(n));try{const i={logLines:[{code:"qtqle",data:{recordId_qtqle:t,osName_qtqle:this._getOSType(),deviceModel_qtqle:this._getDeviceModel(),browserName_qtqle:this._getBrowserType(),eventType_qtqle:e,payload_qtqle:n}}]};this.client.requestPost("/connect/proxy/app-analytics-logging",i)}catch(t){console.error("Error invoking AppLogger.log",t)}}}maskCustomerData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*****";return!t||t.startsWith(i.I.org.prefix)?t:e}_getDeviceModel(){const t=window.navigator.userAgent;return t.indexOf("iPad")>-1?"iPad":t.indexOf("Android")>-1?"Android":t.indexOf("iPhone")>-1?"iPhone":"desktop"}_getBrowserType(){const t=window.navigator.userAgent;return t.indexOf("Edg")>-1?"Edge":t.indexOf("Chrome")>-1?"Chrome":t.indexOf("Safari")>-1?"Safari":t.indexOf("Firefox")>-1?"Firefox":null}_getOSType(){const t=window.navigator.userAgent;return t.indexOf("Win")>-1?"Windows":t.indexOf("like Mac")>-1?"iOS":t.indexOf("Mac")>-1?"Macintosh":t.indexOf("Android")>-1?"Android":t.indexOf("Linux")>-1?"Linux":null}}var At,Lt=n(5775),Ft=n(1019),qt=n(2576),Nt=n(707),Rt=n(8373),jt=n(6008),zt=n(1510);const Ht=(0,zt.f)(At||(Ut=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  --my-page-header-display: block;\n  cursor: auto;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n  color: var(--sbPageColor);\n}\n:host > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host sb-page-header[class*='--desktop'] h1 {\n  padding-right: 25px;\n}\n:host [class*='--desktop'] sb-page-header h1 {\n  padding-right: 25px;\n}\n:host .quoteFieldsContainer {\n  margin: 10px 15px 0 15px;\n}\n:host .quoteFieldsHeader {\n  display: inline-block;\n}\n:host #emptyQuote,\n:host #emptyGroupedQuote {\n  padding: 15px;\n}\n:host .maxHeight {\n  height: 100%;\n}\n:host .separator {\n  padding: 0 5px;\n}\n:host .hidden {\n  display: none;\n}\n:host #quoteTotal {\n  display: block;\n}\n:host #solutionGroupButton {\n  margin-left: 10px;\n}\n:host #quoteTabs {\n  flex-direction: column;\n  display: flex;\n  height: 100%;\n}\n:host .mobileOnly {\n  display: none;\n}\n:host .groupWrapper {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n  background-color: var(--sbPageBgColor);\n}\n:host([class*='--mobile']) {\n  --sbFooterPaddingRight: 0px;\n}\n:host #lineEditorPageHeader[class*='--mobile'] {\n  min-height: 85px !important;\n}\n:host #lineEditorPageHeader[class*='--mobile'] h1#pageLabel {\n  display: none;\n}\n:host #total[class*='--mobile'] {\n  padding: 0;\n}\n:host #solutionGroupButton.dropCursor[class*='--mobile'] {\n  margin-left: inherit;\n}\n:host .groupWrapper[class*='--mobile'] {\n  height: 0;\n}\n:host([class*='--mobile']) {\n  --sbFooterPaddingRight: 0px;\n}\n:host [class*='--mobile'] #lineEditorPageHeader {\n  min-height: 85px !important;\n}\n:host [class*='--mobile'] #lineEditorPageHeader h1#pageLabel {\n  display: none;\n}\n:host [class*='--mobile'] #total {\n  padding: 0;\n}\n:host [class*='--mobile'] #solutionGroupButton.dropCursor {\n  margin-left: inherit;\n}\n:host [class*='--mobile'] .groupWrapper {\n  height: 0;\n}\n:host #ghost {\n  position: absolute;\n  cursor: all-scroll;\n  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);\n  background: white;\n  border-bottom: none;\n  border-top: none;\n  visibility: hidden;\n  z-index: 999;\n}\n:host #ghost div {\n  position: absolute;\n  top: 30%;\n  left: 15px;\n  text-transform: uppercase;\n}\n:host #ghost sb-le-table-row {\n  background: white;\n  display: table-row-group;\n  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);\n}\n:host #qlEditorContainer {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host #qlEditorContainer > #pageBody {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host #qlEditorContainer.hidden {\n  display: none;\n}\n:host .ubpEditorContainer {\n  height: 100%;\n}\n:host .ubpEditorContainer.hidden {\n  display: none;\n}\n:host div .settings {\n  margin-left: 2px !important;\n}\n@media screen and (max-width: 801px) {\n  :host #cogButton {\n    display: none;\n  }\n}\n:host #cogMenu {\n  white-space: nowrap;\n  overflow: hidden;\n}\n:host #cogMenu paper-button.sb-line-editor {\n  font-weight: 400;\n}\n:host #cogMenu paper-button.sb-line-editor:focus:after,\n:host #cogMenu paper-button.sb-line-editor:hover {\n  background: #fff;\n}\n:host(.disable-selection) {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  cursor: no-drop;\n}\n:host(.dropCursor) {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  cursor: copy;\n}\n"],Vt||(Vt=Ut.slice(0)),At=Object.freeze(Object.defineProperties(Ut,{raw:{value:Object.freeze(Vt)}}))));var Ut,Vt,Wt,Qt=n(1305),Gt=(n(5969),n(8228),n(6190),n(6733),n(2674)),$t=n(9408),Kt=n(8518),Yt=n(8591),Xt=n(8458),Jt=n(1440),Zt=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({_template:(0,zt.d)(Wt||(Wt=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        position: fixed;\n      }\n\n      #contentWrapper ::slotted(*) {\n        overflow: auto;\n      }\n\n      #contentWrapper.animating ::slotted(*) {\n        overflow: hidden;\n        pointer-events: none;\n      }\n    </style>\n\n    <div id="contentWrapper">\n      <slot id="content" name="dropdown-content"></slot>\n    </div>\n']))),is:"iron-dropdown",behaviors:[Kt.a,$t.G,Yt.$,Xt.t],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var t=(0,Zt.vz)(this.$.content).getDistributedNodes(),e=0,n=t.length;e<n;e++)if(t[e].nodeType===Node.ELEMENT_NODE)return t[e]},ready:function(){this.scrollAction||(this.scrollAction=this.allowOutsideScroll?"refit":"lock"),this._readied=!0},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation()},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),Yt.Q._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Yt.Q._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Yt.Q._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating"),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_updateAnimationConfig:function(){for(var t=this.containedElement,e=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),n=0;n<e.length;n++)e[n].node=t;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_allowOutsideScrollChanged:function(t){this._readied&&(t?this.scrollAction&&"lock"!==this.scrollAction||(this.scrollAction="refit"):this.scrollAction="lock")},_applyFocus:function(){var t=this.focusTarget||this.containedElement;t&&this.opened&&!this.noAutoFocus?t.focus():Yt.Q._applyFocus.apply(this,arguments)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const te={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(t){if(t.timing)for(var e in t.timing)this.animationTiming[e]=t.timing[e];return this.animationTiming},setPrefixedProperty:function(t,e,n){for(var i,o={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[e],r=0;i=o[r];r++)t.style[i]=n;t.style[e]=n},complete:function(t){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({is:"fade-in-animation",behaviors:[te],configure:function(t){var e=t.node;return this._effect=new KeyframeEffect(e,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(t)),this._effect}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({is:"fade-out-animation",behaviors:[te],configure:function(t){var e=t.node;return this._effect=new KeyframeEffect(e,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(t)),this._effect}});var ee;n(3536);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ne=(0,zt.d)(ee||(ee=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      --shadow-transition: {\n        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n      };\n\n      --shadow-none: {\n        box-shadow: none;\n      };\n\n      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */\n\n      --shadow-elevation-2dp: {\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n      };\n\n      --shadow-elevation-3dp: {\n        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-4dp: {\n        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-6dp: {\n        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-8dp: {\n        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-12dp: {\n        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-16dp: {\n        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-24dp: {\n        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);\n      };\n    }\n  </style>\n</custom-style>'])));var ie;ne.setAttribute("style","display: none;"),document.head.appendChild(ne.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({is:"paper-menu-grow-height-animation",_template:null,behaviors:[te],configure:function(t){var e=t.node,n=e.getBoundingClientRect().height;return this._effect=new KeyframeEffect(e,[{height:n/2+"px"},{height:n+"px"}],this.timingFromConfig(t)),this._effect}}),(0,Jt.k)({is:"paper-menu-grow-width-animation",_template:null,behaviors:[te],configure:function(t){var e=t.node,n=e.getBoundingClientRect().width;return this._effect=new KeyframeEffect(e,[{width:n/2+"px"},{width:n+"px"}],this.timingFromConfig(t)),this._effect}}),(0,Jt.k)({is:"paper-menu-shrink-width-animation",_template:null,behaviors:[te],configure:function(t){var e=t.node,n=e.getBoundingClientRect().width;return this._effect=new KeyframeEffect(e,[{width:n+"px"},{width:n-n/20+"px"}],this.timingFromConfig(t)),this._effect}}),(0,Jt.k)({is:"paper-menu-shrink-height-animation",_template:null,behaviors:[te],configure:function(t){var e=t.node,n=e.getBoundingClientRect().height;return this.setPrefixedProperty(e,"transformOrigin","0 0"),this._effect=new KeyframeEffect(e,[{height:n+"px",transform:"translateY(0)"},{height:n/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(t)),this._effect}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var oe={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};const re=(0,Jt.k)({_template:(0,zt.d)(ie||(ie=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        padding: 8px;\n        outline: none;\n\n        @apply --paper-menu-button;\n      }\n\n      :host([disabled]) {\n        cursor: auto;\n        color: var(--disabled-text-color);\n\n        @apply --paper-menu-button-disabled;\n      }\n\n      iron-dropdown {\n        @apply --paper-menu-button-dropdown;\n      }\n\n      .dropdown-content {\n        @apply --shadow-elevation-2dp;\n\n        position: relative;\n        border-radius: 2px;\n        background-color: var(--paper-menu-button-dropdown-background, var(--primary-background-color));\n\n        @apply --paper-menu-button-content;\n      }\n\n      :host([vertical-align="top"]) .dropdown-content {\n        margin-bottom: 20px;\n        margin-top: -10px;\n        top: 10px;\n      }\n\n      :host([vertical-align="bottom"]) .dropdown-content {\n        bottom: 10px;\n        margin-bottom: -10px;\n        margin-top: 20px;\n      }\n\n      #trigger {\n        cursor: pointer;\n      }\n    </style>\n\n    <div id="trigger" on-tap="toggle">\n      <slot name="dropdown-trigger"></slot>\n    </div>\n\n    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled" expand-sizing-target-for-scrollbars="[[expandSizingTargetForScrollbars]]">\n      <div slot="dropdown-content" class="dropdown-content">\n        <slot id="content" name="dropdown-content"></slot>\n      </div>\n    </iron-dropdown>\n']))),is:"paper-menu-button",behaviors:[$t.G,Kt.a],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:oe.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:oe.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:oe.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var t=(0,Zt.vz)(this.$.content).getDistributedNodes(),e=0,n=t.length;e<n;e++)if(t[e].nodeType===Node.ELEMENT_NODE)return t[e]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(t){this.ignoreSelect||this.close()},_onIronActivate:function(t){this.closeOnActivate&&this.close()},_openedChanged:function(t,e){t?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=e&&this.fire("paper-dropdown-close")},_disabledChanged:function(t){Kt.a._disabledChanged.apply(this,arguments),t&&this.opened&&this.close()},__onIronOverlayCanceled:function(t){var e=t.detail,n=this.$.trigger;(0,Zt.vz)(e).path.indexOf(n)>-1&&t.preventDefault()}});Object.keys(oe).forEach((function(t){re[t]=oe[t]}));var se,ae=n(5374);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({_template:(0,zt.d)(se||(se=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n        padding: 8px 0;\n\n        background: var(--paper-listbox-background-color, var(--primary-background-color));\n        color: var(--paper-listbox-color, var(--primary-text-color));\n\n        @apply --paper-listbox;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"paper-listbox",behaviors:[ae.i],hostAttributes:{role:"listbox"}});n(2758),n(461),n(9229),n(8011),n(2596),n(2430),n(4589);var le,de=n(4155),ce=n(267);class ue extends Qt.H3{static get is(){return"sb-product-rules-quote-line-adder"}static get properties(){return{quote:Object,productIds:Array,groupKey:{type:Number,value:-1},response:{type:Object,notify:!0},linesAddedByRules:{type:Object,notify:!0}}}static get observers(){return["_addLinesObserver(quote, productIds)"]}ready(){super.ready(),this.$.service.addEventListener("response-changed",function(t){this.linesAddedByRules=t.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(t){t.detail.value&&(t.detail.value.validations?this.error=t.detail.value.validations:this.error=[t.detail.value.message])}.bind(this))}_addLinesObserver(t,e){if(void 0!==t&&void 0!==e)return this.addLines(t,e)}addLines(){let t=new de.J;t.add("productIds",this.productIds),null!=this.quote.targetGroupKey&&this.quote.targetGroupKey>=0&&t.add("groupKey",this.quote.targetGroupKey);let e=new ce.d(this.quote,this.productIds,this.quote.targetGroupKey);this.quote=e.reduceQuote(!1),t.addQuote("quote",this.quote),this.$.service.model=t.build(),this.quote=e.revertQuote()}static get template(){return(0,Qt.dy)(le||(le=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<sb-service id="service" saver="ProductRuleServiceProvider.QuoteLineAdder" background="true"></sb-service>\n\t\t'])))}}customElements.define(ue.is,ue);n(1481);var he=n(6634);const pe="droppableTopBorder",fe="droppableBottomBorder";let be=!1;class ge{constructor(t,e,n,i,o,r,s,a,l){this.host=t,this.keepBundleTogether=e,this.draggable=n,this.validTargets=i,this.sourceElement,this.hoverOver,this.placeHolderComp=null,this.ghostField,this.targetClass,this.dropBefore,this.usePlaceholder,this.highlightTargetPosition,this.highlightableElements=[],this.enableHighLight,this.lineEditor=document.body.querySelector("sb-page-container")?document.body.querySelector("sb-page-container").shadowRoot.querySelector("sb-line-editor"):document.body.querySelector("sb-line-editor"),this.linesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.linesByParentItemKey:null,this.standardLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.standardLinesByParentItemKey:null,this.segmentedLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.segmentedLinesByParentItemKey:null,this.ghost=null,this.ghostXOffset=null==a?60:a,this.ghostYOffset=null==l?23:l,this.handleDrag=o,this.handleTrack=r,this.handleDrop=s,this._bootstrapMetricsService()}_bootstrapMetricsService(){window.sb&&window.sb.MetricsService&&!this.metricsService&&(this.metricsService=new he.K)}_onTrack(t){let e=t.detail.x,n=t.detail.y;switch(function(t){t.stopPropagation&&t.stopPropagation();t.preventDefault&&t.preventDefault()}(t),t.detail.state){case"start":if(Math.abs(t.detail.dx)<9&&Math.abs(t.detail.dy)<4)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag start ept"),be=!0,(0,A.og)("disable-selection",!0,this.lineEditor),this.sourceElement=t.target;let i=this.sourceElement.getBoundingClientRect();this.sourceWidth=i.width,this.sourceHeight=i.height,this.handleDrag(this.sourceElement,t),this._appendGhostImage(e,n);break;case"track":if(!be)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag tracking ept");try{this._moveGhost(e,n);let i=t.detail.hover();if("sf-le-table-row"!==this.draggable||"panel"!==i.id&&!i.classList.contains("nav-item")?this._showGhost():this._hideGhost(),this.handleTrack(i),this.host._cursorFlippingDebouncer=Rt.dx.debounce(this.host._cursorFlippingDebouncer,jt.Wc.after(15),(()=>{(0,Nt.T8)(this.lineEditor,(()=>{this.hoverOver&&0!=Object.keys(this.hoverOver).length?(i!==this.previousHoverOverComp&&(0,A.og)("dropCursor",!0,this.lineEditor),this.previousHoverOverComp=this.hoverOver.comp):((0,A.og)("dropCursor",!1,this.lineEditor),this._removePlaceholder())}))})),!this.hoverOver||0==Object.keys(this.hoverOver).length)return void this._removeHighlightHover(this.previousHoverOverComp);this.host._applyPlaceholderDebouncer=Rt.dx.debounce(this.host._applyPlaceholderDebouncer,jt.Wc.after(22),(()=>{this._removePlaceholder(),this.usePlaceholder&&this.hoverOver&&0!=Object.keys(this.hoverOver).length&&this._usePlaceholder(e,n)})),this.enableHighLight&&(this._removeHighlightHover(this.previousHoverOverComp),this._highlightHover(this.hoverOver.comp))}catch(t){this.sourceElement.toggleAttribute?this.sourceElement.toggleAttribute("hidden",!1):this.sourceElement.removeAttribute("hidden"),this._removeGhost(),this._removePlaceholder(),(0,A.og)("dropCursor",!1,this.lineEditor)}break;case"end":if(!be)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag end ept"),this._removePlaceholder(),this._removeGhost(),this.hoverOver?(this.handleDrop(this.sourceElement,this.hoverOver.comp,this.targetClass,this.dropBefore),this._removeHighlightHover(this.hoverOver.comp)):this.handleDrop(this.sourceElement,null,this.targetClass,this.dropBefore),(0,A.og)("dropCursor",!1,this.lineEditor),this.sourceElement=null,this.previousHoverOverComp=null,this.hoverOver={},be=!1,(0,A.og)("disable-selection",!1,this.lineEditor)}}_appendGhostImage(t,e){let n=this._clonePolymerElement(this.sourceElement),i=n.querySelector(".loadingSpinner");i&&i.remove(),n.style.display="block";let o=t-this.ghostXOffset+"px",r=e-this.ghostYOffset+"px";this.ghost.style.width=this.sourceWidth+"px",this.ghost.style.height=this.sourceHeight+"px",this.ghost.style.left=o,this.ghost.style.top=r,this.ghost.style["z-index"]=5e4,this.ghost.style.visibility="visible",this.ghost.appendChild(n)}_moveGhost(t,e){let n=t-this.ghostXOffset+"px",i=e-this.ghostYOffset+"px";this.ghost.style.left=n,this.ghost.style.top=i}_removeGhost(){this.ghost.innerHTML="",this.ghost.style.left="",this.ghost.style.top="",this.ghost.style.width="",this.ghost.style.height="",this.ghost.style.visibility="hidden"}_hideGhost(){this.ghost.style.visibility="hidden"}_showGhost(){this.ghost.style.visibility="visible"}_findTableRowValidTarget(t){return t?this._ifParentIsValidTarget(t)&&!t.classList.contains("tfoot")&&"header"!==t.id&&"template"!==t.localName&&"sb-le-summary-row"!==t.localName?t:(0,A.GC)(t)?this._findTableRowValidTarget((0,A.GC)(t)):t.host?this._findTableRowValidTarget(t.host):t.parentNode?this._findTableRowValidTarget(t.parentNode):null:null}_updateMDQTableRowHoverOverObject(t,e){e.lineModel.dimensionType!==t.lineModel.dimensionType||this.keepBundleTogether&&t.lineModel.component&&e.lineModel.groupModel.groupKey!==t.lineModel.groupModel.groupKey?this.hoverOver=null:this.hoverOver={comp:e,phLoc:"both"}}_findSidePanelGroupValidTarget(t){if(this._ifParentIsValidTarget(t))return t;if("panel"===t.id){let e=t.querySelectorAll(".nav-item");return e[e.length-1]}return null}updateTableRowHoverOverObject(t){let e=this;if(t)if("placeholder"===t.id&&(t="before"===t.ref?e._getPreviousLineSibling(t):e._getNextLineSibling(t)),!this.keepBundleTogether&&t.lineModel)this.hoverOver={comp:t,phLoc:"both"};else if(t.lineModel){let n=t.lineModel.lineVO.key;if(_e(this.sourceElement)){if(_e(this.sourceElement))if(we(t,this.sourceElement)&&function(t,e){if(!t.lineModel||!e.lineModel)return;return t.lineModel.lineVO.key===e.lineModel.lineVO.parentItemKey}(t,e._getNextLineSibling(t)))this.hoverOver={comp:t,phLoc:"before"};else{if(!we(t,this.sourceElement))return void(this.hoverOver=null);this.hoverOver={comp:t,phLoc:"both"}}}else if(this.standardLinesByParentKey[n]||t.lineModel.component){if(!t.lineModel.bundle||t.lineModel.component)return void(this.hoverOver=null);this.hoverOver={comp:t,phLoc:"before"}}else this.hoverOver={comp:t,phLoc:"both"}}else t.classList.contains("tfoot"),this.hoverOver=null}_getNextLineSibling(t){let e=parseInt(t.getAttribute("data-index"))+1;return this._helpGetLineSibling(e,t)}_getPreviousLineSibling(t){let e=parseInt(t.getAttribute("data-index"))-1;return this._helpGetLineSibling(e,t)}_helpGetLineSibling(t,e){let n="sf-le-table-row[data-index='"+t+"']";return e.parentNode.querySelector(n)}_findParentCustomElement(t,e,n){if(!t)return null;switch(n){case"id":if(t.id===e)return t;break;case"class":if(t.classList.contains(e))return t;break;case"nodeName":if(t.nodeName===e)return t}return t.rootNode?this._findParentCustomElement(t.rootNode,e,n):t.host?this._findParentCustomElement(t.host,e,n):t.parentNode?this._findParentCustomElement(t.parentNode,e,n):null}_highlightHover(t){(0,A.og)("hoverover",!0,t)}_ifParentIsValidTarget(t){if(!t||!t.parentElement)return!1;let e=Array.from(t.parentElement.classList);for(let t=0,n=e.length;t<n;t++)if(this.validTargets.has(e[t]))return this.targetClass=e[t],!0;return!1}_removePlaceholder(){this.placeHolderComp&&this.placeHolderComp.parentElement&&(this.placeHolderComp.parentElement.removeChild(this.placeHolderComp),this.placeHolderComp=null)}_removeHighlightHover(t){t&&t.parentNode&&t.parentNode.querySelectorAll(t.localName).forEach((t=>{(0,A.og)("hoverover",!1,t)}))}_highlightDroppableBorder(t,e){let n=this.hoverOver.comp.getBoundingClientRect(),i=n.top+n.height/2,o=this.highlightableElements;switch(this.hoverOver.phLoc){case"both":if(e<i){for(let t=0,e=o.length;t<e;t++)ve(o[t]),me(o[t]);this.dropBefore=!0}else if(e>i){for(let t=0,e=o.length;t<e;t++)ve(o[t]),ye(o[t]);this.dropBefore=!1}break;case"before":for(let t=0,e=o.length;t<e;t++)ve(o[t]),me(o[t]);this.dropBefore=!0;break;case"after":for(let t=0,e=o.length;t<e;t++)ve(o[t]),ye(o[t]);this.dropBefore=!1}}_removeHighlightDroppableBorder(t){if(t)for(let e=0,n=t.length;e<n;e++)ve(t[e])}_usePlaceholder(t,e){if(this.hoverOver&&this.hoverOver.comp!==this.placeHolderComp){let t=this.hoverOver.comp.getBoundingClientRect(),n=t.top+t.height/2;if(!this.placeHolderComp){if(this.sourceElement.deepCloneNode)this.placeHolderComp=this.sourceElement.deepCloneNode(),this.placeHolderComp.hidden=!1,this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&(0,A.og)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr"));else{this.placeHolderComp=document.createElement(this.draggable),this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&(0,A.og)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr"));for(let t in this.sourceElement.properties)if("data"!==t)try{this.placeHolderComp[t]=this.sourceElement[t]}catch(t){}this.placeHolderComp.data=this.sourceElement.data}this.placeHolderComp.style.width=t.width+"px",this.placeHolderComp.style.height=t.height+"px",this.placeHolderComp.style.backgroundColor="#d8dde6"}switch(this.hoverOver.phLoc){case"both":e<n?(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0):e>n&&(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1);break;case"before":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0;break;case"after":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1}}else if(this.hoverOver&&this.hoverOver.comp===this.placeHolderComp){if(!this.placeHolderComp.hasAttribute("ref"))return;"before"===this.placeHolderComp.getAttribute("ref")?(this.hoverOver.comp=this.hoverOver.comp.previousElementSibling,this.dropBefore=!1):"after"===this.placeHolderComp.getAttribute("ref")&&(this.hoverOver.comp=this.hoverOver.comp.nextElementSibling,this.dropBefore=!0)}}_clonePolymerElement(t){if(t.deepCloneNode)return t.deepCloneNode();let e=t.cloneNode(!0);for(let n in t.properties)if("data"!==n)try{e[n]=t[n]}catch(t){}return e.data=t.data,e}}function me(t){t.classList.add(pe)}function ye(t){t.classList.add(fe)}function ve(t){t.classList.contains(pe)&&t.classList.remove(pe),t.classList.contains(fe)&&t.classList.remove(fe)}function _e(t){if(t&&t.lineModel)return t.lineModel.component}function we(t,e){if(t.lineModel&&e.lineModel)return t.lineModel.lineVO.parentItemKey===e.lineModel.lineVO.parentItemKey}var xe,Ce=n(4253),ke=n(3885),Se=n(8042);const Oe=(0,zt.f)(xe||(xe=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogContentHeight: 300px;\n}\n:host #segmentRow:hover {\n  background-color: var(--sbTableRowHoverColor);\n  border: 1px solid #5eb4ff;\n}\nsb-dialog {\n  --sbDialogContainerWidth: 60%;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n:host([class*='--mobile']) #csdDialog {\n  width: 480px;\n}\nsb-table-row[class*='--mobile'] {\n  --sb-tables-chevron-margin-top: 0px;\n  --selection-padding: 8px 0px 21px 25px;\n}\n:host([class*='--mobile']) #csdDialog {\n  width: 480px;\n}\n[class*='--mobile'] sb-table-row {\n  --sb-tables-chevron-margin-top: 0px;\n  --selection-padding: 8px 0px 21px 25px;\n}\n"])));var Ie;n(5310),n(5677),n(6802),n(4561),n(8560),n(1609),n(2724),n(4580),n(6175);const Ee=(0,zt.f)(Ie||(Ie=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n"])));var Te;class Me extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-cse-table-cell"}static get properties(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},render:{type:Boolean,value:!1},index:Number,viewport:{type:Object,value:function(){return j._.getViewport()}}}}static get observers(){return["_buildCellObserver(item, value, model, data)"]}get constants(){return this.model.groupModel.editorModel.constants}_buildCellObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.buildCell(t,e,n,i)}buildCell(){let t=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],e=this.model.groupModel.editorModel.md.fieldsMap[this.constants.QUOTE_LINE],n=[];for(let i=0;i<t.length;i++){let o=e[t[i]];n[t[i]]=o}this.editing=!0,this.viewport&&this.viewport.isMobile()&&(this.render=!0,0===this.index&&(this.editing=!1)),this.disabled=!1,this.md=n[this.item]}static get template(){return(0,Qt.dy)(Te||(Te=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div class="sb-cse-table-cell">\n\t\t\t\t<sb-field\n\t\t\t\t\t\tdevice\n\t\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\t\tproperty="[[item]]"\n\t\t\t\t\t\trender-read-only="[[render]]"\n\t\t\t\t\t\tediting="[[editing]]"\n\t\t\t\t\t\tmd="[[md]]"\n\t\t\t\t></sb-field>\n\t\t\t</div>\n\t\t'])),Ee)}}customElements.define(Me.is,Me);var Be;n(9294);class Pe extends((0,qt.J)((0,Lt.Q)((0,Ft.U)((0,ke._)(Qt.H3))))){static get is(){return"sb-custom-segment-dialog"}static get properties(){return{dataLineModels:Array,lineModels:{type:Array},groupModel:{type:Object},deletedLineKeys:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},viewport:{type:Object,value:function(){return j._.getViewport()}},headerActions:Array,headerSelected:{type:Boolean,value:!1}}}get events(){let t={};return t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}ready(){super.ready(),Object.entries({"sb-cancel-custom-segment":"_onCancel","add-tapped":"_onAddByLine","delete-tapped":"_onDeleteByLine"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.isMobile=this._isMobileViewport()}static get observers(){return["_dataChanged(dataLineModels)","_lineModelChanged(lineModels)","_handleCustomSegmentsResponseChanged(updateCustomSegmentsResponse)","_handleErrorResponseChanged(errorResponse)","_toggleAllCheckBoxes(headerSelected)"]}get constants(){return this.editorModel.constants}get quoteLineMD(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE]}get customLabels(){return this.editorModel.data.customLabels}_findTableRowValidTarget(t){return t?this._ifParentIsValidTarget(t)?t:t.parentNode?this._findTableRowValidTarget(t.parentNode):null:null}_ifParentIsValidTarget(t){return!!t.parentElement&&("swipe-header"==t.parentElement.id&&(this.targetRowElement=t.parentElement.parentElement,!0))}viewportChanged(t){this.viewport=t.detail.viewport;let e=this.dragDrop?this.dragDrop.segmentRows:null;if(e)if(this._isMobileViewport()||!i.I.isDesktop)for(let t=0,n=e.length;t<n;t++)this.listenedOnTrackHandler&&(0,Se.ys)(e[t],"track",this.listenedOnTrackHandler);else{this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this);for(let t=0,n=e.length;t<n;t++)(0,Se.NH)(e[t],"track",this.listenedOnTrackHandler)}return this.viewport&&this.viewport.isMobile()}_dataChanged(){if(!this.dataLineModels)return;this.groupModel=this.dataLineModels[0].groupModel,this.editorModel=this.groupModel.quoteModel.editorModel;let t,e=[],n=this.dataLineModels.length,i={};for(t=0;t<n;t++){let e=this.dataLineModels[t],n=JSON.parse(JSON.stringify(e.lineVO)),o=new U(n,this.groupModel);o.selected=!1,i[o.lineVO.record[this.constants.START_DATE_FIELD]]=o}let o=Object.keys(i).sort();for(t=0;t<n;t++)e.push(i[o[t]]);this.lineModels=e}_lineModelChanged(){this.lineModels&&this.lineModels.length>0&&(this.deletedLineKeys=[],this.errors=[],this._buildDialog())}_handleCustomSegmentsResponseChanged(t){t.partialVO&&(t=this._combinePartialQuoteWithFullQuote(t)),this.dispatchEvent((0,o.FU)("segmented-changed",{quoteVO:t})),this.resetData()}_combinePartialQuoteWithFullQuote(t){let e=this.groupModel.quoteModel.quoteVO,n=new Map,i=new Map;t.lineItems.forEach((t=>{i.set(t.key,t);let e=t.record[this.constants.SEGMENT_KEY_FIELD];if(e&&this._sentMDQKeys.has(e)){let i=n.get(e)||[];n.set(e,[...i,t])}}));let o=[];return e.lineItems.forEach((t=>{let e=t.record[this.constants.SEGMENT_KEY_FIELD],r=t.dimensionType;if(e&&this._sentMDQKeys.has(e)&&r&&"custom"===r.toLowerCase()){1==t.record[this.constants.SEGMENT_INDEX_FIELD]&&(o=[...o,...n.get(e)])}else i.has(t.key)?o.push(i.get(t.key)):o.push(t)})),t.lineItems=o,t.partialVO=!1,t}_handleErrorResponseChanged(){let t=this.errors||[];this.set("errors",t.push(this.errorResponse))}_onAddByLine(t){this._onAddByIndex(t.detail.index)}_onAdd(t){this.$.dialog.toggleMenu();let e=this.lineModels.length-1;this._onAddByIndex(e)}_onAddByIndex(t){let e=this.lineModels[t],n=JSON.parse(JSON.stringify(e.lineVO));n.record={},n.record[this.constants.SEGMENT_LABEL_FIELD]="",n.record[this.constants.START_DATE_FIELD]=null,n.record[this.constants.END_DATE_FIELD]=null;let i=new U(n,this.groupModel);i.lineVO.record.Id=null,i.lineVO.key=null,i.selected=!1,this.splice("lineModels",t+1,0,i),this.headerSelected=!1,this.$.segmentGroup.addEventListener("dom-change",function(t){let e=this.$.segmentRows.querySelectorAll("#segmentRow");null===e[e.length-1].model.lineVO.key&&e[e.length-1].$.row.click()}.bind(this))}_onDeleteByLine(t){this._onDeleteLineData(t.detail.index),this.headerSelected=!1}_onDelete(){let t;for(t=this.lineModels.length-1;t>0;t--){this.lineModels[t].selected&&this._onDeleteLineData(t)}this.$.dialog.toggleMenu(),this.headerSelected=!1}_onDeleteLineData(t){let e=this.lineModels[t];null!=e.lineVO.key&&this.deletedLineKeys.push(e.lineVO.key),this.splice("lineModels",t,1)}_onSave(){this._resetProperties(),this.$.dialog.toggleMenu(),this._validateCustomSegmentLabels(),this._validateCustomSegmentDates();let t=[];if(this.hasInvalidSegmentDates&&t.push(this.customLabels.msg_invalid_custom_segment_dates),this.hasInvalidSegmentLabels&&t.push(this.customLabels.msg_invalid_custom_segment_labels),this.hasNonConsecutiveDates&&t.push(this.customLabels.msg_nonsequential_custom_segment_dates),this.hasOverlappingSegments&&t.push(this.customLabels.msg_overlapping_custom_segment_dates),this.hasInvalidDateFormat&&t.push(this.customLabels.msg_invalid_date_format),this.set("errors",[]),this.set("errors",t),0==t.length){let t=this._getCustomSegmentUpdates();t.updateCustomSegments=!0;let e={quote:this._createQuoteWithoutUnaffectedLines(this.groupModel.groupKey),updateCustomSegments:t.updateCustomSegments,updatedLineKeys:t.updatedLineKeys,deletedLineKeys:this.deletedLineKeys,startDates:t.startDates,endDates:t.endDates,segmentLabels:t.segmentLabels};this.$.UpdateCustomSegmentsService.model=e}}_createQuoteWithoutUnaffectedLines(t){let e=this.groupModel.quoteModel.quoteVO;if(!this.editorModel.data.settings.usesClientCalculator)return e;e=JSON.parse(JSON.stringify(e));let n=new Set,i=new Set,o=new Set;e.lineItems.forEach((e=>{e.parentGroupKey==t&&e.dimensionType==this.constants.TYPE_CUSTOM_DIMENSION&&(n.add(e.key),o.add(e.record[this.constants.SEGMENT_KEY_FIELD]),e.record.Id&&i.add(e.record.Id))})),this._sentMDQKeys=o,e.lineItems.forEach((t=>{let e=t.record[this.constants.SOURCE_FIELD];e&&i.has(e)&&n.add(t.key)}));let r=[];return e.lineItems.forEach((t=>{n.has(t.key)&&r.push(t)})),e.lineItems=r,e.partialVO=!0,e}_onCancel(){this.errors=void 0,this.groupModel=void 0,this.deletedLineKeys=[],this._resetProperties(),this.$.dialog.toggle()}_toggleAllCheckBoxes(){if(this.lineModels){let t;for(t=this.lineModels.length-1;t>0;t--)this.set("lineModels.".concat(t,".selected"),this.headerSelected)}}resetData(){this.errors=void 0,this.deletedLineKeys=[],this._sentMDQKeys=void 0}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}_buildDialog(){this._buildFieldsMD(),this._toggleAllCheckBoxes(),this._buildRowData(),this._buildHeaderActions()}_buildFieldsMD(){let t=this.quoteLineMD,e=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],n=[];for(let i=0;i<e.length;i++)n.push(t[e[i]]);this.fields=e,this.fieldsMD=n}_buildRowData(){let t=[],e=[],n={},i={},o={},r=this.fields.length;for(let s=0;s<r;s++){this.fields[s];let r=this.fieldsMD[s],a=r.name;t.push(a);let l=r.label;e.push(l),n[a]=r.label,i[r.label.replace(/\W/g,"")]=r.type,o[a]=r.type}this.headerClassMap=new Ce.o(Object.keys(i),"Th",i,null,!0).build(),this.rowClassMap=new Ce.o(t,"Td",o).build(),this.recordKeys=t,this.fieldLabels=e,this.fieldLabelMap=n}_buildHeaderActions(){let t={icon:"sf-icon-delete",position:"right",hidden:!1,invisible:!0};this.headerActions=[t,t]}_buildRowActions(t){let e=[],n={icon:"sb-icon-plus",title:this.customLabels.lbl_add_segment,position:"right",hidden:!1,invisible:this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent((0,o.FU)("add-tapped",{index:this.index}))}},i={icon:"sf-icon-delete",title:this.customLabels.lbl_delete_custom_segments,position:"right",hidden:!1,invisible:0==t||this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent((0,o.FU)("delete-tapped",{index:this.index}))}};return e.push(n),e.push(i),e}_hideSelection(t){return 0===t?{hidden:!0,type:"invisible"}:null}_getCustomSegmentUpdates(){let t={updatedLineKeys:[],startDates:[],endDates:[],segmentLabels:[]},e=this.lineModels.length;for(let n=0;n<e;n++){let e=this.lineModels[n].lineVO,i=this.lineModels[n].lineVO.record;t.updatedLineKeys.push(e.key),t.segmentLabels.push(i[this.constants.SEGMENT_LABEL_FIELD]),t.startDates.push(i[this.constants.START_DATE_FIELD]),t.endDates.push(i[this.constants.END_DATE_FIELD])}return t}_validateCustomSegmentLabels(){this.hasInvalidSegmentLabels=!1;let t={},e=this.lineModels.length;for(let n=0;n<e;n++){let e=this.lineModels[n].lineVO.record[this.constants.SEGMENT_LABEL_FIELD];if(null==e||""===e.trim())return void(this.hasInvalidSegmentLabels=!0);if(t[e])return void(this.hasInvalidSegmentLabels=!0);t[e]=!0}}_validateCustomSegmentDates(){let t=this.lineModels.length;for(let e=0;e<t;e++){let t=this.lineModels[e].lineVO,n=t.record[this.constants.START_DATE_FIELD],i=t.record[this.constants.END_DATE_FIELD],o=new Date(n),r=new Date(i);if(null==n||null==i)return void(this.hasInvalidDateFormat=!0);if(o>r)return void(this.hasInvalidSegmentDates=!0);if(e-1>=0){let t=this.lineModels[e-1].lineVO,n=new Date(t.record[this.constants.END_DATE_FIELD]),i=Date.parse(new Date(n.getFullYear(),n.getMonth(),n.getDate()+1)),r=Date.parse(new Date(o.getFullYear(),o.getMonth(),o.getDate()));if(this.editorModel.data.settings.allowsNonConsecutiveCustomSegments){if(o<=n)return void(this.hasOverlappingSegments=!0)}else if(i!=r)return void(this.hasNonConsecutiveDates=!0)}}}_resetProperties(){this.set("errors",[]),this.headerSelected=!1,this.hasInvalidSegmentLabels=!1,this.hasInvalidSegmentDates=!1,this.hasNonConsecutiveDates=!1,this.hasOverlappingSegments=!1,this.hasInvalidDateFormat=!1}static get template(){return(0,Qt.dy)(Be||(Be=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-service\n\t\t\t\tid="UpdateCustomSegmentsService"\n\t\t\t\tsaver="QuoteLineEditorServiceProvider.EditorSegmentLine"\n\t\t\t\tcache="LineEditor"\n\t\t\t\tresponse={{updateCustomSegmentsResponse}}\n\t\t\t\terror="{{errorResponse}}">\n\t\t\t</sb-service>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog" modal="true" close-dialog="sb-cancel-custom-segment">\n\t\t\t\t\t<span slot="icon" class="sb-icon-pencil icon"></span>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Custom Segments</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<div class="datatable" id="segmentTable">\n\n\t\t\t\t\t\t\t\x3c!-- Segment Group Header --\x3e\n\t\t\t\t\t\t\t<div class="thead" id="segmentHeader">\n\t\t\t\t\t\t\t\t\x3c!-- Version 0: Using sb-table-header --\x3e\n\t\t\t\t\t\t\t\t<sb-table-header id="header"\n\t\t\t\t\t\t\t\t\tselectable="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\tselected = "{{headerSelected}}"\n\t\t\t\t\t\t\t\t\tcols="[[fieldLabels]]"\n\t\t\t\t\t\t\t\t\theader-class-map="[[headerClassMap]]"\n\t\t\t\t\t\t\t\t\theader-actions="[[headerActions]]">\n\t\t\t\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t\t\t\t\x3c!-- Segment Group Content --\x3e\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="tbody sb-droppable-custom-segment-table" id="segmentRows">\n\t\t\t\t\t\t\t\t<template id="segmentGroup" is="dom-repeat" items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t\t<div style="overflow-x: hidden; overflow-y: hidden;">\n\t\t\t\t\t\t\t\t\t\t<sb-table-row\tid="segmentRow"\n\t\t\t\t\t\t\t\t\t\t\tcell="sb-cse-table-cell"\n\t\t\t\t\t\t\t\t\t\t\trow-data="{{lineModel.lineVO.record}}"\n\t\t\t\t\t\t\t\t\t\t\tcols="[[recordKeys]]"\n\t\t\t\t\t\t\t\t\t\t\tcols-display="[[fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\t\t\tmodel="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'[["Name"]]\'\n\t\t\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\t\t\tselectable="true"\n\t\t\t\t\t\t\t\t\t\t\tselected = "{{lineModel.selected}}"\n\t\t\t\t\t\t\t\t\t\t\thide-selection="[[_hideSelection(index)]]"\n\t\t\t\t\t\t\t\t\t\t\trow-class-map="[[rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\t\trow-actions="[[_buildRowActions(index)]]"\n\t\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\troute-source="lineEditor"\n\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\tselection-class="zone">\n\t\t\t\t\t\t\t\t\t\t</sb-table-row>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<template is="dom-if" if="![[groupModel.quoteModel.isAmendment]]">\n\t\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" id="save"  on-click="_onSave" ><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="delete" on-click="_onDelete"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="add" on-click="_onAdd"><sb-i18n>Add</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>'])),Oe)}}customElements.define(Pe.is,Pe);var De;n(3510);const Ae=(0,zt.f)(De||(De=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 400px;\n  --sbDialogMinWidth: 700px;\n  --sbSelectMinWidth: 100%;\n  --sbSelectMinHeight: 36px;\n  --sbDialogContentTextAlign: center;\n  --sbDialogContentPadding: 30px 20px;\n  --sbDialogContentFontSize: 17px;\n}\n"])));var Le;class Fe extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-pricebook-dialog"}static get properties(){return{pricebooks:Array,selectedPricebook:String,error:{type:Object,observer:"_onError"}}}ready(){super.ready(),this.$.select.addEventListener("change",function(t){t.detail&&(this.selectedPricebook=t.detail.value)}.bind(this)),this.$.dialog.addEventListener("sb-close-dialog",this.onCancel.bind(this))}_onError(){this.error&&(0,o.BX)(o.zW.GENERIC_ERROR,{errorMessage:this.error.message||this.error})}open(){this.$.pricebookLoaderService.addEventListener("response-changed",function(t){let e=[],n=t.detail.value,i=n.length;if(!1!==n.success){for(let t=0;t<i;t++)e.push({value:n[t].Id,label:n[t].Name,selected:!1});e[0].selected=!0,this.selectedPricebook=e[0].value,this.$.select.value=this.selectedPricebook,this.$.select.isRequired=!0,this.pricebooks=e,this.$.dialog.toggle()}else this.error=n.error}.bind(this)),this.$.pricebookLoaderService.uid="",this.$.pricebookLoaderService.context=""}onSave(){this.$.pricebookSaverService.addEventListener("response-changed",function(t){this.dispatchEvent((0,o.FU)("pricebook-saved",t.detail.value))}.bind(this)),this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]=this.selectedPricebook,this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_LOOKUP_ID_FIELD]=this.selectedPricebook,this.$.pricebookSaverService.model=(new de.J).add("pricebookId",this.selectedPricebook).add("quoteId",this.editorModel.quoteModel.quoteVO.record.Id).add("oppId",this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.OPPORTUNITY_ID_FIELD]).build(),this.$.dialog.toggle()}onCancel(){this.dispatchEvent((0,o.FU)("le-action-tapped",{customAction:{eventHandlerName:"onCancel"}}))}static get template(){return(0,Qt.dy)(Le||(Le=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t\n\t\t\t<sb-service id="pricebookLoaderService" loader="QuoteLineEditorServiceProvider.PricebookLoader" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="pricebookSaverService" saver="QuoteLineEditorServiceProvider.PricebookSaver" error="{{error}}"></sb-service>\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog" modal="true" hide-close-icon="true">\n\t\t\t\t\t<div slot="title" class="title"><sb-i18n>Choose Price Book</sb-i18n></div>\n\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-select id="select" options="[[pricebooks]]"></sb-select>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Ae)}}customElements.define(Fe.is,Fe);var qe,Ne=n(8544);n(6679),n(8374),n(3296),n(8719);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Re=(0,zt.d)(qe||(qe=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      /* Shared Styles */\n      --paper-font-common-base: {\n        font-family: 'Roboto', 'Noto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-code: {\n        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-expensive-kerning: {\n        text-rendering: optimizeLegibility;\n      };\n\n      --paper-font-common-nowrap: {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      };\n\n      /* Material Font Styles */\n\n      --paper-font-display4: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 112px;\n        font-weight: 300;\n        letter-spacing: -.044em;\n        line-height: 120px;\n      };\n\n      --paper-font-display3: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 56px;\n        font-weight: 400;\n        letter-spacing: -.026em;\n        line-height: 60px;\n      };\n\n      --paper-font-display2: {\n        @apply --paper-font-common-base;\n\n        font-size: 45px;\n        font-weight: 400;\n        letter-spacing: -.018em;\n        line-height: 48px;\n      };\n\n      --paper-font-display1: {\n        @apply --paper-font-common-base;\n\n        font-size: 34px;\n        font-weight: 400;\n        letter-spacing: -.01em;\n        line-height: 40px;\n      };\n\n      --paper-font-headline: {\n        @apply --paper-font-common-base;\n\n        font-size: 24px;\n        font-weight: 400;\n        letter-spacing: -.012em;\n        line-height: 32px;\n      };\n\n      --paper-font-title: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 20px;\n        font-weight: 500;\n        line-height: 28px;\n      };\n\n      --paper-font-subhead: {\n        @apply --paper-font-common-base;\n\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n      };\n\n      --paper-font-body2: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-body1: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 20px;\n      };\n\n      --paper-font-caption: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 12px;\n        font-weight: 400;\n        letter-spacing: 0.011em;\n        line-height: 20px;\n      };\n\n      --paper-font-menu: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 13px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-button: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 14px;\n        font-weight: 500;\n        letter-spacing: 0.018em;\n        line-height: 24px;\n        text-transform: uppercase;\n      };\n\n      --paper-font-code2: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 700;\n        line-height: 20px;\n      };\n\n      --paper-font-code1: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 20px;\n      };\n\n    }\n\n  </style>\n</custom-style>"])));Re.setAttribute("style","display: none;"),document.head.appendChild(Re.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const je=document.createElement("template");je.setAttribute("style","display: none;"),je.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(je.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ze=[n(6717).P,Kt.a,{hostAttributes:{role:"option",tabindex:"0"}}];var He,Ue;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({_template:(0,zt.d)(He||(He=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style include="paper-item-shared-styles">\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n      }\n    </style>\n    <slot></slot>\n']))),is:"paper-item",behaviors:[ze]});const Ve=(0,zt.f)(Ue||(Ue=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .notFirst,\n:host .sf-icon-down:not(.mobileGroupMenu) {\n  border-left: inherit;\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n}\n:host .notLast {\n  border-top-right-radius: inherit;\n  border-bottom-right-radius: inherit;\n}\n:host span {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host #menuButton {\n  -webkit-tap-highlight-color: transparent;\n}\n:host #menuButton paper-listbox {\n  padding: 6px 20px;\n  font-family: inherit;\n  text-align: left;\n  margin: 2px;\n  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);\n}\n:host #menuButton paper-item {\n  font-family: inherit;\n  font-size: var(--sbFontSizeDefault);\n  white-space: nowrap;\n  min-height: inherit;\n  line-height: 24px;\n}\n:host #menuButton paper-item.iron-selected {\n  font-weight: normal;\n}\n:host #menuButton paper-item:focus:before,\n:host #menuButton paper-item:focus:after {\n  opacity: 0;\n  height: 0px;\n}\n:host .sbToolSeparator {\n  padding-left: 10px;\n}\n:host .primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host .primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host .groupButton {\n  margin-left: -3px;\n  z-index: 1;\n}\n:host .groupMenu {\n  margin-left: -4px;\n}\n:host .lineAction:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .dropdown-content {\n  padding-top: 12px;\n}\n@media screen and (max-width: 800px) {\n  :host paper-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n  :host paper-menu-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host paper-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host paper-menu-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host .lineAction[class*='--mobile'] {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host .lineAction.sb-icon-star-empty[class*='--mobile']:before {\n  content: '\\e824';\n}\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host .lineAction.onAddToFavorites[class*='--mobile'],\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host .lineAction.onDeleteLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host .lineAction.onCloneLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host .lineAction.onReconfigureLine[class*='--mobile'],\n:host .lineAction.onResegmentLine[class*='--mobile'],\n:host .lineAction.onDesegmentLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host .lineAction.showDSModal[class*='--mobile'] {\n  background-color: #b1a445;\n}\n:host .lineAction.undefined[class*='--mobile'] {\n  background-color: black;\n}\n:host span[class^='sb-icon'][class*='--mobile'],\n:host span[class^='sf-icon'][class*='--mobile'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host [class*='--mobile'] paper-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] paper-menu-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] .lineAction {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host [class*='--mobile'] .lineAction.sb-icon-star-empty:before {\n  content: '\\e824';\n}\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host [class*='--mobile'] .lineAction.onAddToFavorites,\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host [class*='--mobile'] .lineAction.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host [class*='--mobile'] .lineAction.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host [class*='--mobile'] .lineAction.onReconfigureLine,\n:host [class*='--mobile'] .lineAction.onResegmentLine,\n:host [class*='--mobile'] .lineAction.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host [class*='--mobile'] .lineAction.showDSModal {\n  background-color: #b1a445;\n}\n:host [class*='--mobile'] .lineAction.undefined {\n  background-color: black;\n}\n:host [class*='--mobile'] span[class^='sb-icon'],\n:host [class*='--mobile'] span[class^='sf-icon'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host paper-listbox {\n  background-color: var(--sbBtnBgColor);\n  overflow: auto;\n}\n:host span:not(.lineAction) {\n  color: var(--sbBtnColor);\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .notFirst,\n:host .sf-icon-down:not(.mobileGroupMenu) {\n  border-left: inherit;\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n}\n:host .notLast {\n  border-top-right-radius: inherit;\n  border-bottom-right-radius: inherit;\n}\n:host span {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host #menuButton {\n  -webkit-tap-highlight-color: transparent;\n}\n:host #menuButton paper-listbox {\n  padding: 6px 20px;\n  font-family: inherit;\n  text-align: left;\n  margin: 2px;\n  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);\n}\n:host #menuButton paper-item {\n  font-family: inherit;\n  font-size: var(--sbFontSizeDefault);\n  white-space: nowrap;\n  min-height: inherit;\n  line-height: 24px;\n}\n:host #menuButton paper-item.iron-selected {\n  font-weight: normal;\n}\n:host #menuButton paper-item:focus:before,\n:host #menuButton paper-item:focus:after {\n  opacity: 0;\n  height: 0px;\n}\n:host .sbToolSeparator {\n  padding-left: 10px;\n}\n:host .primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n:host .primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\n:host .groupButton {\n  margin-left: -3px;\n  z-index: 1;\n}\n:host .groupMenu {\n  margin-left: -4px;\n}\n:host .lineAction:hover {\n  color: var(--sbIconHoverColor);\n}\n:host .dropdown-content {\n  padding-top: 12px;\n}\n@media screen and (max-width: 800px) {\n  :host paper-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n  :host paper-menu-button:not(.mobileGroupMenu) {\n    display: inherit;\n    text-align: left;\n    width: 100%;\n    border: 0;\n  }\n}\n:host paper-tooltip[class*='--mobile'] {\n  display: none;\n}\n:host paper-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host paper-menu-button[class*='--mobile']:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host .lineAction[class*='--mobile'] {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host .lineAction.sb-icon-star-empty[class*='--mobile']:before {\n  content: '\\\\e824';\n}\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host .lineAction.onAddToFavorites[class*='--mobile'],\n:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host .lineAction.onDeleteLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host .lineAction.onCloneLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host .lineAction.onReconfigureLine[class*='--mobile'],\n:host .lineAction.onResegmentLine[class*='--mobile'],\n:host .lineAction.onDesegmentLine[class*='--mobile'] {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host .lineAction.showDSModal[class*='--mobile'] {\n  background-color: #b1a445;\n}\n:host .lineAction.undefined[class*='--mobile'] {\n  background-color: black;\n}\n:host span[class^='sb-icon'][class*='--mobile'],\n:host span[class^='sf-icon'][class*='--mobile'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host [class*='--mobile'] paper-tooltip {\n  display: none;\n}\n:host [class*='--mobile'] paper-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] paper-menu-button:not(.mobileGroupMenu) {\n  display: inherit;\n  text-align: left;\n  width: 100%;\n  border: 0;\n}\n:host [class*='--mobile'] .lineAction {\n  color: var(--sbIconMobileLineActionColor);\n  border-radius: 50%;\n  padding: 3px 6px;\n  margin-left: 5px;\n}\n:host [class*='--mobile'] .lineAction.sb-icon-star-empty:before {\n  content: '\\\\e824';\n}\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host [class*='--mobile'] .lineAction.onAddToFavorites,\n:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host [class*='--mobile'] .lineAction.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host [class*='--mobile'] .lineAction.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host [class*='--mobile'] .lineAction.onReconfigureLine,\n:host [class*='--mobile'] .lineAction.onResegmentLine,\n:host [class*='--mobile'] .lineAction.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host [class*='--mobile'] .lineAction.showDSModal {\n  background-color: #b1a445;\n}\n:host [class*='--mobile'] .lineAction.undefined {\n  background-color: black;\n}\n:host [class*='--mobile'] span[class^='sb-icon'],\n:host [class*='--mobile'] span[class^='sf-icon'] {\n  height: 100%;\n  border-radius: 0;\n  padding: 0;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: content-box;\n}\n:host paper-listbox {\n  background-color: var(--sbBtnBgColor);\n  overflow: auto;\n}\n:host span:not(.lineAction) {\n  color: var(--sbBtnColor);\n}\n"])));var We;class Qe extends((0,Lt.Q)((0,Ft.U)(Qt.H3))){static get is(){return"sb-custom-action"}static get properties(){return{customAction:Object,model:Object,actionHidden:Boolean,viewport:{type:Object,value:function(){return j._.getViewport()}},button:{type:Boolean,value:null},span:{type:Boolean,value:null},groupAction:{type:Boolean,value:!1},allOptional:{type:Boolean,value:!1}}}get events(){let t={};return t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t[o.zW.TOGGLE_QUICKSAVE]=this.toggleQuickSaveButton,t}static get observers(){return["_toggleQuoteButton(model.allOptional)","_toggleLineButton(model.favorite)"]}ready(){super.ready(),this.customAction&&this.customAction.isSeparator&&(this.button=!1,this.span=!0),this.addEventListener("paper-dropdown-close",(function(t){this.shadowRoot.querySelector("#menuButton")&&this.shadowRoot.querySelector("#menuButton").close()})),this.horizontalAlign||(this.horizontalAlign=this.span?"left":"right"),this.horizontalOffset=this.span?18:0,this.verticalOffset=this.span?-30:0}triggerCustomAction(t){if("showDSModal"!==this.customAction.eventHandlerName)"click"===t.type&&("onQuickSave"===this.customAction.eventHandlerName&&(0,o.BX)(o.zW.TOGGLE_QUICKSAVE,{enable:!1}),this.dispatchEvent((0,o.FU)("le-action-tapped",{customAction:this.customAction,model:this.model})),this.dispatchEvent((0,o.FU)("paper-dropdown-close",void 0)));else{if(this.classList.contains("swipe-menu-item")&&"click"!==t.type)return;(0,o.BX)(o.zW.SCHEDULE_ACTION,{event:t,model:this.model})}}_showAction(t,e){return!t.isHidden(e)}_getLabel(t,e){return(!t.icon||e&&(e.isMobile()||e.S.down))&&"Line"!==t.renderLocation?t.label:null}_hasMenu(t,e,n,i){return!n&&!i||t.hasMenu&&!(e&&(e.isMobile()||e.S.down))}_hasMenuButton(t,e,n,i){return this._hasMenu(t,e,n,i)&&!i}_getButtonClass(t,e,n,i,o){return(o?"groupButton ":"")+(t.icon&&!this._getLabel(t,e)?t.icon:"")+(t.first?"":" notFirst")+(t.last&&!this._hasMenu(t,e,n,i)?"":" notLast")+(t.primary?" primary":"")}_getMenuClass(t,e,n){return!e&&n?"mobileGroupMenu":(n?"groupMenu ":"")+(t.last?"":"notLast")}_toggleQuoteButton(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allOptional=t,this._toggleButton()}_toggleLineButton(){this._toggleButton()}_toggleButton(){this.viewport&&this.viewport.isMobile()&&!this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.style.transform&&this.parentElement.parentElement._initSwipeMenu(this.parentElement);this._setButtonClassAndLabel()}_setButtonClassAndLabel(){this.viewport&&this.viewport.isMobile()&&this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.parentElement&&((0,Ne.y)(),this.parentElement.parentElement._initSwipeMenu(this.parentElement))}viewportChanged(t){this.viewport=t.detail.viewport,this._setButtonClassAndLabel()}toggleQuickSaveButton(t){"onQuickSave"===this.customAction.eventHandlerName&&(this.shadowRoot.querySelector("#mainButton").disabled=!t.detail.enable)}static get template(){return(0,Qt.dy)(We||(We=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="iron-positioning"></style>\n\t\t\t<style>','</style>\n\t\t\t<template is="dom-if" if="[[_showAction(customAction, model, allOptional)]]">\n\t\t\t\x3c!-- button or span --\x3e\n\t\t\t\t<template is="dom-if" if="[[button]]">\n\t\t\t\t\t<paper-button noink id="mainButton" class$="[[_getButtonClass(customAction, viewport, button, span, groupAction)]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</paper-button>\n\t\t\t\t\t<paper-tooltip for="mainButton" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t[[customAction.title]]\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[span]]">\n\t\t\t\t\t<span id$="[[customAction.caClass]]" class$="[[customAction.class]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</span>\n\t\t\t\t\t<paper-tooltip for$="[[customAction.caClass]]" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t[[customAction.title]]\n\t\t\t\t\t</paper-tooltip>\n\t\t\t\t</template>\n\n\t\t\t\t<template is="dom-if" if="[[_hasMenu(customAction, viewport, button, span)]]">\n\t\t\t\t\t<paper-menu-button id="menuButton" class$="[[deviceClasses]]" ignore-select no-overlap horizontal-align$="[[horizontalAlign]]" horizontal-offset$="[[horizontalOffset]]" vertical-offset$="[[verticalOffset]]" no-animations>\n\t\t\t\t\t\t<template is="dom-if" if="[[_hasMenuButton(customAction, viewport, button, span)]]">\n\t\t\t\t\t\t\t<paper-button noink slot="dropdown-trigger" class$="dropdown-trigger sf-icon-down [[_getMenuClass(customAction, button, groupAction)]]"></paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="dom-if" if="[[span]]">\n\t\t\t\t\t\t\t<span slot="dropdown-trigger" class="dropdown-trigger sf-icon-right"></span>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<paper-listbox slot="dropdown-content" class="dropdown-content">\n\t\t\t\t\t\t\t<template is="dom-repeat" items="[[customAction.children]]">\n\t\t\t\t\t\t\t\t<paper-item><sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[model]]" span="true"></sb-custom-action></paper-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</paper-listbox>\n\t\t\t\t\t</paper-menu-button>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t'])),Ve)}}customElements.define(Qe.is,Qe);var Ge,$e=n(4316);const Ke=(0,zt.f)(Ge||(Ge=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .sf-tooltip:hover:after {\n  content: attr(tooltip);\n  display: block;\n  position: absolute;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  background-color: #fff;\n  border: var(--sbBtnBorder);\n  opacity: 1;\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  border-radius: 4px;\n  font-size: 14px;\n  z-index: 999;\n  text-align: left;\n  transform: translateX(-50%);\n  font-weight: normal;\n}\n.td {\n  display: flex;\n  padding: 6px 0;\n  width: 100%;\n  font-weight: 400;\n}\n.td div#item.sf-tooltip:hover:after {\n  transform: translateX(50%);\n}\n.td span#label.sf-tooltip:hover:after {\n  max-width: 30%;\n}\n.td > .label {\n  height: 24px;\n  text-align: right;\n  padding: 5px 10px 0px 0px;\n  min-width: 50%;\n  align-self: center;\n  white-space: nowrap;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n}\n.td > .field {\n  display: flex;\n  align-items: center;\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n  font-size: 13px;\n  font-weight: 600;\n  overflow-x: hidden;\n}\n.td > .helpText {\n  display: inline-block;\n  opacity: 1;\n  background-color: inherit;\n  border: none;\n  position: static;\n  width: auto;\n  align-self: center;\n  padding-bottom: 6px;\n}\n.td > .helpText > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n  color: var(--sbIconColor);\n}\n.td > .helpText > .sb-icon-help-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n.td > .helpText > #label:before {\n  padding-top: 4px;\n  vertical-align: middle;\n}\n.td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n  height: inherit;\n}\n.td[class*='--mobile'] .helpText {\n  display: none;\n}\n.td[class*='--mobile'] .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n.td[class*='--mobile'] .field {\n  width: 110%;\n  padding-left: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #16325c;\n}\n[class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n  height: inherit;\n}\n[class*='--mobile'] .td .helpText {\n  display: none;\n}\n[class*='--mobile'] .td .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n[class*='--mobile'] .td .field {\n  width: 110%;\n  padding-left: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #16325c;\n}\n:host(.multiGroupItem) {\n  --sidePanelInputHeight: 25px !important;\n  text-align: left;\n}\n:host(.multiGroupItem) .td {\n  display: table-cell;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  padding: 5px 10px 5px 10px;\n  min-width: 180px;\n  min-height: 150px;\n}\n:host(.multiGroupItem) .label {\n  text-transform: uppercase;\n  padding-right: 0px;\n  min-width: 0%;\n}\n:host(.multiGroupItem) div.field {\n  min-height: 25px;\n  padding-left: 0px;\n}\n:host(.multiGroupItem) #item {\n  display: inline-block;\n}\n:host(.multiGroupItem) .helpText {\n  vertical-align: super;\n}\n:host(.hiddenFromPSP) #field {\n  display: none;\n}\n"])));var Ye,Xe;class Je extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-field-set-table-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object,display:String,viewport:{type:Object,value:function(){return j._.getViewport()}},calculateImmediately:{type:Object,value:function(){return i.I.org.calculateImmediately}},renderReadOnly:{value:!1,type:Boolean},type:String,itemClassMap:{type:Object},editable:{type:Boolean,observer:"_editableChanged"}}}connectedCallback(){super.connectedCallback(),this.renderReadOnly}ready(){Object.entries({"datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready()}_datePickerOpened(t){if(this.renderReadOnly)return;let e=t.detail.dateContainer,n=e.querySelector("input"),i=t.detail.datepicker,o=t.detail.datepicker.offsetHeight,r=t.detail.datepicker.offsetWidth,s=window.innerHeight,a=window.innerWidth,l=e.getBoundingClientRect(),d=s-l.bottom-o,c=a-l.left-r;i.style.position="fixed",i.style.left=c<0?n.getBoundingClientRect().right-r+"px":l.left+"px",i.style.top=d<0?l.top-o+"px":l.bottom+"px"}static get observers(){return["_setFieldDataObserver(item, model, data)","_displayChangedObserver(value, display, item, data, md)","_valueChangedObserver(value, md)","_updateOriginalValueObserver(model, item)"]}_setFieldDataObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._setFieldData(t,e,n)}_setFieldData(){this.md=this.model.getFieldMD(this.item),this.isMobile=this.viewport&&this.viewport.isMobile(),this.label=null==this.value&&"richtextarea"===this.md.extraTypeInfo&&this.isMobile?null:this.md.label,this.helpText=this.md.inlineHelpText,this.data.CurrencyIsoCode&&(this.md.CurrencyIsoCode=this.data.CurrencyIsoCode),this.$.field.editing=this._isEditable(),this.$.field.disabled=this._isDisabled(),this.$.field.md=this.md,this.$.field.property=this.item;let t={};t[this.item]=this.value,this.$.field.obj=t}_isEditable(){return!!this.md.updateable&&(null!=this.model.quoteVO.fieldEditability&&null!=this.model.quoteVO.fieldEditability[this.item]?this.model.quoteVO.fieldEditability[this.item]:!!this.md.updateable)}_isDisabled(){let t=this.model.quoteVO.fieldEditability;return this.md.updateable&&"boolean"===this.md.type&&null!=t&&null!=t[this.item]?!t[this.item]:!this.md.updateable}_valueChangedObserver(t,e){if(void 0!==t&&void 0!==e)return this._valueChanged(t,e)}_valueChanged(t,e){this._updateLookupDisplayValue(),this.$.field.value=t,this.data&&this.item&&this.set("data."+this.item,t)}_updateLookupDisplayValue(){if(!this.data)return;let t=new $e.Z(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName())}_handleFieldValueChanged(t){let e=!!t.detail&&t.detail.suppressImmediateCalculation;this.calculateImmediately&&!e&&this.dispatchEvent((0,o.FU)("calculate-immediately",void 0))}_displayChangedObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this._displayChanged(t,e,n,i,o)}_displayChanged(){new $e.Z(this.item,this.data).addRelationshipName(this.value,this.display,this.md.referenceTo[0])}_updateOriginalValueObserver(t,e){if(void 0!==t&&void 0!==e)return this._updateOriginalValue(t,e)}_updateOriginalValue(){if(!this.type)return;this.model[this.type]._transient_=this.model[this.type]._transient_||{},this.model[this.type]._transient_.original=this.model[this.type]._transient_.original||JSON.parse(JSON.stringify(this.model[this.type].record));let t=this.get("model.".concat(this.type,"._transient_.original"));this.$.field.originalValue=t[this.item]}_editableChanged(){this.md.updateable&&this.$.field.toggleEditing(this.editable)}static get template(){return(0,Qt.dy)(Ye||(Ye=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div device class="td">\n\t\t\t\t<div id="item" class="label sf-tooltip" tooltip$="[[label]]">[[label]]</div>\n\t\t\t\t<template is="dom-if" if="[[md.inlineHelpText]]">\n\t\t\t\t\t<span class="helpText">\n\t\t\t\t\t\t<span id="label" class="sb-icon-help-circled sf-tooltip" tooltip$="[[helpText]]"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<div id="divField" class="field">\n\t\t\t\t\t<sb-field id="field" record="[[data]]" md="[[md]]" ref-display="{{display}}"></sb-field>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),Ke)}}customElements.define(Je.is,Je);const Ze=(0,zt.f)(Xe||(Xe=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host .table {\n  padding: 10px 0 0 0;\n}\n:host .tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n  position: relative;\n}\n:host .td1 {\n  width: 100%;\n}\n:host .td2 {\n  width: 50%;\n}\n:host .td3 {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n"])));var tn,en;n(2667);class nn extends((0,Ft.U)(Qt.H3)){static get is(){return"sb-field-set-table"}static get properties(){return{editorModel:Object,data:{type:Object,notify:!0},numColumns:{type:Number,value:1},objectName:String,viewport:{type:Object,value:function(){return j._.getViewport()}},model:Object,itemEditableMap:{type:Object,default:{}}}}get events(){let t={};return t[o.zW.VIEWPORT_CHANGED]=this.generateColumns,t}static get observers(){return["_generateColumnsObserver(editorModel, objectName, viewport, model)","modelChanged(model.*)"]}_generateColumnsObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this.generateColumns(t,e,n,i)}generateColumns(){this.isMobile=this.viewport&&this.viewport.isMobile();let t,e=[],n=[],i=[],o=[];if(this.objectName==this.editorModel.constants.QUOTE_LINE_GROUP){let n=this.editorModel.fieldsetMap.groupFieldNames.slice();for(let t=0,e=n.length;t<e;t++)this.isMobile||this.editorModel.constants.DESCRIPTION_FIELD!=n[t]&&"Name"!=n[t]||(n.splice(t,1),t--);e=n,t=n.length}else this.objectName==this.editorModel.data.quoteObjectName&&(e=this.editorModel.fieldsetMap.quoteFieldNames,t=this.editorModel.fieldsetMap.quoteFieldNames.length);for(let r=0;r<t;r++)r%this.numColumns==0?n.push(e[r]):r%this.numColumns==1?i.push(e[r]):o.push(e[r]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(n,i,o)}setColumns(t,e,n){t.length>0&&(this.$.firstColumn.model=this.model,this.$.firstColumn.group||(this.$.firstColumn.group=t)),e.length>0&&(this.$.secondColumn.model=this.model,this.$.secondColumn.group||(this.$.secondColumn.group=e)),n.length>0&&(this.$.thirdColumn.model=this.model,this.$.thirdColumn.group||(this.$.thirdColumn.group=n))}modelChanged(t){this.objectName&&this.editorModel&&this.objectName!==this.editorModel.data.quoteObjectName||"GroupModel"===this.model.modelType||("model.quoteVO.fieldVisibility"===t.path?this._visibilityChanged():"model.quoteVO.fieldEditability"===t.path?this._editabilityChanged():"model"===t.path&&null!=this.model.quoteVO&&null!=this.model.quoteVO.fieldVisibility&&Object.keys(this.model.quoteVO.fieldVisibility).length>0&&this._visibilityChanged())}_visibilityChanged(){if(!this.model.setHiddenFromPSPClass)return;let t=this.model.setHiddenFromPSPClass();t&&(this.itemClassMap=t)}_editabilityChanged(){let t=this.model.editorModel.fieldsetMap.quoteFieldNames;if(!t||!this.model.quoteVO.fieldEditability||0==Object.keys(this.model.quoteVO.fieldEditability).length)return;let e={};for(let n of t)this.model.quoteVO.fieldEditability.hasOwnProperty(n)&&(e[n]=null==this.model.quoteVO.fieldEditability[n]||this.model.quoteVO.fieldEditability[n]);this.itemEditableMap=e}static get template(){return(0,Qt.dy)(tn||(tn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div id="table" class="table">\n\t\t\t\t<div class="tr">\n\t\t\t\t\t<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t\t<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t\t<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),Ze)}}customElements.define(nn.is,nn);const on=(0,zt.f)(en||(en=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .quoteTotal {\n  display: block;\n  text-align: right;\n  padding: 20px 24px 20px 20px;\n  font-weight: bold;\n}\n:host .quoteTotal.grouped {\n  padding-right: 8px;\n}\n:host .quoteTotal span {\n  display: inline-block;\n  text-transform: uppercase;\n}\n:host .quoteTotal .hidden {\n  display: none;\n}\n:host .quoteTotal[class*='--mobile'] {\n  padding: 0;\n  text-align: left;\n}\n:host [class*='--mobile'] .quoteTotal {\n  padding: 0;\n  text-align: left;\n}\n:host .largeQuote .quoteTotal {\n  padding: 5px 0 0 0;\n  font-size: 18px;\n  font-weight: normal;\n  text-align: left;\n}\n:host .largeQuote .quoteTotal span:not(.hidden) {\n  display: inline-block;\n  text-transform: none;\n}\n"])));var rn;class sn extends((0,Lt.Q)((0,Ft.U)(Qt.H3))){static get is(){return"sb-le-footer"}static get properties(){return{quoteModel:Object,quoteTotal:{type:Number},quoteTotalMd:Object,editorModel:{type:Object}}}get events(){let t={};return t[o.zW.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t}static get observers(){return["_showQuoteTotal(quoteModel.quoteVO.*)","_setTotalWidth(quoteModel.editorModel.layout)"]}get settings(){return this.quoteModel.editorModel.data.settings}get quoteFields(){return this.quoteModel.editorModel.md.fieldsMap[this.settings.developerPrefix+"Quote__c"]}get quoteVO(){return this.quoteModel.quoteVO}colWidthsChanged(){this._setTotalWidth()}_setTotalWidth(){if(this.showQuoteTotal){let t=this.quoteModel.editorModel;if((0,A.og)("largeQuote",t.largeQuoteExperienceEnabled,this.$.container),this.labelClass=t.deviceContext.isMobile?"hidden":"",!t.layout||t.deviceContext.isMobile||t.largeQuoteExperienceEnabled)return;this.totalWidth=this.quoteModel.editorModel.layout.totalWidth+"px"}}_showQuoteTotal(){this.grouped=this.quoteModel.grouped?"grouped":"",this._setQuoteTotal(),this.showQuoteTotal="doNotDisplay"!=this.settings.lineEditorTotalsField&&this.quoteVO.lineItems&&this.quoteVO.lineItems.length>0}_setQuoteTotal(){let t,e,n=this.quoteModel.editorModel.constants,i=this.settings.lineEditorTotalsField;i&&"Default"!=i?(e=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteFields[i]?this.quoteFields[i].scale:0,t=this.quoteVO.record[i]||0):(e=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteVO.applyAdditionalDiscountLast?this.quoteFields[n.CUSTOMER_AMOUNT_FIELD].scale:this.quoteFields[n.NET_AMOUNT_FIELD].scale,t=this.quoteVO.applyAdditionalDiscountLast?this.quoteVO.customerTotal:this.quoteVO.netTotal),this.quoteTotalMd||(this.quoteTotalMd={type:"currency",scale:e,CurrencyIsoCode:this.quoteVO.record.CurrencyIsoCode}),this.quoteTotal=t.toFixed(e)}static get template(){return(0,Qt.dy)(rn||(rn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<div id="container" device>\n\t\t\t<template is="dom-if" if="[[showQuoteTotal]]">\n\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t<h3 class$="quoteTotal [[grouped]]" style$="min-width:[[totalWidth]];max-width:[[totalWidth]];">\n\t\t\t\t\t<span class$="[[labelClass]]">\n\t\t\t\t\t\t<template is="dom-if" if="[[quoteModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t\t<sb-i18n>Total</sb-i18n>:\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template is="dom-if" if="[[!quoteModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t\t<sb-i18n>Quote Total</sb-i18n>:\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span><sb-field id="quoteTotal" property="currency" value="[[quoteTotal]]" md="[[quoteTotalMd]]"></sb-field></span>\n\t\t\t\t</h3>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),on)}}customElements.define(sn.is,sn);n(9929);let an,ln,dn;function cn(t,e,n,i){let o=t[e];if(o){""===n?o.sort(un.bind(this)):"asc"===n?o.sort(hn.bind(this)):"desc"===n&&o.sort(pn.bind(this));for(let e=0;e<o.length;e++)i(o[e]),cn(t,o[e].lineVO.key,n,i)}}function un(t,e){return t.lineVO.key-e.lineVO.key}function hn(t,e){let n,i,o=ln&&t.lineVO.record[an]?t.lineVO.record[an][ln]:t.lineVO.record[an],r=ln&&e.lineVO.record[an]?e.lineVO.record[an][ln]:e.lineVO.record[an];if(an===dn.LIST_PRICE_FIELD)n=t.lineVO.record[dn.BUNDLED_FIELD],i=e.lineVO.record[dn.BUNDLED_FIELD];else if(t.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(t.groupModel.quoteVO.localizationByFieldByProductId).length>0){o=lt.getLocalizedValue(t,an,ln)||o,r=lt.getLocalizedValue(e,an,ln)||r}return o=fn(o,n),r=fn(r,i),o==r?0:o<r?-1:o>r?1:null==o?-1:null==r?1:0}function pn(t,e){let n,i,o=ln&&t.lineVO.record[an]?t.lineVO.record[an][ln]:t.lineVO.record[an],r=ln&&e.lineVO.record[an]?e.lineVO.record[an][ln]:e.lineVO.record[an];if(an===dn.LIST_PRICE_FIELD)n=t.lineVO.record[dn.BUNDLED_FIELD],i=e.lineVO.record[dn.BUNDLED_FIELD];else if(t.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(t.groupModel.quoteVO.localizationByFieldByProductId).length>0){o=lt.getLocalizedValue(t,an,ln)||o,r=lt.getLocalizedValue(e,an,ln)||r}return o=fn(o,n),r=fn(r,i),o==r?0:o>r?-1:o<r||null==o?1:null==r?-1:0}function fn(t,e){return e&&(t=0),"string"==typeof t?t.toUpperCase():void 0===t&&(t=null),t}function bn(t,e,n,i,o){let r=0;dn=t[0].editorModel.constants;let s=i;an=t[0].segmented&&!t[0].lineVO.record[e]?dn.NET_TOTAL_FIELD:e,ln=o;let a=function(t){let e,n;return t.forEach(function(t){let i=t.lineVO.record[dn.NUMBER_FIELD];t.visible?e=!e||i<e?i:e:n=!n||i<n?i:n}.bind(this)),{lowestVisibleNumber:e,lowestInvisibleNumber:n}}(t);if(s){let e=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].lineVO.parentItemKey]||(e[t[n].lineVO.parentItemKey]=[]),e[t[n].lineVO.parentItemKey].push(t[n]);return e}(t);cn(e,null,n,(function(e){t[r++]=e}))}else"asc"===n?t.sort(hn.bind(this)):"desc"===n?t.sort(pn.bind(this)):""===n&&t.sort(un.bind(this));return t=function(t,e,n){if(n.length>0)var i=n[0].groupModel.quoteModel.indexByGroupKey,o=n[0].lineVO.parentGroupKey;for(let s=0;s<n.length;s++){var r=n[s].lineVO.key;n[s].lineVO.record[dn.SEGMENT_KEY_FIELD]?i[o].indexBySegmentKey[n[s].lineVO.record[dn.SEGMENT_KEY_FIELD]]=s:i[o].indexByLineKey[r]=s,n[s].visible?(n[s].lineVO.record[dn.NUMBER_FIELD]=t,t++):(n[s].lineVO.record[dn.NUMBER_FIELD]=e,e++)}return n}(a.lowestVisibleNumber,a.lowestInvisibleNumber,t),t}class gn extends F{constructor(t){super(),this.options=t||{}}generateHeaderNode(t,e){this.isSegmented&&(t=t.concat(this.buildRowSegmentFieldSet(this.segmentedColumns)));let n=this.generate(t),i=document.createElement("div");return e&&Object.keys(e).forEach((t=>{i.setAttribute(t,e[t])})),i.innerHTML=n,i}generate(t){let e=this.getLeadingColumns();e+=this.hasSelectionColumn()?this.generateSelectionColumn():"",e+=this.hasItemNumberColumn()?this.generateItemNumberColumn():"";let n=this.getColumnWidths(),i=this.getColumnWidthUnit();return t.forEach((t=>{const o=this.generateColAdjBar();let r=this.getColumnAlignment(t),s="",a="";this.isSortable(t)&&(s="sortable",a='<i class="arrow sf-icon-arrowup"></i>'),e+='<div field="'.concat(t,'" class="th ').concat(r," arrow-on-hover ").concat(s,'"'),n&&n[t]&&(e+="px"===i?' style="min-width:'.concat(n[t],"px;max-width:").concat(n[t],'px"'):' style="width:'.concat(n[t]).concat(i,'"'));let l=this.getBeforeFieldTemplate(t)||"";e+=">".concat(l,"[[").concat(t,"]]").concat(a).concat(o,"</div>")})),e+=this.getTrailingColumns(),e+=this.generateColumnIndicator(),e}getBeforeFieldTemplate(t){return""}isSortable(t){return"function"!=typeof this.options.isSortable||this.options.isSortable(t)}getColumnAlignment(t){return""}getLeadingColumns(){return""}getTrailingColumns(){return""}getColumnWidths(){return this.options.columnWidths||{}}getColumnWidthUnit(){return this.options.columnWidthUnit||"px"}hasSelectionColumn(){return!0===this.options.hasSelectionColumn}hasItemNumberColumn(){return!0===this.options.hasItemNumberColumn}generateSelectionColumn(){const t=this.generateInnerCheckboxTemplate(null);return'<div class="th selection"><div class="checkboxcontainer">'.concat(t,"</div></div>")}generateColumnIndicator(){if(i.I.isColumnResizingEnabled&&!i.I.isMobile&&this.options.allowColumnResizing){return'<div id="col-resize-indicator">'+'<span id="col-adj-divider"></span>'+"</div>"}return""}generateItemNumberColumn(){return'<div class="th itemNumber"><span>#</span></div>'}}class mn extends gn{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super({hasSelectionColumn:t.isMultiLineDeleteEnabled(),hasItemNumberColumn:!0,columnWidths:e,allowColumnResizing:i}),this.editorModel=t,this.segmentedColumns=n,this.isSegmented=!!n}getLeadingColumns(){return this.editorModel.actionsOnTheLeft?'<div class="th lineActions"></div>':""}getTrailingColumns(){let t=this.editorModel.actionsOnTheLeft?"":'<div class="th lineActions"></div>';return!this.isSegmented&&this.editorModel.hasDrawerFields()&&(t+=this._getDrawerColumnTemplate()),t}generateItemNumberColumn(){return this.isSegmented?'<div class="th itemNumber segmentedDrawer"><span>#</span><span class="'.concat(F.classNames.RIGHT_ICON,'"></span></div>'):super.generateItemNumberColumn()}_getDrawerColumnTemplate(){return'<div class="th drawerIcon"><span class="'.concat(F.classNames.CHEVRON_RIGHT_ICON,'"></span></div>')}getColumnAlignment(t){let e=this.editorModel.getFieldMetadata(t),n=[];return this.isSegmented&&(n=this.buildRowSegmentFieldSet(this.segmentedColumns)),e&&("number"===e.type||"double"===e.type||"percent"===e.type||"currency"===e.type)||n.indexOf(t)>=0?"rightAligned":e&&"boolean"===e.type?"centerAligned":"leftAligned"}isSortable(t){return t!==this.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD}getBeforeFieldTemplate(t){return D.U.isProductNameField(t)&&i.I.isBundleCollapsible(this.editorModel)&&!this.isSegmented?'<span class="bundle-caret" inner-h-t-m-l="[[_caretContent]]"></span>':""}}var yn=n(4473);const vn=(0,yn.o)((t=>class extends t{static get properties(){return{fieldNames:{type:Object},quoteLineFields:{type:Object},columnNames:{type:Array,observer:"columnNamesChanged"},currencyMd:{type:Object,computed:"_getNetTotalFieldMd(groupModel)"},viewport:{type:Object,value:function(){return j._.getViewport()}},groupModel:Object}}static get observers(){return["_render(groupModel)","_segmentedLinesByDimensionChanged(groupModel.segmentedLinesByDimension.*)","_showSubtotal(groupModel.*)"]}viewportChanged(t){this.viewport=t.detail.viewport}groupPanelToggled(t){this.drawerState=t.detail.drawerState,this._setColumnWidths(t)}groupPanelCreated(t){this._setColumnWidths(t)}groupToggled(t){this._ironListResize(t)}_getFields(){let t=this.editorModel.fieldsetMap.multiSegmentLineSummaryFieldNames;return this.groupModel.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(t):t}_setColumnWidths(t){let e={};if(!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&this.groupModel.colWidth[this.dimension]){if(e=this.groupModel.getDimensionColWidths(this.dimension),!e)return;this._setSubtotalColumnWidth(e,this.editorModel.layout.leftOffset)}this.set("columnWidths",e),this._ironListResize(t)}_setSubtotalColumnWidth(t,e){if(!t)return;let n=e;for(let e=0,i=this.fieldNames.length;e<i;e++){n+=t[this.fieldNames[e]]}this.labelColWidth=n+"px",this.totalColWidth=t.total+"px"}_setSubtotalColWidth(t,e){return e[(0,A.xn)(t)]+"px"}colWidthsChanged(t){this._setColumnWidths(t)}_ironListResize(t){this.shadowRoot.querySelector("iron-list")&&t&&t.detail&&t.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,o.FU)("iron-resize"))}onTrack(t){(0,A.GC)((0,A.GC)(this))._onTrack(t)}get editorModel(){return this.groupModel.quoteModel.editorModel}get quoteVO(){return this.editorModel.quoteModel.quoteVO}get constants(){return this.editorModel.constants}getMultiSegmentColumnTotal(t){if(this.groupModel.multiSegmentColumnTotals[this.dimension])return[this.groupModel.multiSegmentColumnTotals[this.dimension][t]]}getMultiSegmentTotalField(){if(this.groupModel.netMultiSegmentTotal)return this.groupModel.netMultiSegmentTotal[this.dimension]}_showSubtotal(){this.currencyMd||(this.currencyMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=this.editorModel.data.settings.lineEditorSubtotalsField?(this._getNetTotalFieldMd(),this.showSubtotal=!0):this.showSubtotal=!1}_getNetTotalFieldMd(){let t,e=this.editorModel.data.settings,n=e.lineEditorSubtotalsField;return t=e.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:"Default"==n||"doNotDisplay"==n||null==n?this.editorModel.md.fieldsMap[e.developerPrefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[e.developerPrefix+"QuoteLine__c"][n].scale,{type:"currency",scale:t,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}}_onSortLinesByHeader(t){this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],t.detail.field,t.detail.order,!1,!0)}sortLinesRequired(t){let e=t.detail.notify,n=t.detail.lineSortField;this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],n,"asc",!1,e)}getZIndex(t){return this.lineModels.length+10-t}_onUpdateSizeForItem(t){if(t.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t.detail.index);else for(let t=0,e=this.lineModels.length;t<e;t++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t)}toggleOptional(t){if(!t.detail.groupKey||t.detail.groupKey==this.groupModel.groupVO.key)for(let e=0,n=this.groupModel.segmentedLinesByDimension[this.dimension].length;e<n;e++)for(let n=0,i=this.groupModel.segmentedLinesByDimension[this.dimension][e].segments.length;n<i;n++){let i=this.groupModel.segmentedLinesByDimension[this.dimension][e].segments[n];i.lineVO._transient_||(i.lineVO._transient_={},i.lineVO._transient_.original=i.lineVO._transient_.original||JSON.parse(JSON.stringify(i.lineVO.record))),this.set("groupModel.segmentedLinesByDimension.".concat(this.dimension,".").concat(e,".segments.").concat(n,".lineVO.record.").concat(this.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean),this.notifyPath("groupModel.segmentedLinesByDimension.".concat(this.dimension,".").concat(e,".segments.#").concat(n,".lineVO.record.").concat(this.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean)}}_resetOnAction(t){Array.from(this.lineModels).forEach((function(t){t.lineVO.expanded=!1}))}columnNamesChanged(t,e){}}));var _n;const wn=(0,zt.f)(_n||(_n=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .sf-tooltip:hover:after {\n  content: attr(tooltip);\n  display: block;\n  position: absolute;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  background-color: #fff;\n  border: var(--sbBtnBorder);\n  opacity: 1;\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  border-radius: 4px;\n  font-size: 14px;\n  z-index: 999;\n  text-align: left;\n  transform: translateX(-50%);\n  font-weight: normal;\n}\n:host {\n  position: relative;\n}\n:host(.left-aligned) span#lineActionInfo.sf-tooltip:hover:after,\n:host(.left-aligned) button.sf-tooltip:hover:after {\n  transform: translateX(0%);\n}\n:host(.right-aligned) span#lineActionInfo.sf-tooltip:hover:after,\n:host(.right-aligned) button.sf-tooltip:hover:after {\n  transform: translateX(-100%);\n}\n:host button {\n  color: #0070d2;\n}\n:host button:hover {\n  color: #3C3D3E;\n}\n:host button.slds-button_icon-small {\n  border-radius: 0.125rem;\n}\n:host button.slds-button {\n  position: relative;\n  display: inline-block;\n  padding: 0;\n  background: transparent;\n  background-clip: border-box;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n:host paper-tooltip {\n  white-space: normal;\n}\n:host(.mobile) {\n  position: static;\n}\n:host(.mobile) button.slds-button {\n  font-size: 20px;\n  background-color: black;\n  color: var(--sbIconMobileLineActionColor);\n}\n:host(.mobile) button.onRemoveFromFavorites {\n  color: var(--sbIconMobileStarFillColor);\n}\n:host(.mobile) button.onAddToFavorites,\n:host(.mobile) button.onRemoveFromFavorites {\n  background-color: var(--sbIconMobileStarBgColor);\n}\n:host(.mobile) button.onDeleteLine {\n  background-color: var(--sbIconMobileCopyBgColor);\n}\n:host(.mobile) button.onCloneLine {\n  background-color: var(--sbIconMobileDeleteBgColor);\n}\n:host(.mobile) button.onReconfigureLine,\n:host(.mobile) button.onResegmentLine,\n:host(.mobile) button.onDesegmentLine {\n  background-color: var(--sbIconMobileWandBgColor);\n}\n:host(.mobile) button.showDSModal {\n  background-color: #b1a445;\n}\n'])));var xn;class Cn extends((0,Ft.U)(Qt.H3)){static get is(){return"sf-line-actions"}static get properties(){return{lineModel:{Object,observer:"_modelChanged"},actions:Array,showInfoIcon:{type:Boolean,computed:"_isShowInfoIcon(lineModel)"}}}get events(){let t={};return t[o.zW.REFRESH_LINE_ACTIONS]=this._modelChanged,t}ready(){super.ready(),(0,A.og)("mobile",i.I.isMobile,this)}connectedCallback(){super.connectedCallback(),this._actionHandler=this.handleAction.bind(this),this.addEventListener("click",this._actionHandler,{passive:!0}),(0,Nt.T8)(this,(()=>{const t=this.shadowRoot.querySelector("button.showDSModal");t&&(t.addEventListener("mouseenter",this._actionHandler,{passive:!0}),t.addEventListener("mouseleave",this._actionHandler,{passive:!0}))}))}disconnectedCallback(){if(super.disconnectedCallback(),this._actionHandler){this.removeEventListener("click",this._actionHandler);const t=this.shadowRoot.querySelector("button.showDSModal");t&&(t.removeEventListener("mouseenter",this._actionHandler),t.removeEventListener("mouseleave",this._actionHandler))}}_modelChanged(){this.lineModel&&this.lineModel instanceof U&&(this.actions=this.lineModel.editorModel.lineCustomActions.filter((t=>!t.isHidden(this.lineModel))))}handleAction(t){const e=t.composedPath()[0]?t.composedPath()[0].name:null;if(e){const n=this.actions.find((t=>t.name===e));if(n)if("showDSModal"===n.eventHandlerName)(0,o.BX)(o.zW.SCHEDULE_ACTION,{event:t,model:this.lineModel});else if("click"===t.type){const t=()=>{this.dispatchEvent((0,o.FU)("le-action-tapped",{customAction:n,model:this.lineModel}))};"onCloneLine"===n.eventHandlerName?(this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((()=>{t()}),100)):t()}}}_isShowInfoIcon(t){return!i.I.isMobile&&t&&t.hasParent}static get template(){return(0,Qt.dy)(xn||(xn=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="iron-positioning"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<div id="container">\n\t\t\t<template is="dom-if" if="[[showInfoIcon]]">\n\t\t\t\t<span id="lineActionInfo" class="sb-icon-info-circled sf-tooltip" tooltip$="[[lineModel.lineVO.requiredByMessage]]"></span>\n\t\t\t</template>\n\t\t\t<template is="dom-repeat" items="[[actions]]" as="action" indexAs="index">\n\t\t\t\t<button id$="actionButton[[index]]" class$="focusable slds-button slds-button_icon-small [[action.class]] sf-tooltip" name$="[[action.name]]" aria-pressed="false" tooltip$="[[action.title]]"></button>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),wn)}}customElements.define(Cn.is,Cn);class kn extends F{constructor(t,e,n,i,o){super(),this.editorModel=t,this.groupModel=e,this.segmentedColumns=n,this.dimension=i,this.isSecondary=o}generateRow(t){let e,n=!1;if(this.segmentedColumns){n=!0;let i=this.buildRowSegmentFieldSet(this.segmentedColumns);e=super.generateSegmentedFieldSetTemplate(t,i,this.dimension,this.groupModel,this.editorModel,this.isSecondary)}else e=super.generateFieldSetTemplate(t,this.groupModel,this.editorModel,this.isSecondary);let i=this.generateActionsTemplate(),o=this.generateItemNumberTemplate(n),r=this.generateCheckboxTemplate(""),s=this.generateDrawerCellTemplate(),a="";return a+=r+o+e,a=this.addLineActionsToTemplate(a,i),a+=s,a}generateActionsTemplate(){const t=this.editorModel.actionsOnTheLeft?kn.classNames.LEFT_ALIGNED:kn.classNames.RIGHT_ALIGNED;return'<div id="swipe-menu" class="td sf-le-table-cell actionsContainer lineActions sf-le-table-row">'+'<sf-line-actions class="'.concat(t,'" line-model="[[lineModel]]"></sf-line-actions>')+"</div>"}generateItemNumberTemplate(t){return'<div tabindex="0" class="td sf-le-table-cell focusable sf-le-table-row" id="itemNumber"><span>[[lineNumber]]</span><span class="warning"></span>'.concat(t?'<span id="expandCollapseIcon" class$="[[_cellClasses._expansionIcon]] segmentedContainer" ></span>':"","</div>")}generateDrawerCellTemplate(){if(!this.segmentedColumns&&this.editorModel.hasDrawerFields()){const t=kn.classNames.TAPPABLE;return'<div tabindex="0" class="td sf-le-table-cell focusable drawerContainer sf-le-table-row '.concat(t,'">')+'<span class="sf-icon-chevronright"></span></div>'}return""}getColumnClass(t){let e=this.editorModel.getFieldMetadata(t);const n=null==e&&this.segmentedColumns;let i="",o=e?e.type:null,r=F.classNames;return"number"==o||"double"==o||"percent"==o||"currency"==o||n?i="".concat(r.RIGHT," "):"boolean"==o&&(i="".concat(r.CENTER," ").concat(r.BOOLEAN," ")),i}addLineActionsToTemplate(t,e){return this.editorModel.actionsOnTheLeft?e+t:t+e}generateCheckboxTemplate(t){let e=F.classNames,n="";return(""!==t||this.editorModel.isMultiLineDeleteEnabled()&&""===t&&!this.isSecondary)&&(n=""!==t?super.generateCheckboxTemplate(t):'<div tabindex="0" class="td sf-le-table-cell focusable '.concat(e.SELECTION,' sf-le-table-row">')+'<div class$="checkboxcontainer sf-le-table-row [[_cellClasses._selectionCB]]">'+this.generateInnerCheckboxTemplate("lineModel.selected")+"</div></div>"),n}generateProductCell(t){let e="";if(!this.segmentedColumns){let n="",o="";if(i.I.isBundleCollapsible(this.editorModel)&&(n="collapsible-bundle "+F.classNames.TAPPABLE+" sf-le-table-cell",o="button"),e+='<span tabindex="0" class$="bundle-caret '.concat(n,' [[_cellClasses._isFocusable]] sf-le-table-row" role="').concat(o,'" aria-label="Product Name Bundle Caret" inner-h-t-m-l="[[_caretContent]]"></span> '),n)return e+' <span tabindex="0" class$="[[_cellClasses._isFocusable]] sf-le-table-cell sf-le-table-row">[['.concat(t,"]]</span>")}return e+"[[".concat(t,"]]")}}var Sn,On,In;n(5409);class En extends kn{getPrimaryClass(t,e){return e?"":0===t?"primary first":"primary multi"}generateInnerFieldSetTemplate(t,e,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return i?super.generateInnerFieldSetTemplate(t,e,n,i,o):"<div id='swipe-header'>"+super.generateInnerFieldSetTemplate(t,e,n,i,o)+"</div>"}generateRow(t){return this.isSecondary?super.generateRow(t):'<sb-swipe-container variant="ui3qle">'+super.generateRow(t)+"</sb-swipe-container>"}addLineActionsToTemplate(t,e){return t+e}generateActionsTemplate(){return this.isSecondary?"":super.generateActionsTemplate()}getFieldLabel(t,e){return e&&t?'<span class="field-label">'.concat(t.label,"</span>"):""}getColWidths(t,e){return null}generateItemNumberTemplate(t){return""}generateDrawerCellTemplate(){return""}generateProductCell(t){return"[[".concat(t,"]]")}}
/*! http://mths.be/startswith v0.2.0 by @mathias */
String.prototype.startsWith||(Sn=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),On={}.toString,In=function(t){if(null==this)throw TypeError();var e=String(this);if(t&&"[object RegExp]"==On.call(t))throw TypeError();var n=e.length,i=String(t),o=i.length,r=arguments.length>1?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),n);if(o+a>n)return!1;for(var l=-1;++l<o;)if(e.charCodeAt(a+l)!=i.charCodeAt(l))return!1;return!0},Sn?Sn(String.prototype,"startsWith",{value:In,configurable:!0,writable:!0}):String.prototype.startsWith=In)
/*! http://mths.be/endswith v0.2.0 by @mathias */,String.prototype.endsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,o=String(t),r=o.length,s=i;if(arguments.length>1){var a=arguments[1];void 0!==a&&(s=a?Number(a):0)!=s&&(s=0)}var l=Math.min(Math.max(s,0),i)-r;if(l<0)return!1;for(var d=-1;++d<r;)if(n.charCodeAt(l+d)!=o.charCodeAt(d))return!1;return!0};t?t(String.prototype,"endsWith",{value:n,configurable:!0,writable:!0}):String.prototype.endsWith=n}()
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var Tn=Object.getOwnPropertySymbols,Mn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable;var Pn=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,i,o=arguments,r=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var a in n=Object(o[s]))Mn.call(n,a)&&(r[a]=n[a]);if(Tn){i=Tn(n);for(var l=0;l<i.length;l++)Bn.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ln(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Fn=function(t,e){for(var n=-1,i=[];-1!==(n=t.indexOf(e,n+1));)i.push(n);return i};var qn=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,i=t.length,o=t[0],r=t[0],s=1;s<i;++s)if(r=o,e(o=t[s],r)){if(s===n){n++;continue}t[n++]=o}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,i=t[0],o=t[0],r=1;r<n;++r,o=i)if(o=i,(i=t[r])!==o){if(r===e){e++;continue}t[e++]=i}return t.length=e,t}(t))},Nn=Ln((function(t,e){e.__esModule=!0,e.default=function(t){return t.replace(i,(function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)}))};var n="[\\x20\\t\\r\\n\\f]",i=new RegExp("\\\\([\\da-f]{1,6}"+n+"?|("+n+")|.)","ig");t.exports=e.default})),Rn=Ln((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=arguments,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=e[o];for(;i.length>0;){var r=i.shift();if(!t[r])return;t=t[r]}return t},t.exports=e.default})),jn=Ln((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=arguments,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=e[o];for(;i.length>0;){var r=i.shift();t[r]||(t[r]={}),t=t[r]}},t.exports=e.default})),zn=Ln((function(t,e){e.__esModule=!0,e.default=function(t){var e="",n=t.indexOf("/*"),i=0;for(;n>=0;){e+=t.slice(i,n);var o=t.indexOf("*/",n+2);if(o<0)return e;i=o+2,n=t.indexOf("/*",i)}return e+=t.slice(i)},t.exports=e.default})),Hn=Ln((function(t,e){e.__esModule=!0,e.stripComments=e.ensureObject=e.getProp=e.unesc=void 0;var n=s(Nn);e.unesc=n.default;var i=s(Rn);e.getProp=i.default;var o=s(jn);e.ensureObject=o.default;var r=s(zn);function s(t){return t&&t.__esModule?t:{default:t}}e.stripComments=r.default})),Un=Ln((function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.__esModule=!0,e.default=void 0;var i=function t(e,n){if("object"!=typeof e||null===e)return e;var i=new e.constructor;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];"parent"===o&&"object"===typeof r?n&&(i[o]=n):i[o]=r instanceof Array?r.map((function(e){return t(e,i)})):t(r,i)}return i},o=function(){function t(t){void 0===t&&(t={}),Pn(this,t),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var e,o,r,s=t.prototype;return s.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},s.replaceWith=function(){var t=arguments;if(this.parent){for(var e in arguments)this.parent.insertBefore(this,t[e]);this.remove()}return this},s.next=function(){return this.parent.at(this.parent.index(this)+1)},s.prev=function(){return this.parent.at(this.parent.index(this)-1)},s.clone=function(t){void 0===t&&(t={});var e=i(this);for(var n in t)e[n]=t[n];return e},s.appendToPropertyAndEscape=function(t,e,n){this.raws||(this.raws={});var i=this[t],o=this.raws[t];this[t]=i+e,o||n!==e?this.raws[t]=(o||i)+n:delete this.raws[t]},s.setPropertyAndEscape=function(t,e,n){this.raws||(this.raws={}),this[t]=e,this.raws[t]=n},s.setPropertyWithoutEscape=function(t,e){this[t]=e,this.raws&&delete this.raws[t]},s.isAtPosition=function(t,e){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>t)&&(!(this.source.end.line<t)&&(!(this.source.start.line===t&&this.source.start.column>e)&&!(this.source.end.line===t&&this.source.end.column<e)))},s.stringifyProperty=function(t){return this.raws&&this.raws[t]||this[t]},s.valueToString=function(){return String(this.stringifyProperty("value"))},s.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},e=t,o=[{key:"rawSpaceBefore",get:function(){var t=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===t&&(t=this.spaces&&this.spaces.before),t||""},set:function(t){(0,Hn.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=t}},{key:"rawSpaceAfter",get:function(){var t=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===t&&(t=this.spaces.after),t||""},set:function(t){(0,Hn.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=t}}],o&&n(e.prototype,o),r&&n(e,r),t}();e.default=o,t.exports=e.default})),Vn=Ln((function(t,e){e.__esModule=!0,e.UNIVERSAL=e.ATTRIBUTE=e.CLASS=e.COMBINATOR=e.COMMENT=e.ID=e.NESTING=e.PSEUDO=e.ROOT=e.SELECTOR=e.STRING=e.TAG=void 0;e.TAG="tag";e.STRING="string";e.SELECTOR="selector";e.ROOT="root";e.PSEUDO="pseudo";e.NESTING="nesting";e.ID="id";e.COMMENT="comment";e.COMBINATOR="combinator";e.CLASS="class";e.ATTRIBUTE="attribute";e.UNIVERSAL="universal"})),Wn=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n,i=(n=Un)&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(Vn);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).nodes||(n.nodes=[]),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s,a,l,d=i.prototype;return d.append=function(t){return t.parent=this,this.nodes.push(t),this},d.prepend=function(t){return t.parent=this,this.nodes.unshift(t),this},d.at=function(t){return this.nodes[t]},d.index=function(t){return"number"==typeof t?t:this.nodes.indexOf(t)},d.removeChild=function(t){var e;for(var n in t=this.index(t),this.at(t).parent=void 0,this.nodes.splice(t,1),this.indexes)(e=this.indexes[n])>=t&&(this.indexes[n]=e-1);return this},d.removeAll=function(){var t=this.nodes,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var i;if(e){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i.parent=void 0}return this.nodes=[],this},d.empty=function(){return this.removeAll()},d.insertAfter=function(t,e){e.parent=this;var n,i=this.index(t);for(var o in this.nodes.splice(i+1,0,e),e.parent=this,this.indexes)i<=(n=this.indexes[o])&&(this.indexes[o]=n+1);return this},d.insertBefore=function(t,e){e.parent=this;var n,i=this.index(t);for(var o in this.nodes.splice(i,0,e),e.parent=this,this.indexes)(n=this.indexes[o])<=i&&(this.indexes[o]=n+1);return this},d._findChildAtPosition=function(t,e){var n=void 0;return this.each((function(i){if(i.atPosition){var o=i.atPosition(t,e);if(o)return n=o,!1}else if(i.isAtPosition(t,e))return n=i,!1})),n},d.atPosition=function(t,e){return this.isAtPosition(t,e)?this._findChildAtPosition(t,e)||this:void 0},d._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Pn(this.source.end,this.last.source.end))},d.each=function(t){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var e=this.lastEach;if(this.indexes[e]=0,this.length){for(var n,i;this.indexes[e]<this.length&&(n=this.indexes[e],!1!==(i=t(this.at(n),n)));)this.indexes[e]+=1;return delete this.indexes[e],!1!==i&&void 0}},d.walk=function(t){return this.each((function(e,n){var i=t(e,n);if(!1!==i&&e.length&&(i=e.walk(t)),!1===i)return!1}))},d.walkAttributes=function(t){var e=this;return this.walk((function(n){if(n.type===o.ATTRIBUTE)return t.call(e,n)}))},d.walkClasses=function(t){var e=this;return this.walk((function(n){if(n.type===o.CLASS)return t.call(e,n)}))},d.walkCombinators=function(t){var e=this;return this.walk((function(n){if(n.type===o.COMBINATOR)return t.call(e,n)}))},d.walkComments=function(t){var e=this;return this.walk((function(n){if(n.type===o.COMMENT)return t.call(e,n)}))},d.walkIds=function(t){var e=this;return this.walk((function(n){if(n.type===o.ID)return t.call(e,n)}))},d.walkNesting=function(t){var e=this;return this.walk((function(n){if(n.type===o.NESTING)return t.call(e,n)}))},d.walkPseudos=function(t){var e=this;return this.walk((function(n){if(n.type===o.PSEUDO)return t.call(e,n)}))},d.walkTags=function(t){var e=this;return this.walk((function(n){if(n.type===o.TAG)return t.call(e,n)}))},d.walkUniversals=function(t){var e=this;return this.walk((function(n){if(n.type===o.UNIVERSAL)return t.call(e,n)}))},d.split=function(t){var e=this,n=[];return this.reduce((function(i,o,r){var s=t.call(e,o);return n.push(o),s?(i.push(n),n=[]):r===e.length-1&&i.push(n),i}),[])},d.map=function(t){return this.nodes.map(t)},d.reduce=function(t,e){return this.nodes.reduce(t,e)},d.every=function(t){return this.nodes.every(t)},d.some=function(t){return this.nodes.some(t)},d.filter=function(t){return this.nodes.filter(t)},d.sort=function(t){return this.nodes.sort(t)},d.toString=function(){return this.map(String).join("")},s=i,(a=[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}])&&r(s.prototype,a),l&&r(s,l),i}(i.default);e.default=s,t.exports=e.default})),Qn=Ln((function(t,e){var n;function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.__esModule=!0,e.default=void 0;var o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).type=Vn.ROOT,n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,s,a,l=o.prototype;return l.toString=function(){var t=this.reduce((function(t,e){return t.push(String(e)),t}),[]).join(",");return this.trailingComma?t+",":t},l.error=function(t,e){return this._error?this._error(t,e):new Error(t)},r=o,(s=[{key:"errorGenerator",set:function(t){this._error=t}}])&&i(r.prototype,s),a&&i(r,a),o}(((n=Wn)&&n.__esModule?n:{default:n}).default);e.default=o,t.exports=e.default})),Gn=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.SELECTOR,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=Wn)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),$n={}.hasOwnProperty,Kn=/[ -,\.\/:-@\[-\^`\{-~]/,Yn=/[ -,\.\/:-@\[\]\^`\{-~]/,Xn=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Jn=function t(e,n){"single"!=(n=function(t,e){if(!t)return e;var n={};for(var i in e)n[i]=$n.call(t,i)?t[i]:e[i];return n}(n,t.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var i="double"==n.quotes?'"':"'",o=n.isIdentifier,r=e.charAt(0),s="",a=0,l=e.length;a<l;){var d=e.charAt(a++),c=d.charCodeAt(),u=void 0;if(c<32||c>126){if(c>=55296&&c<=56319&&a<l){var h=e.charCodeAt(a++);56320==(64512&h)?c=((1023&c)<<10)+(1023&h)+65536:a--}u="\\"+c.toString(16).toUpperCase()+" "}else u=n.escapeEverything?Kn.test(d)?"\\"+d:"\\"+c.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+c.toString(16).toUpperCase()+" ":"\\"==d||!o&&('"'==d&&i==d||"'"==d&&i==d)||o&&Yn.test(d)?"\\"+d:d;s+=u}return o&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(r)&&(s="\\3"+r+" "+s.slice(1))),s=s.replace(Xn,(function(t,e,n){return e&&e.length%2?t:(e||"")+n})),!o&&n.wrap?i+s+i:s};Jn.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Jn.version="3.0.0";var Zn=Jn,ti=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n=i(Zn);function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(t){var e,i,r,s,a;function l(e){var n;return(n=t.call(this,e)||this).type=Vn.CLASS,n._constructed=!0,n}return i=t,(e=l).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,l.prototype.valueToString=function(){return"."+t.prototype.valueToString.call(this)},r=l,(s=[{key:"value",set:function(t){if(this._constructed){var e=(0,n.default)(t,{isIdentifier:!0});e!==t?((0,Hn.ensureObject)(this,"raws"),this.raws.value=e):this.raws&&delete this.raws.value}this._value=t},get:function(){return this._value}}])&&o(r.prototype,s),a&&o(r,a),l}(i(Un).default);e.default=r,t.exports=e.default})),ei=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.COMMENT,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=Un)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),ni=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.ID,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.valueToString=function(){return"#"+t.prototype.valueToString.call(this)},i}(((n=Un)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),ii=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n=i(Zn);function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s,a,l,d=r.prototype;return d.qualifiedName=function(t){return this.namespace?this.namespaceString+"|"+t:t},d.valueToString=function(){return this.qualifiedName(t.prototype.valueToString.call(this))},s=r,a=[{key:"namespace",get:function(){return this._namespace},set:function(t){if(!0===t||"*"===t||"&"===t)return this._namespace=t,void(this.raws&&delete this.raws.namespace);var e=(0,n.default)(t,{isIdentifier:!0});this._namespace=t,e!==t?((0,Hn.ensureObject)(this,"raws"),this.raws.namespace=e):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(t){this.namespace=t}},{key:"namespaceString",get:function(){if(this.namespace){var t=this.stringifyProperty("namespace");return!0===t?"":t}return""}}],a&&o(s.prototype,a),l&&o(s,l),r}(i(Un).default);e.default=r,t.exports=e.default})),oi=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.TAG,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=ii)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),ri=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.STRING,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=Un)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),si=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.PSEUDO,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.toString=function(){var t=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),t,this.rawSpaceAfter].join("")},i}(((n=Wn)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),ai=function(t,e){if(li("noDeprecation"))return t;var n=!1;return function(){if(!n){if(li("throwDeprecation"))throw new Error(e);li("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}};function li(t){try{if(!Dn.localStorage)return!1}catch(t){return!1}var e=Dn.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}var di=Ln((function(t,e){e.__esModule=!0,e.unescapeValue=h,e.default=void 0;var n,i=s(Zn),o=s(Nn),r=s(ii);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=/^('|")(.*)\1$/,d=ai((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),c=ai((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),u=ai((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function h(t){var e=!1,n=null,i=t,r=i.match(l);return r&&(n=r[1],i=r[2]),(i=(0,o.default)(i))!==t&&(e=!0),{deprecatedUsage:e,unescaped:i,quoteMark:n}}var p=function(t){var e,n;function o(e){var n;return void 0===e&&(e={}),n=t.call(this,function(t){if(void 0!==t.quoteMark)return t;if(void 0===t.value)return t;u();var e=h(t.value),n=e.quoteMark,i=e.unescaped;return t.raws||(t.raws={}),void 0===t.raws.value&&(t.raws.value=t.value),t.value=i,t.quoteMark=n,t}(e))||this,n.type=Vn.ATTRIBUTE,n.raws=n.raws||{},Object.defineProperty(n.raws,"unquoted",{get:ai((function(){return n.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:ai((function(){return n.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),n._constructed=!0,n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,s,l,p=o.prototype;return p.getQuotedValue=function(t){void 0===t&&(t={});var e=this._determineQuoteMark(t),n=f[e];return(0,i.default)(this._value,n)},p._determineQuoteMark=function(t){return t.smart?this.smartQuoteMark(t):this.preferredQuoteMark(t)},p.setValue=function(t,e){void 0===e&&(e={}),this._value=t,this._quoteMark=this._determineQuoteMark(e),this._syncRawValue()},p.smartQuoteMark=function(t){var e=this.value,n=e.replace(/[^']/g,"").length,r=e.replace(/[^"]/g,"").length;if(n+r===0){var s=(0,i.default)(e,{isIdentifier:!0});if(s===e)return o.NO_QUOTE;var a=this.preferredQuoteMark(t);if(a===o.NO_QUOTE){var l=this.quoteMark||t.quoteMark||o.DOUBLE_QUOTE,d=f[l];if((0,i.default)(e,d).length<s.length)return l}return a}return r===n?this.preferredQuoteMark(t):r<n?o.DOUBLE_QUOTE:o.SINGLE_QUOTE},p.preferredQuoteMark=function(t){var e=t.preferCurrentQuoteMark?this.quoteMark:t.quoteMark;return void 0===e&&(e=t.preferCurrentQuoteMark?t.quoteMark:this.quoteMark),void 0===e&&(e=o.DOUBLE_QUOTE),e},p._syncRawValue=function(){var t=(0,i.default)(this._value,f[this.quoteMark]);t===this._value?this.raws&&delete this.raws.value:this.raws.value=t},p._handleEscapes=function(t,e){if(this._constructed){var n=(0,i.default)(e,{isIdentifier:!0});n!==e?this.raws[t]=n:delete this.raws[t]}},p._spacesFor=function(t){var e=this.spaces[t]||{},n=this.raws.spaces&&this.raws.spaces[t]||{};return Pn({before:"",after:""},e,n)},p._stringFor=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=b);var i=this._spacesFor(e);return n(this.stringifyProperty(t),i)},p.offsetOf=function(t){var e=1,n=this._spacesFor("attribute");if(e+=n.before.length,"namespace"===t||"ns"===t)return this.namespace?e:-1;if("attributeNS"===t)return e;if(e+=this.namespaceString.length,this.namespace&&(e+=1),"attribute"===t)return e;e+=this.stringifyProperty("attribute").length,e+=n.after.length;var i=this._spacesFor("operator");e+=i.before.length;var o=this.stringifyProperty("operator");if("operator"===t)return o?e:-1;e+=o.length,e+=i.after.length;var r=this._spacesFor("value");e+=r.before.length;var s=this.stringifyProperty("value");return"value"===t?s?e:-1:(e+=s.length,e+=r.after.length,e+=this._spacesFor("insensitive").before.length,"insensitive"===t&&this.insensitive?e:-1)},p.toString=function(){var t=this,e=[this.rawSpaceBefore,"["];return e.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(e.push(this._stringFor("operator")),e.push(this._stringFor("value")),e.push(this._stringFor("insensitiveFlag","insensitive",(function(e,n){return!(e.length>0)||t.quoted||0!==n.before.length||t.spaces.value&&t.spaces.value.after||(n.before=" "),b(e,n)})))),e.push("]"),e.push(this.rawSpaceAfter),e.join("")},r=o,(s=[{key:"quoted",get:function(){var t=this.quoteMark;return"'"===t||'"'===t},set:function(t){c()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(t){this._constructed?this._quoteMark!==t&&(this._quoteMark=t,this._syncRawValue()):this._quoteMark=t}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(t){if(this._constructed){var e=h(t),n=e.deprecatedUsage,i=e.unescaped,o=e.quoteMark;if(n&&d(),i===this._value&&o===this._quoteMark)return;this._value=i,this._quoteMark=o,this._syncRawValue()}else this._value=t}},{key:"attribute",get:function(){return this._attribute},set:function(t){this._handleEscapes("attribute",t),this._attribute=t}}])&&a(r.prototype,s),l&&a(r,l),o}(r.default);e.default=p,p.NO_QUOTE=null,p.SINGLE_QUOTE="'",p.DOUBLE_QUOTE='"';var f=((n={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},n);function b(t,e){return""+e.before+t+e.after}})),ci=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.UNIVERSAL,n.value="*",n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=ii)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),ui=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.COMBINATOR,n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=Un)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),hi=Ln((function(t,e){var n;e.__esModule=!0,e.default=void 0;var i=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).type=Vn.NESTING,n.value="&",n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(((n=Un)&&n.__esModule?n:{default:n}).default);e.default=i,t.exports=e.default})),pi=Ln((function(t,e){e.__esModule=!0,e.default=function(t){return t.sort((function(t,e){return t-e}))},t.exports=e.default})),fi=Ln((function(t,e){e.__esModule=!0,e.combinator=e.word=e.comment=e.str=e.tab=e.newline=e.feed=e.cr=e.backslash=e.bang=e.slash=e.doubleQuote=e.singleQuote=e.space=e.greaterThan=e.pipe=e.equals=e.plus=e.caret=e.tilde=e.dollar=e.closeSquare=e.openSquare=e.closeParenthesis=e.openParenthesis=e.semicolon=e.colon=e.comma=e.at=e.asterisk=e.ampersand=void 0;e.ampersand=38;e.asterisk=42;e.at=64;e.comma=44;e.colon=58;e.semicolon=59;e.openParenthesis=40;e.closeParenthesis=41;e.openSquare=91;e.closeSquare=93;e.dollar=36;e.tilde=126;e.caret=94;e.plus=43;e.equals=61;e.pipe=124;e.greaterThan=62;e.space=32;e.singleQuote=39;e.doubleQuote=34;e.slash=47;e.bang=33;e.backslash=92;e.cr=13;e.feed=12;e.newline=10;e.tab=9;e.str=39;e.comment=-1;e.word=-2;e.combinator=-3})),bi=Ln((function(t,e){e.__esModule=!0,e.default=function(t){var e,n,i,r,s,a,l,d,u,h,p,f,b=[],g=t.css.valueOf(),m=g,y=m.length,v=-1,_=1,w=0,x=0;function C(e,n){if(!t.safe)throw t.error("Unclosed "+e,_,w-v,w);d=(g+=n).length-1}for(;w<y;){switch((e=g.charCodeAt(w))===o.newline&&(v=w,_+=1),e){case o.space:case o.tab:case o.newline:case o.cr:case o.feed:d=w;do{d+=1,(e=g.charCodeAt(d))===o.newline&&(v=d,_+=1)}while(e===o.space||e===o.newline||e===o.tab||e===o.cr||e===o.feed);f=o.space,i=_,n=d-v-1,x=d;break;case o.plus:case o.greaterThan:case o.tilde:case o.pipe:d=w;do{d+=1,e=g.charCodeAt(d)}while(e===o.plus||e===o.greaterThan||e===o.tilde||e===o.pipe);f=o.combinator,i=_,n=w-v,x=d;break;case o.asterisk:case o.ampersand:case o.bang:case o.comma:case o.equals:case o.dollar:case o.caret:case o.openSquare:case o.closeSquare:case o.colon:case o.semicolon:case o.openParenthesis:case o.closeParenthesis:f=e,i=_,n=w-v,x=(d=w)+1;break;case o.singleQuote:case o.doubleQuote:p=e===o.singleQuote?"'":'"',d=w;do{for(r=!1,-1===(d=g.indexOf(p,d+1))&&C("quote",p),s=d;g.charCodeAt(s-1)===o.backslash;)s-=1,r=!r}while(r);f=o.str,i=_,n=w-v,x=d+1;break;default:e===o.slash&&g.charCodeAt(w+1)===o.asterisk?(0===(d=g.indexOf("*/",w+2)+1)&&C("comment","*/"),(a=(l=g.slice(w,d+1).split("\n")).length-1)>0?(u=_+a,h=d-l[a].length):(u=_,h=v),f=o.comment,_=u,i=u,n=d-h):e===o.slash?(f=e,i=_,n=w-v,x=(d=w)+1):(d=c(g,w),f=o.word,i=_,n=d-v),x=d+1}b.push([f,_,w-v,i,n,w,x]),h&&(v=h,h=null),w=x}return b},e.FIELDS=void 0;var n,i,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(fi);for(var r=((n={})[o.tab]=!0,n[o.newline]=!0,n[o.cr]=!0,n[o.feed]=!0,n),s=((i={})[o.space]=!0,i[o.tab]=!0,i[o.newline]=!0,i[o.cr]=!0,i[o.feed]=!0,i[o.ampersand]=!0,i[o.asterisk]=!0,i[o.bang]=!0,i[o.comma]=!0,i[o.colon]=!0,i[o.semicolon]=!0,i[o.openParenthesis]=!0,i[o.closeParenthesis]=!0,i[o.openSquare]=!0,i[o.closeSquare]=!0,i[o.singleQuote]=!0,i[o.doubleQuote]=!0,i[o.plus]=!0,i[o.pipe]=!0,i[o.tilde]=!0,i[o.greaterThan]=!0,i[o.equals]=!0,i[o.dollar]=!0,i[o.caret]=!0,i[o.slash]=!0,i),a={},l="0123456789abcdefABCDEF",d=0;d<22;d++)a[l.charCodeAt(d)]=!0;function c(t,e){var n,i=e;do{if(n=t.charCodeAt(i),s[n])return i-1;n===o.backslash?i=u(t,i)+1:i++}while(i<t.length);return i-1}function u(t,e){var n=e,i=t.charCodeAt(n+1);if(r[i]);else if(a[i]){var s=0;do{n++,s++,i=t.charCodeAt(n+1)}while(a[i]&&s<6);s<6&&i===o.space&&n++}else n++;return n}e.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}})),gi=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n,i,o=C(Fn),r=C(qn),s=C(Qn),a=C(Gn),l=C(ti),d=C(ei),c=C(ni),u=C(oi),h=C(ri),p=C(si),f=x(di),b=C(ci),g=C(ui),m=C(hi),y=C(pi),v=x(bi),_=x(fi),w=x(Vn);function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var S=((n={})[_.space]=!0,n[_.cr]=!0,n[_.feed]=!0,n[_.newline]=!0,n[_.tab]=!0,n),O=Pn({},S,((i={})[_.comment]=!0,i));function I(t){return{line:t[v.FIELDS.START_LINE],column:t[v.FIELDS.START_COL]}}function E(t){return{line:t[v.FIELDS.END_LINE],column:t[v.FIELDS.END_COL]}}function T(t,e,n,i){return{start:{line:t,column:e},end:{line:n,column:i}}}function M(t){return T(t[v.FIELDS.START_LINE],t[v.FIELDS.START_COL],t[v.FIELDS.END_LINE],t[v.FIELDS.END_COL])}function B(t,e){if(t)return T(t[v.FIELDS.START_LINE],t[v.FIELDS.START_COL],e[v.FIELDS.END_LINE],e[v.FIELDS.END_COL])}function P(t,e){var n=t[e];if("string"==typeof n)return-1!==n.indexOf("\\")&&((0,Hn.ensureObject)(t,"raws"),t[e]=(0,Hn.unesc)(n),void 0===t.raws[e]&&(t.raws[e]=n)),t}var D=function(){function t(t,e){void 0===e&&(e={}),this.rule=t,this.options=Pn({lossy:!1,safe:!1},e),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,v.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var n=B(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new s.default({source:n}),this.root.errorGenerator=this._errorGenerator();var i=new a.default({source:{start:{line:1,column:1}}});this.root.append(i),this.current=i,this.loop()}var e,n,i,x=t.prototype;return x._errorGenerator=function(){var t=this;return function(e,n){return"string"==typeof t.rule?new Error(e):t.rule.error(e,n)}},x.attribute=function(){var t=[],e=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[v.FIELDS.TYPE]!==_.closeSquare;)t.push(this.currToken),this.position++;if(this.currToken[v.FIELDS.TYPE]!==_.closeSquare)return this.expected("closing square bracket",this.currToken[v.FIELDS.START_POS]);var n=t.length,i={source:T(e[1],e[2],this.currToken[3],this.currToken[4]),sourceIndex:e[v.FIELDS.START_POS]};if(1===n&&!~[_.word].indexOf(t[0][v.FIELDS.TYPE]))return this.expected("attribute",t[0][v.FIELDS.START_POS]);for(var o=0,r="",s="",a=null,l=!1;o<n;){var d=t[o],c=this.content(d),u=t[o+1];switch(d[v.FIELDS.TYPE]){case _.space:if(l=!0,this.options.lossy)break;if(a){(0,Hn.ensureObject)(i,"spaces",a);var h=i.spaces[a].after||"";i.spaces[a].after=h+c;var p=(0,Hn.getProp)(i,"raws","spaces",a,"after")||null;p&&(i.raws.spaces[a].after=p+c)}else r+=c,s+=c;break;case _.asterisk:if(u[v.FIELDS.TYPE]===_.equals)i.operator=c,a="operator";else if((!i.namespace||"namespace"===a&&!l)&&u){r&&((0,Hn.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=r,r=""),s&&((0,Hn.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=r,s=""),i.namespace=(i.namespace||"")+c,((0,Hn.getProp)(i,"raws","namespace")||null)&&(i.raws.namespace+=c),a="namespace"}l=!1;break;case _.dollar:if("value"===a){var b=(0,Hn.getProp)(i,"raws","value");i.value+="$",b&&(i.raws.value=b+"$");break}case _.caret:u[v.FIELDS.TYPE]===_.equals&&(i.operator=c,a="operator"),l=!1;break;case _.combinator:if("~"===c&&u[v.FIELDS.TYPE]===_.equals&&(i.operator=c,a="operator"),"|"!==c){l=!1;break}u[v.FIELDS.TYPE]===_.equals?(i.operator=c,a="operator"):i.namespace||i.attribute||(i.namespace=!0),l=!1;break;case _.word:if(u&&"|"===this.content(u)&&t[o+2]&&t[o+2][v.FIELDS.TYPE]!==_.equals&&!i.operator&&!i.namespace)i.namespace=c,a="namespace";else if(!i.attribute||"attribute"===a&&!l){r&&((0,Hn.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=r,r=""),s&&((0,Hn.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=s,s=""),i.attribute=(i.attribute||"")+c,((0,Hn.getProp)(i,"raws","attribute")||null)&&(i.raws.attribute+=c),a="attribute"}else if(!i.value&&""!==i.value||"value"===a&&!l){var g=(0,Hn.unesc)(c),m=(0,Hn.getProp)(i,"raws","value")||"",y=i.value||"";i.value=y+g,i.quoteMark=null,(g!==c||m)&&((0,Hn.ensureObject)(i,"raws"),i.raws.value=(m||y)+c),a="value"}else{var w="i"===c||"I"===c;!i.value&&""!==i.value||!i.quoteMark&&!l?(i.value||""===i.value)&&(a="value",i.value+=c,i.raws.value&&(i.raws.value+=c)):(i.insensitive=w,w&&"I"!==c||((0,Hn.ensureObject)(i,"raws"),i.raws.insensitiveFlag=c),a="insensitive",r&&((0,Hn.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=r,r=""),s&&((0,Hn.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=s,s=""))}l=!1;break;case _.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:d[v.FIELDS.START_POS]});var x=(0,f.unescapeValue)(c),C=x.unescaped,k=x.quoteMark;i.value=C,i.quoteMark=k,a="value",(0,Hn.ensureObject)(i,"raws"),i.raws.value=c,l=!1;break;case _.equals:if(!i.attribute)return this.expected("attribute",d[v.FIELDS.START_POS],c);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:d[v.FIELDS.START_POS]});i.operator=i.operator?i.operator+c:c,a="operator",l=!1;break;case _.comment:if(a)if(l||u&&u[v.FIELDS.TYPE]===_.space||"insensitive"===a){var S=(0,Hn.getProp)(i,"spaces",a,"after")||"",O=(0,Hn.getProp)(i,"raws","spaces",a,"after")||S;(0,Hn.ensureObject)(i,"raws","spaces",a),i.raws.spaces[a].after=O+c}else{var I=i[a]||"",E=(0,Hn.getProp)(i,"raws",a)||I;(0,Hn.ensureObject)(i,"raws"),i.raws[a]=E+c}else s+=c;break;default:return this.error('Unexpected "'+c+'" found.',{index:d[v.FIELDS.START_POS]})}o++}P(i,"attribute"),P(i,"namespace"),this.newNode(new f.default(i)),this.position++},x.parseWhitespaceEquivalentTokens=function(t){t<0&&(t=this.tokens.length);var e=this.position,n=[],i="",o=void 0;do{if(S[this.currToken[v.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[v.FIELDS.TYPE]===_.comment){var r={};i&&(r.before=i,i=""),o=new d.default({value:this.content(),source:M(this.currToken),sourceIndex:this.currToken[v.FIELDS.START_POS],spaces:r}),n.push(o)}}while(++this.position<t);if(i)if(o)o.spaces.after=i;else if(!this.options.lossy){var s=this.tokens[e],a=this.tokens[this.position-1];n.push(new h.default({value:"",source:T(s[v.FIELDS.START_LINE],s[v.FIELDS.START_COL],a[v.FIELDS.END_LINE],a[v.FIELDS.END_COL]),sourceIndex:s[v.FIELDS.START_POS],spaces:{before:i,after:""}}))}return n},x.convertWhitespaceNodesToSpace=function(t,e){var n=this;void 0===e&&(e=!1);var i="",o="";return t.forEach((function(t){var r=n.lossySpace(t.spaces.before,e),s=n.lossySpace(t.rawSpaceBefore,e);i+=r+n.lossySpace(t.spaces.after,e&&0===r.length),o+=r+t.value+n.lossySpace(t.rawSpaceAfter,e&&0===s.length)})),o===i&&(o=void 0),{space:i,rawSpace:o}},x.isNamedCombinator=function(t){return void 0===t&&(t=this.position),this.tokens[t+0]&&this.tokens[t+0][v.FIELDS.TYPE]===_.slash&&this.tokens[t+1]&&this.tokens[t+1][v.FIELDS.TYPE]===_.word&&this.tokens[t+2]&&this.tokens[t+2][v.FIELDS.TYPE]===_.slash},x.namedCombinator=function(){if(this.isNamedCombinator()){var t=this.content(this.tokens[this.position+1]),e=(0,Hn.unesc)(t).toLowerCase(),n={};e!==t&&(n.value="/"+t+"/");var i=new g.default({value:"/"+e+"/",source:T(this.currToken[v.FIELDS.START_LINE],this.currToken[v.FIELDS.START_COL],this.tokens[this.position+2][v.FIELDS.END_LINE],this.tokens[this.position+2][v.FIELDS.END_COL]),sourceIndex:this.currToken[v.FIELDS.START_POS],raws:n});return this.position=this.position+3,i}this.unexpected()},x.combinator=function(){var t=this;if("|"===this.content())return this.namespace();var e=this.locateNextMeaningfulToken(this.position);if(!(e<0||this.tokens[e][v.FIELDS.TYPE]===_.comma)){var n,i=this.currToken,o=void 0;if(e>this.position&&(o=this.parseWhitespaceEquivalentTokens(e)),this.isNamedCombinator()?n=this.namedCombinator():this.currToken[v.FIELDS.TYPE]===_.combinator?(n=new g.default({value:this.content(),source:M(this.currToken),sourceIndex:this.currToken[v.FIELDS.START_POS]}),this.position++):S[this.currToken[v.FIELDS.TYPE]]||o||this.unexpected(),n){if(o){var r=this.convertWhitespaceNodesToSpace(o),s=r.space,a=r.rawSpace;n.spaces.before=s,n.rawSpaceBefore=a}}else{var l=this.convertWhitespaceNodesToSpace(o,!0),d=l.space,c=l.rawSpace;c||(c=d);var u={},h={spaces:{}};d.endsWith(" ")&&c.endsWith(" ")?(u.before=d.slice(0,d.length-1),h.spaces.before=c.slice(0,c.length-1)):d.startsWith(" ")&&c.startsWith(" ")?(u.after=d.slice(1),h.spaces.after=c.slice(1)):h.value=c,n=new g.default({value:" ",source:B(i,this.tokens[this.position-1]),sourceIndex:i[v.FIELDS.START_POS],spaces:u,raws:h})}return this.currToken&&this.currToken[v.FIELDS.TYPE]===_.space&&(n.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(n)}var p=this.parseWhitespaceEquivalentTokens(e);if(p.length>0){var f=this.current.last;if(f){var b=this.convertWhitespaceNodesToSpace(p),m=b.space,y=b.rawSpace;void 0!==y&&(f.rawSpaceAfter+=y),f.spaces.after+=m}else p.forEach((function(e){return t.newNode(e)}))}},x.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var t=new a.default({source:{start:I(this.tokens[this.position+1])}});this.current.parent.append(t),this.current=t,this.position++},x.comment=function(){var t=this.currToken;this.newNode(new d.default({value:this.content(),source:M(t),sourceIndex:t[v.FIELDS.START_POS]})),this.position++},x.error=function(t,e){throw this.root.error(t,e)},x.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[v.FIELDS.START_POS]})},x.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[v.FIELDS.START_POS])},x.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[v.FIELDS.START_POS])},x.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[v.FIELDS.START_POS])},x.namespace=function(){var t=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[v.FIELDS.TYPE]===_.word?(this.position++,this.word(t)):this.nextToken[v.FIELDS.TYPE]===_.asterisk?(this.position++,this.universal(t)):void 0},x.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var t=this.currToken;this.newNode(new m.default({value:this.content(),source:M(t),sourceIndex:t[v.FIELDS.START_POS]})),this.position++},x.parentheses=function(){var t=this.current.last,e=1;if(this.position++,t&&t.type===w.PSEUDO){var n=new a.default({source:{start:I(this.tokens[this.position-1])}}),i=this.current;for(t.append(n),this.current=n;this.position<this.tokens.length&&e;)this.currToken[v.FIELDS.TYPE]===_.openParenthesis&&e++,this.currToken[v.FIELDS.TYPE]===_.closeParenthesis&&e--,e?this.parse():(this.current.source.end=E(this.currToken),this.current.parent.source.end=E(this.currToken),this.position++);this.current=i}else{for(var o,r=this.currToken,s="(";this.position<this.tokens.length&&e;)this.currToken[v.FIELDS.TYPE]===_.openParenthesis&&e++,this.currToken[v.FIELDS.TYPE]===_.closeParenthesis&&e--,o=this.currToken,s+=this.parseParenthesisToken(this.currToken),this.position++;t?t.appendToPropertyAndEscape("value",s,s):this.newNode(new h.default({value:s,source:T(r[v.FIELDS.START_LINE],r[v.FIELDS.START_COL],o[v.FIELDS.END_LINE],o[v.FIELDS.END_COL]),sourceIndex:r[v.FIELDS.START_POS]}))}if(e)return this.expected("closing parenthesis",this.currToken[v.FIELDS.START_POS])},x.pseudo=function(){for(var t=this,e="",n=this.currToken;this.currToken&&this.currToken[v.FIELDS.TYPE]===_.colon;)e+=this.content(),this.position++;return this.currToken?this.currToken[v.FIELDS.TYPE]!==_.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[v.FIELDS.START_POS]):void this.splitWord(!1,(function(i,o){e+=i,t.newNode(new p.default({value:e,source:B(n,t.currToken),sourceIndex:n[v.FIELDS.START_POS]})),o>1&&t.nextToken&&t.nextToken[v.FIELDS.TYPE]===_.openParenthesis&&t.error("Misplaced parenthesis.",{index:t.nextToken[v.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},x.space=function(){var t=this.content();0===this.position||this.prevToken[v.FIELDS.TYPE]===_.comma||this.prevToken[v.FIELDS.TYPE]===_.openParenthesis||this.current.nodes.every((function(t){return"comment"===t.type}))?(this.spaces=this.optionalSpace(t),this.position++):this.position===this.tokens.length-1||this.nextToken[v.FIELDS.TYPE]===_.comma||this.nextToken[v.FIELDS.TYPE]===_.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(t),this.position++):this.combinator()},x.string=function(){var t=this.currToken;this.newNode(new h.default({value:this.content(),source:M(t),sourceIndex:t[v.FIELDS.START_POS]})),this.position++},x.universal=function(t){var e=this.nextToken;if(e&&"|"===this.content(e))return this.position++,this.namespace();var n=this.currToken;this.newNode(new b.default({value:this.content(),source:M(n),sourceIndex:n[v.FIELDS.START_POS]}),t),this.position++},x.splitWord=function(t,e){for(var n=this,i=this.nextToken,s=this.content();i&&~[_.dollar,_.caret,_.equals,_.word].indexOf(i[v.FIELDS.TYPE]);){this.position++;var a=this.content();if(s+=a,a.lastIndexOf("\\")===a.length-1){var d=this.nextToken;d&&d[v.FIELDS.TYPE]===_.space&&(s+=this.requiredSpace(this.content(d)),this.position++)}i=this.nextToken}var h=(0,o.default)(s,".").filter((function(t){return"\\"!==s[t-1]})),p=(0,o.default)(s,"#").filter((function(t){return"\\"!==s[t-1]})),f=(0,o.default)(s,"#{");f.length&&(p=p.filter((function(t){return!~f.indexOf(t)})));var b=(0,y.default)((0,r.default)([0].concat(h,p)));b.forEach((function(i,o){var r,a=b[o+1]||s.length,d=s.slice(i,a);if(0===o&&e)return e.call(n,d,b.length);var f=n.currToken,g=f[v.FIELDS.START_POS]+b[o],m=T(f[1],f[2]+i,f[3],f[2]+(a-1));if(~h.indexOf(i)){var y={value:d.slice(1),source:m,sourceIndex:g};r=new l.default(P(y,"value"))}else if(~p.indexOf(i)){var _={value:d.slice(1),source:m,sourceIndex:g};r=new c.default(P(_,"value"))}else{var w={value:d,source:m,sourceIndex:g};P(w,"value"),r=new u.default(w)}n.newNode(r,t),t=null})),this.position++},x.word=function(t){var e=this.nextToken;return e&&"|"===this.content(e)?(this.position++,this.namespace()):this.splitWord(t)},x.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},x.parse=function(t){switch(this.currToken[v.FIELDS.TYPE]){case _.space:this.space();break;case _.comment:this.comment();break;case _.openParenthesis:this.parentheses();break;case _.closeParenthesis:t&&this.missingParenthesis();break;case _.openSquare:this.attribute();break;case _.dollar:case _.caret:case _.equals:case _.word:this.word();break;case _.colon:this.pseudo();break;case _.comma:this.comma();break;case _.asterisk:this.universal();break;case _.ampersand:this.nesting();break;case _.slash:case _.combinator:this.combinator();break;case _.str:this.string();break;case _.closeSquare:this.missingSquareBracket();case _.semicolon:this.missingBackslash();default:this.unexpected()}},x.expected=function(t,e,n){if(Array.isArray(t)){var i=t.pop();t=t.join(", ")+" or "+i}var o=/^[aeiou]/.test(t[0])?"an":"a";return n?this.error("Expected "+o+" "+t+', found "'+n+'" instead.',{index:e}):this.error("Expected "+o+" "+t+".",{index:e})},x.requiredSpace=function(t){return this.options.lossy?" ":t},x.optionalSpace=function(t){return this.options.lossy?"":t},x.lossySpace=function(t,e){return this.options.lossy?e?" ":"":t},x.parseParenthesisToken=function(t){var e=this.content(t);return t[v.FIELDS.TYPE]===_.space?this.requiredSpace(e):e},x.newNode=function(t,e){return e&&(/^ +$/.test(e)&&(this.options.lossy||(this.spaces=(this.spaces||"")+e),e=!0),t.namespace=e,P(t,"namespace")),this.spaces&&(t.spaces.before=this.spaces,this.spaces=""),this.current.append(t)},x.content=function(t){return void 0===t&&(t=this.currToken),this.css.slice(t[v.FIELDS.START_POS],t[v.FIELDS.END_POS])},x.locateNextMeaningfulToken=function(t){void 0===t&&(t=this.position+1);for(var e=t;e<this.tokens.length;){if(!O[this.tokens[e][v.FIELDS.TYPE]])return e;e++}return-1},e=t,(n=[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}])&&k(e.prototype,n),i&&k(e,i),t}();e.default=D,t.exports=e.default})),mi=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n,i=(n=gi)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){this.func=t||function(){},this.funcRes=null,this.options=e}var e=t.prototype;return e._shouldUpdateSelector=function(t,e){return void 0===e&&(e={}),!1!==Pn({},this.options,e).updateSelector&&"string"!=typeof t},e._isLossy=function(t){return void 0===t&&(t={}),!1===Pn({},this.options,t).lossless},e._root=function(t,e){return void 0===e&&(e={}),new i.default(t,this._parseOptions(e)).root},e._parseOptions=function(t){return{lossy:this._isLossy(t)}},e._run=function(t,e){var n=this;return void 0===e&&(e={}),new Promise((function(i,o){try{var r=n._root(t,e);Promise.resolve(n.func(r)).then((function(i){var o=void 0;return n._shouldUpdateSelector(t,e)&&(o=r.toString(),t.selector=o),{transform:i,root:r,string:o}})).then(i,o)}catch(t){return void o(t)}}))},e._runSync=function(t,e){void 0===e&&(e={});var n=this._root(t,e),i=this.func(n);if(i&&"function"==typeof i.then)throw new Error("Selector processor returned a promise to a synchronous call.");var o=void 0;return e.updateSelector&&"string"!=typeof t&&(o=n.toString(),t.selector=o),{transform:i,root:n,string:o}},e.ast=function(t,e){return this._run(t,e).then((function(t){return t.root}))},e.astSync=function(t,e){return this._runSync(t,e).root},e.transform=function(t,e){return this._run(t,e).then((function(t){return t.transform}))},e.transformSync=function(t,e){return this._runSync(t,e).transform},e.process=function(t,e){return this._run(t,e).then((function(t){return t.string||t.root.toString()}))},e.processSync=function(t,e){var n=this._runSync(t,e);return n.string||n.root.toString()},t}();e.default=o,t.exports=e.default})),yi=Ln((function(t,e){e.__esModule=!0,e.universal=e.tag=e.string=e.selector=e.root=e.pseudo=e.nesting=e.id=e.comment=e.combinator=e.className=e.attribute=void 0;var n=f(di),i=f(ti),o=f(ui),r=f(ei),s=f(ni),a=f(hi),l=f(si),d=f(Qn),c=f(Gn),u=f(ri),h=f(oi),p=f(ci);function f(t){return t&&t.__esModule?t:{default:t}}e.attribute=function(t){return new n.default(t)};e.className=function(t){return new i.default(t)};e.combinator=function(t){return new o.default(t)};e.comment=function(t){return new r.default(t)};e.id=function(t){return new s.default(t)};e.nesting=function(t){return new a.default(t)};e.pseudo=function(t){return new l.default(t)};e.root=function(t){return new d.default(t)};e.selector=function(t){return new c.default(t)};e.string=function(t){return new u.default(t)};e.tag=function(t){return new h.default(t)};e.universal=function(t){return new p.default(t)}})),vi=Ln((function(t,e){var n;e.__esModule=!0,e.isNode=o,e.isPseudoElement=y,e.isPseudoClass=function(t){return h(t)&&!y(t)},e.isContainer=function(t){return!(!o(t)||!t.walk)},e.isNamespace=function(t){return s(t)||g(t)},e.isUniversal=e.isTag=e.isString=e.isSelector=e.isRoot=e.isPseudo=e.isNesting=e.isIdentifier=e.isComment=e.isCombinator=e.isClassName=e.isAttribute=void 0;var i=((n={})[Vn.ATTRIBUTE]=!0,n[Vn.CLASS]=!0,n[Vn.COMBINATOR]=!0,n[Vn.COMMENT]=!0,n[Vn.ID]=!0,n[Vn.NESTING]=!0,n[Vn.PSEUDO]=!0,n[Vn.ROOT]=!0,n[Vn.SELECTOR]=!0,n[Vn.STRING]=!0,n[Vn.TAG]=!0,n[Vn.UNIVERSAL]=!0,n);function o(t){return"object"==typeof t&&i[t.type]}function r(t,e){return o(e)&&e.type===t}var s=r.bind(null,Vn.ATTRIBUTE);e.isAttribute=s;var a=r.bind(null,Vn.CLASS);e.isClassName=a;var l=r.bind(null,Vn.COMBINATOR);e.isCombinator=l;var d=r.bind(null,Vn.COMMENT);e.isComment=d;var c=r.bind(null,Vn.ID);e.isIdentifier=c;var u=r.bind(null,Vn.NESTING);e.isNesting=u;var h=r.bind(null,Vn.PSEUDO);e.isPseudo=h;var p=r.bind(null,Vn.ROOT);e.isRoot=p;var f=r.bind(null,Vn.SELECTOR);e.isSelector=f;var b=r.bind(null,Vn.STRING);e.isString=b;var g=r.bind(null,Vn.TAG);e.isTag=g;var m=r.bind(null,Vn.UNIVERSAL);function y(t){return h(t)&&t.value&&(t.value.startsWith("::")||":before"===t.value.toLowerCase()||":after"===t.value.toLowerCase())}e.isUniversal=m})),_i=Ln((function(t,e){e.__esModule=!0,Object.keys(Vn).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=Vn[t])})),Object.keys(yi).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=yi[t])})),Object.keys(vi).forEach((function(t){"default"!==t&&"__esModule"!==t&&(e[t]=vi[t])}))})),wi=Ln((function(t,e){e.__esModule=!0,e.default=void 0;var n,i=(n=mi)&&n.__esModule?n:{default:n},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(_i);var r=function(t){return new i.default(t)};Pn(r,o),delete r.__esModule;var s=r;e.default=s,t.exports=e.default})),xi=An(wi),Ci=Element.prototype.matches||Element.prototype.msMatchesSelector;var ki=function(t){this._queue=[t],this.next()};function Si(t){for(var e=[],n=t.length-1;n>=0;n--){var i=t[n];if("combinator"===i.type)break;e.push(i)}return e.reverse()}function Oi(t){if("function"!=typeof t.assignedElements&&t.assignedSlot&&t.assignedSlot.parentElement)return t.assignedSlot.parentElement;if(t.parentElement)return t.parentElement;var e=t.getRootNode();return e!==document?e.host:void 0}function Ii(t,e){for(var n=Oi(t);n;){if(Ti(n,{nodes:e}))return n;n=Oi(n)}}function Ei(t,e){for(var n=t.previousElementSibling;n;){if(Ti(n,{nodes:e}))return n;n=n.previousElementSibling}}function Ti(t,e){for(var n=e.nodes,i=n.length-1;i>=0;i--){var o=n[i];if("id"===o.type){if(t.id!==o.value)return!1}else if("class"===o.type){if(!t.classList.contains(o.value))return!1}else if("tag"===o.type){if(t.tagName.toLowerCase()!==o.value.toLowerCase())return!1}else if("pseudo"===o.type||"attribute"===o.type){if(!Ci.call(t,o.sourceCode))return!1}else if("combinator"===o.type)if(" "===o.value){var r=Si(n.slice(0,i)),s=Ii(t,r);if(!s)return!1;t=s,i-=r.length}else if(">"===o.value){var a=Si(n.slice(0,i)),l=Oi(t);if(!l||!Ti(l,{nodes:a}))return!1;t=l,i-=1}else if("+"===o.value){var d=Si(n.slice(0,i)),c=t.previousElementSibling;if(!c||!Ti(c,{nodes:d}))return!1;i-=d.length}else if("~"===o.value){var u=Si(n.slice(0,i));if(!Ei(t,u))return!1;i-=u.length}}return!0}function Mi(t,e){for(var n=0,i=t.nodes;n<i.length;n+=1){var o=i[n];if("pseudo"===o.type||"attribute"===o.type){for(var r=e.split("\n"),s=o.source,a=s.start,l=s.end,d="",c=a.line-1;c<l.line;c++){var u=r[c],h=c===a.line-1?a.column:0,p=c===l.line-1?l.column:u.length;d+=u.substring(h,p)}o.sourceCode=("pseudo"===o.type?":":"[")+d}o.nodes&&Mi(o,e)}}function Bi(t){var e=xi().astSync(t);return Mi(e,t),e}function Pi(t,e,n){var i=Bi(t);return function(t,e,n){for(var i,o=n?[]:null;i=t.next();)for(var r=0,s=e.nodes;r<s.length;r+=1)if(Ti(i,s[r])){if(!n)return i;o.push(i)}return o}(new ki(e),i,n)}function Di(t,e){return void 0===e&&(e=document),Pi(t,e,!1)}ki.prototype.next=function(){var t=this._queue.pop();if(t){var e=function(t){return t.documentElement?[t.documentElement]:t.shadowRoot?t.shadowRoot.children:"function"==typeof t.assignedElements&&t.assignedNodes().length?t.assignedElements():t.children}(t);if(e)for(var n=e.length-1;n>=0;n--)this._queue.push(e[n])}return t};const Ai={INPUT:new Set([37,39]),TEXTAREA:new Set([37,39,38,40]),SELECT:new Set([38,40])},Li=(0,yn.o)((t=>class extends t{getTemplateGenerator(t,e,n,o,r){return i.I.isMobile?new En(t,e,n,o,r):new kn(t,e,n,o,r)}_onFocusOut(t){let e=!1;if(null!=t.relatedTarget&&null!=t.relatedTarget.parentElement&&"SB-CUSTOM-ACTION"===t.relatedTarget.parentElement.tagName&&null!=t.relatedTarget.parentElement.customAction){let n=t.relatedTarget.parentElement.customAction.eventHandlerName;"onQuickSave"!==n&&"onSave"!==n&&"onFlagCalculate"!==n||(e=!0)}setTimeout((t=>{let e=null,n=!1,i=this._getActiveElement(document.activeElement);for(;i;){if(i.classList&&i.classList.contains("focusable"))e=i;else if("SF-STANDARD-TABLE"===i.tagName||"SF-SEGMENTED-TABLE"===i.tagName||"UBP-RATE-TABLE"===i.tagName){n=i===this;break}i=i.parentElement||(0,A.GC)(i)}null!==e&&n||this.removeCellFocus(this.focusedCell,t)}),5,e)}_getActiveElement(t){if(t.shadowRoot){const e=t.shadowRoot.activeElement?t.shadowRoot.activeElement:t;if(e!=t)return this._getActiveElement(e)}return t}_onKeyDown(t){switch(t.keyCode){case 13:this._onEnterKeyPress(t);break;case 32:this._onSpaceBarPress(t);break;case 27:this._onEscapePress(t);break;case 9:this._moveCellFocus(t,t.shiftKey?"left":"right");break;case 37:this._moveCellFocus(t,"left");break;case 38:this._moveCellFocus(t,"up");break;case 39:this._moveCellFocus(t,"right");break;case 40:this._moveCellFocus(t,"down")}}_onEscapePress(t){this._routeKeyEvent(t)||(this._toggleInlineEditIfFocused(t,!1),this._editOnFocus=!1,this.focusedCell&&this.applyCellFocus(this.focusedCell))}_onSpaceBarPress(t){this._routeKeyEvent(t)||(this._editOnFocus=!!this._toggleInlineEditIfFocused(t,!0))}_routeKeyEvent(t){let e=Ri(t.target);if(e&&e.onKeyDown)return e.onKeyDown(t)}_onEnterKeyPress(t){let e=Fi(t,this.getCellClass());if(this._isCellFocusedAndInteractive(e)){let n=e.classList.contains(F.classNames.EDIT_MODE),i=Ni(e);if(i&&n&&("textarea"===i.type||"reference"===i.type||"id"===i.type))return;let o=this._getActiveElement(document.activeElement);n&&o&&o.blur(),this._editOnFocus=!!this._toggleInlineEditIfFocused(t,!n),n&&this.focusedCell&&this.applyCellFocus(this.focusedCell)}}_toggleTappableCell(t,e,n){return!!t.classList.contains(F.classNames.TAPPABLE)&&(e.hook_onTap(n,!1),!0)}_openLookupDialog(){this.keepEditableFocus=!0}_closeLookupDialog(){this.keepEditableFocus=!1}_toggleInlineEditIfFocused(t,e){let n=Fi(t,this.getCellClass());if(this._isCellFocusedAndInteractive(n)){let i=Ri(n);if(i)return!this._toggleTappableCell(n,i,t)&&(i.toggleInlineEdit(n,e),!0)}}_isCellFocusedAndInteractive(t){return t&&t.classList&&t.classList.contains(F.classNames.HAS_FOCUS)&&(t.classList.contains(F.classNames.EDITABLE)||t.classList.contains(F.classNames.TAPPABLE))}unfocus(){this.removeCellFocus(this.focusedCell)}removeCellFocus(t,e){if(t&&t.classList&&t.classList.contains(F.classNames.HAS_FOCUS)&&!this.keepEditableFocus){let n=Ri(t);return n&&(n.toggleInlineEdit(t,!1,!1,e),n.toggleCellClass(F.classNames.HAS_FOCUS,!1,t,t.getAttribute("field"))),t===this.focusedCell&&(this.focusedCell=null),n}}applyCellFocus(t){t&&t.classList&&setTimeout((()=>{!t.classList.contains("focusable")&&Di(".focusable",t)&&(t=Di(".focusable",t)),this._isMobile()||t.focus();let e=Ri(t);e&&e.toggleCellClass(F.classNames.HAS_FOCUS,!0,t,t.getAttribute("field")),this.focusedCell!==t&&this.focusedCell&&this.removeCellFocus(this.focusedCell),this.focusedCell=t}),10)}_isMobile(){return i.I.isMobile}setEditOnFocus(t){this._editOnFocus=t}_moveCellFocus(t,e){if(t&&e&&!function(t){let e=t.target&&t.target.tagName?t.target.tagName:"",n=Ai[e];return n&&n.has(t.keyCode)}(t)){let n=Fi(t,"focusable");if(n){let i=Ri(n),o=i,r=null;if(i){let s=i.getContentNode().querySelector("div");switch(e){case"up":case"down":let a="up"===e,l=n.classList.contains(F.classNames.EDIT_MODE),d=Ni(n,i);if(d&&l&&("reference"===d.type||"id"===d.type||"date"===d.type||"datetime"===d.type))return;let c=qi(i,a,this._rowHasParentDiv());if(c){o=c;let t=function(t,e){for(;e.parentElement!==t&&e.parentElement;)e=e.parentElement;return Array.from(t.children).indexOf(e)}(s,n);r=c.getCellByIndex(t)}break;case"left":case"right":if(9!=t.keyCode){if(function(t){switch(t&&t.tagName?t.tagName.toLowerCase():null){case"input":if(t.type&&"text"===t.type)return!0;break;case"textarea":return!0}return!1}(t&&t.target?this._getActiveElement(t.target):null))return}let u=function(t,e){return void 0===e&&(e=document),Pi(t,e,!0)}(".focusable",s),h=Array.from(u).indexOf(n),p="left"==e,f=u.length;if(0==h&&p||!p&&h==f-1){let t=qi(i,p,this._rowHasParentDiv());t&&(o=t,r=p?t.getCellByIndex(f-1):t.getCellByIndex(0))}else r=u[h+(p?-1:1)]}}r&&(this.applyCellFocus(r),this._editOnFocus&&o&&o.toggleInlineEdit(r,!0,!0))}}}_rowHasParentDiv(){return this.editorModel&&this.editorModel.largeQuoteExperienceEnabled}getCellClass(){return"sf-le-table-cell"}}));function Fi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sf-le-table-cell";return t.composedPath().find((t=>{let n=t.classList;return n&&n.contains(e)}))}function qi(t,e,n){if(t){let i=t.tagName,o=e?"previousElementSibling":"nextElementSibling";if(n){let n;if(null===t.dataIndex||void 0===t.dataIndex)n=t.parentElement[o];else{let o=parseInt(t.dataIndex,10),r=e?o-1:o+1;n=t.parentElement.parentElement.querySelector("".concat(i,'[data-index="').concat(r,'"]')),n&&(n=n.parentElement)}for(;n;){for(let t of n.children)if(t&&t.tagName==i&&"none"!==t.style.display)return t;n=n[o]}}else{let e=t[o];for(;e;){if(e&&e.tagName==i)return e;e=e[o]}}return null}}function Ni(t,e){let n=t?t.getAttribute("field"):null;return e||(e=t?Ri(t):null),e&&n?e._getFieldMetadata(n):null}function Ri(t){if(t)return"SF-LE-TABLE-ROW"===t.tagName||"UBP-RATE-ROW"===t.tagName?t:Ri(t.parentElement||(0,A.GC)(t))}window.CommonBehaviors=window.CommonBehaviors||{},window.CommonBehaviors.SFAbstractTable=Li.prototype;n(7308);var ji=n(8842);const zi=(0,yn.o)((t=>class extends t{static get properties(){return{template:{type:Object,observer:"_templateChanged"},templateHTML:{type:String,observer:"_templateChanged"},templateInstance:{type:Object},uiData:{type:Object,observer:"_populateContent"}}}ready(){super.ready&&super.ready()}hydrateTemplate(t,e){let n=document.createElement("template");return n.innerHTML=this.isTemplatizeWithRootDivNode()?"<div>".concat(t,"</div>"):t,this._innerHydrateTemplate(n,e)}hydrateTemplateFromNode(t,e){let n=document.createElement("template");return n.content.appendChild(t),this._innerHydrateTemplate(n,e)}_innerHydrateTemplate(t,e){return t.__dataHost=(0,A.GC)(this),new((0,ji.Uv)(t,this))(e||{})}_templateChanged(){this.templateInstance&&(this.getContentNode().innerHTML="",this.templateInstance=null),this._populateContent()}_populateContent(){(this.template||this.templateHTML)&&this.uiData&&(this.templateInstance?Object.keys(this.uiData).forEach((t=>{this.templateInstance[t]=this.uiData[t]})):(this.template?this.templateInstance=this.hydrateTemplateFromNode(this.template.cloneNode(!0),this.uiData):this.templateInstance=this.hydrateTemplate(this.templateHTML,this.uiData),this.getContentNode().appendChild(this.templateInstance.root)),this.postPopulateContent())}getContentNode(){throw"getContentNode() must be implemented!"}postPopulateContent(){}isTemplatizeWithRootDivNode(){return!0}_restampField(t,e){this.templateInstance&&(null!=this.secondaryTemplateInstance&&(this.secondaryTemplateInstance[t]=e),this.templateInstance[t]=e,this.uiData[t]=e)}}));const Hi=(0,yn.o)((t=>class extends t{static get properties(){return{columnWidths:{type:Object,observer:"_columnsResized"},byOrder:{type:String,value:null},lastSortedByField:{type:String,value:null},fieldSetName:String}}startResize(t){if(i.I.isColumnResizingEnabled){t.preventDefault();let e=t.composedPath()[0],n=e.parentElement;if(e.classList.contains("col-adj-bar")&&null!=n.getAttribute("field")){let e=this.shadowRoot.querySelector("div#col-resize-indicator"),i=this.getBoundingClientRect().x;document._currentHeaderSource=this,this._currentHeaderCell=n,this._currentCellWidth=parseFloat(n.style.maxWidth.replace("px","")),this._mouseXStartPos=t.clientX-i,this._currOffset=-i,e.style.transform="translate3d(".concat(this._mouseXStartPos,"px, 0px, 0px)"),e.style.visibility="visible",this._changeVisibilityOnColAdjBars(this,"hidden"),document.addEventListener("mousemove",this._onResize,!1),document.addEventListener("mouseup",this._stopResize,!1)}}}_onResize(t){let e=this._currentHeaderSource,n=e.shadowRoot.querySelector("div#col-resize-indicator"),i=t.clientX+e._currOffset,o=e._mouseXStartPos-i,r=e._currentCellWidth-o;r>67&&(e._currentCellWidth=r,e._mouseXStartPos=i,n.style.transform="translate3d(".concat(e._mouseXStartPos,"px, 0px, 0px)"))}_stopResize(t){t.preventDefault();let e=this._currentHeaderSource,n=e._currentHeaderCell,i=e.shadowRoot.querySelector("div#col-resize-indicator");e._changeVisibilityOnColAdjBars(e,"visible"),i.style.visibility="hidden",this.removeEventListener("mousemove",e._onResize,!1),this.removeEventListener("mouseup",e._stopResize,!1),e.dispatchEvent((0,o.FU)("sf-col-size-adjusted",{fieldsWidth:e._currentCellWidth,field:n.getAttribute("field"),dimension:e.lineModels[0].dimensionType,fieldSet:e.fieldSetName})),e._wasColumnResizing=!0,delete this._currentHeaderSource}onHover(t){let e=this.findElementForEvent(t,"th");if(e){let t=e.getAttribute("field");if(t)return void this.showTooltip(e,this.getTooltipContent(t))}}showTooltip(t,e){if(!t.querySelector("paper-tooltip")){let n=document.createElement("paper-tooltip");n.position="bottom",n.animationDelay=0,n.fitToVisibleBounds="true",t.appendChild(n),n.textContent=e}}onTap(t){if(this.onTap_hook(t))return;if(this._wasColumnResizing)return void(this._wasColumnResizing=!1);let e=this.findElementForEvent(t,"checkboxcontainer");if(e)return void this.toggleSelection(e);let n=this.findElementForEvent(t,"sortable");n&&this.sortLines(n)}findElementForEvent(t,e){return t.composedPath().find((t=>{let n=t.classList;return n&&n.contains(e)}))}_columnsResized(t,e){null!=t&&null!=e&&Object.keys(t).forEach((e=>{let n=this.shadowRoot.querySelector("div.th[field='".concat(e,"']"));n&&(n.style.minWidth=t[e]+"px",n.style.maxWidth=t[e]+"px")}))}_changeVisibilityOnColAdjBars(t,e){t.shadowRoot.querySelectorAll(".col-adj-bar").forEach((t=>{t.style.visibility=e}))}sortLines(t){this.lastSortedByField!==t.getAttribute("field")&&(this.byOrder=""),this.resetHeaderCellStyles(),this.updateSortColumnHeaderStyles(t,this._getNewByOrder(this.byOrder)),this._fireSortClickedEvent(t)}resetHeaderCellStyles(){let t=this.shadowRoot.querySelectorAll(".sortable");for(let e=0;e<t.length;e++)this._resetHeaderCellState(t[e])}_resetHeaderCellState(t){let e=t.querySelector(".arrow");e&&((0,A.og)("sf-icon-arrowup",!1,e),(0,A.og)("sf-icon-arrowdown",!1,e),(0,A.og)("arrow-on-hover",!0,t),(0,A.og)("column-selected",!1,t))}_fireSortClickedEvent(t){let e={lineSortField:t.getAttribute("field"),order:this.byOrder};this.dispatchEvent((0,o.FU)("table-header-sort-clicked",e))}_getNewByOrder(t){switch(t){case"asc":return"desc";case"desc":return"";default:return"asc"}}updateSortColumnHeaderStyles(t,e){let n=t.querySelector(".arrow");(0,A.og)("column-selected",!0,t),(0,A.og)("arrow-on-hover",!1,t),"asc"===e?((0,A.og)("sf-icon-arrowup",!0,n),(0,A.og)("sf-icon-arrowdown",!1,n)):"desc"===e?((0,A.og)("sf-icon-arrowup",!1,n),(0,A.og)("sf-icon-arrowdown",!0,n)):""===e&&this._resetHeaderCellState(t),this.lastSortedByField=t.getAttribute("field"),this.byOrder=e}toggleSelection(t){}onTap_hook(t){}getTooltipContent(t){return""}setSort(t,e){if(t===this.lastSortedByField&&e===this.byOrder)return;this.resetHeaderCellStyles();let n=this._getHeaderCell(t);n&&this.updateSortColumnHeaderStyles(n,e)}_getHeaderCell(t){return this.shadowRoot.querySelector("div[field='"+t+"']")}}));var Ui;const Vi=(0,zt.f)(Ui||(Ui=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: table-row;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n}\n:host #content {\n  position: relative;\n}\n:host .th {\n  display: table-cell;\n  height: 32px;\n  padding-top: 2px;\n  padding-right: 18px;\n  padding-bottom: 0px;\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  text-transform: uppercase;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n}\n:host .sortable {\n  cursor: pointer;\n}\n:host .sortable:hover {\n  color: var(--sbIconColor);\n}\n:host .column-selected {\n  color: var(--sbIconColor);\n}\n:host .th.itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .rightAligned {\n  text-align: right;\n}\n:host .centerAligned {\n  text-align: center;\n}\n:host .leftAligned {\n  text-align: left;\n}\n:host .hidden {\n  display: none;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  color: var(--sbIconColor);\n  font-size: 13px;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .arrow-on-hover > i {\n  display: none;\n}\n:host .arrow-on-hover:hover > i {\n  display: inline;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .col-adj-bar {\n  position: absolute;\n  padding: 16px 0 16px 0;\n  cursor: col-resize;\n  top: 0;\n  right: 0;\n  width: 1px;\n  height: inherit;\n  background-color: #d8dde6;\n}\n:host .th:hover .col-adj-bar {\n  width: 4px;\n  background-color: #706e6b;\n}\n:host .th:hover .col-adj-bar:hover {\n  background-color: var(--sbIconColor);\n}\n:host #col-resize-indicator {\n  background-color: var(--sbIconColor);\n  width: 4px;\n  height: 32px;\n  position: absolute;\n  cursor: col-resize;\n  top: 0;\n  visibility: hidden;\n  display: block;\n  z-index: 99999;\n}\n:host #col-resize-indicator #col-adj-divider {\n  background-color: var(--sbIconColor);\n  height: 70vh;\n  width: 1px;\n  float: right;\n  z-index: 99999;\n}\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n:host .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host .th span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .th.itemNumber .sf-icon-right:hover,\n:host .th.itemNumber .sf-icon-down:hover {\n  cursor: pointer;\n}\n:host .th.selection {\n  min-width: 30px;\n  max-width: 30px;\n}\n:host .th.drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n  font-weight: bold !important;\n}\n:host .th.drawerIcon:hover {\n  cursor: pointer;\n}\n:host .th:hover {\n  background-color: white;\n}\n:host .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n'])));var Wi;function Qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qi(Object(n),!0).forEach((function(e){$i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $i(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ki extends((0,ke._)((0,qt.J)(zi(Hi((0,Ft.U)(Qt.H3)))))){static get is(){return"sf-le-table-header"}static get properties(){return Gi(Gi({lineModels:{type:Object,notify:!0},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover",mousedown:"startResize"}},fields:Object},zi.properties),Hi.properties)}get events(){let t={};return t[o.zW.DESELECT_CHECKBOX]=this.deselectCheckbox,t}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,o.oW)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this.eventListeners)}onTap_hook(t){let e=this.findElementForEvent(t,"bundle-caret");if(e)return this._toggleBundleExpansion(e),!0;let n=this.findElementForEvent(t,"drawerIcon");if(n)return this._toggleStandardDrawers(n),!0;let i=this.findElementForEvent(t,"segmentedDrawer");return i?(this._toggleSegmentedDrawers(i),!0):void 0}_toggleBundleExpansion(t){let e=this.uiData._caretContent===F.classNames.CHEVRON_DOWN_CONTENT;this._restampField("_caretContent",e?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT),this.dispatchEvent((0,o.FU)("bundle-toggled",{expanded:!e}))}toggleSelection(t){let e=t.querySelector("input[type=checkbox]");const n=this.lineModels&&this.lineModels.length>0&&this.lineModels[0].groupModel?this.lineModels[0].groupModel.quoteModel:null;if(e.checked=!e.checked,this.lineModels)for(let t=0;t<this.lineModels.length;t++)(0,V.eZ)(this.lineModels[t],["selected"],e.checked),n&&(e.checked?n.selectedLinesByKey[this.lineModels[t].lineVO.key]=this.lineModels[t]:delete n.selectedLinesByKey[this.lineModels[t].lineVO.key])}deselectCheckbox(){let t=this.shadowRoot.querySelector("div.selection div.checkboxcontainer");if(t){t.querySelector("input[type=checkbox]").checked=!1}}_toggleStandardDrawers(t){let e=t.querySelector("span");e&&this._toggleDrawers(e,F.classNames.CHEVRON_RIGHT_ICON,F.classNames.CHEVRON_DOWN_ICON,"lineItemDrawerIconClass")}_toggleSegmentedDrawers(t){let e=t.querySelectorAll("span")[1];e&&this._toggleDrawers(e,F.classNames.RIGHT_ICON,F.classNames.DOWN_ICON,"expandedIconClass")}_toggleDrawers(t,e,n,i){let r=!t.classList.contains(e),s=r?e:n;if(t.classList.remove(e,n),t.classList.add(s),this.lineModels)for(let t=0,e=this.lineModels.length;t<e;t++)this.set("lineModels.".concat(t,".lineVO.expanded"),!r),this.set("lineModels.".concat(t,".").concat(i),s);this.dispatchEvent((0,o.FU)("line-toggled"))}getContentNode(){return this.shadowRoot.querySelector("#content")}getTooltipContent(t){return this.uiData[t]||""}static get template(){return(0,Qt.dy)(Wi||(Wi=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<div id="content" class$="tr">\n\t\t\t</div>\n\t\t'])),Vi)}}customElements.define(Ki.is,Ki);var Yi=n(20),Xi=n(3095);class Ji{static getFieldComponent(t,e,n,o){let r=t.type,s=t.name||t.fieldPath;o=o||e.lineVO.record;let a=null,l=null;if("reference"===r)a={refDisplay:o&&t.relationshipName&&o[t.relationshipName]?o[t.relationshipName].Name:"",refDisplayName:"refDisplay",refTable:Zi(t),refObjects:[],record:o};else if("picklist"===r||"multipicklist"===r)if(t.controllerName){let e=o[t.controllerName];l=new Xi.S(t,e).build()}else l=t.picklistValues;const d=(0,Yi.Z)(r,e,o[s],!0,!1,!1,n,t,i.I.i18n,"richtextarea"===t.extraTypeInfo,l,a);let c=null;return"sb-input"===d.name||"sb-select"===d.name||"sb-datepicker"===d.name||"sb-lookup"===d.name||"sb-textarea"===d.name?c="inlineEdit":"sb-discount"===d.name&&(c="inlineEdit discount"),null!=c&&d.addAttribute("variant",2,"variant",c),d}}function Zi(t){if(void 0!==t)return t.referenceTable?t.referenceTable:t.referenceTo&&t.referenceTo.length>0?t.referenceTo[0]:null}const to=(0,yn.o)((t=>class extends t{ready(){super.ready&&super.ready()}getCellByIndex(t){let e=this.getContentNode().querySelector("div");if(e){let n=Array.from(e.children);if(n)return n[t=Math.min(Math.max(0,t),n.length-1)]}}onHovered(t){(0,A.og)("show",!0,this.getContentNode()),this.hook_onHovered(t)}onUnhovered(t){(0,A.og)("show",!1,this.getContentNode()),this.hook_onUnhovered(t)}onTap(t){let e=!1,n=this.getTableComponent(t),i=Fi(t,this.getCellClass()),o=i&&i.classList.contains(F.classNames.EDITABLE),r=i&&i.classList.contains(F.classNames.BOOLEAN),s=i&&i.classList.contains(F.classNames.HAS_FOCUS),a=i&&i.classList.contains(F.classNames.EDIT_MODE);n&&!s&&(n.applyCellFocus(i),n.setEditOnFocus(!1)),o&&!a&&(s&&!r||function(t){let e=t.composedPath();if(e&&e.length>0&&e[0].classList.contains(F.classNames.EDIT_ICON))return e[0]}(t))&&(this.toggleInlineEdit(i,!0),n&&n.setEditOnFocus(!0),e=!0),this.hook_onTap(t,e,o)}getTableComponent(t){return t.composedPath().find((t=>{let e=t&&t.tagName?t.tagName.toUpperCase():"";return"SF-STANDARD-TABLE"===e||"SF-SEGMENTED-TABLE"===e||"UBP-RATE-TABLE"===e}))}getContentNode(){return this.querySelector("#content")}findElementForEvent(t,e){return t.composedPath().find((t=>{let n=t.classList;return n&&n.contains(e)}))}getCellClass(){throw new Error("getCellClass must be implemented by row element")}hook_onHovered(t){}hook_onUnhovered(t){}hook_onTap(t,e){}toggleInlineEdit(t,e){}}));var eo=n(3817),no=n(5936);const io=(0,yn.o)((t=>class extends t{ready(){super.ready&&super.ready()}toggleInlineEdit(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!t.classList.contains("editable"))return;let o=t.getAttribute("field"),r=this._getFieldMetadataForInlineEdit(o);"boolean"!==r.type&&"checkbox"!==r.type&&(e&&n&&"richtextarea"===r.extraTypeInfo||this.toggleInlineEditForDeviceDelegate(t,e,o,r,i))}setDiscardPendingEdit(t){this._discardPendingEdit=t}commitPendingEdit(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!1;if(this._pendingEdit&&!this._discardPendingEdit){let n=this._pendingEdit.field,i=this._pendingEdit.eventDetail,o=this._pendingEdit.eventType,r=this._getFieldMetadataForInlineEdit(n),s=this._parseFieldData(r,i.value);this.commitInlineEdit(n,s),r&&this.handleControllingPicklistAndFields(r,n,o,i),e=!0,!1===t&&this.fireCalculateImmediately(n)}return this._discardPendingEdit=!1,this._pendingEdit=null,e}commitInlineEdit(t,e){this._getRecord()[t]=e}_parseFieldData(t,e){if((""===e||null===e)&&"picklist"!==t.type&&"multipicklist"!==t.type)return null;switch(t.type){case"currency":case"double":case"percent":return(new no.d).parse(e,!1,t.scale);case"date":case"datetime":let n=(new eo.G).parse(e);return null!==n?"date"===t.type?at.M.toApexDate(n):at.M.toApexDateTime(n):e;case"time":return i.I.i18n.parseTime(e);default:return e}}_createWritableElement(t,e){let n=document.createElement("div");n.className="w";let i=e.getAttribute("index");return this._createEditField(n,i,t),e.appendChild(n),A.Zr.horizontalBound(n),n}_createEditField(t,e,n){let i=this._getFieldMetadataForInlineEdit(n),o=this._getEditField(i,e),r={};o.attachTo(r);let s=this.hydrateTemplate(o.html,r);t.appendChild(s.root)}_toggleDirtyClass(t,e,n){if(n){let i=this._getOriginalRecord();if(i){if(this.checkIsDirty(t,i,e)){if(!this._isEditable(e))return;n.classList.contains(F.classNames.DIRTY)||n.classList.add(F.classNames.DIRTY),this.isDirty=!0}else n.classList.remove(F.classNames.DIRTY)}}}_refreshDirtyIndicators(){this.isDirty&&(Array.from(this.shadowRoot.querySelectorAll("div.r")).forEach((t=>{t.classList.toggle("dirty",!1)})),this.isDirty=!1);let t=this._getOriginalRecord(),e=this._getRecord();e&&t&&Object.keys(e).forEach((n=>{let i=e[n];if(this.checkIsDirty(i,t,n)){if(!this._isEditable(n))return;let t=this.shadowRoot.querySelector("div.td[field='".concat(n,"'] div.r"));this._enableDirtyClass(t)}}))}_enableDirtyClass(t){t&&(t.classList.toggle("dirty",!0),this.isDirty=!0)}_handleEditableCellsHover(t){if(!this._pencilLoaded||t){let t=this.shadowRoot.querySelectorAll(".container.editable");if(t&&t.length>0){let e=Array.from(t),n=!1;e.forEach((t=>{if(!t.querySelector("span.pencil")){n=!0;let e=document.createElement("span");if(e.classList.add(F.classNames.EDIT_ICON),t.classList.contains(F.classNames.RIGHT)||t.classList.contains(F.classNames.CENTER)){let n=t.querySelector("div.r");n.insertBefore(e,n.firstChild)}else t.querySelector("div.r").appendChild(e)}})),setTimeout((()=>{this.dispatchEvent(new CustomEvent("line-toggled",{detail:{index:this.dataIndex}}))}))}this._pencilLoaded=!0}}_resetPencilLoaded(){if(this._pencilLoaded){Array.from(this.shadowRoot.querySelectorAll(".container.editable span.pencil")).forEach((function(t){t.parentNode.removeChild(t)})),this._pencilLoaded=!1}}onChange(t){let e=Fi(t,this.getCellClass());if(e){let n=e.getAttribute("field"),o=this._getFieldMetadata(n);if(t.detail){this._pendingEdit={field:n,eventDetail:t.detail,eventType:t.type};const r=e.querySelector(".w");"richtextarea"===o.extraTypeInfo?(this.toggleInlineEdit(e,!1),e.removeChild(r),this._applyFocus(e,t)):i.I.isMobile&&(0,Nt.T8)(this,(function(){this.commitPendingEdit(),r&&this._deviceDelegate&&this._deviceDelegate._updateEditableField&&this._deviceDelegate._updateEditableField(e,this,n,o,r)}))}}}toggleInlineEditForDeviceDelegate(t,e,n,i,o){}handleControllingPicklistAndFields(t,e,n,i){}fireCalculateImmediately(t){}_getFieldMetadataForInlineEdit(t){throw new Error("Must implement method _getFieldMetadataForInlineEdit for SFInlineEditBehavior.")}_getEditField(t,e){throw new Error("Must implement method _getEditField for SFInlineEditBehavior.")}_getOriginalRecord(){throw new Error("Must implement method _getOriginalRecord for SFInlineEditBehavior.")}_isEditable(t){throw new Error("Must implement method _isEditable for SFInlineEditBehavior.")}_getRecord(){throw new Error("Must implement method _getRecord for SFInlineEditBehavior.")}checkIsDirty(t,e,n){throw new Error("Must implement method checkIsDirty for SFInlineEditBehavior.")}_formatNewValue(t,e){throw new Error("Must implement _formatNewValue for SFInlineEditBehavior")}}));class oo{initListeners(t){}onTap(t,e){}expansionChanged(t,e,n){}toggleInlineEdit(t,e,n,i,o,r){}onKeyDown(t,e){}applyFocus(t,e,n){}}class ro extends oo{toggleInlineEdit(t,e,n,i,r,s){let a=t.querySelector(".w"),l=t.querySelector(".r"),d="richtextarea"===i.extraTypeInfo;if(r.toggleCellClass("hidden",e&&!d,l,n),r.toggleCellClass(F.classNames.EDIT_MODE,e&&!d,t,n),e){a||(a=r._createWritableElement(n,t));let e=Di('input:not([type="hidden"]), checkbox, select, textarea, sb-rte',a);e&&setTimeout((()=>{e.focus()}),10)}else if(a&&(d||t.removeChild(a),r.commitPendingEdit(s))){let t=r._formatNewValue(n,i);setTimeout((()=>{r.dispatchEvent((0,o.FU)("line-toggled",{index:r.dataIndex}))})),r._toggleDirtyClass(t,n,l)}}onKeyDown(t,e){let n=!1;switch(t.keyCode){case 27:n=this._onEscapePress(t,e);break;case 32:n=this._onSpaceBarPress(t,e)}return n}_onSpaceBarPress(t,e){let n=t.composedPath()[0];if(n.classList.contains(F.classNames.EDITABLE)&&n.classList.contains(F.classNames.BOOLEAN)||n.classList.contains(F.classNames.SELECTION)){let t=n.querySelector(".checkboxcontainer");if(t)return e.toggleCheckbox(t),!0}return!1}_onEscapePress(t,e){let n=e.findElementForEvent(t,F.classNames.EDIT_MODE);if(n&&n.getAttribute("field"))if(e._getEditorModel&&n.getAttribute("field")===e._getEditorModel().constants.ADDITIONAL_DISCOUNT_FIELD){let t=n.querySelector("sb-discount");t&&t.resetToOriginal()}else e.setDiscardPendingEdit(!0);return!1}applyFocus(t,e,n){let i=n.getTableComponent(e);i&&i.applyCellFocus(t)}updateTemplate(){}_updateEditableField(){}}class so extends ro{static getInstance(){return this._instance||(this._instance=new so),this._instance}initListeners(t){(0,o.oW)(t,{mouseover:"onHovered",mouseout:"onUnhovered","rte-esc":"onRteCancel"})}expansionChanged(t,e,n){if(n.isSegmented){let e=n.shadowRoot.querySelector(".segmentedContainer");e&&(e.classList.toggle(F.classNames.DOWN_ICON,t),e.classList.toggle(F.classNames.RIGHT_ICON,!t),n.uiData&&n.uiData._cellClasses&&(n.uiData._cellClasses._expansionIcon=t?F.classNames.DOWN_ICON:F.classNames.RIGHT_ICON))}else{let e=n.shadowRoot.querySelector(".drawerContainer span");e&&(e.classList.toggle(F.classNames.CHEVRON_DOWN_ICON,t),e.classList.toggle(F.classNames.CHEVRON_RIGHT_ICON,!t))}}}class ao extends oo{static getInstance(){return this._instance||(this._instance=new ao),this._instance}initListeners(t){(0,o.oW)(t,{"row-swiped":"onRowSwiped"})}onTap(t,e){if(t&&!e.expansionDisabled&&e.findElementForEvent(t,"primary")){var n=e.toggleExpanded(),i=e.shadowRoot.querySelector("sb-swipe-container");null!==i&&(i.groupExpanded=n)}}onRowSwiped(t,e){t&&t.detail&&(e.expansionDisabled=t.detail.isOpen)}expansionChanged(t,e,n){if(!n.expansionDisabled){let e=n.shadowRoot.querySelector(".container.first");if(e){let i=n.shadowRoot.querySelector(".secondary");i||(this._loadSecondaryFields(n),i=n.shadowRoot.querySelector(".secondary")),e.classList.toggle(F.classNames.EXPANDED,t),i.classList.toggle(F.classNames.EXPANDED,t)}}}updateTemplate(t){t.secondaryTemplateInstance&&Object.keys(t.uiData).forEach((e=>{t.secondaryTemplateInstance[e]=t.uiData[e]}))}_loadSecondaryFields(t){t.secondaryTemplateInstance=t.hydrateTemplateFromNode(t.secondaryRowTemplate.cloneNode(!0),t.uiData),t.$.content.appendChild(t.secondaryTemplateInstance.root),Array.from(t.shadowRoot.querySelector(".secondary").children).forEach((e=>{if(e.classList.contains(F.classNames.EDITABLE)&&!e.classList.contains(F.classNames.BOOLEAN)){let n=e.querySelector(".r");n&&(0,A.og)("hidden",!0,n),t.toggleInlineEdit(e,!0)}}))}toggleInlineEdit(t,e,n,i,o,r){let s=t.querySelector(".w");o.toggleCellClass(F.classNames.EDIT_MODE,e,t,n),e?s||o._createWritableElement(n,t):s&&o.commitPendingEdit(r)}_updateEditableField(t,e,n,i,o){if(e._formatNewValue(n,i),o.firstChild)try{o.removeChild(o.firstChild),e._createEditField(o,t.getAttribute("index"),n)}catch(t){if(!(t instanceof DOMException&&"NotFoundError"===t.name))throw t}}}class lo{getFieldName(){}updateControlledFields(t,e){}}class co extends lo{updateControlledFields(t,e){let n=!1;this._getEditableFieldValues().includes(e)?(this._getControlledFields().forEach((e=>{if(t.lineModel.isFieldRendered(e)&&t.lineModel.isEditable(e)){var i=t.shadowRoot.querySelector("div[field='"+e+"']");if(i){let t=i.classList;t.contains("editable")||(n=!0,t.add("editable"))}}})),n&&t._handleEditableCellsHover(!0)):(this._getControlledFields().forEach((e=>{if(t.lineModel.isFieldRendered(e)){var n=t.shadowRoot.querySelector("div[field='"+e+"']");n&&n.classList.remove("editable"),this._shouldClearFieldValue()&&t._clearFieldValue(e)}})),n=!0),this._getControlledFields().forEach((i=>{let o=this._getControlledFieldValue(i,e,n);void 0!==o&&t._updateFieldValue(i,o)}))}_getControlledFields(){return[]}_getEditableFieldValues(){return[]}_getControlledFieldValue(t,e,n){}_shouldClearFieldValue(){return!0}}class uo extends co{getFieldName(){return D.U.constants.PRICING_METHOD_FIELD}_getControlledFields(){return[D.U.constants.MARKUP_FIELD,D.U.constants.MARKUP_AMOUNT_FIELD,D.U.constants.MARKUP_RATE_FIELD]}_getEditableFieldValues(){return["Cost"]}}class ho extends co{getFieldName(){return D.U.constants.NON_DISCOUNTABLE_FIELD}_getControlledFields(){return[D.U.constants.ADDITIONAL_DISCOUNT_FIELD,D.U.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,D.U.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]}_getEditableFieldValues(){return[!1]}}class po extends co{getFieldName(){return D.U.constants.PRICING_METHOD_EDITABLE_FIELD}_getControlledFields(){return[D.U.constants.PRICING_METHOD_FIELD]}_getEditableFieldValues(){return[!0]}_shouldClearFieldValue(){return!1}}class fo extends co{getFieldName(){return D.U.constants.PRICE_EDITABLE_FIELD}_getControlledFields(){return[D.U.constants.LIST_PRICE_FIELD]}_getEditableFieldValues(){return[!0]}_shouldClearFieldValue(){return!1}}class bo extends co{getFieldName(){return D.U.constants.SUBSCRIPTION_TYPE_FIELD}_getControlledFields(){return[D.U.constants.SUBSCRIPTION_TERM_FIELD,D.U.constants.END_DATE_FIELD,D.U.constants.EFFECTIVE_END_DATE_FIELD]}_getEditableFieldValues(){return["","Renewable","One-time"]}_getControlledFieldValue(t,e,n){if(t===D.U.constants.SUBSCRIPTION_TERM_FIELD){if("Evergreen"===e)return 1;if(n)return null}}_shouldClearFieldValue(){return!0}}var go;const mo=(0,zt.f)(go||(go=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: flex;\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sbTableRowTextDecoration);\n  border-bottom: 1px solid #D8DDE6;\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n}\n:host ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .tr div.row {\n  display: block !important;\n}\n:host .tr:hover {\n  background-color: var(--sbTableRowHoverColor);\n}\n:host .tr > div > .td {\n  outline: none;\n}\n:host .tr > div > .td > .sf-icon-right {\n  padding-left: var(--segmented-icon-padding);\n}\n:host .tr .container {\n  /* div.w styling is under .device-desktop */\n}\n:host .tr .container.td input#dateInput.sb-datepicker {\n  width: var(--datePickerWidth, 120px);\n}\n:host .tr .container.td.editMode {\n  position: relative;\n  overflow-x: visible;\n}\n:host .tr .container.td.hideCheckbox {\n  visibility: hidden;\n}\n:host .tr .container.td span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .tr .container.td span.bundle-caret.collapsible-bundle {\n  cursor: pointer;\n}\n:host .tr .container.td span.bundle-caret + div.r {\n  display: inline;\n}\n:host .tr .container div.r {\n  word-wrap: break-word;\n  white-space: pre-line;\n}\n:host .tr .container div.r.hidden {\n  display: none;\n}\n:host .tr .container div.r.dirty {\n  color: #F88962;\n}\n:host .tr .container div.r div.htmlField {\n  display: inline;\n  overflow: hidden;\n  width: 100%;\n}\n:host .tr .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .tr .container.editable span.pencil:after {\n  content: '\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n:host .tr.show .container:not(.editable):hover.right div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).right div.r:before,\n:host .tr.show .container:not(.editable):hover.center div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).center div.r:before,\n:host .tr.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .tr .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .tr #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .tr.show .container.editable span.pencil:after,\n:host .tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .tr.show .container.editable.right div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .tr.show .container.editable.center div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .sb-pricebook-warning {\n  position: relative;\n  display: inline-block;\n  white-space: normal;\n}\n:host .lineActions {\n  white-space: nowrap;\n  text-align: left;\n  color: var(--sbBtnColor);\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host .tr[class*='--mobile'] {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host .tr[class*='--mobile'] .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host .tr[class*='--mobile'] .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host .tr[class*='--mobile'] .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host .tr[class*='--mobile'] .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host .tr[class*='--mobile'] sb-swipe-container {\n  min-width: 100%;\n}\n:host .tr[class*='--mobile'] sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host .secondary[class*='--mobile'] {\n  padding: 10px;\n}\n:host .secondary[class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .secondary[class*='--mobile'] .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host [class*='--mobile'] .tr {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host [class*='--mobile'] .tr .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host [class*='--mobile'] .tr .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host [class*='--mobile'] .tr .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host [class*='--mobile'] .tr .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host [class*='--mobile'] .tr sb-swipe-container {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .tr sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .secondary {\n  padding: 10px;\n}\n:host [class*='--mobile'] .secondary .hiddenInMobile {\n  display: none;\n}\n:host [class*='--mobile'] .secondary .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host #content sb-lookup {\n  --sbTypeaheadSelectorWidth: 97.5%;\n}\n#root[class*='--desktop'] {\n  position: relative;\n  display: inherit;\n}\n.tr[class*='--desktop'] > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n.tr[class*='--desktop'] > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n.tr[class*='--desktop'] .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n.tr[class*='--desktop'] .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n.tr[class*='--desktop'] .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n.tr[class*='--desktop'] .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n.tr[class*='--desktop'] .container:not(.editable).right div.r:before,\n.tr[class*='--desktop'] .container:not(.editable).center div.r:before,\n.tr[class*='--desktop'] .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\ndiv.sf-standard-table.sf-le-table-row[class*='--desktop']:last-child div.w {\n  left: -110px;\n}\n.tr.focused[class*='--desktop'] {\n  background-color: var(--sbTableRowHoverColor);\n}\n.tr.focused[class*='--desktop']:not(.largeQuote) {\n  cursor: all-scroll;\n}\n.td[class*='--desktop'] {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n.td.top-level[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbBundleOption[class*='--desktop'] {\n  color: #696969;\n}\n.td.sbIndent1[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbIndent1.option[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2.option[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3.option[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4.option[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5.option[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6.option[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7.option[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8.option[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9.option[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10.option[class*='--desktop'] {\n  padding-left: 220px;\n}\n.lineActions[class*='--desktop'] {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n#itemNumber[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n.td.selection[class*='--desktop'],\n.td.boolean[class*='--desktop'] {\n  min-width: 30px;\n  max-width: 30px;\n}\n.imgFormula[class*='--desktop'] {\n  display: inline-block;\n}\n.imgFormula[class*='--desktop'] img {\n  max-width: 150px;\n}\n.td.boolean[class*='--desktop'] div.r:before {\n  padding-right: 1px;\n}\n.drawerContainer[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n.drawerContainer[class*='--desktop']:hover {\n  cursor: pointer;\n}\n.sf-icon-chevronright[class*='--desktop']:before {\n  font-weight: bold;\n}\n.swipeContainer[class*='--desktop'] {\n  display: table-cell;\n}\n.tr.placeholder[class*='--desktop'] {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n.tr.placeholder[class*='--desktop'] sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n[class*='--desktop'] #root {\n  position: relative;\n  display: inherit;\n}\n[class*='--desktop'] .tr > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n[class*='--desktop'] .tr > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n[class*='--desktop'] .tr .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n[class*='--desktop'] .tr .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n[class*='--desktop'] .tr .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n[class*='--desktop'] .tr .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n[class*='--desktop'] .tr .container:not(.editable).right div.r:before,\n[class*='--desktop'] .tr .container:not(.editable).center div.r:before,\n[class*='--desktop'] .tr .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] div.sf-standard-table.sf-le-table-row:last-child div.w {\n  left: -110px;\n}\n[class*='--desktop'] .tr.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] .tr.focused:not(.largeQuote) {\n  cursor: all-scroll;\n}\n[class*='--desktop'] .td {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n[class*='--desktop'] .td.top-level {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbBundleOption {\n  color: #696969;\n}\n[class*='--desktop'] .td.sbIndent1 {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbIndent1.option {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2 {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2.option {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3 {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3.option {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4 {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4.option {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5 {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5.option {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6 {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6.option {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7 {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7.option {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8 {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8.option {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9 {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9.option {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10 {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10.option {\n  padding-left: 220px;\n}\n[class*='--desktop'] .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n[class*='--desktop'] #itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n[class*='--desktop'] .td.selection,\n[class*='--desktop'] .td.boolean {\n  min-width: 30px;\n  max-width: 30px;\n}\n[class*='--desktop'] .imgFormula {\n  display: inline-block;\n}\n[class*='--desktop'] .imgFormula img {\n  max-width: 150px;\n}\n[class*='--desktop'] .td.boolean div.r:before {\n  padding-right: 1px;\n}\n[class*='--desktop'] .drawerContainer {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n[class*='--desktop'] .drawerContainer:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n[class*='--desktop'] .swipeContainer {\n  display: table-cell;\n}\n[class*='--desktop'] .tr.placeholder {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n[class*='--desktop'] .tr.placeholder sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: flex;\n  background-color: var(--sbTableRowBgColor);\n  color: var(--sbTableRowColor);\n  font-family: var(--sbTableRowFontFamilly);\n  font-size: var(--sbTableRowFontSize);\n  font-weight: var(--sbTableRowFontWeight);\n  font-style: var(--sbTableRowFontStyle);\n  text-decoration: var(--sbTableRowTextDecoration);\n  border-bottom: 1px solid #D8DDE6;\n  line-height: var(--sbTableRowLineHeight);\n  padding-top: var(--sbTableRowPaddingTop);\n  padding-bottom: var(--sbTableRowPaddingBottom);\n}\n:host ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .tr div.row {\n  display: block !important;\n}\n:host .tr:hover {\n  background-color: var(--sbTableRowHoverColor);\n}\n:host .tr > div > .td {\n  outline: none;\n}\n:host .tr > div > .td > .sf-icon-right {\n  padding-left: var(--segmented-icon-padding);\n}\n:host .tr .container {\n  /* div.w styling is under .device-desktop */\n}\n:host .tr .container.td input#dateInput.sb-datepicker {\n  width: var(--datePickerWidth, 120px);\n}\n:host .tr .container.td.editMode {\n  position: relative;\n  overflow-x: visible;\n}\n:host .tr .container.td.hideCheckbox {\n  visibility: hidden;\n}\n:host .tr .container.td span.bundle-caret {\n  font-family: sf-icons;\n  margin-right: 5px;\n}\n:host .tr .container.td span.bundle-caret.collapsible-bundle {\n  cursor: pointer;\n}\n:host .tr .container.td span.bundle-caret + div.r {\n  display: inline;\n}\n:host .tr .container div.r {\n  word-wrap: break-word;\n  white-space: pre-line;\n}\n:host .tr .container div.r.hidden {\n  display: none;\n}\n:host .tr .container div.r.dirty {\n  color: #F88962;\n}\n:host .tr .container div.r div.htmlField {\n  display: inline;\n  overflow: hidden;\n  width: 100%;\n}\n:host .tr .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .tr .container.editable span.pencil:after {\n  content: '\\\\e847';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n:host .tr.show .container:not(.editable):hover.right div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).right div.r:before,\n:host .tr.show .container:not(.editable):hover.center div.r:before,\n:host .tr .container.sf-has-focus:not(.editable).center div.r:before,\n:host .tr.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .tr .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .tr #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .tr.show .container.editable span.pencil:after,\n:host .tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .tr.show .container.editable.right div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .tr.show .container.editable.center div.r.dirty:before,\n:host .tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .sb-pricebook-warning {\n  position: relative;\n  display: inline-block;\n  white-space: normal;\n}\n:host .lineActions {\n  white-space: nowrap;\n  text-align: left;\n  color: var(--sbBtnColor);\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host .tr[class*='--mobile'] {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host .tr[class*='--mobile'] .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host .tr[class*='--mobile'] .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host .tr[class*='--mobile'] .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host .tr[class*='--mobile'] .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host .tr[class*='--mobile'] .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host .tr[class*='--mobile'] sb-swipe-container {\n  min-width: 100%;\n}\n:host .tr[class*='--mobile'] sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host .secondary[class*='--mobile'] {\n  padding: 10px;\n}\n:host .secondary[class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .secondary[class*='--mobile'] .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host([class*='--mobile']) {\n  /* Secondary Fields */\n}\n:host [class*='--mobile'] .tr {\n  display: inline-block;\n  width: 100%;\n  border-bottom: 1px solid #D8DDE6;\n}\n:host [class*='--mobile'] .tr .td.selection {\n  position: absolute;\n  padding: 15px;\n}\n:host [class*='--mobile'] .tr .td.container {\n  text-align: left;\n  font-size: 1.1rem;\n  font-weight: 400;\n  position: inherit;\n}\n:host [class*='--mobile'] .tr .td.container.primary {\n  background-color: #f4f6f9;\n  padding: 5px 0 5px 45px;\n  outline: none;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbBundleOption {\n  color: #696969;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1 {\n  padding-left: 60px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent1.option {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2 {\n  padding-left: 80px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent2.option {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3 {\n  padding-left: 100px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent3.option {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4 {\n  padding-left: 120px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent4.option {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5 {\n  padding-left: 140px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent5.option {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6 {\n  padding-left: 160px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent6.option {\n  padding-left: 180px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7 {\n  padding-left: 200px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent7.option {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8 {\n  padding-left: 220px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent8.option {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9 {\n  padding-left: 240px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent9.option {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10 {\n  padding-left: 260px;\n}\n:host [class*='--mobile'] .tr .td.container.primary.sbIndent10.option {\n  padding-left: 280px;\n}\n:host [class*='--mobile'] .tr .lineActions {\n  display: inline-block;\n  position: relative;\n}\n:host [class*='--mobile'] .tr sb-swipe-container {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .tr sb-swipe-container div#swipe-header {\n  min-width: 100%;\n}\n:host [class*='--mobile'] .secondary {\n  padding: 10px;\n}\n:host [class*='--mobile'] .secondary .hiddenInMobile {\n  display: none;\n}\n:host [class*='--mobile'] .secondary .field-label {\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host #content sb-lookup {\n  --sbTypeaheadSelectorWidth: 97.5%;\n}\n#root[class*='--desktop'] {\n  position: relative;\n  display: inherit;\n}\n.tr[class*='--desktop'] > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n.tr[class*='--desktop'] > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n.tr[class*='--desktop'] .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n.tr[class*='--desktop'] .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n.tr[class*='--desktop'] .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n.tr[class*='--desktop'] .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n.tr[class*='--desktop'] .container:not(.editable).right div.r:before,\n.tr[class*='--desktop'] .container:not(.editable).center div.r:before,\n.tr[class*='--desktop'] .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\ndiv.sf-standard-table.sf-le-table-row[class*='--desktop']:last-child div.w {\n  left: -110px;\n}\n.tr.focused[class*='--desktop'] {\n  background-color: var(--sbTableRowHoverColor);\n}\n.tr.focused[class*='--desktop']:not(.largeQuote) {\n  cursor: all-scroll;\n}\n.td[class*='--desktop'] {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n.td.top-level[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbBundleOption[class*='--desktop'] {\n  color: #696969;\n}\n.td.sbIndent1[class*='--desktop'] {\n  padding-left: 25px;\n}\n.td.sbIndent1.option[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2[class*='--desktop'] {\n  padding-left: 40px;\n}\n.td.sbIndent2.option[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3[class*='--desktop'] {\n  padding-left: 60px;\n}\n.td.sbIndent3.option[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4[class*='--desktop'] {\n  padding-left: 80px;\n}\n.td.sbIndent4.option[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5[class*='--desktop'] {\n  padding-left: 100px;\n}\n.td.sbIndent5.option[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6[class*='--desktop'] {\n  padding-left: 120px;\n}\n.td.sbIndent6.option[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7[class*='--desktop'] {\n  padding-left: 140px;\n}\n.td.sbIndent7.option[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8[class*='--desktop'] {\n  padding-left: 160px;\n}\n.td.sbIndent8.option[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9[class*='--desktop'] {\n  padding-left: 180px;\n}\n.td.sbIndent9.option[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10[class*='--desktop'] {\n  padding-left: 200px;\n}\n.td.sbIndent10.option[class*='--desktop'] {\n  padding-left: 220px;\n}\n.lineActions[class*='--desktop'] {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n.lineActions[class*='--desktop'] .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n#itemNumber[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n#itemNumber[class*='--desktop'] #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n.td.selection[class*='--desktop'],\n.td.boolean[class*='--desktop'] {\n  min-width: 30px;\n  max-width: 30px;\n}\n.imgFormula[class*='--desktop'] {\n  display: inline-block;\n}\n.imgFormula[class*='--desktop'] img {\n  max-width: 150px;\n}\n.td.boolean[class*='--desktop'] div.r:before {\n  padding-right: 1px;\n}\n.drawerContainer[class*='--desktop'] {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n.drawerContainer[class*='--desktop']:hover {\n  cursor: pointer;\n}\n.sf-icon-chevronright[class*='--desktop']:before {\n  font-weight: bold;\n}\n.swipeContainer[class*='--desktop'] {\n  display: table-cell;\n}\n.tr.placeholder[class*='--desktop'] {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n.tr.placeholder[class*='--desktop'] sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n[class*='--desktop'] #root {\n  position: relative;\n  display: inherit;\n}\n[class*='--desktop'] .tr > div > .td:hover {\n  background-color: var(--sbTableRowBgColor);\n}\n[class*='--desktop'] .tr > div > .td.sf-has-focus {\n  box-shadow: #0070d2 0 0 0 1px inset;\n}\n[class*='--desktop'] .tr .container.right {\n  text-align: right;\n  padding-right: 18px;\n}\n[class*='--desktop'] .tr .container.center.boolean div.r {\n  text-align: right;\n  padding-right: calc(50% - 8px);\n}\n[class*='--desktop'] .tr .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n[class*='--desktop'] .tr .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n[class*='--desktop'] .tr .container:not(.editable).right div.r:before,\n[class*='--desktop'] .tr .container:not(.editable).center div.r:before,\n[class*='--desktop'] .tr .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: '\\\\e874';\n  color: var(--sbFieldEditableIconColor);\n  font-family: 'sf-icons';\n  display: none;\n}\n[class*='--desktop'] div.sf-standard-table.sf-le-table-row:last-child div.w {\n  left: -110px;\n}\n[class*='--desktop'] .tr.focused {\n  background-color: var(--sbTableRowHoverColor);\n}\n[class*='--desktop'] .tr.focused:not(.largeQuote) {\n  cursor: all-scroll;\n}\n[class*='--desktop'] .td {\n  overflow-x: hidden;\n  padding-left: 5px;\n  border-bottom: none;\n}\n[class*='--desktop'] .td.top-level {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbBundleOption {\n  color: #696969;\n}\n[class*='--desktop'] .td.sbIndent1 {\n  padding-left: 25px;\n}\n[class*='--desktop'] .td.sbIndent1.option {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2 {\n  padding-left: 40px;\n}\n[class*='--desktop'] .td.sbIndent2.option {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3 {\n  padding-left: 60px;\n}\n[class*='--desktop'] .td.sbIndent3.option {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4 {\n  padding-left: 80px;\n}\n[class*='--desktop'] .td.sbIndent4.option {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5 {\n  padding-left: 100px;\n}\n[class*='--desktop'] .td.sbIndent5.option {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6 {\n  padding-left: 120px;\n}\n[class*='--desktop'] .td.sbIndent6.option {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7 {\n  padding-left: 140px;\n}\n[class*='--desktop'] .td.sbIndent7.option {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8 {\n  padding-left: 160px;\n}\n[class*='--desktop'] .td.sbIndent8.option {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9 {\n  padding-left: 180px;\n}\n[class*='--desktop'] .td.sbIndent9.option {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10 {\n  padding-left: 200px;\n}\n[class*='--desktop'] .td.sbIndent10.option {\n  padding-left: 220px;\n}\n[class*='--desktop'] .lineActions {\n  min-width: 95px;\n  max-width: 95px;\n  overflow-x: visible;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled {\n  color: var(--sbIconColor);\n  cursor: default;\n}\n[class*='--desktop'] .lineActions .sb-icon-info-circled:hover {\n  color: var(--sbIconHoverColor);\n}\n[class*='--desktop'] #itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] #itemNumber #expandCollapseIcon.segmentedContainer.sf-icon-down {\n  padding-left: 6px;\n}\n[class*='--desktop'] .td.selection,\n[class*='--desktop'] .td.boolean {\n  min-width: 30px;\n  max-width: 30px;\n}\n[class*='--desktop'] .imgFormula {\n  display: inline-block;\n}\n[class*='--desktop'] .imgFormula img {\n  max-width: 150px;\n}\n[class*='--desktop'] .td.boolean div.r:before {\n  padding-right: 1px;\n}\n[class*='--desktop'] .drawerContainer {\n  min-width: 40px;\n  max-width: 40px;\n  background-color: #eef1f6;\n  color: #0070d2;\n}\n[class*='--desktop'] .drawerContainer:hover {\n  cursor: pointer;\n}\n[class*='--desktop'] .sf-icon-chevronright:before {\n  font-weight: bold;\n}\n[class*='--desktop'] .swipeContainer {\n  display: table-cell;\n}\n[class*='--desktop'] .tr.placeholder {\n  color: #d8dde6;\n  opacity: 0;\n  cursor: copy;\n}\n[class*='--desktop'] .tr.placeholder sb-field {\n  cursor: copy;\n}\n@-webkit-keyframes checkmark-expand {\n  0% {\n    -webkit-transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) rotate(45deg);\n  }\n}\n@keyframes checkmark-expand {\n  0% {\n    transform: scale(0, 0) rotate(45deg);\n  }\n  100% {\n    transform: scale(1, 1) rotate(45deg);\n  }\n}\n"])));var yo,vo;class _o extends Qt.H3{static get is(){return"sf-line-warning"}static get properties(){return{key:String,message:String}}static get template(){return(0,Qt.dy)(yo||(yo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t\n\t\t\t<i class="sf-icon-warning"></i>\n\t\t\t<paper-tooltip position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t<sb-i18n key="[[key]]">[[message]]</sb-i18n>\n\t\t\t</paper-tooltip>\n\t\t'])),mo)}}customElements.define(_o.is,_o);const wo=(0,zt.f)(vo||(vo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host table th {\n  text-align: left;\n  font-weight: normal;\n  padding: 10px 5px 5px 15px;\n}\n:host table td {\n  padding: 10px 15px 5px 15px;\n}\n'])));var xo,Co;class ko extends(to(zi(Qt.H3))){static get is(){return"sf-segmented-cell-tooltip"}static get properties(){return{lineModel:Object,field:String}}static get observers(){return["_initObserver(lineModel, field)"]}_initObserver(t,e){if(void 0!==t&&void 0!==e)return this._init(t,e)}_init(){if(this.lineModel&&this.field){let t=this._getSegmentedLine(),e=this.lineModel.editorModel,n=e.data.multiSegmentLineFieldNames,i=e.md.fieldsMap[e.data.quoteLineObjectName],o=e.md.fieldLabelsMap,r=this._prepareLineData(t,n,i),s=(new F).generateSegmentedTooltipFieldSetTemplate(n,o,e);this.templateInstance=this.hydrateTemplate(s,r),this.shadowRoot.querySelector("#content").appendChild(this.templateInstance.root)}}_prepareLineData(t,e,n){return dt.prepareLineData([t],e,n)[0]}_getSegmentedLine(){let t=this.lineModel;if(this.lineModel&&null!=this.lineModel.segmentsByLabel){let e=Object.keys(this.lineModel.segmentsByLabel).find((t=>(/^\d/.test(t)&&(t="_"+t),this.field===t.replace(/\W/g,""))));e&&(t=this.lineModel.segmentsByLabel[e])}return t}static get template(){return(0,Qt.dy)(xo||(xo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<div id="content"></div>\n\t\t'])),wo)}}function So(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oo(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}customElements.define(ko.is,ko);class Io extends((0,qt.J)(io(to(zi((0,ke._)(Qt.H3)))))){static get is(){return"sf-le-table-row"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?So(Object(n),!0).forEach((function(e){Oo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({lineModel:{type:Object,notify:!0,observer:"_modelChanged"},isSegmented:{type:Boolean,value:!1},columnWidths:{type:Object,observer:"_columnsResized"},secondaryRowTemplate:{type:Object,observer:"_secondaryRowTemplateChanged"},isDirty:Boolean,dataIndex:{type:Number,reflectToAttribute:!0},expansionDisabled:{type:Boolean,value:!1},eventListeners:{type:Object,value:{click:"onTap",change:"onChange","selected-date-changed":"onChange","rte-value-changed":"onChange","lookup-value-changed":"onChange"}}},zi.properties)}constructor(){super(),this._deviceDelegate=i.I.isMobile?ao.getInstance():so.getInstance(),this._deviceDelegate.initListeners(this)}static get observers(){return["_recordChanged(lineModel.lineVO.record.*)","_expansionChanged(lineModel.lineVO.expanded)","_selectionChanged(lineModel.selected)","_bundleExpansionChanged(lineModel.bundleCollapsed)"]}ready(){super.ready(),this.deviceClasses="";let t=(0,Lt.q)();for(let e of t)this.deviceClasses+=e+" "}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,o.oW)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this.eventListeners)}getContentNode(){return this.shadowRoot.querySelector("#content")}getControllingFields(){return[new uo,new ho,new po,new fo,new bo]}postPopulateContent(){this._deviceDelegate.updateTemplate(this),this._resetPencilLoaded(),this._refreshDirtyIndicators(),this.uiData.hasLineWarning&&this._loadLineWarning()}_loadLineWarning(){let t=this.shadowRoot.querySelector("#itemNumber .warning");if(t&&!t.hasChildNodes()){let e=document.createElement("sf-line-warning");e.key=this.uiData.lineWarningKey,e.message=this.uiData.lineWarningMsg,e.style.display="revert",e.style.borderBottomWidth="0px",t.appendChild(e)}}_recordChanged(t,e){if(this.templateInstance){let e=t.path;if(e!==U.recordPath){let n=e.substring(U.recordPath.length+1),i=t.value,o=this._getFieldMetadata(n);if(o){let e=at.M.formatFieldData(this.lineModel,i,o,this._getRecord());this._restampField(n,e),this._handleChangeControllingField(o.name,t.value);const r=this.shadowRoot.querySelector('div.td[field="'.concat(n,'"] div.w'));r&&this._deviceDelegate._updateEditableField(r.parentElement,this,n,o,r)}}else this.templateInstance.lineModel=this.lineModel}}onRteCancel(t){let e=Fi(t);this.toggleInlineEdit(e,!1),e.removeChild(e.querySelector(".w")),this._applyFocus(e,t)}_updateDependentPicklist(t){let e=this._getEditorModel().getDependentFields(t);e&&e.length>0&&e.forEach((e=>{let n=this._getFieldValue(e);if(null!==n){let i=this._getFieldMetadata(e),o=new Xi.S(i,this._getFieldValue(t)).build();("multipicklist"===i.type?n.split(";"):[n]).some((t=>!o.some((e=>e.value===t))&&(this._clearFieldValue(e),this._updateDependentPicklist(e),!0)))}}))}_handleChangeControllingField(t,e){this.getControllingFields().forEach((n=>{n.getFieldName()==t&&n.updateControlledFields(this,e)}))}_formatNewValue(t,e){let n,i=this._getFieldValue(t);t===D.U.constants.QUANTITY_FIELD&&e.scale!==this.lineModel.lineVO.productQuantityScale&&null!=this.lineModel.lineVO.productQuantityScale&&(n=JSON.parse(JSON.stringify(e)),n.scale=this.lineModel.lineVO.productQuantityScale);let o=n||e,r=at.M.formatFieldData(this.lineModel,i,o,this._getRecord());return this._restampField(t,r),i}hook_onHovered(t){this.isSegmented&&this._handleSegmentedCellHover(t),this._handleEditableCellsHover()}hook_onTap(t,e,n){let o=this._getEditorModel();this._deviceDelegate.onTap(t,this);let r=this.findElementForEvent(t,"checkboxcontainer");if(r&&this.toggleCheckbox(r),!e){if(o.hasDrawerFields()){this.findElementForEvent(t,"drawerContainer")&&this.toggleDrawer()}if(this.lineModel.segments){this.findElementForEvent(t,"segmentedContainer")&&this.toggleDrawer()}if(i.I.isBundleCollapsible(this._getEditorModel())){this.findElementForEvent(t,"collapsible-bundle")&&this.toggleBundleExpansion()}}}onKeyDown(t){this._deviceDelegate.onKeyDown(t,this)}onRowSwiped(t){this._deviceDelegate.onRowSwiped(t,this)}toggleCheckbox(t){if(t&&t.parentElement){let e=t.parentElement.parentElement,n=t.querySelector("input[type=checkbox]");if(e&&n)if(e.classList.contains(F.classNames.EDITABLE)){let t=e.getAttribute("field");t&&(this.set("lineModel.lineVO.record.".concat(t),!n.checked),this._calculateImmediately(t)&&this.dispatchEvent((0,o.FU)("calculate-immediately")))}else t.parentElement.classList.contains(F.classNames.SELECTION)&&this._getEditorModel().data.settings.multiLineDeleteEnabled&&(this.set("lineModel.selected",!n.checked),n.checked?this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key]=this.lineModel:delete this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key])}}toggleDrawer(){this.toggleExpanded(),this._getEditorModel().largeQuoteExperienceEnabled&&this.dispatchEvent((0,o.FU)("line-toggled",{index:this._getLineNumber()-1}))}toggleExpanded(){let t=!this.lineModel.lineVO.expanded;return this.set("lineModel.lineVO.expanded",t),t}_expansionChanged(t,e){this._deviceDelegate.expansionChanged(t,e,this)}toggleBundleExpansion(){const t=!this.lineModel.bundleCollapsed;this.set("lineModel.bundleCollapsed",t)}_bundleExpansionChanged(t){if(void 0===t)return;const e="l"+this.lineModel.lineVO.key;(0,N.U2)("BundleCollapsed",[e])!==t&&(this._restampField("_caretContent",t?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT),setTimeout((()=>{this.dispatchEvent((0,o.FU)("bundle-toggled",{key:this.lineModel.lineVO.key,expanded:!t}))})),(0,N.gz)("BundleCollapsed",["l"+this.lineModel.lineVO.key],t))}_selectionChanged(){this._getEditorModel().isMultiLineDeleteEnabled()&&this._applySelectionCheckboxStatus()}_applySelectionCheckboxStatus(){let t=this.shadowRoot.querySelector(".checkboxcontainer");if(t&&!t.classList.contains(F.classNames.DISABLED)){t.querySelector("input[type=checkbox]").checked=this.lineModel.selected}}_getFieldMetadata(t,e){return this._getEditorModel().getFieldMetadata(t,e)}_getEditorModel(){return this.lineModel.editorModel}_getLineNumber(){return this.uiData.lineNumber}_getRecord(){return this.uiData.lineModel.lineVO.record}_getOriginalRecord(){return this.uiData.lineModel.lineVO.ui_original_record}_isEditable(t){return this.uiData.lineModel.isEditable(t)}_getFieldValue(t){return this._getRecord()[t]}_clearFieldValue(t){this.set("lineModel.lineVO.record.".concat(t),null),this.templateInstance&&this._restampField(t,null)}_updateFieldValue(t,e){this.set("lineModel.lineVO.record.".concat(t),e)}_modelChanged(){(0,V.RM)(this,"lineModel"),this.listenedOnTrackHandler&&(0,Se.ys)(this,"track",this.listenedOnTrackHandler),this._isDragAndDropEnabled()&&(this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this),(0,Se.NH)(this,"track",this.listenedOnTrackHandler))}_isDragAndDropEnabled(){return i.I.isDesktop&&!this.lineModel.editorModel.largeQuoteExperienceEnabled}_handleSegmentedCellHover(t){let e=this.findElementForEvent(t,"container");if(e){let t=e.getAttribute("field");if(t&&!t.endsWith("__c")&&"total"!==t&&!e.querySelector("paper-tooltip")){let n=document.createElement("paper-tooltip");n.position="bottom",n.animationDelay=0,e.appendChild(n);let i=document.createElement("sf-segmented-cell-tooltip");i.lineModel=this.lineModel,i.field=t,n.appendChild(i)}}}_handleEditableCellsHover(t){if(!this._pencilLoaded||t){let t=this.shadowRoot.querySelectorAll(".container.editable");if(t&&t.length>0){let e=Array.from(t),n=!1;e.forEach((t=>{if(!t.querySelector("span.pencil")){n=!0;let e=document.createElement("span");if(e.classList.add(F.classNames.EDIT_ICON),t.classList.contains(F.classNames.RIGHT)||t.classList.contains(F.classNames.CENTER)){let n=t.querySelector("div.r");n.insertBefore(e,n.firstChild)}else t.querySelector("div.r").appendChild(e)}})),setTimeout((()=>{this.dispatchEvent((0,o.FU)("line-toggled",{index:this.dataIndex}))}))}this._pencilLoaded=!0}}_isAdditionalDiscountUpdated(t,e){let n={editorModel:this._getEditorModel(),constants:this.uiData.lineModel.constants,lineVO:this.uiData.lineModel.lineVO,getField:e=>t[e],getLineVOProperty:e=>t[e]};const i=(0,H.DH)(n,e),o=(0,H.DH)(this.uiData.lineModel,e);return i.displayValue!==o.displayValue||i.unit!==o.unit}_columnsResized(t,e){null!=t&&null!=e&&Object.keys(t).forEach((e=>{let n=this.shadowRoot.querySelector("div.container[field='".concat(e,"']"));n&&(n.style.minWidth=t[e]+"px",n.style.maxWidth=t[e]+"px")}))}onTrack(t){if(t){if(this.shadowRoot.querySelector("div.w"))return;let e=t.composedPath();for(let t=0,n=e.length;t<n;t++){let n=e[t].nodeName;if("SB-DIALOG"===n||"TEXTAREA"===n)return}(0,A.GC)(this).onTrack(t)}}deepCloneNode(){return(0,A.NI)(this)}_applyFocus(t,e){this._deviceDelegate.applyFocus(t,e,this)}_calculateImmediately(t){return D.U.shouldCalulateImmediately(t,i.I.org.calculateImmediately,this.lineModel.quoteModel)}toggleCellClass(t,e,n,i){if((0,A.og)(t,e,n),this.lineModel){const n=this.lineModel.cellClasses[i]||{};n[t]=e,this.lineModel.cellClasses[i]=n}}_getFieldMetadataForInlineEdit(t){return this._getFieldMetadata(t,this.lineModel.quoteModel.quoteVO.record)}toggleInlineEditForDeviceDelegate(t,e,n,i,o){this._deviceDelegate.toggleInlineEdit(t,e,n,i,this,o)}fireCalculateImmediately(t){this._calculateImmediately(t)&&this.dispatchEvent((0,o.FU)("calculate-immediately"))}checkIsDirty(t,e,n){return D.U.isDiscountField(n)?this._isAdditionalDiscountUpdated(e,n):t!==e[n]}handleControllingPicklistAndFields(t,e,n,i){t.controllingPicklist?this._updateDependentPicklist(e):t.relationshipName&&"lookup-value-changed"===n?this._getRecord()[t.relationshipName]=null==i.value?void 0:{Id:i.value,Name:i.refDisplay}:this._handleChangeControllingField(t.name,i.value)}_getEditField(t,e){return Ji.getFieldComponent(t,this.lineModel,e)}getCellClass(){return"sf-le-table-cell"}_secondaryRowTemplateChanged(){i.I.isMobile&&this._deviceDelegate&&this.lineModel&&this.lineModel.lineVO&&this.lineModel.lineVO.expanded&&this._deviceDelegate.expansionChanged(!0,!1,this)}static get template(){return(0,Qt.dy)(Co||(Co=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles sb-tables-styles sb-icons-styles \n\t\t\t\tsb-forms-styles"></style>\n\t\t\t<div id="content" class$="tr [[deviceClasses]]">\n\t\t\t</div>\n\t\t'])),mo)}}customElements.define(Io.is,Io);var Eo=n(3910),To=n(7953);class Mo{constructor(t){this.model=t,this.indexes={}}isSourceLine(){return this.model.existing}getLine(){return this.model.lineVO}getLines(){return this.model.groupModel.standardLines}getSourceOrUpgrade(t){let e;if(this.model.editorModel.data.settings.bundleKeptTogether)e=this._findLineWithTargetAssetId(t,this.model.groupModel);else{let n=this.model.groupModel.quoteModel.lineGroups;for(let i=0,o=n.length;i<o&&!e;i++)e=this._findLineWithTargetAssetId(t,n[i])}return e}_findLineWithTargetAssetId(t,e){let n,i=!t,o=this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD];for(let t=0,r=e.standardLines.length;t<r;t++){let r=e.standardLines[t];if(r.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]===o&&r.lineVO.record[this.constants.EXISTING_FIELD]===i){let e=i?"sourceIndex":"upgradeIndex";this.indexes[e]=t,n=r.lineVO}if(this.model.lineVO.key===r.lineVO.key){let e=!this.indexes.sourceIndex&&this.model.existing?"sourceIndex":"upgradeIndex";this.indexes[e]=t}}return n}setSourceAndUpgrade(t,e){this.sourceLineVO=t,this.upgradeLineVO=e}getSourceIdField(){return this.constants.PRODUCT}getUpgradeConversionRateField(){return this.constants.UPGRADE_CONVERSION_RATE}getSourceCurrentQuantityField(t){return t.record[this.constants.QUANTITY_FIELD]}getUpgradeCurrentQuantityField(t){return t.record[this.constants.QUANTITY_FIELD]}getSourcePriorQuantity(t){return t.record[this.constants.PRIOR_QUANTITY_FIELD]}didSourceQuantityChange(t){return t}didUpgradeQuantityChange(t){return!t}isSelected(){return!0}setUpdatedQuantity(t,e,n,i){t.record[this.constants.QUANTITY_FIELD]=n,e.record[this.constants.QUANTITY_FIELD]=i}getIndexes(){return this.indexes}getSourceLineVO(){return this.sourceLineVO}getUpgradeLineVO(){return this.upgradeLineVO}get constants(){return this.model.fieldNames}}var Bo,Po=n(5234);const Do=(0,zt.f)(Bo||(Bo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  width: 100%;\n  height: var(--sbTableCellHeight);\n  table-layout: auto;\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n  text-transform: uppercase;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  visibility: hidden;\n  color: var(--sbIconColor);\n  font-size: 13px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .asc,\n:host .desc {\n  color: var(--sbIconColor);\n}\n:host .asc > span > .sf-icon-arrowup {\n  visibility: visible;\n}\n:host .desc > span > .sf-icon-arrowdown {\n  visibility: visible;\n}\n:host .desc > span > .sf-icon-arrowup {\n  visibility: hidden !important;\n}\n:host .bundlesVisualized {\n  padding-left: 20px;\n}\n:host .column-header {\n  padding-right: 3px;\n}\n:host .column-header:hover {\n  color: var(--sbIconColor);\n  cursor: pointer;\n}\n:host .column-header:hover > span > .sf-icon-arrowup {\n  visibility: visible;\n}\n:host div#header span {\n  padding: 2px 0;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n}\n:host .unsortable-header[class*='--desktop'] {\n  padding-right: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n}\n:host [class*='--desktop'] .unsortable-header {\n  padding-right: 15px;\n}\n:host([class*='--desktop'].innerTh) {\n  padding-left: 5px;\n}\n:host([class*='--desktop'] .innerTh) {\n  padding-left: 5px;\n}\n:host(.innerTh) #header {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n:host(.detailFieldName) {\n  padding: 3px;\n  white-space: nowrap;\n}\n:host(.detailFieldName) span {\n  display: inline-block;\n}\n@media screen and (min-width: 480px) {\n  :host(.center) {\n    text-align: center;\n  }\n}\n:host([class*='--desktop'].detailFieldName.hiddenInDesktop) {\n  display: none;\n}\n:host([class*='--desktop'] .detailFieldName.hiddenInDesktop) {\n  display: none;\n}\n:host([class*='--desktop'].hoverFieldHeader) {\n  text-transform: capitalize;\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverFieldHeader) {\n  text-transform: capitalize;\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\npaper-tooltip[class*='--desktop'] {\n  text-transform: capitalize;\n}\n[class*='--desktop'] paper-tooltip {\n  text-transform: capitalize;\n}\n"])));var Ao,Lo;class Fo extends((0,Po.S)((0,Lt.Q)(Qt.H3))){static get is(){return"sb-le-table-header-cell"}static get properties(){return{byOrder:String,model:{type:Object,observer:"_modelChanged"},showSortableHeader:{type:Boolean,computed:"_showSortableHeader(model)"},constants:{type:Object,value:function(){return new Y.g(i.I.org.prefix+"__")}},overflowTrue:{type:Boolean,value:!1}}}_modelChanged(){this.observeNode(this.$.headerCell,function(){let t=this.shadowRoot.querySelector("#header");(0,A.og)("right",this.model[this.value],t);let e=this.model.settings&&this.model.settings.productHierarchyVisualized&&this.model.isStandard&&this.getAttribute("item")===this.constants.PRODUCT_NAME_FIELD;(0,A.og)("bundlesVisualized",e,t)}.bind(this))}sortLines(t){let e="",n=this.parentElement.children;for(let t=0;t<n.length;t++)(0,A.og)("asc",!1,n[t].shadowRoot.querySelector("#header")),(0,A.og)("desc",!1,n[t].shadowRoot.querySelector("#header")),n[t].shadowRoot.querySelector("#arrow")&&(0,A.og)("sf-icon-arrowup",!0,n[t].shadowRoot.querySelector("#arrow")),n[t].shadowRoot.querySelector("#arrow")&&(0,A.og)("sf-icon-arrowdown",!1,n[t].shadowRoot.querySelector("#arrow")),n[t].classList.remove("column-selected");this.byOrder?"asc"===this.byOrder?(e="desc",(0,A.og)("sf-icon-arrowup",!1,this.shadowRoot.querySelector("#arrow")),(0,A.og)("sf-icon-arrowdown",!0,this.shadowRoot.querySelector("#arrow"))):"desc"===this.byOrder&&(e=""):(e="asc",(0,A.og)("sf-icon-arrowup",!0,this.shadowRoot.querySelector("#arrow"))),this.sortByField=e?this._getKeyByValue(this.value,this.data):null,(0,A.og)("column-selected",!0,this.shadowRoot.querySelector("#header")),this.byOrder=e,e&&(0,A.og)(e,!0,this.shadowRoot.querySelector("#header")),this.dispatchEvent((0,o.FU)("table-header-sort-clicked",{order:this.byOrder,field:this.sortByField}))}_showSortableHeader(){return!this.model.lineVO&&this.getAttribute("item")!==this.constants.ADDITIONAL_DISCOUNT_FIELD&&!this.classList.contains("hoverFieldHeader")}_getKeyByValue(t,e){for(let n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}getHeader(){return this.shadowRoot.querySelector("#header")}static get template(){return(0,Qt.dy)(Ao||(Ao=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<div device class="th" id="headerCell">\n\t\t\t\t<template is="dom-if" if="[[showSortableHeader]]">\n\t\t\t\t\t<div id="header" class="td column-header">\n\t\t\t\t\t\t<span id="header-span" class="header-text" on-click="sortLines">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t\t<i id="arrow" class="sf-icon-arrowup"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[!showSortableHeader]]">\n\t\t\t\t\t<div id="header" class="td unsortable-header">\n\t\t\t\t\t\t<span>[[value]]</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[overflowTrue]]">\n\t\t\t\t\t\t<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t[[value]]\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),Do)}}customElements.define(Fo.is,Fo);const qo=(0,zt.f)(Lo||(Lo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.detailField) {\n  padding: 3px;\n}\n:host(.hiddenInDesktop.drawerCell) #field[class*='--desktop'] {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop.drawerCell) #field {\n  visibility: hidden;\n}\n:host([class*='--desktop'].hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host(.drawerCell) .container {\n  display: table-cell;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  text-align: left;\n}\n:host(.drawerCell) .container .label {\n  display: block;\n  text-transform: uppercase;\n  text-align: left;\n  width: 100%;\n  padding-right: 10px;\n  min-width: 50%;\n}\n:host(.drawerCell) .container #field {\n  display: block;\n  min-height: 25px;\n  text-align: left;\n  width: 60%;\n}\n:host([class*='--desktop'].hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'].innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host([class*='--desktop'] .innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host ul > li {\n  list-style: disc;\n}\n:host ol > li {\n  list-style: decimal;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n  word-wrap: break-word;\n  white-space: normal;\n}\n:host .container select {\n  min-width: initial;\n}\n:host .container .label {\n  display: none;\n}\n:host .container.overridden > #field {\n  display: none;\n}\n:host .container.overridden > #overrideField {\n  width: 100%;\n}\n:host .container:not(.overridden) > #field {\n  width: 100%;\n}\n:host .container:not(.overridden) > #overrideField {\n  display: none;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host paper-tooltip[class*='--desktop'] .anchor {\n  display: none;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host .center[class*='--desktop'] {\n  text-align: center;\n}\n:host .overridden[class*='--desktop'] {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host .overridden.right[class*='--desktop']:hover > #overrideField::before,\n:host .overridden[class*='--desktop']:not(.right):hover > #overrideField::after {\n  content: '\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host [class*='--desktop'] paper-tooltip .anchor {\n  display: none;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .center {\n  text-align: center;\n}\n:host [class*='--desktop'] .overridden {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host [class*='--desktop'] .overridden.right:hover > #overrideField::before,\n:host [class*='--desktop'] .overridden:not(.right):hover > #overrideField::after {\n  content: '\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host .sf-icon-chevrondown:before {\n  line-height: 1.3em;\n  padding-top: 2px;\n  padding-right: 5px;\n  color: gray;\n}\n:host .top-level {\n  padding-left: 20px;\n}\n:host .sbIndent1 {\n  padding-left: 20px;\n}\n:host .sbIndent1.option {\n  padding-left: 40px;\n}\n:host .sbIndent2 {\n  padding-left: 40px;\n}\n:host .sbIndent2.option {\n  padding-left: 60px;\n}\n:host .sbIndent3 {\n  padding-left: 60px;\n}\n:host .sbIndent3.option {\n  padding-left: 80px;\n}\n:host .sbIndent4 {\n  padding-left: 80px;\n}\n:host .sbIndent4.option {\n  padding-left: 100px;\n}\n:host .sbIndent5 {\n  padding-left: 100px;\n}\n:host .sbIndent5.option {\n  padding-left: 120px;\n}\n:host .sbIndent6 {\n  padding-left: 120px;\n}\n:host .sbIndent6.option {\n  padding-left: 140px;\n}\n:host .sbIndent7 {\n  padding-left: 140px;\n}\n:host .sbIndent7.option {\n  padding-left: 160px;\n}\n:host .sbIndent8 {\n  padding-left: 160px;\n}\n:host .sbIndent8.option {\n  padding-left: 180px;\n}\n:host .sbIndent9 {\n  padding-left: 180px;\n}\n:host .sbIndent9.option {\n  padding-left: 200px;\n}\n:host .sbIndent10 {\n  padding-left: 200px;\n}\n:host .sbIndent10.option {\n  padding-left: 220px;\n}\n:host([class*='--mobile'].detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'].detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'].detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'].detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'].primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'].secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'].secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'].secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n:host([class*='--mobile'] .detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'] .detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'] .detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'] .detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'] .primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'] .secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'] .secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'] .secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n"],["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.detailField) {\n  padding: 3px;\n}\n:host(.hiddenInDesktop.drawerCell) #field[class*='--desktop'] {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop.drawerCell) #field {\n  visibility: hidden;\n}\n:host([class*='--desktop'].hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host([class*='--desktop'] .hiddenInDesktop:not(.drawerCell)) {\n  visibility: hidden;\n}\n:host(.drawerCell) .container {\n  display: table-cell;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  text-align: left;\n}\n:host(.drawerCell) .container .label {\n  display: block;\n  text-transform: uppercase;\n  text-align: left;\n  width: 100%;\n  padding-right: 10px;\n  min-width: 50%;\n}\n:host(.drawerCell) .container #field {\n  display: block;\n  min-height: 25px;\n  text-align: left;\n  width: 60%;\n}\n:host([class*='--desktop'].hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'] .hoverField) {\n  height: 100%;\n  display: block;\n  padding: 5px;\n}\n:host([class*='--desktop'].innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host([class*='--desktop'] .innerTd) {\n  padding-left: 5px;\n  overflow-x: hidden;\n}\n:host ul > li {\n  list-style: disc;\n}\n:host ol > li {\n  list-style: decimal;\n}\n:host ul,\n:host ol {\n  padding-left: 25px;\n}\n:host .container {\n  display: flex;\n  flex-direction: row;\n  word-wrap: break-word;\n  white-space: normal;\n}\n:host .container select {\n  min-width: initial;\n}\n:host .container .label {\n  display: none;\n}\n:host .container.overridden > #field {\n  display: none;\n}\n:host .container.overridden > #overrideField {\n  width: 100%;\n}\n:host .container:not(.overridden) > #field {\n  width: 100%;\n}\n:host .container:not(.overridden) > #overrideField {\n  display: none;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host paper-tooltip[class*='--desktop'] .anchor {\n  display: none;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host paper-tooltip[class*='--desktop'] table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host .center[class*='--desktop'] {\n  text-align: center;\n}\n:host .overridden[class*='--desktop'] {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host .overridden.right[class*='--desktop']:hover > #overrideField::before,\n:host .overridden[class*='--desktop']:not(.right):hover > #overrideField::after {\n  content: '\\\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host([class*='--desktop']) {\n  -ms-overflow-style: none;\n}\n:host [class*='--desktop'] paper-tooltip .anchor {\n  display: none;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td {\n  padding: 10px 0 5px 0;\n}\n:host [class*='--desktop'] paper-tooltip table tbody tr td:first-of-type {\n  padding-left: 15px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .center {\n  text-align: center;\n}\n:host [class*='--desktop'] .overridden {\n  /* Not editable fields have lock icon hidden in desktop (shows on hover) */\n}\n:host [class*='--desktop'] .overridden.right:hover > #overrideField::before,\n:host [class*='--desktop'] .overridden:not(.right):hover > #overrideField::after {\n  content: '\\\\e874';\n  color: #9faab5;\n  font-family: 'sf-icons';\n  padding: 0 5px;\n}\n:host .sf-icon-chevrondown:before {\n  line-height: 1.3em;\n  padding-top: 2px;\n  padding-right: 5px;\n  color: gray;\n}\n:host .top-level {\n  padding-left: 20px;\n}\n:host .sbIndent1 {\n  padding-left: 20px;\n}\n:host .sbIndent1.option {\n  padding-left: 40px;\n}\n:host .sbIndent2 {\n  padding-left: 40px;\n}\n:host .sbIndent2.option {\n  padding-left: 60px;\n}\n:host .sbIndent3 {\n  padding-left: 60px;\n}\n:host .sbIndent3.option {\n  padding-left: 80px;\n}\n:host .sbIndent4 {\n  padding-left: 80px;\n}\n:host .sbIndent4.option {\n  padding-left: 100px;\n}\n:host .sbIndent5 {\n  padding-left: 100px;\n}\n:host .sbIndent5.option {\n  padding-left: 120px;\n}\n:host .sbIndent6 {\n  padding-left: 120px;\n}\n:host .sbIndent6.option {\n  padding-left: 140px;\n}\n:host .sbIndent7 {\n  padding-left: 140px;\n}\n:host .sbIndent7.option {\n  padding-left: 160px;\n}\n:host .sbIndent8 {\n  padding-left: 160px;\n}\n:host .sbIndent8.option {\n  padding-left: 180px;\n}\n:host .sbIndent9 {\n  padding-left: 180px;\n}\n:host .sbIndent9.option {\n  padding-left: 200px;\n}\n:host .sbIndent10 {\n  padding-left: 200px;\n}\n:host .sbIndent10.option {\n  padding-left: 220px;\n}\n:host([class*='--mobile'].detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'].detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'].detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'].detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'].primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'].secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'].secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'].secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n:host([class*='--mobile'] .detailField) {\n  padding-left: 25px;\n}\n:host([class*='--mobile'] .detailField.primary.first) {\n  display: inline-block;\n  padding-top: 10px;\n}\n:host([class*='--mobile'] .detailField.primary.multi) {\n  display: inline-block;\n  padding-bottom: 10px;\n  border-top: 1px solid #f4f6f9;\n}\n:host([class*='--mobile'] .detailField.secondary) {\n  padding: 5px 0 5px 25px;\n}\n:host([class*='--mobile'] .primary.multi) {\n  border-bottom: 1px solid #d8dde6 !important;\n}\n:host([class*='--mobile'] .secondary.expanded.hiddenInMobile) {\n  display: none;\n}\n:host([class*='--mobile'] .secondary) div[class*='sbIndent'] {\n  padding-left: 0;\n}\n:host([class*='--mobile'] .secondary) div.sb-icon-level-down:before {\n  display: none;\n}\n"])));var No;let Ro="sf-icon-chevrondown",jo="top-level",zo="option",Ho="sbIndent",Uo="right",Vo="center",Wo="overridden";class Qo extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-le-table-cell"}static get properties(){return{item:String,value:{notify:!0},model:{type:Object,notify:!0},fieldClass:String,data:Object,display:String,index:Number,detailsOnHover:{type:Boolean,value:!1},renderTooltip:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return j._.getViewport()}},editable:Boolean,calculateImmediately:{type:Object,value:function(){return i.I.org.calculateImmediately}}}}_onTap(){}static get observers(){return["_modelIsChangedObserver(model, index, viewport)","_displayChanged(display)","_dataOrValueChangedObserver(data, value, item)","_updateOriginalValueObserver(model, item)","_editableChangedObserver(editable, model, item)"]}ready(){super.ready(),Object.entries({click:"_onTap","datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])}))}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.wasModelIsChangedCalledBeforeAttached&&this._modelIsChanged(),this.model&&this.model.lineVO&&this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]&&this.model.groupModel&&this.model.groupModel.quoteModel.isAmendmentOrChangeQuote&&this.item===this.constants.QUANTITY_FIELD&&(this.quoteLineUpgradeHandler=new Mo(this.model),this.quoteLineUpgradeHandler.getSourceLineVO()&&this.quoteLineUpgradeHandler.getUpgradeLineVO()&&(this.addEventListener("value-changed",this._quantityChanged),this.assetUpgradeQuantityCalculator=new To.G(this.quoteLineUpgradeHandler)))}_datePickerOpened(t){let e=t.detail.dateContainer,n=t.detail.datepicker,i=n.offsetParent.getBoundingClientRect(),o=e.getBoundingClientRect(),r=this.model.groupModel.quoteModel;!r.grouped&&r.editorModel.largeQuoteExperienceEnabled&&(n.style.left="".concat(-i.left+o.left,"px"),n.style.top="".concat(o.bottom-i.top,"px")),o.left+n.offsetWidth>window.innerWidth&&(n.style.left="",n.style.right=i.right-o.right+17+"px"),t.stopPropagation()}_modelIsChangedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._modelIsChanged(t,e,n)}_modelIsChanged(){if(this.wasModelIsChangedCalledBeforeAttached=!this.isAttached,!this.isAttached||!this.model)return;if(this.item===this.constants.SUBSCRIPTION_SCOPE_FIELD&&!this.model.subscriptionScopeEditable)return void(this.fieldClass+=" ".concat(Wo));this.isMobile=this.viewport&&this.viewport.isMobile(),this.overrideEditable=this.classList.contains("mdqSummaryRow")||this.classList.contains("primary");let t=this._setEditable(),e=this._setFieldMD();this._setFieldClassAndFieldContent(e)||(!e.defaultValue||null!=this.value||e.controllingPicklist||e.dependentPicklist||(this.value=e.defaultValue),this.data&&this.value!=this.data[this.item]&&(this.value=this.data[this.item]),void 0===this.value&&(this.value=null),this.label=e.label,this.$.field.editing=t,this.$.field.md=e,this.$.field.property=this.item,this.model.segmented&&!/__c$/.test(this.item)&&"total"!=this.item&&(this.removeEventListener("mouseenter",this._showDetails),this.removeEventListener("mouseleave",this._showDetails),this.renderTooltip=!0,this.addEventListener("mouseenter",this._showDetails),this.addEventListener("mouseleave",this._showDetails)))}_updateOriginalValueObserver(t,e){if(void 0!==t&&void 0!==e)return this._updateOriginalValue(t,e)}_updateOriginalValue(){this.model.lineVO&&(this.model.lineVO.ui_original_record=this.model.lineVO.ui_original_record||JSON.parse(JSON.stringify(this.model.lineVO.record)));const t=this.get("model.lineVO.ui_original_record");this.$.field.originalValue=t[this.item]}_dataOrValueChangedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._dataOrValueChanged(t,e,n)}_dataOrValueChanged(t,e,n){this.internal=!0,this.userChangedLookupValue?this._updateRelationshipName():this._updateLookupDisplayValue(),this.$.field.value=this.model&&(0,H.KI)(this.model,n)?(0,H.DH)(this.model,n).displayValue:e,this.internal=!1,this.userChangedLookupValue=!1}_updateRelationshipName(){if(!this.model)return;new $e.Z(this.item,this.data).addRelationshipName(this.value,this.display,this.model.getFieldMD(this.item).referenceTo[0])}_updateLookupDisplayValue(){let t=new $e.Z(this.item,this.data);t.hasRelationship()?this.display=t.getRelationshipName():this.display=void 0}_displayChanged(){this.userChangedLookupValue=!this.internal}_setEditable(){return!this.overrideEditable&&this.model.isEditable(this.item)}_editableChangedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._editableChanged(t,e,n)}_editableChanged(){this.$.field.editing=!this.overrideEditable&&this.model.isEditable(this.item)}_setFieldMD(){let t=this.model.getFieldMD(this.item)?this.model.getFieldMD(this.item):this.model.getFieldMD(this.constants.NET_TOTAL_FIELD);return t.CurrencyIsoCode=this.model.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.constants.QUANTITY_FIELDS&&this.constants.QUANTITY_FIELDS.has(this.item)&&null!=this.model.lineVO.productQuantityScale&&(t=Object.assign({},t,{scale:this.model.lineVO.productQuantityScale})),t}_setFieldClassAndFieldContent(t){let e="";if(this.model.editorModel.data.settings.productHierarchyVisualized&&!this.model.segmented&&(this.isMobile?this.item!==this.constants.PRODUCT_NAME_FIELD&&this.item!==this.constants.NET_TOTAL_FIELD||(e+="".concat(Ho).concat(this.record[this.constants.OPTION_LEVEL_FIELD])):this.item===this.constants.PRODUCT_NAME_FIELD&&(this.model.isBundle?e+="".concat(Ro," "):this.model.component||(e+="".concat(jo," ")),this.model.component&&(this.model.isBundle||(e+="".concat(zo," ")),e+="".concat(Ho).concat(this.record[this.constants.OPTION_LEVEL_FIELD])))),(this._isSegmentedDrawer()||"number"==t.type||"double"==t.type||"percent"==t.type||"currency"==t.type)&&(e+=" ".concat(Uo),this.classList.contains("drawerCell")&&this._togglePreventNumericAlignment(),this._isSegmentedDrawer()&&this._toggleSegmentedAlignment()),this._isSegmentedDrawer()||"boolean"!==t.type||(e+=" ".concat(Vo)),this.model.bundled&&this.item===this.constants.LIST_PRICE_FIELD)return this.overrideValue=i.I.properties.i18n.value().l("Included"),e+=" ".concat(Wo),this.fieldClass=e,!0;let n=lt.getLocalizedValue(this.model,this.item);return n?(this.overrideValue=n,e+=" ".concat(Wo),this.fieldClass=e,!0):(this.fieldClass=e,!1)}_togglePreventNumericAlignment(){this.$.field.preventNumericAlignment=!this.$.field.preventNumericAlignment}_toggleSegmentedAlignment(){this.$.field.segmentedAlignment=!0}_isSegmentedDrawer(){return"mdqSummaryRow"===this.model.itemClassMap.attributes&&!this.classList.contains("mdqSummaryRow")}_quantityChanged(t){if(this.model.internalUpdate)return;this.assetUpgradeQuantityCalculator.setQuantitiesByRatio();let e=this.quoteLineUpgradeHandler.getIndexes(),n=this.quoteLineUpgradeHandler.getSourceLineVO(),i=this.quoteLineUpgradeHandler.getUpgradeLineVO();this.dispatchEvent((0,o.FU)("upgrade-asset-quantity-changed",{sourceIndex:e.sourceIndex,upgradeIndex:e.upgradeIndex,sourceLineVO:n,upgradeLineVO:i}))}_handleFieldValueChanged(t){!t.detail.suppressImmediateCalculation&&this.calculateImmediately&&this.dispatchEvent((0,o.FU)("calculate-immediately"));let e={value:this.item};this.dispatchEvent((0,o.FU)("field-updated",e))}_showDetails(t){let e=t.type;this.detailsOnHover="mouseenter"==e}_getLineModel(){if("total"!=this.item&&null!=this.model.segmentsByLabel){let t=Object.keys(this.model.segmentsByLabel),e=t.length;for(let n=0;n<e;n++){if(t[n].replace(/\W/g,"")==this.item)return this.model.segmentsByLabel[t[n]]}}return this.model}_getRecord(){return this._getLineModel().lineVO.record}get constants(){return this.model.editorModel.constants}get record(){return this.model.lineVO.record}set record(t){this.model.lineVO.record=t}static get template(){return(0,Qt.dy)(No||(No=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\t<style include="sb-common-styles"></style>\n\t\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t\t<style include="sb-forms-styles"></style>\n\t\t\t\t<style>','</style>\n\t\t\t\t<div device>\n\t\t\t\t\t<div id="fieldContainer" class$="container [[fieldClass]]">\n\t\t\t\t\t\t<div class="label">[[label]]</div>\n\t\t\t\t\t\t<sb-field id="field" model="[[model]]" record="[[data]]" ref-display="{{display}}" render-read-only="true" signaler="[[signaler]]"></sb-field>\n\t\t\t\t\t\t<span id="overrideField">[[overrideValue]]</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[renderTooltip]]">\n\t\t\t\t\t\t<paper-tooltip for="fieldContainer" position="bottom" animation-delay="0">\n\t\t\t\t\t\t\t<template is="dom-if" if="[[detailsOnHover]]">\n\t\t\t\t\t\t\t\t\x3c!--paper tooltip needs a text inside otherwise will not render the table (it\'s hidden in the UI)--\x3e\n\t\t\t\t\t\t\t\t<span class="anchor">[[model.lineVO.dimensionType]]</span>\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-group id="labels"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem="sb-le-table-header-cell"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="{}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[model.groupModel.quoteModel.editorModel.md.fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="hoverFieldHeader">\n\t\t\t\t\t\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-group id="values"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem="sb-le-table-cell"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[_getRecord()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="[[_getRecord()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="[[_getLineModel()]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="hoverField">\n\t\t\t\t\t\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t'])),qo)}}var Go;customElements.define(Qo.is,Qo);const $o=(0,zt.f)(Go||(Go=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile'].innerTd.right) {\n  text-align: left !important;\n  padding: 0 !important;\n}\n:host([class*='--mobile'] .innerTd.right) {\n  text-align: left !important;\n  padding: 0 !important;\n}\n:host([class*='--mobile'].desktopOnly) {\n  display: none !important;\n}\n:host([class*='--mobile'] .desktopOnly) {\n  display: none !important;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden !important;\n  --primary-multi-padding-top: 2px;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden !important;\n  --primary-multi-padding-top: 2px;\n}\n"])));var Ko,Yo;class Xo extends((0,qt.J)((0,Lt.Q)(Qt.H3))){static get is(){return"sb-segmented-detail-row"}static get properties(){return{lineModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return j._.getViewport()}},columnName:String,itemClassMap:{type:Object,value:{}},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},index:{type:Number,reflectToAttribute:!0},segmentRecord:Object}}static get observers(){return["_lineRecordChanged(lineModel.segments.*)","_lineModelChanged(lineModel, columnName)","_setGroupObserver(detailFieldNames, segmentRecord, segmentModel, mobileCols, fieldLabelsMap)"]}get constants(){return this.lineModel.editorModel.constants}get selector(){return this.signaler?this.signaler.selector:null}get isMobile(){this.viewport&&this.viewport.isMobile()}ready(){super.ready(),this.expanded=!1}expand(t){this.isMobile&&this.enableEditableFields(),this.$.column.dispatchEvent((0,o.FU)("group-expanded",{path:t.composedPath()}))}enableEditableFields(){let t=this.$.column.shadowRoot.querySelectorAll("sb-le-table-cell");for(var e of t)e.shadowRoot.querySelector("sb-field").renderReadOnly=!1}_lineRecordChanged(t){if(!t.path)return;const e=t.path.indexOf(".",19),n=t.path.substring(19,e);if(!this._pathRefersToMySegmentRecord(n))return;let i=t.path.split("."),r=i[i.length-1];"fieldEditability"==r?this._editabilityChanged():"fieldVisibility"==r?this._visibilityChanged():(this.set("segmentRecord.".concat(r),t.value),this.notifyPath("segmentRecord.".concat(r),t.value),this.dispatchEvent((0,o.FU)("line-record-changed",{property:r})))}_lineModelChanged(){this.dimension=this.lineModel.lineVO.dimensionType,this.segmentModel=this.lineModel.segmentsByLabel[this.columnName]?this.lineModel.segmentsByLabel[this.columnName]:new U({key:null,record:{}},this.lineModel.groupModel);let t=this.shadowRoot.querySelector("#column");if(this.isMobile&&t&&(this.lineModel.lineVO.expanded||!1)!=(this.expanded||!1)){let e=new CustomEvent("click",!0,!1),n=t.shadowRoot.querySelectorAll("sb-le-table-cell")[0];n&&n.dispatchEvent(e)}}_setGroupObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this._setGroup(t,e,n,i,o)}_setGroup(){this.$.column.group||(this._initializeFieldVisibility(),this.$.column.group=this.detailFieldNames)}_initializeFieldVisibility(){let t={};this.detailFieldNames.forEach((e=>{this.segmentModel.isFieldRendered(e,this.isMobile)||(t[e]=this.isMobile?"hiddenInMobile":"hiddenInDesktop")})),this.$.column.itemClassMap=t}_visibilityChanged(){this.segmentModel.lineVO.fieldVisibility&&this.detailFieldNames.forEach((t=>{let e=this.segmentModel.isFieldRendered(t,this.isMobile),n=[{class:"hiddenInMobile",value:!e},{class:"hiddenInDesktop",value:!e}];this.$.column.set("itemClassMap."+t,n)}))}_editabilityChanged(){if(!this.segmentModel.lineVO.fieldEditability||!this.detailFieldNames)return;let t={};this.detailFieldNames.forEach((e=>{this.segmentModel.lineVO.fieldEditability.hasOwnProperty(e)&&(t[e]=this.lineModel.isEditable(e,this.segmentModel.lineVO.fieldEditability))})),this.$.column.itemEditableMap=t}_pathRefersToMySegmentRecord(t){if(!this.segmentRecord)return!1;if(null==this.lineModel.segments)return!1;if(!this.lineModel.segments[t])return!1;var e=this.lineModel.segments[t].lineVO,n=e.record[this.constants.SEGMENT_KEY_FIELD],i=e.record[this.constants.SEGMENT_INDEX_FIELD],o=e.record[this.constants.SEGMENT_LABEL_FIELD],r=this.segmentRecord[this.constants.SEGMENT_KEY_FIELD],s=this.segmentRecord[this.constants.SEGMENT_INDEX_FIELD],a=this.segmentRecord[this.constants.SEGMENT_LABEL_FIELD];return n===r&&i===s&&o===a}_highlightRowOnFocus(){this.signaler=this.signaler||new Eo.E(this,"column","sb-le-table-cell",null,this.index),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}static get template(){return(0,Qt.dy)(Ko||(Ko=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t\n\t\t\t<sb-group id="column"\n\t\t\t\t\titem="sb-le-table-cell"\n\t\t\t\t\tdata="{{segmentRecord}}"\n\t\t\t\t\tmodel="{{segmentModel}}"\n\t\t\t\t\tgroup-class="tgroup details"\n\t\t\t\t\tclass="innerTd"\n\t\t\t\t\titem-class="detailField"\n\t\t\t\t\tprimary-items="[[mobileCols]]"\n\t\t\t\t\tgroup-display="[[fieldLabelsMap]]"\n\t\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\t\tsignaler="[[signaler]]"\n\t\t\t\t\ton-click="expand"\n\t\t\t\t\tdevice\n\t\t\t></sb-group>\n\t\t'])),$o)}}customElements.define(Xo.is,Xo);const Jo=(0,zt.f)(Yo||(Yo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: table-row-group;\n  word-break: break-word;\n}\n:host div#detailFieldNames {\n  vertical-align: top;\n}\n:host([class*='--desktop']) {\n  background-color: var(--sbDrawerBgColor);\n}\n:host #selection[class*='--desktop'] {\n  width: 30px;\n}\n:host #itemNumber[class*='--desktop'] {\n  width: 40px;\n}\n:host .lineActions[class*='--desktop'] {\n  width: 95px;\n}\n:host([class*='--desktop']) {\n  background-color: var(--sbDrawerBgColor);\n}\n:host [class*='--desktop'] #selection {\n  width: 30px;\n}\n:host [class*='--desktop'] #itemNumber {\n  width: 40px;\n}\n:host [class*='--desktop'] .lineActions {\n  width: 95px;\n}\n:host sb-group.detailFieldNames[class*='--mobile'],\n:host .empty[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] sb-group.detailFieldNames,\n:host [class*='--mobile'] .empty {\n  display: none;\n}\n"])));var Zo,tr;class er extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-segmented-line-details"}static get properties(){return{lineModel:{type:Object,notify:!0},groupModel:{type:Object,notify:!0},fieldNames:Array,detailFieldNames:Array,fieldLabelsMap:Object,columnNames:Array,itemClassMap:{type:Object,value:{}},viewport:{type:Object,value:function(){return j._.getViewport()}},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"},eventListeners:{type:Object,value:{change:"_onChange","rte-value-changed":"_onChange","line-record-changed":"_onLineRecordChange"}}}}static get observers(){return["_buildRowObserver(detailFieldNames, fieldNames, lineModel, columnWidths)","_columnWidthsChanged(columnWidths)"]}connectedCallback(){super.connectedCallback(),(0,o.oW)(this,this.eventListeners),(0,Nt.T8)(this,(()=>{this.detailFieldNames.forEach((t=>{this._adjustDetailFieldHeights(t)}))}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this.eventListeners)}_adjustDetailFieldHeights(t){const e=this.lineModel.getFieldMD(t);if(e&&("textarea"===e.type||"string"===e.type||"currency"===e.type)){const e=this._pierceShadowRootToGetFieldElements(this,t);if(e){const n=Array.from(e),i=Math.max(...n.map((t=>t.scrollHeight)));n.forEach((t=>{t.offsetHeight<i&&(t.style.height=i+"px")}));const o=this.$.header.shadowRoot.querySelector("sb-le-table-header-cell[item='".concat(t,"']")),r=o?o.getHeader():null;r&&r.offsetHeight<i&&(r.style.height=i+"px")}}}_pierceShadowRootToGetFieldElements(t,e){const n=Array.from(t.shadowRoot.querySelectorAll("sb-segmented-detail-row")),i=Array.from(n.map((t=>t.shadowRoot.querySelector("sb-group").shadowRoot.querySelector('sb-le-table-cell[item="'.concat(e,'"]')))));return Array.from(i.map((t=>t.shadowRoot.querySelector("sb-field#field"))))}_onLineRecordChange(t){t.detail&&this._adjustDetailFieldHeights(t.detail.property)}_onChange(t){if(t.detail){const e=t.composedPath();(0,Nt.T8)(this,(t=>{const e=t.find((t=>"SB-LE-TABLE-CELL"===t.tagName));e&&this._adjustDetailFieldHeights(e.item)}),[e])}}isMobile(){return this.viewport&&this.viewport.isMobile()}getSegmentRecord(t){return this.lineModel.segmentsByLabel[t]?this.lineModel.segmentsByLabel[t].lineVO.record:new U({key:null,record:{}},this.lineModel.groupModel).lineVO.record}segmentExists(t){return this.lineModel.segmentsByLabel[t]?"":"desktopOnly"}forwardFocusDown(t){9!==t.keyCode||t.shiftKey||Eo.E.signalFirstEditableTargetFirstRow(this,"sb-segmented-detail-row","index")}forwardFocusUp(t){9===t.keyCode&&t.shiftKey&&Eo.E.signalLastEditableTargetLastRow(this,"sb-segmented-detail-row",this.columnNames.length,"index")}_buildRowObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this._buildRow(t,e,n,i)}_buildRow(){this._setColumnWidths(),this.$.header.itemClassMap=this.itemClassMap,this.detailFieldNamesWithLabel=this.isMobile()?[this.lineModel.editorModel.constants.SEGMENT_LABEL_FIELD].concat(this.detailFieldNames):this.detailFieldNames,this.$.header.group||(this.$.header.group=this.detailFieldNamesWithLabel)}_isActionsOnTheLeft(t){return t.actionsOnTheLeft}_setColumnWidths(){if(this.isMobile())return;let t=this.columnWidths;if(!t||!this.columnNames)return;let e=0;for(let n=0,i=this.fieldNames.length;n<i;n++){e+=t[this.fieldNames[n]]}this.fieldNamesColWidth=e+"px",this.totalColWidth=t.total+"px"}_segDetailColWidth(t,e){return e[(0,A.xn)(t)]+"px"}_columnWidthsChanged(){this._setColumnWidths()}_initTabIndex(){return this.isMobile()?-1:0}static get template(){return(0,Qt.dy)(Zo||(Zo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t\t<style include="sb-common-styles sb-tables-styles"></style>\n\t\t\t<div device class="tr">\n\t\t\t\t<div class="leGroup">\n\t\t\t\t\t\x3c!--placeholder for line actions column on the right--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[_isActionsOnTheLeft(lineModel.editorModel)]]">\n\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t\x3c!--placeholder for selection column--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[lineModel.editorModel.data.settings.multiLineDeleteEnabled]]">\n\t\t\t\t\t\t<div id="selection" class="td"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t\x3c!--placeholder for number column--\x3e\n\t\t\t\t\t<div id="itemNumber" class="td"></div>\n\t\t\t\t\t<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusDown" on-keydown="forwardFocusDown"></div>\n\t\t\t\t\t<div class="td">\n\t\t\t\t\t\t\x3c!--detail field names column--\x3e\n\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t<div id="detailFieldNames" class="innerTd empty"  style$="min-width:[[fieldNamesColWidth]];max-width:[[fieldNamesColWidth]];">\n\t\t\t\t\t\t\t<sb-group id="header"\n\t\t\t\t\t\t\t\titem="sb-le-table-header-cell"\n\t\t\t\t\t\t\t\tmodel="[[lineModel]]"\n\t\t\t\t\t\t\t\tdata="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\tgroup-class="tgroup"\n\t\t\t\t\t\t\t\tclass="innerTd detailFieldNames right"\n\t\t\t\t\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\t\t\t\t\titem-class="detailFieldName">\n\n\t\t\t\t\t\t\t</sb-group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--segments--\x3e\n\t\t\t\t\t\t<template is="dom-repeat" items="{{columnNames}}" as="columnName">\n\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t<sb-segmented-detail-row \n\t\t\t\t\t\t\t\tid="column"\n\t\t\t\t\t\t\t\tline-index="[[lineIndex]]"\n\t\t\t\t\t\t\t\tdetail-field-names="[[detailFieldNamesWithLabel]]"\n\t\t\t\t\t\t\t\tsegment-record="{{getSegmentRecord(columnName, lineModel)}}"\n\t\t\t\t\t\t\t\tcolumn-name="[[columnName]]"\n\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\tclass$="innerTd right [[segmentExists(columnName)]] column [[deviceClasses]]"\n\t\t\t\t\t\t\t\tfield-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\tmobile-cols="[[mobileCols]]"\n\t\t\t\t\t\t\t\tstyle$="min-width:[[_segDetailColWidth(columnName, columnWidths)]];max-width:[[_segDetailColWidth(columnName, columnWidths)]];"\n\t\t\t\t\t\t\t\thighlight-row-on-focus="[[!isMobile()]]"\n\t\t\t\t\t\t\t></sb-segmented-detail-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!--totals column--\x3e\n\t\t\t\t\t<div class="td empty total" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];"></div>\n\t\t\t\t\t\x3c!--placeholder for line actions column on the right--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[!_isActionsOnTheLeft(lineModel.editorModel)]]">\n\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusUp" on-keydown="forwardFocusUp"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),Jo)}}customElements.define(er.is,er);const nr=(0,zt.f)(tr||(tr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  /* add padding for expand icon when only 1 digit row index number */\n}\n:host sf-le-table-row:nth-of-type(-n+10) {\n  --segmented-icon-padding: 6px !important;\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable .listContainer {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100px;\n}\n:host(.largeQuote) #tableContainer #datatable .tbody {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable iron-list {\n  flex: 1;\n  overflow-x: hidden !important;\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td {\n  color: var(--sbFontColor);\n  font-size: 16px;\n  font-weight: normal;\n  text-transform: none;\n  background-color: var(--sbPageHeaderBgColor);\n  border-top-width: var(--sbPageHeaderBorderBottomWidth);\n  border-top-style: var(--sbPageHeaderBorderBottomStyle);\n  border-top-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.colSubtotal {\n  border-top-width: 0;\n}\n:host(.largeQuote) #subtotalContainer #subtotal {\n  padding-right: 24px;\n}\n:host .tfoot {\n  color: var(--sbGroupHeaderFontColor);\n  display: block;\n  will-change: transform;\n}\n:host .tfoot #mdqSubtotal {\n  --sbFieldWhiteSpace: normal;\n  --sbFieldWordWrap: break-word;\n}\n:host .tfoot .td {\n  border-bottom: none;\n}\n:host .tfoot .td.subtotal {\n  padding-right: 24px;\n}\n:host .tfoot #subtotalLabel {\n  text-transform: uppercase;\n}\n:host .right[class*='--desktop'] {\n  text-align: right;\n  padding-right: 18px;\n}\n:host [class*='--desktop'] .right {\n  text-align: right;\n  padding-right: 18px;\n}\n:host([class*='--mobile']) {\n  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;\n}\n:host .datatable[class*='--mobile'] .tfoot {\n  display: block;\n  padding: 5px 0;\n}\n:host .datatable[class*='--mobile'] .tfoot .subtotal,\n:host .datatable[class*='--mobile'] .tfoot .subtotalLabel {\n  display: inline-block;\n  font-size: 1rem;\n  font-weight: bold;\n  color: var(--sbFontColor);\n}\n:host .subtotalLabel[class*='--mobile'] {\n  padding-left: 25px;\n  padding-right: 0;\n}\n:host .hiddenInMobile[class*='--mobile'] {\n  display: none;\n}\n:host([class*='--mobile']) {\n  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;\n}\n:host [class*='--mobile'] .datatable .tfoot {\n  display: block;\n  padding: 5px 0;\n}\n:host [class*='--mobile'] .datatable .tfoot .subtotal,\n:host [class*='--mobile'] .datatable .tfoot .subtotalLabel {\n  display: inline-block;\n  font-size: 1rem;\n  font-weight: bold;\n  color: var(--sbFontColor);\n}\n:host [class*='--mobile'] .subtotalLabel {\n  padding-left: 25px;\n  padding-right: 0;\n}\n:host [class*='--mobile'] .hiddenInMobile {\n  display: none;\n}\n:host .emptyTableMessage {\n  padding: 15px 30px;\n}\n:host .hoverover {\n  cursor: all-scroll;\n  background-color: #d8edff;\n  border: 1px solid #5eb4ff;\n}\n"])));var ir;class or extends((0,qt.J)((0,Lt.Q)(Li(vn((0,Ft.U)(Qt.H3)))))){get events(){let t={};return t[o.zW.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[o.zW.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,t[o.zW.GROUP_TOGGLED]=this.groupToggled,t[o.zW.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[o.zW.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,t[o.zW.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,t[o.zW.REFRESH_TABLE]=this._prepareUIData,t[o.zW.RESET_ON_ACTION]=this._resetOnAction,t[o.zW.LINE_SPLICE_COMPLETE]=this.postLineSplice,t[o.zW.SORT_LINES_REQUIRED]=this.sortLinesRequired,t[o.zW.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get is(){return"sf-segmented-table"}static get properties(){return(0,A.l7)({rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}},expansionIconClass:{type:String}},vn.properties)}static get observers(){return["_modelReady(groupModel)"]}ready(){super.ready(),this.addEventListener("le-action-tapped",this.unfocus),this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.addEventListener("line-toggled",(t=>{this.editorModel.largeQuoteExperienceEnabled&&this._onUpdateSizeForItem(t)}))}_modelReady(t){t&&!this._initialized&&(this._initialized=!0,this.editorModel.largeQuoteExperienceEnabled&&(0,Nt.T8)(this,(function(){this.shadowRoot.querySelector("iron-list").dispatchEvent((0,o.FU)("iron-resize",void 0))})),D.U.constants=this.editorModel.constants,this._resetHeaderTemplate(),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,t,this.columnNames,this.dimension).generateRowNode(this._getFieldsForTemplate()),this.editorModel.deviceContext.isMobile&&(this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,t,null,null,!0).generateRowNode(this._getFields(),{class:F.classNames.SECONDARY+" "+F.classNames.EXPANDED})))}_prepareUIData(){let t=i.I.isMobile?this._getAllFields():this._getFields();this.uiData=dt.prepareLineData(this.groupModel.segmentedLinesByDimension[this.dimension],t,this.quoteLineFields)}getUIData(t){return this.uiData[t]}_segmentedLinesByDimensionChanged(t){let e,n;if(e=t.path.split("."),n=e.indexOf(this.dimension)>=0,this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],"splices"==e[e.length-1]&&n){let e=t.value.indexSplices;e[0].removed&&0===e[0].object.length?this.hasVisibleSegmentedLines=!1:e[0].addedCount>0&&(this.hasVisibleSegmentedLines=!0),this._prepareUIData()}}_render(){if(!this.groupModel)return;(0,A.og)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.dimension=this.attributes.key.value,this.hasVisibleSegmentedLines=this.groupModel.hasVisibleSegmentedLines[this.dimension],this.fieldNames=this._getFields(),this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],this.linkPaths("groupModel.segmentedLinesByDimension.".concat(this.dimension),"lineModels");let t={};for(let e in this.editorModel.md.fieldLabelsMap)t[(0,A.xn)(e)]=this.editorModel.md.fieldLabelsMap[e];this.fieldLabelsMap=t,this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this.settings=this.editorModel.data.settings,this.detailFieldNames=this.editorModel.fieldsetMap.multiSegmentLineFieldNames;let e=this.groupModel.groupVO.multiSegmentColumns;e&&Object.keys(e).length>0?(this.columnNames=e[this.dimension],this.headerColumnNames=this.groupModel.groupVO.localizedMultiSegmentColumns[this.dimension]):(this.columnNames=this.groupModel.quoteModel.quoteVO.multiSegmentColumns[this.dimension],this.headerColumnNames=this.editorModel.quoteModel.quoteVO.localizedMultiSegmentColumns[this.dimension]),this.netMultiSegmentTotalField=this.editorModel.constants.NET_TOTAL_FIELD,this.columnWidths={},this._setColumnWidths(),this.expansionIconClass="sf-icon-right"}_getFieldsForTemplate(){return this.editorModel.deviceContext.isMobile?this.editorModel.segmentedPrimaryMobileCols:this._getFields()}_getFieldSetName(){return this.editorModel.fieldSetNames.multiSegmentLineSummaryFieldNames}sortLines(t,e,n,i,o){let r;if(e&&this.settings.lineLookups&&this.settings.lineLookups[e]){let t=RelationshipFieldManager.getRelationshipField(e,this.settings.lineLookups[e]).split(".");r=t[1],e=t[0]}let s=bn(t,e,n,i,r);o?(this.unfocus(),this.set("groupModel.segmentedLinesByDimension.".concat(this.dimension),s.slice()),this.notifyPath("lineModels",s.slice()),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields())):this.groupModel.segmentedLinesByDimension[this.dimension]=s}columnNamesChanged(t,e){e&&this.editorModel&&this.editorModel.largeQuoteExperienceEnabled&&(this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields()),this._resetHeaderTemplate())}_resetHeaderTemplate(){if(!this.editorModel.deviceContext.isMobile){var t=new mn(this.editorModel,this.columnWidths,this.columnNames);this.headerTemplate=t.generateHeaderNode(this._getFieldsForTemplate())}}_getAllFields(){let t=this._getFields();return this.editorModel.segmentedPrimaryMobileCols&&(t=t.concat(this.editorModel.segmentedPrimaryMobileCols)),[...new Set(t)]}static get template(){return(0,Qt.dy)(ir||(ir=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-icons-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="iron-positioning"></style>\n\t\t<style>','</style>\n\t\t\n\t    <div id="tableContainer" device>\n\t\t\t<template is="dom-if" if="[[hasVisibleSegmentedLines]]">\n\t\t\t\t\x3c!--iron-list--\x3e\n\t\t\t\t<template is="dom-if" if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div id="datatable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t\t<div class="theader">\n                            <sf-le-table-header id="header"\n                                                column-widths="[[columnWidths]]"\n                                                template="[[headerTemplate]]"\n                                                ui-data="[[fieldLabelsMap]]"\n                                                line-models="{{lineModels}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"></sf-le-table-header>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="listContainer">\n\t\t\t\t\t\t\t<div class="tbody fit vertical layout">\n\t\t\t\t\t\t\t\t<iron-list items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index, lineModels.length)]]">\n\t\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.visible]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<sf-le-table-row line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t template="[[rowTemplate]]"\n                                                                 secondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t is-segmented="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t original-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t data-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t hidden$="{{lineModel.hidden}}"></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.lineVO.expanded]]">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-segmented-line-details line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   detail-field-names="[[detailFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-names="[[columnNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   line-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t\t<div id="subtotalContainer" class="tfoot">\n\t\t\t\t\t\t\t\t\t\t<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>\n\t\t\t\t\t\t\t\t\t\t<div class="td hiddenInMobile">\n\t\t\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[columnNames]]" as="columnName">\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">\n\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!groupModel.editorModel.actionsOnTheLeft]]">\n\t\t\t\t\t\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--regular table--\x3e\n\t\t\t\t<template is="dom-if" if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div class="datatable leTable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t\t<div class="tbody sb-droppable-mdqRows">\n\t\t\t\t\t\t\t\x3c!--header row--\x3e\n                            <sf-le-table-header id="header"\n                                                column-widths="[[columnWidths]]"\n                                                template="[[headerTemplate]]"\n                                                ui-data="[[fieldLabelsMap]]"\n                                                line-models="{{lineModels}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"></sf-le-table-header>\n\t\t\t\t\t\t\t\x3c!--table rows--\x3e\n\t\t\t\t\t\t\t<template is="dom-repeat" items="{{lineModels}}" as="lineModel">\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.visible]]">\n\t\t\t\t\t\t\t\t\t<sf-le-table-row line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t ui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t template="[[rowTemplate]]"\n                                                     secondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t is-segmented="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t original-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t data-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t hidden$="{{lineModel.hidden}}"></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[lineModel.lineVO.expanded]]">\n\t\t\t\t\t\t\t\t\t\t<sb-segmented-line-details line-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   detail-field-names="[[detailFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-names="[[columnNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   column-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   field-labels-map="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   line-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t<div class="tfoot">\n\t\t\t\t\t\t\t\t\t<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>\n\t\t\t\t\t\t\t\t\t<div class="td hiddenInMobile">\n\t\t\t\t\t\t\t\t\t\t<template is="dom-repeat" items="[[columnNames]]" as="columnName">\n\t\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t\t<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">\n\t\t\t\t\t\t\t\t\t\t<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t</template>\n\t\t</div>\n\t    '])),nr)}}customElements.define(or.is,or);const rr=(0,yn.o)((t=>class extends t{static get properties(){return{groupModel:{type:Object,notify:!0},settings:Object,fieldNames:Array,quoteLineFields:Object,fieldLabelsMap:{type:Object,notify:!0},subtotal:{type:Number},subtotalMd:Object,dragDrop:Object,viewport:{type:Object,value:function(){return j._.getViewport()}},visibleLines:{type:Array,computed:"_initVisibleLines(groupModel)"},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"}}}init(){this.groupModel&&(this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.summaries=this.groupModel.quoteModel.grouped?this.groupModel.groupVO.summaries:this.groupModel.quoteModel.quoteVO.summaries,D.U.constants=this.editorModel.constants)}static get observers(){return["_buildRows(groupModel)","_updatePrimaryMobileColumnsObserver(fieldSet, groupModel.editorModel.standardPrimaryMobileCols)","_lineSplicesListener(groupModel.standardLines.splices)","_showSubtotal(groupModel.*)","_updateDragDropParentKey(groupModel.editorModel.quoteModel.linesByParentItemKey)"]}get editorModel(){return this.groupModel.quoteModel.editorModel}get md(){return this.editorModel.md}get prefix(){return this.editorModel.data.developerPrefix}_buildRows(){this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.fieldsetMap&&((0,A.og)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.actionsOnTheLeft=this.editorModel.actionsOnTheLeft,this.multiLineDeleteEnabled=this.editorModel.data.settings.multiLineDeleteEnabled,this.fieldSetHandler=new z.u(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone"),this._setFieldNames(),this.columnWidths={},this._setColumnWidths(),this.columnNames=null,this.fieldLabelsMap=this.editorModel.md.fieldLabelsMap[this.prefix+"QuoteLine__c"],this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this._setDrawerFields(),this.settings=this.editorModel.data.settings,this.postBuildRowRefresh(),this.shadowRoot.querySelector("iron-list")&&this.groupModel.groupKey&&1==this.editorModel.quoteModel.quoteVO.lineItemGroups.length&&this.shadowRoot.querySelector("iron-list").notifyResize())}_setColumnWidths(t){let e=null;!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&(e=this.groupModel.colWidth.Standard,this._setSubtotalColumnWidth(e,this.editorModel.layout.leftOffset)),this.set("columnWidths",e),this._ironListResize(t)}_setSubtotalColumnWidth(t,e){let n=e,i=this.fieldNames.length;for(let e=0;e<i-1;e++){n+=t[this.fieldNames[e]]}this.labelColWidth=n+6+"px";let o=t[this.fieldNames[this.fieldNames.length-1]];this.subtotalColWidth=o+6+"px"}colWidthsChanged(t){this._setColumnWidths(t)}_ironListResize(t){this.shadowRoot.querySelector("iron-list")&&t&&t.detail&&t.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,o.FU)("iron-resize"))}_setDrawerFields(){let t=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,e=this.editorModel.deviceContext.isMobile;t&&!e?this.drawerFieldNames=t:t&&e&&(this.fieldNames=this.fieldNames.concat(t))}_showSubtotal(){if(!(this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.md))return;let t=this.editorModel.data.settings;this.subtotalMd||(this.subtotalMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=t.lineEditorSubtotalsField&&this.groupModel.standardLines.length>0?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}_getPriceScale(){let t=this.editorModel.data.settings,e=t.lineEditorSubtotalsField;return t.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:"Default"==e||"doNotDisplay"==e||null==e?this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][e].scale}_getSubtotal(){let t,e,n=this.editorModel.data.settings,i=this.groupModel.standardLines;t="Default"==n.lineEditorSubtotalsField||null==n.lineEditorSubtotalsField?this.editorModel.constants.NET_TOTAL_FIELD:n.lineEditorSubtotalsField,e=0;for(let n=0,o=i.length;n<o;n++){let o=i[n];isNaN(o.lineVO.record[t])||(e+=o.lineVO.record[t])}this.subtotal=e}onTrack(t){this.removeCellFocus&&this.removeCellFocus(this.focusedCell),this.dragDrop._onTrack(t)}dragFunc(t){let e=this.dragDrop;e.ghost=e.lineEditor.$.ghost,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,e.dragKeys=[],e.dragStandardIndexes=[],e.dragMdqIndexesByDim={},e.dragLineModels=[],e.dragGroupModel=t.lineModel.groupModel,e.dragKeys.push(t.lineModel.lineVO.key),e.keepBundleTogether&&this._getBundleWithChildren(e.dragKeys[0],e.dragKeys),e.dragKeys.forEach(function(t){let n=this.lineModelsByKey[t];e.dragLineModels.push(n),this.lineModelsByKey[t].segmented?e.dragMdqIndexesByDim[n.dimensionType]?e.dragMdqIndexesByDim[n.dimensionType].push(this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[n.dimensionType],t)):e.dragMdqIndexesByDim[n.dimensionType]=[this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[n.dimensionType],t)]:e.dragStandardIndexes.push(this._getLineIndexFromKey(this.groupModel.standardLines,t))}.bind(this)),e.dragTargetElementIndex=this._getLineIndexFromKey(this.groupModel.standardLines,t.lineModel.lineVO.key);for(let t,n=0;n<e.dragStandardIndexes.length;n++)t=e.dragStandardIndexes[n],this.set("groupModel.standardLines.".concat(t,".hidden"),!0);if(0!=Object.keys(e.dragMdqIndexesByDim).length)for(let t in e.dragMdqIndexesByDim)for(let n,i=0;i<e.dragMdqIndexesByDim[t].length;i++)n=e.dragMdqIndexesByDim[t][i],this.set("groupModel.segmentedLinesByDimension.".concat(t,".").concat(n,".hidden"),!0);e.ghostField=t.lineModel.lineVO.record[this.editorModel.constants.PRODUCT_CODE_FIELD]}trackFunc(t){let e=this.dragDrop,n=this.groupModel.editorModel.data.settings.bundleKeptTogether;this.groupModel.standardLines.length;if(t=e._findTableRowValidTarget(t))switch(e.targetClass){case"sb-droppable-standardRows":if(e.updateTableRowHoverOverObject(t),!e.hoverOver)return;e.targetHost=(0,A.GC)(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!0;break;case"sb-droppable-emptyTable":n&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.usePlaceholder=!1,e.enableHighLight=!0;break;case"sb-droppable-sidePanelGroups":n&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.targetHost=e.hoverOver.comp.parentNode.parentNode,e.usePlaceholder=!1,e.enableHighLight=!0}else e.hoverOver=null}_removeLinesByIndex(t){t.sort(((t,e)=>t-e));for(let e=0;e<t.length;e++)this.splice("groupModel.standardLines",t[e],1),t=t.map((t=>--t))}_getBundleWithChildren(t,e){let n;if(this.dragDrop.linesByParentKey[t]){n=this.dragDrop.linesByParentKey[t].length;for(let i=0;i<n;i++){let n=this.dragDrop.linesByParentKey[t][i].lineVO.key;e.push(n),this.dragDrop.linesByParentKey[n]&&this._getBundleWithChildren(n,e)}}}_getLineIndexFromKey(t,e){let n;for(let i=0;i<t.length;i++)if(t[i].lineVO.key===e)return n=i,n}_getStandardLineIndexesFromKeys(t,e){let n=[];for(let i=0;i<e.length;i++)n.push(this._getStandardLineIndexFromKey(t,e[i]));return n}_setFieldNames(){this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this.fieldNames=this._getFields()}_getFields(){return this.groupModel.standardSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}viewportChanged(t){this.viewport=t.detail.viewport,this._setFieldNames()}groupPanelToggled(t){this.drawerState=t.detail.drawerState,this._setColumnWidths(t)}groupPanelCreated(t){this._setColumnWidths(t)}groupToggled(t){this._ironListResize(t),this._prepareUIData(),setTimeout((()=>{this._onUpdateSizeForItem(t)}))}_prepareUIData(){}toggleOptional(t){if(!t.detail.groupKey||t.detail.groupKey==this.groupModel.groupVO.key)for(let e=0,n=this.groupModel.standardLines.length;e<n;e++)this.set("groupModel.standardLines.".concat(e,".lineVO.record.").concat(this.editorModel.constants.OPTIONAL_FIELD),t.detail.toggleOptionalBoolean)}getZIndex(t){return this.groupModel.standardLines.length+10-t}sortLinesRequired(t){let e=t.detail.notify,n=t.detail.lineSortField;this.sortLines(this.groupModel.standardLines,n,"asc",!1,e)}_updatePrimaryMobileColumnsObserver(t,e){if(void 0!==t&&void 0!==e)return this._updatePrimaryMobileColumns(t,e)}_updatePrimaryMobileColumns(){this.groupModel.editorModel.standardPrimaryMobileCols&&this.groupModel.editorModel.standardPrimaryMobileCols.length>0&&this.fieldSet.name.endsWith("Phone")&&(this.groupModel.editorModel.standardPrimaryMobileCols[0]=this.fieldSet.fields[0])}_onUpdateSizeForItem(t){if(t.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t.detail.index);else for(let t=0,e=this.groupModel.standardLines.length;t<e;t++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(t)}_initVisibleLines(){return this.groupModel.standardLines.filter(function(t){return t.visible}.bind(this))}_initTabIndex(){return this.viewport&&this.viewport.isMobile()?-1:0}_updateDragDropParentKey(t){this.dragDrop&&t&&(this.dragDrop.linesByParentKey=t)}forwardFocusDown(t){9!==t.keyCode||t.shiftKey||Eo.E.signalFirstEditableTargetFirstRow(this,this.getRowComponentName(),"data-index")}forwardFocusUp(t){9===t.keyCode&&t.shiftKey&&Eo.E.signalLastEditableTargetLastRow(this,this.getRowComponentName(),this.visibleLines.length,"data-index")}dropFunc(t,e,n,i){let r,s=(0,A.GC)((0,A.GC)(t)),a=this.dragDrop;a.dropKey=null,a.dropIndex=null,a.dropGroupModel=null;for(let t,e=0,n=a.dragStandardIndexes?a.dragStandardIndexes.length:0;e<n;e++)t=a.dragStandardIndexes[e],this.set("groupModel.standardLines.".concat(t,".hidden"),!1);if(0!=Object.keys(a.dragMdqIndexesByDim).length)for(let t in a.dragMdqIndexesByDim)for(let e,n=0;n<a.dragMdqIndexesByDim[t].length;n++)e=a.dragMdqIndexesByDim[t][n],this.set("groupModel.segmentedLinesByDimension.".concat(t,".").concat(e,".hidden"),!1);if(e){switch(t.lineModel.subscriptionScopeEditable&&((0,A.GC)(e).groupModel.colWidth=t.lineModel.groupModel.colWidth,a.dragGroupModel._updateStandardSubscriptionScopeEditable(t.lineModel),this._setFieldNames(),this._setColumnWidths()),this._removeLinesByIndex(a.dragStandardIndexes),n){case"sb-droppable-standardRows":a.dropKey=e.lineModel.lineVO.key,a.dropGroupModel=e.lineModel.groupModel,a.dropIndex=this._getLineIndexFromKey(a.dropGroupModel.standardLines,a.dropKey),r=(0,A.GC)((0,A.GC)(e)),i?a.dropIndex=a.dropIndex>=0?a.dropIndex:0:++a.dropIndex;break;case"sb-droppable-emptyTable":case"emptyTableMessage":r=(0,A.GC)(e),a.dropGroupModel=r.groupModel;break;case"sb-droppable-sidePanelGroups":let t="Group"+e.getAttribute("id"),n=a._findParentCustomElement(e,"groupContainer","id");r=n.querySelector("#".concat(t)),a.dropGroupModel=r.groupModel}for(let t=0;t<a.dragLineModels.length;t++)if(a.dragLineModels[t].segmented){if(a.dragGroupModel.groupKey===a.dropGroupModel.groupKey)continue;a.dropGroupModel.dimensions.includes(a.dragLineModels[t].segmentType)?r.addSegmentedLineToExistingTab(a.dragLineModels[t]):r.addSegmentedLineToEmptyTable(a.dragLineModels[t])}else{if(a.dragLineModels[t].subscriptionScopeEditable&&(a.dropGroupModel.standardSubscriptionScopeEditable=a.dragLineModels[t].quoteModel.grouped,(0,Nt.T8)(r.shadowRoot.querySelector("#standardLines"),(()=>{r.shadowRoot.querySelector("#standardLines")._setFieldNames(),r.shadowRoot.querySelector("#standardLines")._setColumnWidths()}))),a.dragLineModels[t].visible)switch(n){case"sb-droppable-standardRows":(0,A.GC)(e).splice("groupModel.standardLines",a.dropIndex,0,a.dragLineModels[t]);break;case"sb-droppable-emptyTable":case"emptyTableMessage":case"sb-droppable-sidePanelGroups":r.push("groupModel.standardLines",a.dragLineModels[t])}else r.push("groupModel.standardLines",a.dragLineModels[t]);a.dragLineModels[t].groupModel=a.dropGroupModel,a.dragLineModels[t].lineVO.parentGroupKey=a.dropGroupModel.groupKey,a.dropIndex++}if(0!=Object.keys(a.dragMdqIndexesByDim).length)for(let t in a.dragMdqIndexesByDim){a.dragMdqIndexesByDim[t].reverse();for(let e,n=0;n<a.dragMdqIndexesByDim[t].length;n++)if(e=a.dragMdqIndexesByDim[t][n],this.set("groupModel.segmentedLinesByDimension.".concat(t,".").concat(e,".hidden"),!1),a.dragGroupModel.groupKey!==a.dropGroupModel.groupKey){let n=s.groupModel.segmentedLinesByDimension[t][e];s.removeSegmentedLine(n)}}this.dispatchEvent((0,o.FU)("renumber-lines")),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),this.postDrop(t,e)}}_lineSplicesListener(t){t&&(this.set("groupModel.hasVisibleStandardLines",this.groupModel._groupHasStandardProducts()),this._showSubtotal())}postDrop(t,e){}postBuildRowRefresh(){}}));var sr;n(9402);const ar=(0,zt.f)(sr||(sr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host .actionsOnTheLeft {\n  padding-left: 95px;\n}\n:host .multiDeleteEnabled {\n  padding-left: 35px;\n  width: calc(100% - 35px);\n}\n:host .actionsOnTheLeft.multiDeleteEnabled {\n  padding-left: 130px;\n}\n"])));var lr,dr;class cr extends Qt.H3{static get is(){return"sb-le-drawer"}static get properties(){return{lineModel:{type:Object,notify:!0},fieldNames:Array,richTextFields:Array,dataIndex:{type:Number,reflectToAttribute:!0}}}static get observers(){return["_initObserver(fieldNames, lineModel)","_lineRecordChanged(lineModel.*)"]}_initObserver(t,e){if(void 0!==t&&void 0!==e)return this.init(t,e)}init(){this._visibilityChanged(),this._editabilityChanged();let t=[];for(let e of this.fieldNames)this._isRichTextField(e)&&t.push(e);this.richTextFields=t}_isRichTextField(t){return"richtextarea"===this.lineModel.getFieldMD(t).extraTypeInfo}_lineRecordChanged(t){"lineModel.lineVO.fieldVisibility"===t.path?this._visibilityChanged():"lineModel.lineVO.fieldEditability"===t.path&&this._editabilityChanged()}_visibilityChanged(){this.lineModel.setItemClassMap(),this.itemClassMap=this.lineModel.itemClassMap}_editabilityChanged(){if(!this.fieldNames||!this.lineModel.lineVO.fieldEditability||0==Object.keys(this.lineModel.lineVO.fieldEditability).length)return;let t={};for(let e of this.fieldNames)this.lineModel.lineVO.fieldEditability.hasOwnProperty(e)&&(t[e]=this.lineModel.isEditable(e));this.itemEditableMap=t}_showLineMultiActions(t){return(t.actionsOnTheLeft?"actionsOnTheLeft ":"")+(t.data.settings.multiLineDeleteEnabled?"multiDeleteEnabled":"")}_isListMode(){return!!i.I.isCompactModeEnabled}static get template(){return(0,Qt.dy)(lr||(lr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t\n\t\t\t<sb-row-drawer\n\t\t\t\tclass$="[[_showLineMultiActions(lineModel.editorModel)]]"\n\t\t\t\titem="sb-le-table-cell"\n\t\t\t\tmodel="[[lineModel]]"\n\t\t\t\tdata="{{lineModel.lineVO.record}}"\n\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\trich-text-fields="[[richTextFields]]"\n\t\t\t\thighlight-on-focus="true"\n\t\t\t\titem-class-map="[[itemClassMap]]"\n\t\t\t\titem-editable-map="[[itemEditableMap]]"\n\t\t\t\tlist-mode="[[_isListMode()]]"\n\t\t\t></sb-row-drawer>\n\t\t'])),ar)}}customElements.define(cr.is,cr);const ur=(0,zt.f)(dr||(dr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: table-row-group;\n}\n:host .largeQuote {\n  border-top: 1px solid #D8DDE6;\n}\n:host .largeQuote .td {\n  height: 38px;\n}\n:host .td {\n  border-bottom: none;\n}\n:host .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host .td#itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .td#selection {\n  min-width: 30px;\n  max-width: 30px;\n}\n:host([class*='--mobile']) {\n  display: none;\n}\n:host([class*='--mobile']) {\n  display: none;\n}\n"])));var hr;const pr=(0,zt.f)(hr||(hr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  display: table-cell;\n  text-align: right;\n  padding-right: 18px !important;\n  font-weight: bold;\n}\n"])));var fr,br,gr;class mr extends Qt.H3{static get is(){return"sb-le-summary-cell"}static get properties(){return{model:Object,item:String,summaries:Object}}static get observers(){return["_setWidthStyleObserver(model.colWidth, item)","_updateField(model.editorModel, item, summaries)"]}_updateField(t,e,n){if(null==t||null==e||null==n)return;let i=n[e.toLowerCase()];if(void 0!==i){const n=t.md.fieldsMap[t.data.quoteLineObjectName][e];n.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.$.field.md=n,this.$.field.value=i}}_setWidthStyleObserver(t,e){if(null!=t&&null!=e)return this._setWidthStyle(t,e)}_setWidthStyle(t,e){this.style.minWidth="".concat(t.Standard[e],"px"),this.style.maxWidth=this.style.minWidth}static get template(){return(0,Qt.dy)(fr||(fr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<sb-field id="field" property="[[item]]"></sb-field>\n\t\t'])),pr)}}customElements.define(mr.is,mr);class yr extends((0,Lt.Q)((0,Ft.U)(Qt.H3))){static get is(){return"sb-le-summary-row"}static get properties(){return{model:{type:Object,observer:"_modelChanged"},fieldNames:Array,summaries:Object}}get events(){let t={};return t[o.zW.COL_WIDTHS_CHANGED]=this._colWidthsChanged,t}_modelChanged(t){(0,A.og)("largeQuote",t.editorModel.largeQuoteExperienceEnabled,this.$.container)}_colWidthsChanged(t){this.notifyPath("model")}static get template(){return(0,Qt.dy)(br||(br=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style include="sb-tables-styles"></style>\n\t\t<div id="container" device>\n\t\t\t<template is="dom-if" if="[[model.editorModel.actionsOnTheLeft]]">\n\t\t\t\t<div class="td lineActions"></div>\n\t\t\t</template>\n\t\t\t<template is="dom-if" if="[[model.editorModel.data.settings.multiLineDeleteEnabled]]">\n\t\t\t\t<div class="td" id="selection"></div>\n\t\t\t</template>\n\t\t\t<div class="td" id="itemNumber"></div>\n\t\t\t<div class="td groupDetails">\n\t\t\t\t<template is="dom-repeat" items="[[fieldNames]]" as="fieldName">\n\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t<sb-le-summary-cell summaries="[[summaries]]" item="[[fieldName]]" model="[[model]]">\n\t\t\t\t\t</sb-le-summary-cell>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<template is="dom-if" if="[[!model.editorModel.actionsOnTheLeft]]">\n\t\t\t\t<div class="td lineActions"></div>\n\t\t\t</template>\n\t\t</div>\n\t\t'])),ur)}}customElements.define(yr.is,yr);const vr=(0,zt.f)(gr||(gr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']#mobileStandardLines) {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n:host([class*='--mobile'] #mobileStandardLines) {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable .listContainer {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 100px;\n}\n:host(.largeQuote) #tableContainer #datatable .tbody {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host(.largeQuote) #tableContainer #datatable iron-list {\n  flex: 1;\n  overflow-x: hidden !important;\n  border-top-width: var(--sbTableRowBorderBottomWidth);\n  border-top-style: var(--sbTableRowBorderBottomStyle);\n  border-top-color: var(--sbTableRowBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td {\n  font-size: 16px;\n  font-weight: normal;\n  color: var(--sbFontColor);\n  text-transform: none;\n  background-color: var(--sbPageHeaderBgColor);\n  border-top-width: var(--sbPageHeaderBorderBottomWidth);\n  border-top-style: var(--sbPageHeaderBorderBottomStyle);\n  border-top-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {\n  min-width: 95px;\n  max-width: 95px;\n}\n:host(.largeQuote) #subtotalContainer.tfoot .td.drawerIcon {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host(.largeQuote) #subtotalContainer #subtotal {\n  padding-right: 24px;\n}\n:host .tfoot .td {\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n  will-change: transform;\n  text-transform: uppercase;\n  border-bottom: none;\n}\n:host #subtotal {\n  padding-right: 24px;\n}\n:host #subtotalLabel {\n  padding-right: 0;\n}\n:host .row {\n  transition: all 0.4s ease-out;\n}\n:host .drawer {\n  background-color: var(--sbPageHeaderBgColor);\n  border-bottom: 1px solid #d0d0d0;\n}\n:host .datatable[class*='--mobile'] .tfoot {\n  display: block;\n  color: var(--sbFontColor);\n  font-size: 1rem;\n  text-align: left;\n  padding: 10px 0 10px 25px;\n}\n:host .datatable[class*='--mobile'] .tfoot #subtotal,\n:host .datatable[class*='--mobile'] .tfoot #subtotalLabel {\n  display: inline-block;\n  padding: 0;\n}\n:host [class*='--mobile'] .datatable .tfoot {\n  display: block;\n  color: var(--sbFontColor);\n  font-size: 1rem;\n  text-align: left;\n  padding: 10px 0 10px 25px;\n}\n:host [class*='--mobile'] .datatable .tfoot #subtotal,\n:host [class*='--mobile'] .datatable .tfoot #subtotalLabel {\n  display: inline-block;\n  padding: 0;\n}\n"])));var _r;function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xr(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Cr extends((0,qt.J)((0,Lt.Q)(Li(rr((0,Ft.U)(Qt.H3)))))){static get is(){return"sf-standard-table"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(n),!0).forEach((function(e){xr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({headerTemplate:{type:Object},rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}}},rr.properties)}get events(){let t={};return t[o.zW.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[o.zW.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,t[o.zW.GROUP_TOGGLED]=this.groupToggled,t[o.zW.SORT_LINES_REQUIRED]=this.sortLinesRequired,t[o.zW.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[o.zW.QUOTE_SAVED]=this.clearOriginalFieldValues,t[o.zW.ROWS_RENUMBERED]=this.onRowsRenumbered,t[o.zW.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,t[o.zW.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,t[o.zW.REFRESH_TABLE]=this._prepareUIData,t[o.zW.LINE_SPLICE_COMPLETE]=this.postLineSplice,t[o.zW.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}ready(){if(super.ready(),Object.entries({"le-action-tapped":"unfocus"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),!this.groupModel)return;this.init();let t=new Set(["sb-droppable-standardRows","sb-droppable-emptyTable","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.editorModel.largeQuoteExperienceEnabled?(this.addEventListener("bundle-toggled",this._toggleBundleLines),this.addEventListener("line-toggled",this._onUpdateSizeForItem),this._resizeIronList()):this.dragDrop=new ge(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",t,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),9,147),this._prepareUIData(),this._prepareTemplates(!0)}_prepareUIData(){let t=i.I.isMobile?this._getAllFields(!0):this._getFields();this.uiData=dt.prepareLineData(this.groupModel.standardLines,t,this.quoteLineFields)}_prepareTemplates(t){if(this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null).generateRowNode(this._getFieldsForTemplate(),{class:"row"}),i.I.isMobile)this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null,null,!0).generateRowNode(this._getAllFields(!1),{class:F.classNames.SECONDARY+" "+F.classNames.EXPANDED});else if(t){var e=new mn(this.editorModel,this.columnWidths,null,!0);this.headerTemplate=e.generateHeaderNode(this._getFieldsForTemplate(),{class:"header"})}}getUIData(t){return this.uiData[t]}_getAllFields(t){let e=this._getFields();return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&(e=e.concat(this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames)),t&&this.editorModel.standardPrimaryMobileCols&&(e=e.concat(this.editorModel.standardPrimaryMobileCols)),[...new Set(e)]}_getFieldSetName(){if(this.editorModel&&this.editorModel.fieldSetNames)return this.editorModel.fieldSetNames.lineFieldNames}postDrop(t,e){var n=(0,A.GC)(t),i=(0,A.GC)(e);n&&"SF-STANDARD-TABLE"===n.tagName&&n._prepareUIData(),i&&"SF-STANDARD-TABLE"===i.tagName&&n!==i&&i._prepareUIData()}_getFieldsForTemplate(){return this.editorModel.deviceContext.isMobile?this.groupModel.editorModel.standardPrimaryMobileCols:this._getFields()}_onSortLinesByHeader(t){this.sortLines(this.groupModel.standardLines,t.detail.lineSortField,t.detail.order,this.settings.bundleKeptTogether,!0)}sortLines(t,e,n,i,o){let r;if(e&&this.settings.lineLookups&&this.settings.lineLookups[e]){let t=$e.Z.getRelationshipField(e,this.settings.lineLookups[e]).split(".");r=t[1],e=t[0]}this._hasNumberField()&&this._preserveNumberValues(t);let s=bn(t,e,n,i,r);o?(this.unfocus(),this.set("groupModel.standardLines",s.slice()),this._prepareUIData(),this._prepareTemplates(!1)):this.groupModel.standardLines=s,this._resizeIronList()}_resizeIronList(){this.editorModel.largeQuoteExperienceEnabled&&(0,Nt.T8)(this,(function(){this.shadowRoot.querySelector("iron-list")&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,o.FU)("iron-resize",void 0))}))}onRowsRenumbered(){this._prepareUIData(),this._resizeIronList()}_preserveNumberValues(t){t.forEach((t=>{let e=t.lineVO.record,n=e.Id||e[this.editorModel.constants.SOURCE_FIELD],i=this.editorModel.constants.NUMBER_FIELD;this.originalFieldValues[n]||(this.originalFieldValues[n]={}),this.originalFieldValues[n].hasOwnProperty(i)||(this.originalFieldValues[n][i]=e[i])}))}_hasNumberField(){return this._getFields().indexOf(this.editorModel.constants.NUMBER_FIELD)>-1}postLineSplice(){this._hasNumberField()&&this._preserveNumberValues(this.groupModel.standardLines),this._prepareTemplates(!1)}clearOriginalFieldValues(){this.originalFieldValues&&Object.keys(this.originalFieldValues).forEach((t=>{delete this.originalFieldValues[t]}))}getRowComponentName(){return"sf-le-table-row"}postBuildRowRefresh(){this.uiData&&(this._prepareUIData(),this._prepareTemplates(!0))}colWidthsChanged(t){this._isMobile()||(this._setColumnWidths(t),this._prepareTemplates(!1))}_toggleBundleLines(t){if(t.detail.key){let e=this.groupModel.standardLines.find((e=>e.lineVO.key===t.detail.key));e&&(this._innerToggleBundleLines(e,t.detail.expanded),this._resizeIronList())}else(0,N.gz)("BundleCollapsed","h"+this.groupModel.groupVO.key,!t.detail.expanded),this.groupModel.standardLines.forEach(((e,n)=>{e.isBundle&&this.set("groupModel.standardLines.".concat(n,".bundleCollapsed"),!t.detail.expanded)}))}_innerToggleBundleLines(t,e){let n=t&&t.isBundle;if(n){if(e&&t.bundleCollapsed)return;n.forEach((t=>{let n=this._getLineIndexFromKey(this.groupModel.standardLines,t.lineVO.key);this.set("groupModel.standardLines.".concat(n,".bundleVisible"),e),this._innerToggleBundleLines(t,e)}))}}_isLineVisible(t,e){return t&&e}_getHeaderUIData(t){if(i.I.isBundleCollapsible(this.editorModel)){const t=(0,N.U2)("BundleCollapsed","h"+this.groupModel.groupVO.key)||"Collapsed"===i.I.defaultBundleSetting?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT;return Object.assign({_caretContent:t},this.fieldLabelsMap)}return this.fieldLabelsMap}static get template(){return(0,Qt.dy)(_r||(_r=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style include="iron-positioning"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div id="tableContainer" device>\n\t\t\t\t<template\n\t\t\t\t\tis="dom-if"\n\t\t\t\t\tif="[[groupModel.hasVisibleStandardLines]]"\n\t\t\t\t>\n\t\t\t\t\t\x3c!--infinite scroll--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid="datatable"\n\t\t\t\t\t\t\ton-focusout="_onFocusOut"\n\t\t\t\t\t\t\ton-keydown="_onKeyDown"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class="theader">\n\t\t\t\t\t\t\t\t<sf-le-table-header\n\t\t\t\t\t\t\t\t\tid="header"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\ttemplate="[[headerTemplate]]"\n\t\t\t\t\t\t\t\t\tui-data="[[_getHeaderUIData(fieldLabelsMap)]]"\n\t\t\t\t\t\t\t\t\tline-models="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"\n\t\t\t\t\t\t\t\t></sf-le-table-header>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Setting min-height on the list container so that if vertical space decreases in LQE, the lines do not disappear --\x3e\n\t\t\t\t\t\t\t<div class="listContainer">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="list"\n\t\t\t\t\t\t\t\t\tclass="tbody fit vertical layout"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusDown"\n\t\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusDown"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t<iron-list\n\t\t\t\t\t\t\t\t\t\titems="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\t\tas="lineModel"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index, groupModel.standardLines.length)]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[_isLineVisible(lineModel.visible, lineModel.bundleVisible)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sf-le-table-row\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="row"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden$="{{lineModel.hidden}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toriginal-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.lineVO.expanded]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-le-drawer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="[[lineModel]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[drawerFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="drawerCell"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlight-on-focus="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-le-drawer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</iron-list>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\ttabindex$="[[tabIndex]]"\n\t\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusUp"\n\t\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusUp"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.summarized]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-le-summary-row\n\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\tsummaries="[[groupModel.summaries]]"\n\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t></sb-le-summary-row>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="subtotalContainer"\n\t\t\t\t\t\t\t\t\tclass="tfoot subtotal"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tid="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tid="subtotal"\n\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[!groupModel.editorModel.actionsOnTheLeft]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class="td lineActions"></div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[groupModel.standardLines.0.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class="td drawerIcon"></div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--regular table--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid="datatable"\n\t\t\t\t\t\t\tclass="datatable leTable"\n\t\t\t\t\t\t\ton-focusout="_onFocusOut"\n\t\t\t\t\t\t\ton-keydown="_onKeyDown"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid="droppableStandardRows"\n\t\t\t\t\t\t\t\tclass="tbody sb-droppable-standardRows"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\x3c!--header row--\x3e\n\t\t\t\t\t\t\t\t<sf-le-table-header\n\t\t\t\t\t\t\t\t\tid="header"\n\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\ttemplate="[[headerTemplate]]"\n\t\t\t\t\t\t\t\t\tui-data="[[fieldLabelsMap]]"\n\t\t\t\t\t\t\t\t\tline-models="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tfields="[[quoteLineFields]]"\n\t\t\t\t\t\t\t\t\tfield-set-name="[[_getFieldSetName()]]"\n\t\t\t\t\t\t\t\t></sf-le-table-header>\n\t\t\t\t\t\t\t\t\x3c!--table rows--\x3e\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusDown"\n\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusDown"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="{{groupModel.standardLines}}"\n\t\t\t\t\t\t\t\t\tas="lineModel"\n\t\t\t\t\t\t\t\t\tinitial-count="10"\n\t\t\t\t\t\t\t\t\ttarget-framerate="10"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\tif="[[lineModel.visible]]"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sf-le-table-row\n\t\t\t\t\t\t\t\t\t\t\tclass="row"\n\t\t\t\t\t\t\t\t\t\t\tui-data="[[getUIData(index, uiData)]]"\n\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\thidden$="{{lineModel.hidden}}"\n\t\t\t\t\t\t\t\t\t\t\tcolumn-widths="[[columnWidths]]"\n\t\t\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\tsecondary-row-template="[[secondaryRowTemplate]]"\n\t\t\t\t\t\t\t\t\t\t\toriginal-field-values="{{originalFieldValues}}"\n\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t></sf-le-table-row>\n\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.hasStandardLineItemDrawer]]"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[lineModel.lineVO.expanded]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="drawer">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-le-drawer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline-model="{{lineModel}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[drawerFieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem-class="drawerCell"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlight-on-focus="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-le-drawer>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\x3c!-- Summary Lines --\x3e\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.summarized]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-le-summary-row\n\t\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\t\tsummaries="[[groupModel.summaries]]"\n\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t></sb-le-summary-row>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ttabindex$="[[tabIndex]]"\n\t\t\t\t\t\t\t\t\ton-keyup="forwardFocusUp"\n\t\t\t\t\t\t\t\t\ton-keydown="forwardFocusUp"\n\t\t\t\t\t\t\t\t></div>\n\n\t\t\t\t\t\t\t\t\x3c!--subtotal--\x3e\n\t\t\t\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t\t\t\t<div class="tfoot subtotal">\n\t\t\t\t\t\t\t\t\t\t\x3c!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment--\x3e\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="subtotal"\n\t\t\t\t\t\t\t\t\t\t\tclass="td right"\n\t\t\t\t\t\t\t\t\t\t\tstyle$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),vr)}}var kr;customElements.define(Cr.is,Cr);const Sr=(0,zt.f)(kr||(kr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #tabContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #tabContainer.largeQuote sb-tabs {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n"])));var Or,Ir;class Er extends Qt.H3{static get is(){return"sb-group-tabs"}static get properties(){return{isGroupFieldPage:{type:Boolean,computed:"_setIsGroupFieldPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType)"},editorModel:{notify:!0,type:Object}}}static get observers(){return["buildPage(groupModel)"]}buildPage(){this.groupModel&&(this.pageType=this.attributes.label.value,this.pageComponent="sf-segmented-table",this.groupObjectName=this.groupModel.groupObjectName,this.groupModel.groupMDQTabs&&(this.tabs=this.groupModel.groupMDQTabs),this.hideTabs=!!this.tabs&&(1==this.tabs.length&&"Custom"!=this.tabs[0].key),this.containerClass||(this.containerClass=this.groupModel.editorModel.largeQuoteExperienceEnabled?"largeQuote":"",this.containerClass+=" sbGroupTabs"))}_setIsGroupFieldPage(t){return"details"===t}_setIsStandardLinesPage(t){return"standard"===t}_setIsSegmentedLinesPage(t){return"segmented"===t}static get template(){return(0,Qt.dy)(Or||(Or=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<template is="dom-if" if="[[isGroupFieldPage]]">\n\t\t\t<sb-field-set-table editor-model="[[editorModel]]"\n\t\t\t\t\t\t\t\tnum-columns="1"\n\t\t\t\t\t\t\t\tobject-name="[[groupObjectName]]"\n\t\t\t\t\t\t\t\tdata="{{groupModel.groupVO.record}}"\n\t\t\t\t\t\t\t\tmodel="{{groupModel}}"></sb-field-set-table>\n\t\t</template>\n\n\t\t<template is="dom-if" if="[[isStandardLinesPage]]">\n\t\t\t<sf-standard-table group-model="{{groupModel}}"></sf-standard-table>\n\t\t</template>\n\n        <template is="dom-if" if="[[isSegmentedLinesPage]]">\n            <div id="tabContainer" class$="[[containerClass]]">\n                <sb-tabs tabs="[[tabs]]"\n                         page-component="[[pageComponent]]"\n                         group-model="{{groupModel}}"\n                         content-container-class="[[containerClass]]"\n                         tab-container-class="[[containerClass]]"\n                         hide-tabs="[[hideTabs]]"></sb-tabs>\n            </div>\n        </template>\n\t    '])),Sr)}}customElements.define(Er.is,Er);const Tr=(0,zt.f)(Ir||(Ir=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host(.largeQuote) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host([class*='--desktop']) {\n  --paper-content-container-border-top: 1px solid #d8dde6;\n}\n:host([class*='--desktop']) {\n  --paper-content-container-border-top: 1px solid #d8dde6;\n}\n:host .sbGroup {\n  margin-top: 10px;\n  border: 1px solid #d0d0d0;\n  box-sizing: border-box;\n}\n:host .virtualGroup {\n  position: relative;\n}\n:host .group,\n:host .virtualGroup {\n  width: inherit;\n}\n:host .group:not(.hiddenGroup),\n:host .virtualGroup:not(.hiddenGroup) {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .group[class*='--mobile'],\n:host .virtualGroup[class*='--mobile'] {\n  overflow-x: hidden;\n}\n:host [class*='--mobile'] .group,\n:host [class*='--mobile'] .virtualGroup {\n  overflow-x: hidden;\n}\n:host .group #tabContainer.largeQuote,\n:host .virtualGroup #tabContainer.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .group #tabContainer.largeQuote sb-tabs,\n:host .virtualGroup #tabContainer.largeQuote sb-tabs {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host .sbGrouped {\n  background: var(--sbGroupHeaderBgColor);\n  padding-left: 10px;\n  color: #16325c;\n  font-family: inherit;\n  cursor: pointer;\n  margin: 10px 0 9px;\n}\n:host .sbGrouped[class*='--mobile'] {\n  margin: 0;\n  background-color: #fff;\n}\n:host [class*='--mobile'] .sbGrouped {\n  margin: 0;\n  background-color: #fff;\n}\n:host .sbGroupHeader {\n  height: 60px;\n}\n:host .groupNameInput {\n  display: inline-block;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  padding: 5px 15px 5px;\n  font-size: 15px;\n  color: #16325c;\n  border-width: 2px;\n  height: 32px;\n  vertical-align: middle;\n}\n:host .groupNameInput[class*='--mobile'] {\n  margin: 0 0 0 10px;\n  padding: 0;\n}\n:host [class*='--mobile'] .groupNameInput {\n  margin: 0 0 0 10px;\n  padding: 0;\n}\n:host #groupHeaderName {\n  font-size: var(--sbGroupHeaderFontSize);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n  vertical-align: middle;\n}\n:host #groupHeaderName[class*='--desktop'] {\n  margin: 5px 0;\n  padding: 7px;\n}\n:host [class*='--desktop'] #groupHeaderName {\n  margin: 5px 0;\n  padding: 7px;\n}\n:host #groupHeaderName[class*='--mobile'] {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n:host [class*='--mobile'] #groupHeaderName {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n:host .groupDescription {\n  white-space: normal;\n  padding-top: 5px;\n  color: #6b6d70;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);\n}\n:host .groupTotal {\n  text-align: right;\n  padding-right: 10px;\n}\n:host .group {\n  margin: 10px 15px 15px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbGroupBorderColor);\n  border-radius: 4px;\n  min-height: 146px;\n  display: inline-block;\n}\n:host .group[class*='--mobile'] {\n  display: block;\n  border-top: 1px solid #d8dee6;\n  border-bottom: 1px solid #d8dee6;\n  border-right: none;\n  border-left: none;\n  border-radius: none;\n  margin: 0;\n  min-height: 62px;\n  height: inherit;\n  overflow: inherit;\n}\n:host [class*='--mobile'] .group {\n  display: block;\n  border-top: 1px solid #d8dee6;\n  border-bottom: 1px solid #d8dee6;\n  border-right: none;\n  border-left: none;\n  border-radius: none;\n  margin: 0;\n  min-height: 62px;\n  height: inherit;\n  overflow: inherit;\n}\n:host .group > header {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  background-color: var(--sbGroupHeaderBgColor);\n  font-family: var(--sbGroupHeaderFontFamily);\n  font-size: var(--sbGroupHeaderFontSize);\n  color: var(--sbGroupHeaderFontColor);\n  font-weight: var(--sbGroupHeaderFontWeight);\n  font-style: var(--sbGroupHeaderFontStyle);\n  text-decoration: var(--sbGroupHeaderTextDecoration);\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);\n  border-bottom-style: solid;\n  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);\n}\n:host .group .emptyTableMessage {\n  padding: 15px;\n}\n:host .emptyTableMessage[class*='--mobile'] {\n  border-top: 1px solid #d8dee6;\n}\n:host [class*='--mobile'] .emptyTableMessage {\n  border-top: 1px solid #d8dee6;\n}\n:host .tableSectionHeader {\n  padding: 20px 0 0 15px;\n  font-weight: 300;\n}\n:host .tableSectionHeader.standard {\n  padding-top: 40px;\n}\n:host .sbGrouped .sf-icon-edit {\n  visibility: hidden;\n}\n:host .sbGrouped .sf-icon-edit[class*='--mobile'] {\n  visibility: visible;\n}\n:host [class*='--mobile'] .sbGrouped .sf-icon-edit {\n  visibility: visible;\n}\n:host .sbGrouped:hover .sf-icon-edit {\n  visibility: visible;\n}\n:host .desktopSubtotal {\n  display: block;\n  text-align: right;\n  margin: 10px 0;\n  padding-right: 24px;\n  text-transform: uppercase;\n  font-size: 16px;\n  font-weight: var(--sbGroupHeaderFontWeight);\n  color: var(--sbGroupHeaderFontColor);\n}\n:host .desktopSubtotal span {\n  display: inline-block;\n}\n:host .desktopSubtotal.largeQuote {\n  display: none;\n}\n:host .desktopSubtotal.right {\n  padding-right: 15px;\n}\n:host .desktopSubtotal[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .desktopSubtotal {\n  display: none;\n}\n:host .groupActionBtns {\n  position: relative;\n  float: right;\n  margin-right: 10px;\n  margin-top: 5px;\n}\n:host .loadingSpinner {\n  position: relative;\n  float: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n:host .groupActions {\n  position: absolute;\n  background-color: #ffffff;\n  z-index: 4;\n  border-radius: 4px;\n  border: 1px solid #d8dde6;\n  padding: 0px;\n  margin: 0px;\n  top: 35px;\n  right: 0;\n}\n:host .groupHeaderRight {\n  width: 50%;\n  padding: 0px 10px 0px 10px;\n  border-bottom: none !important;\n  white-space: normal;\n}\n:host .groupHeaderLeft {\n  width: 50%;\n  border-right: 2px solid #d8dde6;\n  border-bottom: none !important;\n}\n:host .groupHeaderLeft[class*='--mobile'] {\n  border-right: none;\n  width: 100%;\n}\n:host [class*='--mobile'] .groupHeaderLeft {\n  border-right: none;\n  width: 100%;\n}\n:host .groupHeaderLeft .container {\n  overflow: hidden;\n}\n:host .groupHeaderLeft h2 {\n  display: inline-block;\n}\n:host .groupHeaderLeft .sb-icon-star-empty,\n:host .groupHeaderLeft .sb-icon-star {\n  font-size: 20px;\n  float: left;\n  margin-top: 9px;\n}\n:host .groupHeaderLeft .sb-icon-star-empty:hover,\n:host .groupHeaderLeft .sb-icon-star:hover {\n  cursor: pointer;\n}\n:host .groupNameLeft {\n  display: inline-block;\n  float: left;\n}\n:host .groupFieldsContainer {\n  width: 100%;\n}\n:host .groupHeaderRight[class*='--mobile'],\n:host #addProducts[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .groupHeaderRight,\n:host [class*='--mobile'] #addProducts {\n  display: none;\n}\n:host #mobileAddProducts {\n  display: none;\n}\n:host #mobileAddProducts[class*='--mobile'] {\n  display: block;\n}\n:host [class*='--mobile'] #mobileAddProducts {\n  display: block;\n}\n:host #groupActionBtn[class*='--mobile'] {\n  border-left: 1px solid #d8dde6;\n  border-radius: 4px;\n}\n:host [class*='--mobile'] #groupActionBtn {\n  border-left: 1px solid #d8dde6;\n  border-radius: 4px;\n}\n:host header {\n  position: relative;\n}\n:host header[class*='--mobile'] {\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  background-color: #fff;\n  min-height: 62px;\n}\n:host [class*='--mobile'] header {\n  display: block;\n  margin: 0;\n  border: 0;\n  padding: 10px 15px 5px;\n  background-color: #fff;\n  min-height: 62px;\n}\n:host .subtotalInHeader {\n  display: none;\n}\n:host .subtotalInHeader.largeQuote {\n  display: block;\n  font-size: 16px;\n  font-weight: normal;\n  color: var(--sbGroupHeaderFontColor);\n}\n:host .subtotalInHeader.largeQuote > h4 {\n  font-size: 16px;\n}\n:host .subtotalInHeader[class*='--mobile'] {\n  display: block;\n  padding-left: 30px;\n  color: #16325c;\n}\n:host .subtotalInHeader .subtotalLabel[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .subtotalInHeader {\n  display: block;\n  padding-left: 30px;\n  color: #16325c;\n}\n:host [class*='--mobile'] .subtotalInHeader .subtotalLabel {\n  display: none;\n}\n:host #groupExpandIcon {\n  display: none;\n}\n:host #groupExpandIcon[class*='--mobile'] {\n  display: inline-block;\n}\n:host [class*='--mobile'] #groupExpandIcon {\n  display: inline-block;\n}\n:host .hidden {\n  display: none !important;\n}\n:host .hoverover {\n  background-color: #d8edff;\n  border: 1px solid #5eb4ff;\n}\n:host .mobileHidden[class*='--mobile'] {\n  display: none;\n}\n:host [class*='--mobile'] .mobileHidden {\n  display: none;\n}\n"])));var Mr;class Br extends((0,qt.J)((0,Lt.Q)((0,Ft.U)(Qt.H3)))){static get is(){return"sb-le-group"}static get properties(){return{groupModel:{type:Object,notify:!0,observer:"_groupModelChanged"},groupClass:{type:String},subtotal:Number,subtotalMd:Object,value:{notify:!0,observer:"_descriptionChanged"},descriptionMd:Object,groupLevelTabs:{type:Array,value:[]},isMobile:{type:Boolean,value:!1},editorModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return j._.getViewport()}},favorited:Boolean,i18n:{type:Object,value:function(){return i.I.properties.i18n.value()}}}}get events(){let t={};return t[o.zW.COL_WIDTHS_CHANGED]=this.colWidthsChanged,t[o.zW.RENDER_NEW_TAB]=this.renderNewTab,t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_groupRecordChanged(groupModel.groupVO.record.*)","_toggleGrouping(groupModel.groupVO)","_segmentedPrimaryMobileColsChanged(groupModel.editorModel.segmentedPrimaryMobileCols)","_linesChanged(groupModel.standardLines.splices)","_linesChanged(groupModel.segmentedLinesByDimension.*)","_createDragDropModel(editorModel)","_groupCustomActionsChanged(groupModel.editorModel.groupCustomActions)","_showSubtotal(groupModel.groupVO.record.*)","_updateColumnWidths(groupHasSegmentedProducts)"]}ready(){super.ready(),Object.entries({"cseDialog-tapped":"_handleCSEDialogTapped","segmented-changed":"_customSegmentedUpdated","upgrade-asset-quantity-changed":"_setUpgradeQuantity"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.groupExpanded=!1,this.showSpinner=!1}_updateColumnWidths(){!this.groupHasSegmentedProducts&&i.I.isColumnResizingEnabled&&(0,o.BX)(o.zW.MDQ_LINE_DELETED)}_createDragDropModel(){let t=new Set(["sb-droppable-mdqRows","sb-droppable-emptyTable","sb-droppable-emptyMDQTable","sb-droppable-emptyMDQSegmentTab","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.dragDrop=new ge(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",t,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}_groupModelChanged(){this.editorModel=this.groupModel.quoteModel.editorModel,this._updateTableProperties(),this._updatePageData(this._getTabs(this.groupModel)),this._setIsButton(),this.isMobile=!!this.viewport&&this.viewport.isMobile(),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.set("groupModel.groupExpanded",this.groupExpanded),this.buildGroupTabs()),this.viewport&&!this.viewport.isMobile()&&(this.set("groupModel.groupExpanded",!0),this._setTotalWidth()),this.containerClass=this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}_setIsButton(){this.isButton=!this.viewport||this.viewport.isDesktop()&&this.viewport.M.up}_setTotalWidth(){this.editorModel.layout&&!this.editorModel.deviceContext.isMobile&&(this.totalWidth=this.editorModel.layout.totalWidth+2+"px")}colWidthsChanged(){this._setTotalWidth()}_linesChanged(){this._updateTableProperties();const t=this._getTabs(this.groupModel);t.length!==this.tabs.length&&this._updatePageData(t)}_updateTableProperties(){this.groupHasStandardProducts=this.groupModel._groupHasStandardProducts(),this.groupHasSegmentedProducts=this.groupModel._groupHasSegmentedProducts(),this.groupedAndHasNoLineItems=this.groupModel.quoteModel.grouped&&!this._groupHasLineItems(),this.groupHasBothProducts=this._groupHasBothProducts(),this._showSubtotal(),this._setGroupDescription()}_segmentedPrimaryMobileColsChanged(){this._updatePageData(this._getTabs(this.groupModel))}_updatePageData(t){this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this.tabs=t,this.groupMDQTabs||(this.groupMDQTabs=t)}_getTabs(t){const e=[],n=t.dimensions;for(let i=0,o=n.length;i<o;i++){let o=n[i];if(t.hasVisibleSegmentedLines[o]){let n="t"+i,r={name:n,key:o,label:t.quoteModel.quoteVO.localizedDimensionNames[o],bind:["groupModel"]};"Custom"==o&&(r.iconId=n+"-"+t.groupKey,r.iconClass="sb-icon-pencil",r.iconEvent="cseDialog"),e.push(r)}}return e}_handleCSEDialogTapped(t){this.dispatchEvent((0,o.FU)("cse-tapped",{dialog:"cseDialog",groupModelKey:this.groupModel.groupKey}))}_groupHasBothProducts(){return this.groupModel._groupHasStandardProducts()&&this.groupModel._groupHasSegmentedProducts()}_groupHasLineItems(){return this.groupModel._groupHasStandardProducts()||this.groupModel._groupHasSegmentedProducts()}_groupRecordChanged(t){t.path=="groupModel.groupVO.record.".concat(this.editorModel.constants.OPTIONAL_FIELD)&&(0,o.BX)(o.zW.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:t.value,groupKey:this.groupModel.groupKey});let e=this.groupModel.groupVO.record;this.favorited=!(!e||!e[this.editorModel.constants.FAVORITE_ID_FIELD])}_setGroupDescription(){this.groupModel.groupVO.record&&(this.value=this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD],this.groupModel&&this.editorModel.md&&this.editorModel.constants&&this._getDescriptionMd(),this.value||(this.value=i.I.properties.i18n.value().l("Click to edit description")))}_descriptionChanged(){let t=i.I.properties.i18n.value().l("Click to edit description");this.value!==t&&(this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD]=this.value)}_getDescriptionMd(){let t=this.editorModel.md.fieldsMap[this.groupModel.groupObjectName];this.descriptionMd=t[this.editorModel.constants.DESCRIPTION_FIELD]}_getSegmentKeys(){return Object.keys(this.groupModel.segmentedLinesBySegmentKey)}triggerCustomAction(t){this.dispatchEvent((0,o.FU)("le-action-tapped",{customAction:{eventHandlerName:t.currentTarget.attributes.eventHandlerName.value},model:this.groupModel}))}showGroupNameEditor(t){this.isMobile||(t.stopPropagation(),(0,A.og)("hidden",!0,this.shadowRoot.querySelector("#groupHeaderName")),(0,A.og)("hidden",!1,this.shadowRoot.querySelector("#groupNameInput")),this.shadowRoot.querySelector("#groupNameInput").focus(),this.shadowRoot.querySelector("#groupNameInput").setSelectionRange(0,this.groupModel.groupVO.record.Name.length))}checkInputValue(t){t.stopPropagation(),""!=t.target.value&&this.set("groupModel.groupVO.record.Name",t.target.value),(0,A.og)("hidden",!1,this.shadowRoot.querySelector("#groupHeaderName")),(0,A.og)("hidden",!0,this.shadowRoot.querySelector("#groupNameInput"))}closeGroupNameEditor(t){t.stopPropagation(),"13"==t.keyCode&&this.shadowRoot.querySelector("#groupNameInput").blur()}_showSubtotal(){if(!this.groupModel.groupVO.record)return;let t=this.groupModel.quoteModel.editorModel.data.settings;this.groupModel.quoteModel.grouped&&"doNotDisplay"!=t.lineEditorGroupSubtotalsField&&(this.groupModel.segmentedLines.length>0&&this.groupModel._groupHasStandardProducts()||this.viewport&&this.viewport.isMobile()||this.groupModel.editorModel.largeQuoteExperienceEnabled)?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}_getSubtotal(){if(!this.groupModel.quoteModel.grouped)return;let t,e,n=this.groupModel.quoteModel.editorModel,i=n.data.settings,o=i.lineEditorGroupSubtotalsField;"Default"==o||null==o?(t=i.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:n.md.fieldsMap[i.developerPrefix+"QuoteLineGroup__c"][n.constants.NET_TOTAL_FIELD].scale,e=this.groupModel.groupVO.record[n.constants.NET_TOTAL_FIELD]||0):(t=i.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:n.md.fieldsMap[i.developerPrefix+"QuoteLineGroup__c"][o].scale,e=this.groupModel.groupVO.record[i.lineEditorGroupSubtotalsField]||0),this.subtotalMd||(this.subtotalMd={type:"currency",scale:t,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),this.subtotal=e}_toggleGrouping(){this.notifyPath("groupModel.quoteModel.grouped",this.groupModel.quoteModel.grouped),this.set("groupClass",this.groupModel.quoteModel.grouped?"group":"virtualGroup")}buildGroupTabs(){if(!this.editorModel)return;let t=[];this.editorModel.fieldsetMap.groupFieldNames.length>0&&this._groupHasLineItems()&&!this.editorModel.largeQuoteExperienceEnabled&&t.push("details"),this.groupModel._groupHasSegmentedProducts()&&t.push("segmented"),this.groupModel._groupHasStandardProducts()&&t.push("standard");let e=[];if(this.groupModel.groupMDQTabs=this.tabs,this._renderTabs(t)){this.shadowRoot.querySelector("#groupTabs")&&this.shadowRoot.querySelector("#groupTabs").destroyTabs();for(let n=0,i=t.length;n<i;n++){let i="t"+n,o=t[n];e.push({name:i,label:o})}this.groupLevelTabs=void 0,this.bind=["groupModel","editorModel"],this.groupMDQTabs=this.groupModel.groupMDQTabs,this.selectedTabIndex=0,this.hideTabs=1==e.length,this.groupLevelTabs=e}}_renderTabs(t){if(this.groupLevelTabs.length!==t.length)return!0;if(this.groupModel.groupMDQTabs&&this.groupMDQTabs.length!==this.groupModel.groupMDQTabs.length)return!0;for(let e=0,n=this.groupLevelTabs.length;e<n;e++)if(this.groupLevelTabs[e].label!==t[e])return!0;return!1}expandGroup(t){t.target.hasAttribute("triggersExpandGroup")&&this.isMobile&&!this.showSpinner&&(this.shadowRoot.querySelector("#mobileGroupTabs")||(this.showSpinner=!0),(0,Nt.T8)(this,(()=>{this.set("groupModel.groupExpanded",!this.groupModel.groupExpanded),this.groupExpanded=this.groupModel.groupExpanded,(0,Nt.T8)(this,(()=>{this.showSpinner=!1}))})))}viewportChanged(t){this.viewport=t.detail.viewport,this._setIsButton(),this.viewport&&this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}renderNewTab(t){t.detail.groupKey===this.groupModel.groupKey&&(this._updatePageData(this._getTabs(this.groupModel)),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&this.buildGroupTabs())}_setUpgradeQuantity(t){let e=t.detail.sourceIndex,n=t.detail.upgradeIndex,i=t.detail.sourceLineVO,o=t.detail.upgradeLineVO;this._setUpgradeQuantityDebouncer=Rt.dx.debounce(this._setUpgradeQuantityDebouncer,jt.Wc.after(10),(()=>{i.invalidQuantity?this._notifyQuantityChanged(e,n,i,!0):o.invalidQuantity?this._notifyQuantityChanged(n,e,o,!0):this._notifyQuantityChanged(e,n),i.invalidQuantity=null,o.invalidQuantity=null}))}_notifyQuantityChanged(t,e,n,i){let r,s;this.groupModel.standardLines[t].internalUpdate=!0,this.groupModel.standardLines[e].internalUpdate=!0,i&&(r=n.invalidQuantity,s=n.validQuantity,n.record[this.editorModel.constants.QUANTITY_FIELD]=n.invalidQuantity,this.notifyPath("groupModel.standardLines.".concat(t,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[t].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),n.record[this.editorModel.constants.QUANTITY_FIELD]=n.validQuantity),this.notifyPath("groupModel.standardLines.".concat(t,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[t].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[t].internalUpdate=!1,this.notifyPath("groupModel.standardLines.".concat(e,".lineVO.record.").concat(this.editorModel.constants.QUANTITY_FIELD),this.groupModel.standardLines[e].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[e].internalUpdate=!1,this.dispatchEvent((0,o.FU)("validate-quantity-changed",{invalidQuantity:r,validQuantity:s}))}addSegmentedLineToEmptyTable(t){let e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.hasVisibleSegmentedLines||(this.groupModel.hasVisibleSegmentedLines={}),this.groupModel.setDimensionProperties(n),this.groupModel.segmentedLines.push(t),this.groupModel.groupVO.multiSegmentColumns[n]=t.editorModel.data.quote.multiSegmentColumns[n],this.groupModel.groupVO.localizedMultiSegmentColumns[n]=t.editorModel.data.quote.localizedMultiSegmentColumns[n],this.groupModel.colWidth[n]=t.groupModel.colWidth[n],t.groupModel=this.groupModel,t.lineVO.parentGroupKey=this.groupModel.groupKey;for(let e=0,n=t.segments.length;e<n;e++)t.segments[e].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[e]=t,this.push("groupModel.segmentedLinesByDimension.".concat(n),t),this._updatePageData(this._getTabs(this.groupModel))}addSegmentedLineToExistingTab(t){let e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.segmentedLines.push(t),t.groupModel=this.groupModel,t.lineVO.parentGroupKey=this.groupModel.groupKey;for(let e=0,n=t.segments.length;e<n;e++)t.segments[e].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[e]=t,this.push("groupModel.segmentedLinesByDimension.".concat(n),t)}removeSegmentedLine(t){let e=t.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],n=this.groupModel.quoteVO.multiSegmentKeys?this.groupModel.quoteVO.multiSegmentKeys[e]:null;this.groupModel.segmentedLines.splice(this.groupModel.segmentedLines.indexOf(t),1),delete this.groupModel.segmentedLinesBySegmentKey[e],this.splice("groupModel.segmentedLinesByDimension.".concat(n),this.groupModel.segmentedLinesByDimension[n].indexOf(t),1),0===this.groupModel.segmentedLinesByDimension[n].length&&(this.groupModel.removeDimensionProperties(n),delete this.groupModel.groupVO.localizedMultiSegmentColumns[n],delete this.groupModel.groupVO.multiSegmentColumns[n],this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this._updatePageData(this._getTabs(this.groupModel)))}_onTrack(t){this.dragDrop._onTrack(t)}dragFunc(t){this.dragDrop.ghost=this.dragDrop.lineEditor.$.ghost,this.linesByParentKey=this.editorModel.quoteModel.linesByParentItemKey,this.indexByGroupKey=this.groupModel.quoteModel.indexByGroupKey,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,this.dragDrop.dragLineModel=[],this.dragDrop.dragGroupModel=t.lineModel.groupModel,this.dragDrop.dragKey=t.lineModel.lineVO.key,this.dragDrop.dragLineModel=t.lineModel,this.dragDrop.segment=(0,A.GC)(t).dimension,this.dragDrop.dragIndex=this.groupModel.segmentedLinesByDimension[this.dragDrop.segment].indexOf(t.lineModel),this.set("groupModel.segmentedLinesByDimension.".concat(this.dragDrop.segment,".").concat(this.dragDrop.dragIndex,".hidden"),!0)}trackFunc(t){let e=this.dragDrop;if(t=e._findTableRowValidTarget(t))switch("placeholder"===t.id&&(t="before"===t.getAttribute("ref")?t.previousElementSibling:t.nextElementSibling),e.targetClass){case"sb-droppable-mdqRows":if(e._updateMDQTableRowHoverOverObject(e.sourceElement,t),!e.hoverOver)return;e.targetHost=(0,A.GC)(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!1;break;case"sb-droppable-emptyTable":case"sb-droppable-sidePanelGroups":e.keepBundleTogether&&e.sourceElement.lineModel.hasParent?e.hoverOver=null:e.hoverOver={comp:t},e.usePlaceholder=!1,e.enableHighLight=!0}}dropFunc(t,e,n,i){this.dragDrop.dropKey=null,this.dragDrop.dropIndex=null,this.dragDrop.dropGroupModel=null;let r,s,a=this.dragDrop.segment,l=this.dragDrop.dragLineModel;if(this.set("groupModel.segmentedLinesByDimension.".concat(a,".").concat(this.dragDrop.dragIndex,".hidden"),!1),!e)return;const d=(0,A.GC)(t),c=(0,A.GC)(e);switch(t.lineModel.subscriptionScopeEditable&&(this.dragDrop.dragGroupModel._updateSegmentedSubscriptionScopeEditable(t.lineModel),d.fieldNames=d._getFields(),d._setColumnWidths()),n){case"sb-droppable-mdqRows":let t=e.lineModel.groupModel;r=(0,A.GC)((0,A.GC)(c)),s=c,this.dragDrop.dropGroupModel=t,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0);let n=t.segmentedLinesByDimension[a].indexOf(e.lineModel);i?n=n>=0?n:0:++n,l.groupModel=t,l.lineVO.parentGroupKey=t.groupKey,l.segments.forEach(function(e){e.lineVO.parentGroupKey=t.groupKey,e.groupModel=t}.bind(this)),this.removeSegmentedLine(this.dragDrop.dragLineModel);const o=l.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD];this.groupModel.segmentedLinesBySegmentKey[o]=l,this.groupModel.segmentedLines.splice(n,0,l),r.splice("groupModel.segmentedLinesByDimension.".concat(a),n,0,l);break;case"sb-droppable-emptyTable":case"emptyTableMessage":r=(0,A.GC)(e),s=void 0,this.dragDrop.dropGroupModel=r.groupModel,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),r.addSegmentedLineToEmptyTable(l);break;case"sb-droppable-sidePanelGroups":let d="Group"+e.getAttribute("id");r=this.dragDrop._findParentCustomElement(e,"groupContainer","id").querySelector("#".concat(d)),s=void 0,this.dragDrop.dropGroupModel=r.groupModel,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),this.dragDrop.dropGroupModel.dimensions.includes(this.dragDrop.segment)?r.addSegmentedLineToExistingTab(l):r.addSegmentedLineToEmptyTable(l)}if("sb-droppable-mdqRows"===n){let t=r.groupModel.segmentedLinesByDimension[a];c.notifyPath("groupModel.segmentedLinesByDimension.".concat(a),t.slice()),c.notifyPath("lineModels",t.slice())}this.dispatchEvent((0,o.FU)("renumber-lines",void 0)),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),d&&"SF-SEGMENTED-TABLE"===d.tagName&&d._prepareUIData(),c&&"SF-SEGMENTED-TABLE"===c.tagName&&d!==c&&c._prepareUIData()}_groupCustomActionsChanged(t){let e=t?t.length:0;for(let t=0;t<e;t++)this.notifyPath("editorModel.groupCustomActions.".concat(t,".children"))}static get template(){return(0,Qt.dy)(Mr||(Mr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div device class$="[[groupClass]]" style$="width:[[totalWidth]]">\n\t\t\t\t<template is="dom-if" if="[[groupModel.quoteModel.grouped]]">\n\t\t\t\t\t<header on-click="expandGroup" triggersExpandGroup>\n\t\t\t\t\t\t<div class="groupFieldsContainer datatable">\n\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t<div class="groupHeaderLeft td">\n\t\t\t\t\t\t\t\t\t<div class="container" triggersExpandGroup>\n\t\t\t\t\t\t\t\t\t\t<div class="groupNameLeft">\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[favorited]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="unfavoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sb-icon-star"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton-click="triggerCustomAction"\n\t\t\t\t\t\t\t\t\t\t\t\t\teventHandlerName="onRemoveFromFavorites"\n\t\t\t\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor="unfavoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfit-to-visible-bounds="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Remove From\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFavorites</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t></paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\tif="[[!favorited]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="favoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sb-icon-star-empty"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton-click="triggerCustomAction"\n\t\t\t\t\t\t\t\t\t\t\t\t\teventHandlerName="onAddToFavorites"\n\t\t\t\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor="favoriteBtn"\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition="bottom"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation-delay="0"\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset="10"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfit-to-visible-bounds="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Add To\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFavorite</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t></paper-tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\t\t\t\t\tid="groupHeaderName"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="sbGrouped"\n\t\t\t\t\t\t\t\t\t\t\t\ton-click="showGroupNameEditor"\n\t\t\t\t\t\t\t\t\t\t\t\ttriggersExpandGroup\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{groupModel.groupVO.record.Name}}\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="sf-icon-edit"\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden$="[[isMobile]]"\n\t\t\t\t\t\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{{groupModel.groupVO.record.Name}}"\n\t\t\t\t\t\t\t\t\t\t\t\tid="groupNameInput"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="groupNameInput hidden"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\ton-blur="checkInputValue"\n\t\t\t\t\t\t\t\t\t\t\t\ton-keydown="closeGroupNameEditor"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div class$="subtotalInHeader [[containerClass]]">\n\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[showSubtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="subtotalLabel"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>Subtotal</sb-i18n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>:</span\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="subtotal">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tid="groupActions"\n\t\t\t\t\t\t\t\t\t\t\tclass="buttons groupActionBtns"\n\t\t\t\t\t\t\t\t\t\t\thidden$="[[!groupModel.groupExpanded]]"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\titems="[[editorModel.groupCustomActions]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<sb-custom-action\n\t\t\t\t\t\t\t\t\t\t\t\t\tname$="[[item.name]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustom-action="[[item]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel="[[groupModel]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbutton="[[isButton]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup-action="[[groupModel.quoteModel.grouped]]"\n\t\t\t\t\t\t\t\t\t\t\t\t></sb-custom-action>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\x3c!-- Toggling the display property (show) stops the animation in Safari and IOS. Toggling the visibility property (invisibility) does not --\x3e\n\t\t\t\t\t\t\t\t\t\t<sf-loading-spinner\n\t\t\t\t\t\t\t\t\t\t\tclass="loadingSpinner"\n\t\t\t\t\t\t\t\t\t\t\tshow="truthy"\n\t\t\t\t\t\t\t\t\t\t\tinvisible$="[[!showSpinner]]"\n\t\t\t\t\t\t\t\t\t\t\tposition="relative"\n\t\t\t\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t\t\t></sf-loading-spinner>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\x3c!--desktop group description--\x3e\n\t\t\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t\t\t<div class="groupDescription">\n\t\t\t\t\t\t\t\t\t\t\t<sb-field\n\t\t\t\t\t\t\t\t\t\t\t\tclass="rte"\n\t\t\t\t\t\t\t\t\t\t\t\tproperty="[[editorModel.constants.DESCRIPTION_FIELD]]"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{{value}}"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[descriptionMd]]"\n\t\t\t\t\t\t\t\t\t\t\t\tediting="true"\n\t\t\t\t\t\t\t\t\t\t\t\trender-read-only="true"\n\t\t\t\t\t\t\t\t\t\t\t></sb-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="groupHeaderRight td">\n\t\t\t\t\t\t\t\t\t<sb-field-set-table\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\tobject-name="[[groupModel.groupObjectName]]"\n\t\t\t\t\t\t\t\t\t\tdata="{{groupModel.groupVO.record}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{groupModel}}"\n\t\t\t\t\t\t\t\t\t></sb-field-set-table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--Tabs for Mobile Group--\x3e\n\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[groupModel.groupExpanded]]">\n\t\t\t\t\t\t<div id="mobileGroupTabs">\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[groupedAndHasNoLineItems]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid="emptyLinesMsg"\n\t\t\t\t\t\t\t\t\tclass="emptyTableMessage"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="mobileEmptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button to add a\n\t\t\t\t\t\t\t\t\t\tproduct.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\tif="[[!groupedAndHasNoLineItems]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\t\tid="groupTabs"\n\t\t\t\t\t\t\t\t\ttabs="[[groupLevelTabs]]"\n\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\t\tpage-component="sb-group-tabs"\n\t\t\t\t\t\t\t\t\tbind="[[bind]]"\n\t\t\t\t\t\t\t\t\thide-tabs="[[hideTabs]]"\n\t\t\t\t\t\t\t\t\tselected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\t\tsecondary-tabs\n\t\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\n\t\t\t\t\x3c!--Desktop Groups--\x3e\n\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t<template is="dom-if" if="[[groupedAndHasNoLineItems]]">\n\t\t\t\t\t\t<div class="sb-droppable-emptyTable">\n\t\t\t\t\t\t\t<div class="emptyTableMessage">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="emptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button or drag lines from\n\t\t\t\t\t\t\t\t\t\tother groups.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<sb-i18n key="mobileEmptyLinesMsg"\n\t\t\t\t\t\t\t\t\t\t>This group has no line items. Click on\n\t\t\t\t\t\t\t\t\t\tAdd Products button to add a\n\t\t\t\t\t\t\t\t\t\tproduct.</sb-i18n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--use tabs if large quote experience is enabled--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div id="tabContainer" class$="[[containerClass]]">\n\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\tid="groupTabs"\n\t\t\t\t\t\t\t\ttabs="[[groupLevelTabs]]"\n\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\tpage-component="sb-group-tabs"\n\t\t\t\t\t\t\t\tbind="[[bind]]"\n\t\t\t\t\t\t\t\thide-tabs="[[hideTabs]]"\n\t\t\t\t\t\t\t\tcontent-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\ttab-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\tselected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t\t\tsecondary-tabs\n\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--regular tables--\x3e\n\t\t\t\t\t<template\n\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\tif="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t\x3c!-- Segmented Products Section --\x3e\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[groupHasSegmentedProducts]]"\n\t\t\t\t\t\t\trestamp\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\tclass="segmented tableSectionHeader"\n\t\t\t\t\t\t\t\thidden$="[[!groupHasBothProducts]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-i18n>Segmented Products</sb-i18n>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div id="tabContainer" class$="[[containerClass]]">\n\t\t\t\t\t\t\t\t<sb-tabs\n\t\t\t\t\t\t\t\t\tid="leGroupTabs"\n\t\t\t\t\t\t\t\t\ttabs="{{tabs}}"\n\t\t\t\t\t\t\t\t\tpage-component="sf-segmented-table"\n\t\t\t\t\t\t\t\t\tcontent-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\t\ttab-container-class="[[containerClass]]"\n\t\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t\t></sb-tabs>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\x3c!-- Standard Products Section --\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[groupHasStandardProducts]]" restamp>\n\t\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\t\tclass="standard tableSectionHeader"\n\t\t\t\t\t\t\t\thidden$="[[!groupHasBothProducts]]"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<sb-i18n>Standard Products</sb-i18n>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<sf-standard-table\n\t\t\t\t\t\t\t\tid="standardLines"\n\t\t\t\t\t\t\t\tgroup-model="{{groupModel}}"\n\t\t\t\t\t\t\t></sf-standard-table>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t\x3c!--Subtotal--\x3e\n\t\t\t\t\t<template is="dom-if" if="[[showSubtotal]]">\n\t\t\t\t\t\t<h4 class$="desktopSubtotal [[containerClass]]">\n\t\t\t\t\t\t\t<span class="subtotal"\n\t\t\t\t\t\t\t\t>[[groupModel.groupVO.record.Name]]\n\t\t\t\t\t\t\t\t<sb-i18n>Subtotal</sb-i18n>:</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t><sb-field\n\t\t\t\t\t\t\t\t\tid="desktopSubtotal"\n\t\t\t\t\t\t\t\t\tproperty="currency"\n\t\t\t\t\t\t\t\t\tvalue="[[subtotal]]"\n\t\t\t\t\t\t\t\t\tmd="[[subtotalMd]]"\n\t\t\t\t\t\t\t\t></sb-field\n\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'])),Tr)}}customElements.define(Br.is,Br);var Pr=n(834),Dr=(n(8383),n(354));class Ar{constructor(t,e,n,i,o,r,s,a,l,d,c,u){let h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.parentElWidth=t,this.md=n,this.columns=e,this.actionsOnTheLeft=i,this.hasSelection=o,this.hasStandardDrawer=r,this.columnMetadata=s,this.columnConstants=a,this.isColumnResizingEnabled=l,this.fieldsetName=d,this.newColumnMdSizesMap=c,this.dimensionType=u,this.isResetAction=h}build(){this.layout={},this.availableWidth=this._getAvailableWidth(),this.totalColsWidth=0;let t=0,e=150,n=this.columns.length,i=this.availableWidth/n,o=[],r=this._buildLayoutWithColumnSizing(A.Zr.deepClone(this.columns));if(n===r.length){for(let s=0;s<n;s++){let n=r[s],a=e,l=new Dr.dr(this.md[n],0).getImageWidth(25);l>e?(a=l,o.push(n)):i>e&&(a=Math.ceil(i*this._getMultiplier(n))),this.layout[n]=a,t+=a}if(this.totalColsWidth+=t,i>e){let e=t-this.availableWidth,i=n-o.length,s=0;this.totalColsWidth=0;for(let t=0;t<n;t++){let a=r[t],l=-1!==o.indexOf(a)?this.layout[a]:Math.ceil(this.layout[a]-e/i);s+=l,t==n-1&&(l-=s-this.availableWidth),this.layout[a]=l,this.totalColsWidth+=l}}}return this.layout}_buildLayoutWithColumnSizing(t){if(this.isColumnResizingEnabled&&!this.isResetAction){let e={};const n=150;this.columnMetadata&&this.columnMetadata.length>0&&null==this.newColumnMdSizesMap?this.columnMetadata.forEach((t=>{t[this.columnConstants.FieldSetMasterDetail][this.columnConstants.FieldSet]===this.fieldsetName&&(e[t[this.columnConstants.FieldName]]=t[this.columnConstants.FieldColumnSize])})):null!=this.newColumnMdSizesMap&&this.newColumnMdSizesMap[this.dimensionType]&&(e=A.Zr.deepClone(this.newColumnMdSizesMap[this.dimensionType])),Object.keys(e).length>0&&(t.forEach((t=>{e[t]?(this.layout[t]=e[t],this.totalColsWidth+=e[t]):(this.layout[t]=n,this.totalColsWidth+=n)})),t=t.filter((t=>!e[t])))}return t}_getAvailableWidth(){return this.parentElWidth-this._getStaticColsWidth()-12}getTotalWidth(){return this.totalColsWidth+this._getStaticColsWidth()+10}_getStaticColsWidth(){let t=135;return this.hasSelection&&(t+=30),this.hasStandardDrawer&&(t+=40),t}getLeftOffset(){let t=40;return this.actionsOnTheLeft&&(t+=95),this.hasSelection&&(t+=30),t}_getMultiplier(t){switch((this.md[t]?this.md[t].type:"currency").toUpperCase()){case"STRING":return 1.5;case"BOOLEAN":return 1;case"DATE":return 1.3;case"DOUBLE":case"CURRENCY":case"PERCENT":case"NUMBER":case"REFERENCE":case"TEXTAREA":default:return 1.6;case"PICKLIST":case"MULTIPICKLIST":return 1.4}}}const Lr="columnSizeSaved",Fr="columnSizeReset";function qr(){(0,N.gz)("TestOnlyStates",[Fr],!1),(0,N.gz)("TestOnlyStates",[Lr],!1)}function Nr(t,e,n,i,r){return t.then((t=>{if((0,N.gz)("TestOnlyStates",r,!0),t.isSuccessful){const t=new Dt;t.log(null,i,{field:t.maskCustomerData(n)})}else(0,o.BX)(o.zW.COL_SIZE_ERR,{errorMessage:t.errorMessage})}),(t=>{(0,N.gz)("TestOnlyStates",r,!0),(0,o.BX)(o.zW.COL_SIZE_ERR,{errorMessage:t})}))}var Rr;const jr=(0,zt.f)(Rr||(Rr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  height: inherit;\n  display: flex;\n  flex-direction: column;\n}\n:host #groupContainer {\n  height: inherit;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n:host #groupContainer #groups sb-le-group.largeQuote {\n  height: inherit;\n}\n:host #mainPanel {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  overflow-y: auto;\n  will-change: transform;\n}\n:host #mainPanel[class*='--mobile'] {\n  overflow-x: hidden;\n}\n:host [class*='--mobile'] #mainPanel {\n  overflow-x: hidden;\n}\n:host #mainPanel #groups.largeQuote {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n:host #mainPanel #groups.largeQuote .hiddenGroup {\n  display: none;\n}\n:host #drawerPanel {\n  z-index: 9999;\n  position: absolute;\n  width: 256px;\n  height: 100%;\n  top: 0;\n  left: -256px;\n  bottom: 0;\n  background-color: #fff;\n}\n:host #drawerPanel.open {\n  width: 280px;\n}\n:host #drawerPanel[class*='--mobile'] {\n  border-right: 1px solid #d8dde6;\n  left: 0px;\n  display: none;\n}\n:host [class*='--mobile'] #drawerPanel {\n  border-right: 1px solid #d8dde6;\n  left: 0px;\n  display: none;\n}\n:host .nav-item {\n  background-color: var(--sbNavigationDrawerRowColor);\n  border-bottom: 1px solid #d8dde6;\n  padding: 15px;\n  text-transform: uppercase;\n}\n:host .nav-item:hover {\n  cursor: pointer;\n  background-color: var(--sbNavigationDrawerRowHoverColor);\n}\n:host .hoverover {\n  cursor: copy;\n  background-color: #0070d2;\n}\n:host .selected-tab {\n  background-color: var(--sbNavigationDrawerRowSelectedColor);\n}\n:host #placeholder {\n  background-color: #d8dde6;\n  cursor: copy;\n}\n:host .droppableTopBorder {\n  border-top: 4.5px solid #005fb2;\n}\n:host .droppableBottomBorder {\n  border-bottom: 4.5px solid #005fb2;\n}\n:host .loadingSpinner {\n  float: right;\n  margin: 9px;\n}\n"])));var zr,Hr=n(4799);const Ur="Standard";class Vr extends((0,qt.J)((0,Lt.Q)((0,Ft.U)((0,ke._)(Qt.H3))))){static get is(){return"sb-le-group-layout"}static get properties(){return{addedIndex:Number,addedKey:Number,dragDrop:Object,drawerState:String,editorModel:Object,fieldSetName:String,groupModels:{type:Array,notify:!0,observer:"_modelChanged"},lastSelectedGroup:Object,layoutLeft:{type:String,value:"24px"},layoutLink:String,layoutWidth:Number,noHeader:{type:Boolean,value:!1},observersAttached:Boolean,rightSideButton:Boolean,selectedGroupKey:{type:Number,notify:!0},tableLayoutBuilder:Object}}get events(){let t={};return t[o.zW.TOGGLE_PANEL_CLICKED]=this.toggle,t[o.zW.CLOSE_GROUP_PANEL]=this.closePanel,t[o.zW.GROUP_PANEL_CREATED]=this.groupPanelCreated,t[o.zW.BUILD_LAYOUT]=this.buildLayout,t[o.zW.GROUP_ADDED]=this.groupAdded,t[o.zW.GROUP_DELETED]=this.groupDeleted,t[o.zW.PAGE_RESIZED]=this.pageResized,t[o.zW.RESET_COL_SIZES]=this.resetToDefault,t[o.zW.MDQ_LINE_DELETED]=this.resizeColumnsOnLineItemDelete,t}static get observers(){return["_groupModelsAreChangedObserver(editorModel, groupModels, rightSideButton)","_spliceObserver(groupModels.splices)","_createDragDropModel(groupModels)"]}ready(){super.ready(),Object.entries({"side-toggle-clicked":"toggle","sf-col-size-adjusted":"sizeAdjusted","sf-reset-col-sizes":"resetToDefault"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),(0,Nt.T8)(this,(function(){this._resize=function(){this._resizeDebouncer=Rt.dx.debounce(this._resizeDebouncer,jt.Wc.after(200),(()=>{this.buildLayout(),(0,Nt.T8)(this,(()=>{(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout,groupKey:this.selectedGroupKey})}))}))}.bind(this),window.addEventListener("resize",this._resize)}))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._resize)}isMobile(){return this.editorModel.deviceContext.isMobile}_spliceObserver(t){t&&0!=t.indexSplices[0].addedCount&&(this.addedIndex=t.indexSplices[0].index,this.addedKey=t.indexSplices[0].object[this.addedIndex].groupVO.key,this.observersAttached||this._attachObservers())}sizeAdjusted(t){if(t.detail&&t.detail.field&&t.detail.fieldsWidth&&t.detail.fieldSet){const e=t.detail.fieldSet,n=t.detail.field,r=t.detail.dimension?t.detail.dimension:Ur;if(this.editorModel&&this.editorModel.quoteModel&&this.editorModel.quoteModel.lineGroups){this.editorModel.quoteModel.lineGroups.forEach((e=>{e.colWidth&&e.colWidth[r]&&e.colWidth[r][n]&&(e.colWidth[r][n]=t.detail.fieldsWidth,(0,N.gz)("columnSizes",[],e.colWidth))}));!function(t,e){qr(),Nr((new ct.S).save(i.I.org.prefix,"ColumnSizingServiceProvider.SaveColumnSizes",t),0,e,Mt,[Lr])}({fieldSetName:e,columnSizes:(0,N.U2)("columnSizes")[r],shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE},t.detail.field),this.buildLayout(),(0,Nt.T8)(this,(()=>{(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))}}}resetToDefault(t){if(this.editorModel&&this.editorModel.layout&&t.detail&&t.detail.fieldSet){(0,N.IV)("columnSizes");let e=ut.C.get("LineEditor",this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15));e&&e.columnMetadata&&(e.columnMetadata=[]),this.editorModel.columnMetadata=[];!function(t){qr(),Nr((new ct.S).save(i.I.org.prefix,"ColumnSizingServiceProvider.ResetColumnSizes",t),0,"",Bt,[Fr])}({fieldSetName:t.detail.fieldSet,shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE}),this.buildLayout(null,!0),(0,Nt.T8)(this,(()=>{(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))}}getGroupClass(t){if(!this.editorModel)return;let e="";return this.selectedGroupKey!=t&&(e+="hiddenGroup"),this.editorModel.largeQuoteExperienceEnabled&&(e+=" largeQuote"),e}getContainerClass(){return this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}toggle(){"open"==this.drawerState?this.closePanel():this.openPanel(),(0,Nt.T8)(this,(()=>{(0,o.BX)(o.zW.GROUP_PANEL_TOGGLED,{drawerState:this.drawerState,groupKey:this.selectedGroupKey})}))}openPanel(){this.isMobile()?this.$.drawerPanel.style.display="block":(this.$.drawerPanel.style.left="0px",this.$.mainPanel.style.paddingLeft="280px"),this.drawerState="open"}closePanel(){this.isMobile()?this.$.drawerPanel.style.display="none":this.$.drawerPanel.style.left="-256px",this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px",this.drawerState="closed"}groupPanelCreated(){this.isMobile()||(this._resizeDebouncer=Rt.dx.debounce(this._resizeDebouncer,jt.Wc.after(50),(()=>{this.buildLayout(),(0,Nt.T8)(this,(()=>{(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))})))}groupAdded(t){this.navTo(t)}groupDeleted(t){this.navTo(t)}pageResized(t){t.detail.isFullScreenToggleEvent&&(this.buildLayout(),(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout,groupKey:this.selectedGroupKey}))}resizeColumnsOnLineItemDelete(){this.buildLayout(),(0,o.BX)(o.zW.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}_hasSegmentedProduct(t){return void 0!==t.find((t=>t._groupHasSegmentedProducts()))}_groupModelsAreChangedObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._groupModelsAreChanged(t,e,n)}_groupModelsAreChanged(){this.drawerState?"closed"==this.drawerState&&(this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px"):this.closePanel(),this.buildLayout(),(0,Nt.T8)(this,(()=>{this.observersAttached||this._attachObservers()}))}_getGroupsLabel(){return Hr.o.localize("lbl_groups")}buildLayout(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isMobile())return;let n=t?t.detail.group:null,o={},r=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],s=this.editorModel.actionsOnTheLeft,a=this.editorModel.data.settings.multiLineDeleteEnabled,l=this.editorModel.quoteModel.quoteVO.lineItems.length>0,d=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0,c=this.editorModel.columnMetadata,u=this.editorModel.constants.COLUMN_METADATA,h=i.I.isColumnResizingEnabled;o.totalWidth=l?this._getMaxTableWidth(this._getAvailableWidth(),r,s,a,d,c,u,h,e):this._getAvailableWidth(),n?n.colWidth=this._calculateGroupWidth(o,r,s,a,n,d,c,u,h,e):(this.editorModel.quoteModel.lineGroups.forEach((t=>{t.colWidth=this._calculateGroupWidth(o,r,s,a,t,d,c,u,h,e)})),this.set("editorModel.layout",o))}_getAvailableWidth(){let t=document.getElementById("sbPageContainer");if(!t)return;const e=t.shadowRoot.querySelector("sb-line-editor");if(!t||!e)return;let n=e.clientWidth;return this.editorModel.quoteModel.grouped&&(n-=32,this.editorModel.quoteModel.lineGroups.length>1&&(n-=24,this.drawerState&&"open"==this.drawerState&&(n-=256))),n}_getMaxTableWidth(t,e,n,i,o,r,s,a,l){const d=(0,N.U2)("columnSizes");this.tableLayoutBuilder=new Ar(t,this._getQuoteStandardFields(),e,n,i,o,r,s,a,this.fieldSetName,d,Ur,l),this.tableLayoutBuilder.build();let c=this.tableLayoutBuilder.getTotalWidth();const u=this._hasSegmentedProduct(this.groupModels)?this.editorModel.quoteModel.quoteVO.multiSegmentColumns:[];let h=this._getQuoteSegmentedFields();for(let p in u){if(!u.hasOwnProperty(p))continue;let f=h.concat(u[p]).concat("total");this.tableLayoutBuilder=new Ar(t,f,e,n,i,o,r,s,a,this.fieldSetName,d,p,l),this.tableLayoutBuilder.build();let b=this.tableLayoutBuilder.getTotalWidth();b>c&&(c=b)}return c}_calculateGroupWidth(t,e,n,i,o,r,s,a,l,d){const c=(0,N.U2)("columnSizes");let u=o.groupKey,h=o.quoteModel.grouped?o.groupVO.multiSegmentColumns:o.quoteModel.quoteVO.multiSegmentColumns,p={};this._hasSegmentedProduct(this.groupModels)||(h=[]),this.tableLayoutBuilder=new Ar(t.totalWidth,this._getGroupStandardFields(u),e,n,i,r,s,a,l,this.fieldSetName,c,Ur,d),t.leftOffset=this.tableLayoutBuilder.getLeftOffset(),p.Standard=this.tableLayoutBuilder.build(),this._updateMaxWidth(t,this.tableLayoutBuilder.getTotalWidth());for(let r in h)h.hasOwnProperty(r)&&(this.tableLayoutBuilder=new Ar(t.totalWidth,this._getSegmentedFieldNames(o,h[r]),e,n,i,!1,s,a,l,this.fieldSetName,c,r,d),p[r]=this.tableLayoutBuilder.build(),this._updateMaxWidth(t,this.tableLayoutBuilder.getTotalWidth()));return p}_updateMaxWidth(t,e){e>t.totalWidth&&(t.totalWidth=e)}_getQuoteStandardFields(){let t=!1,e=this.editorModel.quoteModel.lineGroups;for(var n=0,i=e.length;n<i;n++)if(e[n].standardSubscriptionScopeEditable){t=!0;break}return this._getStandardFields(t)}_getGroupStandardFields(t){let e=this.editorModel.quoteModel.groupsByKey[t];return this._getStandardFields(e.standardSubscriptionScopeEditable)}_getStandardFields(t){let e="lineFieldNames";this._updateFieldSetName(e);let n=this.editorModel.fieldsetMap[e];return t&&(n=[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(n)),n}_getQuoteSegmentedFields(){let t=!1,e=this.editorModel.quoteModel.lineGroups,n="multiSegmentLineSummaryFieldNames";for(var i=0,o=e.length;i<o;i++)if(e[i].segmentedSubscriptionScopeEditable){t=!0;break}this._updateFieldSetName(n);let r=this.editorModel.data[n];return t?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(r):r}_getSegmentedFieldNames(t,e){let n="multiSegmentLineSummaryFieldNames";this._updateFieldSetName(n);let i=this.editorModel.data[n],o=t.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(i):i.slice();for(let t=0,n=e.length;t<n;t++)o.push(e[t].replace(/\W/g,""));return o.push("total"),o}_updateFieldSetName(t){this.editorModel.fieldSetNames&&this.editorModel.fieldSetNames[t]?this.fieldSetName=this.editorModel.fieldSetNames[t]:this.fieldSetName=null}_attachObservers(){(this.rightSideButton||this.isMobile())&&(this.observersAttached=!0,this._observeNodes=new Pr.o(this.shadowRoot.querySelector("#groups"),function(t){let e=t.addedNodes.filter(function(t){return"SB-LE-GROUP"===t.nodeName&&t.groupModel.groupVO.key==this.addedKey}.bind(this)),n=t.removedNodes.filter((function(t){return"SB-LE-GROUP"===t.nodeName}));e[0]!==n[0]&&(this.processNewGroups(e),this.processRemovedGroups(n))}.bind(this)))}processNewGroups(t){if(this.addedKey&&t.length>0){let t=this.addedKey;this.isMobile()&&this.closePanel(),this.toggleSelectedAndScroll(t),this._observeNodes.disconnect(),this.observersAttached=!1,this.addedKey=null}}processRemovedGroups(t){this.lastSelectedGroup&&1==t.length&&((0,A.og)("selected-tab",!1,this.lastSelectedGroup),this.lastSelectedGroup=void 0,this._observeNodes.disconnect(),this.observersAttached=!1)}toggleSelectedAndScroll(t){let e=this.shadowRoot.querySelector("#_"+t);this.lastSelectedGroup&&(0,A.og)("selected-tab",!1,this.lastSelectedGroup),"open"==this.drawerState&&((0,A.og)("selected-tab",!0,e),this.lastSelectedGroup=e),this.shadowRoot.querySelector("#Group_"+t)&&(this._scrollIntoView(this.shadowRoot.querySelector("#Group_"+t)),this.shadowRoot.querySelector("#_"+t).scrollIntoView(!1))}_scrollIntoView(t){this.shadowRoot.querySelector("#mainPanel").scrollTop=this.isMobile()?t.offsetTop:t.offsetTop-15}navTo(t){if(t.stopPropagation(),this.isMobile()){var e=t.target.querySelector(".loadingSpinner");e.toggleClass("invisible",!1)}const n=t.composedPath();(0,Nt.T8)(this,(()=>{let i=n&&n[0]?n[0].id:t.path[0].id,r=t.detail.groupKey||i.split("_")[1];if(this.toggleSelectedAndScroll(r),this.editorModel.largeQuoteExperienceEnabled){let t=this.selectedGroupKey,e=parseInt(r);this.set("selectedGroupKey",e),e!=t&&(0,o.BX)(o.zW.GROUP_TOGGLED,{groupKey:this.selectedGroupKey})}this.isMobile()&&((0,Nt.T8)(this,(()=>{e.toggleClass("invisible",!0)})),this.toggle())}))}_modelChanged(){(0,V.RM)(this,"groupModels")}_createDragDropModel(){if(!this.editorModel||this.isMobile()||this.editorModel.largeQuoteExperienceEnabled)return;let t=new Set(["sb-droppable-sidePanelGroups"]);this.dragDrop=new ge(this,this.editorModel.data.settings.bundleKeptTogether,"div",t,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}onTrack(t){this.isMobile()||this.editorModel.largeQuoteExperienceEnabled||this.dragDrop._onTrack(t)}dragFunc(t){let e=this.dragDrop;e.ghost=this.dragDrop.lineEditor.$.ghost,e.dragIndex=t.dataIndex,e.dragGroupModel=this.groupModels[e.dragIndex],t.style.display="none"}trackFunc(t){let e=this.dragDrop;(t=this.dragDrop._findSidePanelGroupValidTarget(t))?("placeholder"===t.id&&(t="before"===t.ref?t.previousElementSibling:t.nextElementSibling),e.hoverOver={comp:t,phLoc:"both"},e.targetHost=this,e.highlightableElements=[],e.highlightableElements.push(e.hoverOver.comp),e.usePlaceholder=!0,e.enableHighLight=!1):e.hoverOver=null}dropFunc(t,e,n,i){let o=this.dragDrop;if(t.style.display="block",!e)return;let r=this.$.sbDroppableSidePanelGroups.querySelectorAll(".nav-item").length-1;o.dropIndex=e.dataIndex,i?o.dropIndex=o.dropIndex>=0?o.dropIndex:0:o.dropIndex++,ve(e),this.groupModels.splice(o.dragIndex,1),o.dropIndex<r?this.groupModels.splice(o.dropIndex,0,o.dragGroupModel):this.groupModels.push(o.dragGroupModel);let s=this.groupModels;this.groupModels=[],(0,Nt.T8)(this,(()=>{this.groupModels=s})),o.lineEditor.renumber(),this.editorModel.data.settings.usesClientCalculator&&o.lineEditor.editorModel.quoteModel.renumberIndexes(!0)}computeDrawerPanelClass(t){return t?"open":""}static get template(){return(0,Qt.dy)(zr||(zr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t\t<div device id="groupContainer">\n\t\t\t<div id="mainPanel" tabindex="-1">\n\t\t\t\t<div>\n\t\t\t\t\t<slot name="quoteInformation"></slot>\n\t\t\t\t\t<slot name="emptyQuote"></slot>\n\t\t\t\t\t<slot name="emptyGroupedQuote"></slot>\n\t\t\t\t</div>\n\t\t\t\t<template is="dom-if" if="[[editorModel]]">\n\t\t\t\t\t<div id="groups" class$="[[getContainerClass()]]">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{groupModels}}" as="groupModel" initialCount="5" targetFramerate="1">\n\t\t\t\t\t\t\t<sb-le-group class$="group [[getGroupClass(groupModel.groupVO.key, selectedGroupKey)]] [[deviceClasses]]" id$="Group_[[groupModel.groupVO.key]]" group-model="{{groupModel}}"></sb-le-group>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<slot name="footer"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<div id="drawerPanel" class$="{{computeDrawerPanelClass(rightSideButton)}}">\n\t\t\t\t<sb-side-panel id="panel" side-text="[[_getGroupsLabel()]]" render-header="[[noHeader]]" right-side-button="[[rightSideButton]]" is-open="[[drawerState]]">\n\t\t\t\t\t<div id = "sbDroppableSidePanelGroups" slot="panel-actions" class="panel-actions sb-droppable-sidePanelGroups">\n\t\t\t\t\t\t<template is="dom-repeat" items="[[groupModels]]" as="groupModel">\n\t\t\t\t\t\t\t<div on-click="navTo"\n\t\t\t\t\t\t\t\t class="nav-item"\n\t\t\t\t\t\t\t\t id$="_[[groupModel.groupVO.key]]"\n\t\t\t\t\t\t\t\t on-track="onTrack"\n\t\t\t\t\t\t\t\t data-index="[[index]]">[[groupModel.groupVO.record.Name]]\n\t\t\t\t\t\t\t\t<sf-loading-spinner class="loadingSpinner invisible" show="truthy" position="relative" size="small"></sf-loading-spinner>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-side-panel>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),jr)}}var Wr;customElements.define(Vr.is,Vr);class Qr extends Qt.H3{static get is(){return"sb-le-field-md"}static get properties(){return{data:{type:Object},md:{type:Object,notify:!0},error:{type:Object,notify:!0}}}static get observers(){return["getFieldNames(data)"]}get prefix(){return i.I.org.prefix?i.I.org.prefix+"__":""}ready(){super.ready(),this.$.describe.addEventListener("describe-changed",function(t){let e=t.detail.value.md,n={},i={};this.constants||(this.constants=new Y.g(this.prefix));let o=this.constants.UNIT_PRICE_FIELDS,r=this.constants.QUANTITY_FIELDS;for(let t in e){let s=t.split("."),a=s[0],l=s[1];n[a]||(n[a]={}),i[a]||(i[a]={}),o.has(e[t].name)?e[t].scale=this.settings.priceScale:"currency"==e[t].type&&this.settings.isMultiCurrencyOrg?e[t].scale=this.currencyDecimalScale:r.has(e[t].name)&&(e[t].scale=this.settings.quantityScale||0===this.settings.quantityScale?this.settings.quantityScale:e[t].scale),n[a][l]=e[t],a===this.prefix+"QuoteLine__c"&&(i[a][l]=e[t].label),i[l]=e[t].label}this.md={fieldsMap:n,fieldLabelsMap:i}}.bind(this)),this.$.describe.addEventListener("error-changed",function(t){this.error=t.detail.value}.bind(this))}getFieldNames(){let t=[];for(let i in this.data)for(var e=0,n=this.data[i].length;e<n;e++){let n=this.data[i][e];t.push(i+"."+n)}this.$.describe.fields=t}static get template(){return(0,Qt.dy)(Wr||(Wr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<sb-describe\n\t\t\t\tid="describe"\n\t\t\t\tobjects="[[objects]]"\n\t\t\t></sb-describe>\n\t\t'])))}}customElements.define(Qr.is,Qr);var Gr=n(922),$r=n(566),Kr=n(4888);class Yr{constructor(t,e){this.quoteModel=t,this.constants=e}validateAssetQuantityChanges(){let t=this.quoteModel.record[this.constants.TYPE_FIELD];return"Renewal"===t?this._validateAssetQuantityChangeForRenewal():"Amendment"===t?this._validateAssetQuantityChangeForAmendment():[]}_validateAssetQuantityChangeForRenewal(){var t=[],e=(0,i.M)("msg_qty_cannot_decrease_on_renewal");return this.quoteModel.lineItems.forEach((function(n){let i=n.record[this.constants.RENEWAL_CHECKBOX],o=n.record[this.constants.EXISTING_FIELD],r=n.record[this.constants.PRIOR_QUANTITY_FIELD];if(i&&o&&null!=r){let i=n.record[this.constants.QUANTITY_FIELD];if(0!=i&&i<r){let i=e.replace("{0}",n.record[this.constants.NUMBER_FIELD]).replace("{1}",r);t.push(i)}}}),this),t}_validateAssetQuantityChangeForAmendment(){var t=[],e=[],n=[],o=[],r=t=>{let e=t.record[this.constants.QUANTITY_FIELD],n=t.record[this.constants.PRIOR_QUANTITY_FIELD]||0,i=t.record[this.constants.UPGRADED_QUANTITY]||0,o=t.record[this.constants.EXISTING_FIELD],r=t.record[this.constants.CARRYOVER_LINE_FIELD];return o||r?e-n+i:e};if(this.quoteModel.lineItems.forEach((function(t){if(null!=t.record[this.constants.UPGRADED_ASSET_FIELD]){if(t.record[this.constants.QUANTITY_FIELD]<0)t.record[this.constants.EXISTING_FIELD]&&t.record[this.constants.RENEWAL_CHECKBOX]&&e.push(t);else if(t.record[this.constants.EXISTING_FIELD]||t.record[this.constants.CARRYOVER_LINE_FIELD]){t.record[this.constants.UPGRADED_QUANTITY]>t.record[this.constants.PRIOR_QUANTITY_FIELD]?n.push(t):!t.record[this.constants.ALLOW_ASSET_REFUND_FIELD]&&r(t)<0&&o.push(t)}}}),this),e.length>0){let n=(0,i.M)("msg_qty_no_negative_on_amend"),o="";e.forEach((function(t){o+=t.record[this.constants.NUMBER_FIELD]+", "}),this),o=o.substr(0,o.lastIndexOf(",")),t.push(n.replace("{0}",o))}if(n.length>0){let e=(0,i.M)("msg_qty_of_upgrade_exceeds_source_prior");n.forEach((function(n){let i=n.record[this.constants.NUMBER_FIELD],o=n.record[this.constants.PRIOR_QUANTITY_FIELD],r=e.replace("{0}",i).replace("{1}",o);t.push(r)}),this)}if(o.length>0){let e=(0,i.M)("msg_qty_of_source_too_low");o.forEach((function(n){let i=n.record[this.constants.PRODUCT_NAME_FIELD],o=n.record[this.constants.NUMBER_FIELD],r=e.replace("{0}",i).replace("{1}",o);t.push(r)}),this)}return t}}class Xr{constructor(t){for(var e of(this.lineEditorComponent=t,this.editorModel=this.lineEditorComponent.editorModel,this.indexByGroupKey=this.editorModel.quoteModel.indexByGroupKey,this.fieldNameSet=this.lineEditorComponent.editorModel.fieldNameSet,this.propertyNameSet=new Set,this.propertyNameSet.add("multiSegmentRowTotals"),this.propertyNameSet.add("multiSegmentColumnTotals"),this.propertyNameSet.add("netMultiSegmentTotal"),this.propertyNameSet.add("summaries"),this.propertyNameSet.add("fieldVisibility"),this.propertyNameSet.add("fieldEditability"),this.pathNameSet=new Set(this.fieldNameSet),this.propertyNameSet))this.pathNameSet.has(e)||this.pathNameSet.add(e);this.constants=this.editorModel.constants,this.pathsToNotify={},this.originalPathValues={},this.pathsToSet={},this.groupModels=this.editorModel.quoteModel.lineGroups,this.quoteVO=this.editorModel.quoteModel.quoteVO}notify(t,e,n,i,o){let r,s;if(this.pathNameSet.has(e.split(".").pop()))if("QuoteModel"==t){if(this.notifyPath("editorModel.quoteModel.quoteVO.".concat(e),n,o,t),"multiSegmentRowTotals"==e){if(!n)return;for(let e=0,i=this.groupModels.length;e<i;e++){let i=this.groupModels[e].dimensions;for(let r=0,s=i.length;r<s;r++)for(let s=0,a=this.groupModels[e].segmentedLinesByDimension[i[r]].length;s<a;s++){let a=this.groupModels[e].segmentedLinesByDimension[i[r]][s].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.notifyPath("groupModels.".concat(e,".segmentedLinesByDimension.").concat(i[r],".").concat(s,".total"),n[a],o,t)}}}if(i.grouped)return;let r=this.indexByGroupKey[this.groupModels[0].groupVO.key].index;this.notifySpecificPath(r,e,i,n,o,t)}else if("QuoteLineGroupModel"==t)null!=this.indexByGroupKey[i.key]&&null!=this.indexByGroupKey[i.key].index&&(r=this.indexByGroupKey[i.key].index,this.notifyPath("groupModels.".concat(r,".groupVO.").concat(e),n,o,t),this.notifySpecificPath(r,e,i,n,o,t));else if("QuoteLineModel"==t)if(r=this.indexByGroupKey[i.parentGroupKey].index,s=this.indexByGroupKey[i.parentGroupKey].indexByLineKey[i.key],i.record[this.constants.SEGMENT_KEY_FIELD]){var a=i.parentQuote.multiSegmentKeys[i.record[this.constants.SEGMENT_KEY_FIELD]];let l=this.indexByGroupKey[i.parentGroupKey].indexBySegmentKey[i.record[this.constants.SEGMENT_KEY_FIELD]];this.notifyPath("groupModels.".concat(r,".segmentedLinesByDimension.").concat(a,".").concat(l,".segments.").concat(s,".lineVO.").concat(e),n,o,t),e=="record."+[this.constants.NET_TOTAL_FIELD]&&this.notifyPath("groupModels.".concat(r,".segmentedLinesByDimension.").concat(a,".").concat(l,".")+i.record[this.constants.SEGMENT_LABEL_FIELD].replace(/\W/g,""),n,o,t)}else this.notifyPath("groupModels.".concat(r,".standardLines.").concat(s,".lineVO.").concat(e),n,o,t)}notifySpecificPath(t,e,n,i,o,r){if("multiSegmentColumnTotals"==e||"netMultiSegmentTotal"==e||"summaries"==e)if("summaries"!=e){if(i){var s=n.localizedMultiSegmentColumns?Object.keys(n.localizedMultiSegmentColumns):Object.keys(n.multiSegmentColumnTotals);for(let a=0,l=s.length;a<l;a++){let l="netMultiSegmentTotal"==e?n.netMultiSegmentTotal[s[a]]:n.multiSegmentColumnTotals[s[a]];if("netMultiSegmentTotal"==e)this.set("groupModels.".concat(t,".netMultiSegmentTotal.").concat(s[a]),i[s[a]],o,r);else{let e=Object.keys(l);for(let n=0,l=e.length;n<l;n++)this.set("groupModels.".concat(t,".multiSegmentColumnTotals.").concat(s[a],".").concat(e[n]),i[s[a]][e[n]],o,r)}}}}else this.set("groupModels.".concat(t,".summaries"),i,o,r)}notifyPath(t,e,n,i){this.originalPathValues.hasOwnProperty(t)||(this.originalPathValues[t]=n),this.pathsToNotify[t]={value:e,root:i}}set(t,e,n,i){this.originalPathValues.hasOwnProperty(t)||(this.originalPathValues[t]=n),this.pathsToSet[t]={value:e,root:i}}fireEvent(t,e){this.lineEditorComponent.dispatchEvent((0,o.FU)(t,e))}}class Jr{constructor(t,e){this.MONTHLY_DIM="Month",this.YEARLY_DIM="Year",this.QUARTERLY_DIM="Quarter",this.editorModel=t,this.groupModelsByKey=e,this.prefix=t.developerPrefix,this.START_DATE_FIELD=this.prefix+"StartDate__c",this.END_DATE_FIELD=this.prefix+"EndDate__c",this.SUBSCRIPTION_TERM_FIELD=this.prefix+"SubscriptionTerm__c",this.LINES_GROUPED_FIELD=this.prefix+"LineItemsGrouped__c",this.SEGMENT_KEY_FIELD=this.prefix+"SegmentKey__c",this.SEGMENT_INDEX_FIELD=this.prefix+"SegmentIndex__c",this.SEGMENT_LABEL_FIELD=this.prefix+"SegmentLabel__c",this.FIRST_SEGMENT_END_DATE_FIELD=this.prefix+"FirstSegmentTermEndDate__c",this.TYPE_FIELD=this.prefix+"Type__c",this.EXISTING_FIELD=this.prefix+"Existing__c",this.PREVIOUS_SEGMENT_PRICE_FIELD=this.prefix+"PreviousSegmentPrice__c",this.PREVIOUS_SEGMENT_UPLIFT_FIELD=this.prefix+"PreviousSegmentUplift__c",this._segmentsChanged=!1}updateSegments(){var t=this.editorModel.quote;return this._hasMultiSegmentLines(t)&&(t.grouped||t.record[this.LINES_GROUPED_FIELD]?t.lineItemGroups.forEach((function(e){this._adjustSegments(t,e)}),this):this._adjustSegments(t,null)),this._segmentsChanged}_hasMultiSegmentLines(t){for(var e=t.lineItems.length,n=0;n<e;n++)if(null!=t.lineItems[n].record[this.SEGMENT_KEY_FIELD])return!0;return!1}_adjustSegments(t,e){var n=this._calculateSubscriptionTerm(t,e),i=e?t.lineItems.filter((t=>t.parentGroupKey===e.key)):t.lineItems;this._calculateSegmentDeltasAndModifySegments(t,e,i,n,this.YEARLY_DIM),this._calculateSegmentDeltasAndModifySegments(t,e,i,n,this.MONTHLY_DIM),this._calculateSegmentDeltasAndModifySegments(t,e,i,n,this.QUARTERLY_DIM)}_calculateSubscriptionTerm(t,e){var n=e&&e.record[this.START_DATE_FIELD]||t.record[this.START_DATE_FIELD],i=e&&e.record[this.END_DATE_FIELD]||t.record[this.END_DATE_FIELD],o=e&&null!=e.record[this.SUBSCRIPTION_TERM_FIELD]?e.record[this.SUBSCRIPTION_TERM_FIELD]:t.record[this.SUBSCRIPTION_TERM_FIELD],r=n?new Date(n):null,s=i?new Date(i):null,a=t.record[this.FIRST_SEGMENT_END_DATE_FIELD],l=a?new Date(a):null;if(l){r=r||new Date,s||(s=new Date(r.getTime()),this.editorModel.settings.subscriptionTermUnitIsDay?s.setUTCDate(s.getUTCDate()+o-1):(SB.addMonths(s,o),s.setUTCDate(s.getUTCDate()-1)));var d=new Date(l.getTime());return d.setUTCDate(d.getUTCDate()+1),s.setDate(s.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(d,s):SB.monthsBetweenRoundPartialUp(d,s)}return r&&s?(s.setDate(s.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(r,s):SB.monthsBetweenRoundPartialUp(r,s)):o}_calculateSegmentDeltasAndModifySegments(t,e,n,i,o){var r=this._calculateSegmentDeltas(t,n,i,o);0!=r.size&&this._modifySegmentsBasedOnDelta(t,e,r,o)}_calculateSegmentDeltas(t,e,n,i){var o=this.editorModel.settings.subscriptionTermUnitIsDay;n=null==n?o?365:12:n;var r=function(){var t=new Map,n=e.length;for(let o=0;o<n;o++){let n=e[o];if(n.dimensionType==i){let e=n.record[this.SEGMENT_KEY_FIELD],i=t.get(e)||0;t.set(e,i+1)}}return t}.bind(this)(),s=function(){var e=0,r=t.record[this.FIRST_SEGMENT_END_DATE_FIELD],s=r?new Date(r):null;if(s){e=1;var a=new Date(s.getTime());a.setUTCDate(a.getUTCDate()+1)}if(o){let t=a||new Date(this.editorModel.quote.record[this.START_DATE_FIELD]),e=this.editorModel.quote.record[this.END_DATE_FIELD]?new Date(this.editorModel.quote.record[this.END_DATE_FIELD]):new Date(t.setUTCDate(t.getUTCDate()+n));n=SB.monthsBetween(t,e),t.setUTCMonth(t.getUTCMonth()+n),t.setUTCDate(t.getUTCDate()-1),t<e&&(n+=1)}switch(i){case this.YEARLY_DIM:e+=Math.ceil(n/12);break;case this.QUARTERLY_DIM:e+=Math.ceil(n/3);break;case this.MONTHLY_DIM:e+=n}return e}.bind(this)(),a=new Map;return r.forEach((function(t,e){a.set(e,s-t)})),a}_modifySegmentsBasedOnDelta(t,e,n,i){n.forEach((function(e,n){let o=this._getLastSegmentFromQuote(t,n,i);var r=0===e,s="Amendment"===t.record[this.TYPE_FIELD]&&o.record[this.EXISTING_FIELD],a=o.record[this.START_DATE_FIELD],l=o.record[this.END_DATE_FIELD],d=a?new Date(a):null,c=l?new Date(l):null;if(!r&&!s)if(e>0&&c>=d){this._segmentsChanged=!0;for(let n=1;n<=e;n++){var u=this._createNewSegment(t,o,n);t.lineItems.push(u),this.groupModelsByKey&&this.groupModelsByKey[u.parentGroupKey].processQuoteLines(u)}}else if(e<0){this._segmentsChanged=!0;for(let o=0;o>e;o--){let e=this._getLastSegmentFromQuote(t,n,i);if(this._removeSegment(t,e),this.groupModelsByKey){let t=this.groupModelsByKey[e.parentGroupKey].segmentedLinesBySegmentKey[n];t.segments.splice(t.segments.length-1,1)}}}}),this)}_getLastSegmentFromQuote(t,e,n){var i=null,o=null;return t.lineItems.forEach((function(t){if(t.record[this.SEGMENT_KEY_FIELD]===e&&t.dimensionType===n){let e=t.record[this.SEGMENT_INDEX_FIELD];null!=e&&(null==o||o<e)&&(o=e,i=t)}}),this),i}_createNewSegment(t,e,n){var i=JSON.parse(JSON.stringify(e));i.key=++t.nextKey,i.record.Id=null,i.record[this.SEGMENT_KEY_FIELD]=e.record[this.SEGMENT_KEY_FIELD],i.record[this.SEGMENT_INDEX_FIELD]=e.record[this.SEGMENT_INDEX_FIELD]+n;var o=i.record[this.SEGMENT_INDEX_FIELD]<10?"  ":" ";return i.record[this.SEGMENT_LABEL_FIELD]=e.dimensionType+o+i.record[this.SEGMENT_INDEX_FIELD],i.record[this.PREVIOUS_SEGMENT_PRICE_FIELD]=null,i.record[this.PREVIOUS_SEGMENT_UPLIFT_FIELD]=null,i}_removeSegment(t,e){var n=t.lineItems.length;for(let o=0;o<n;o++){var i=t.lineItems[o];if(i.key===e.key)return t.lineItems=t.lineItems.slice(0,o).concat(t.lineItems.slice(o+1,n)),void(t.deletedLineIds&&i.record&&i.record.Id&&t.deletedLineIds.push(i.record.Id))}}}class Zr{constructor(t,e){this.editorModel=t,this.targetRecord=e}getRequest(){return{target:this.targetRecord,quote:this.editorModel.quoteModel.quoteVO.record,lines:[],actions:[]}}getResponse(t){if(t)switch(t.actions[0].toLowerCase().replace(" ","")){case"save":return{lines:t.lines,action:"save"};case"quicksave":return{lines:t.lines,action:"quicksave"};case"reload":return{lines:t.lines,action:"reload"};default:return{lines:t.lines,action:"none"}}}}class ts{constructor(t){this.constants=new Y.g(t)}sortLineItems(t,e){return t.sort(function(t,n){if(t.lineSortValue=t.record[e],n.lineSortValue=n.record[e],null!=t.lineSortValue&&null!=n.lineSortValue&&t.lineSortValue!=n.lineSortValue){var i=t.lineSortValue-n.lineSortValue;return i==i?i:t.lineSortValue<n.lineSortValue?-1:1}if(t.lineSortValue==n.lineSortValue){var o=t.record[this.constants.SEGMENT_INDEX_FIELD],r=n.record[this.constants.SEGMENT_INDEX_FIELD];return o==r?t.record[this.constants.NUMBER_FIELD]-n.record[this.constants.NUMBER_FIELD]:null==o?-1:null==r?1:o-r}return null==t.lineSortValue?-1:null==n.lineSortValue?1:t.record[this.constants.NUMBER_FIELD]-n.record[this.constants.NUMBER_FIELD]}.bind(this)),t}}var es;n(6910),n(7255);const ns=(0,zt.f)(es||(es=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  --sbMultiSelectMinWidth: 250px;\n  --sbSelectMinHeight: 210px;\n  --sbSelectOptionPadding: 5px;\n}\n:host i {\n  font-size: 20px;\n}\n:host .selectArea {\n  width: 250px;\n}\n:host .selectTitle {\n  padding: 5px;\n}\n:host .arrows {\n  width: 30px;\n  margin-left: 30px;\n  margin-right: 20px;\n  margin-top: 50px;\n}\n:host .arrows :hover {\n  cursor: pointer;\n}\n:host #container {\n  display: flex;\n  margin-top: 10px;\n}\n"])));var is,os;class rs extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-dual-list-box"}static get properties(){return{options:Array,availableOptions:Array,availableTitle:String,chosenOptions:Array,chosenTitle:String,value:{type:Array,notify:!0}}}static get observers(){return["_buildOptions(options)"]}_buildOptions(){this.value=[],this.chosenOptions=[];let t=[];this._clearSelected(),this.options.forEach(function(e){e.available=!0,t.push(e)}.bind(this)),this.availableOptions=t}_onAvailableChange(t){this.availableOptionsSelected=t.detail.value}_onChosenChange(t){this.chosenOptionsSelected=t.detail.value}_updateOptions(t){let e=t.currentTarget.getAttribute("data-index"),n=new Set("right"===e?this.availableOptionsSelected.split(";"):this.chosenOptionsSelected.split(";"));this.availableOptionsSelected="",this.chosenOptionsSelected="";let i=[],o=[];this.options.forEach(function(t){"right"===e?n.has(t.value.toString())||!t.available?(t.available=!1,o.push(t)):i.push(t):n.has(t.value.toString())||t.available?(t.available=!0,i.push(t)):o.push(t)}.bind(this)),this._clearSelected(),this.availableOptions=i,this.chosenOptions=o,this.value=this.chosenOptions}_clearSelected(){this.$.available.value=null,this.$.chosen.value=null}static get template(){return(0,Qt.dy)(is||(is=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="container">\n\t\t\t<div class="selectArea">\n\t\t\t\t<div class="selectTitle">{{availableTitle}}</div>\n\t\t\t\t<sb-select device id="available" multi-select="true" options="[[availableOptions]]" on-change="_onAvailableChange" is-required="true"></sb-select>\n\t\t\t</div>\n\t\t\t<div class="arrows">\n\t\t\t\t<i class="icon sf-icon-right" on-click="_updateOptions" data-index="right"></i>\n\t\t\t\t<i class="icon sf-icon-left" on-click="_updateOptions" data-index="left"></i>\n\t\t\t</div>\n\t\t\t<div class="selectArea">\n\t\t\t\t<div class="selectTitle">{{chosenTitle}}</div>\n\t\t\t\t<sb-select device id="chosen" multi-select="true" options="[[chosenOptions]]" on-change="_onChosenChange" is-required="true"></sb-select>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),ns)}}customElements.define(rs.is,rs);const ss=(0,zt.f)(os||(os=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n}\n:host([class*='--mobile']) {\n  padding-top: 60px;\n  text-align: center;\n}\n:host .groupContainer[class*='--mobile'] {\n  width: 100%;\n}\n:host .selectionMessageContainer[class*='--mobile'] {\n  width: 100%;\n  padding: 10px;\n  border-bottom: 2px solid #d8dde6;\n}\n:host .selectionMessage[class*='--mobile'] {\n  font-size: 18px;\n  padding-left: 20px;\n  margin-top: 80px;\n}\n:host .label[class*='--mobile'] {\n  display: inline-block;\n  font-size: 18px;\n  padding-left: 5px;\n  margin-top: 8px;\n}\n:host .selectBox[class*='--mobile'] {\n  font-size: 20px;\n  margin-left: 5px;\n  float: left;\n  padding: 5px;\n}\n:host .selectionContainer[class*='--mobile'] {\n  width: 100%;\n  overflow: hidden;\n  padding: 10px 15px 5px;\n  display: block;\n  margin: 0;\n  border-bottom: 2px solid #d8dde6;\n  min-height: 62px;\n  box-sizing: border-box;\n}\n:host .backgroundContainer[class*='--mobile'] {\n  background-color: #eef1f6;\n}\n:host .backgroundContainer[class*='--mobile'] span {\n  color: #16325C;\n  font-weight: bold;\n}\n:host .backgroundContainer[class*='--mobile'] .sf-icon-check {\n  color: #16325C;\n}\n:host .backgroundContainer[class*='--mobile'] .check {\n  float: left;\n  padding-top: 10px;\n}\n:host([class*='--mobile']) {\n  padding-top: 60px;\n  text-align: center;\n}\n:host [class*='--mobile'] .groupContainer {\n  width: 100%;\n}\n:host [class*='--mobile'] .selectionMessageContainer {\n  width: 100%;\n  padding: 10px;\n  border-bottom: 2px solid #d8dde6;\n}\n:host [class*='--mobile'] .selectionMessage {\n  font-size: 18px;\n  padding-left: 20px;\n  margin-top: 80px;\n}\n:host [class*='--mobile'] .label {\n  display: inline-block;\n  font-size: 18px;\n  padding-left: 5px;\n  margin-top: 8px;\n}\n:host [class*='--mobile'] .selectBox {\n  font-size: 20px;\n  margin-left: 5px;\n  float: left;\n  padding: 5px;\n}\n:host [class*='--mobile'] .selectionContainer {\n  width: 100%;\n  overflow: hidden;\n  padding: 10px 15px 5px;\n  display: block;\n  margin: 0;\n  border-bottom: 2px solid #d8dde6;\n  min-height: 62px;\n  box-sizing: border-box;\n}\n:host [class*='--mobile'] .backgroundContainer {\n  background-color: #eef1f6;\n}\n:host [class*='--mobile'] .backgroundContainer span {\n  color: #16325C;\n  font-weight: bold;\n}\n:host [class*='--mobile'] .backgroundContainer .sf-icon-check {\n  color: #16325C;\n}\n:host [class*='--mobile'] .backgroundContainer .check {\n  float: left;\n  padding-top: 10px;\n}\nsb-dialog {\n  --sbDialogMaxHeight: none;\n  --sbDialogContainerWidth: 65%;\n}\n"])));var as,ls;class ds extends((0,qt.J)((0,Lt.Q)(Qt.H3))){static get is(){return"sb-clone-to-group-dialog"}static get properties(){return(0,A.l7)({quoteModel:Object},s.T3.properties)}ready(){super.ready(),(0,Nt.T8)(this,(()=>{this.addEventListener("sb-cancel-clone-to-group",this.onCancel)}))}open(){this.lineGroups=this.quoteModel.lineGroups,this.$.dialog.toggle();let t=[];for(let e=0,n=this.lineGroups.length;e<n;e++)t.push({value:this.lineGroups[e].groupKey,label:this.lineGroups[e].groupVO.record.Name,selected:!1});this.groups=t,this.isMobile||(this.availableGroupTitle=i.I.properties.i18n.value().l("Available Groups"),this.chosenGroupTitle=i.I.properties.i18n.value().l("Selected Groups"))}onSave(){this.isMobile?(this.selectedGroups=this._getSelectedGroups(),this.dispatchEvent((0,o.FU)("sb-clone-to-group-selected",this.selectedGroups)),this.groups=void 0):this.dispatchEvent((0,o.FU)("sb-clone-to-group-selected",this.selectedGroups)),this.$.dialog.toggle()}onCancel(){this.$.dialog.toggle(),this.isMobile&&(this.groups=void 0)}_getSelectedGroups(){let t=[];for(let e=0,n=this.groups.length;e<n;e++)this.groups[e].selected&&t.push(this.groups[e]);return t}toggleSelectedClass(t){let e=t.currentTarget,n=e.classList.contains("backgroundContainer"),i=e.dataIndex;this.set("groups.".concat(i,".selected"),!n),(0,A.og)("backgroundContainer",!n,e)}static get template(){return(0,Qt.dy)(as||(as=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-dialog-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-clone-to-group"\n\t\t\t\t>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Clone To Group(s)</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onSave"\n\t\t\t\t\t\t><sb-i18n>Save</sb-i18n></paper-button\n\t\t\t\t\t>\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<div class="selectionMessageContainer">\n\t\t\t\t\t\t\t<sb-i18n class="selectionMessage">Select one or more group(s):</sb-i18n>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!--desktop fields--\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t<sb-dual-list-box\n\t\t\t\t\t\t\t\tid="dualListBox"\n\t\t\t\t\t\t\t\tvalue="{{selectedGroups}}"\n\t\t\t\t\t\t\t\toptions="[[groups]]"\n\t\t\t\t\t\t\t\tavailable-title="[[availableGroupTitle]]"\n\t\t\t\t\t\t\t\tchosen-title="[[chosenGroupTitle]]"\n\t\t\t\t\t\t\t></sb-dual-list-box>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\x3c!--mobile fields--\x3e\n\t\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t\t<div class="groupContainer datatable">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="[[groups]]"\n\t\t\t\t\t\t\t\t\tas="group"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class="tr">\n\t\t\t\t\t\t\t\t\t\t<div class="td">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass="selectionContainer"\n\t\t\t\t\t\t\t\t\t\t\t\ton-click="toggleSelectedClass"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-index="[[index]]"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="check">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif="[[group.selected]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="sf-icon-check"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="label">[[group.label]]</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),ss)}}customElements.define(ds.is,ds);class cs{constructor(t,e){this.template=t,this.discountSchedule=e,this.selected=!1,this.hidden=!1,this.disabled=!1,this.tiers=[]}}class us{constructor(t,e){this.schedule=t,this.editorModel=e,this.constants=e.constants,this.unitPriceScale=e.data.settings.priceScale,this.isMultiCurrencyOrg=e.data.settings.isMultiCurrencyOrg}validate(t){let e=new Map,n=null,i=this.editorModel.data.customLabels,o=this.schedule;return t.forEach(function(t){let r=null,s=t.template[this.constants.NUMBER_FIELD],a=t.template[this.constants.LOWER_BOUND_FIELD],l=t.template[this.constants.UPPER_BOUND_FIELD],d=null!=n?n[this.constants.UPPER_BOUND_FIELD]:null,c=o[this.constants.DISCOUNT_UNIT_FIELD],u=t.template[this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD];delete t.template.Price,null==a?r=this.formatLabel(i.msg_missing_lower_bound_tier,[s]):null!=n&&a!=d?r=this.formatLabel(i.msg_unequal_lower_upper_bounds_tier,[s]):null!=u||null!=c&&"PERCENT"!==c.toUpperCase()?null!=l&&""!=l&&l<=a?r=this.formatLabel(i.msg_upper_greater_tier,[s]):c&&"AMOUNT"===c.toUpperCase()?t.tiers.forEach(function(e){null===this.discountFormatted(e)&&(r=this.isMultiCurrencyOrg?this.formatLabel(i.msg_missing_discount_amount_tier_currency,[s,t.CurrencyIsoCode]):this.formatLabel(i.msg_missing_discount_amount_tier,[s]))}.bind(this)):null!=l&&""!=l&&l<=a&&(r=this.formatLabel(i.msg_upper_greater_tier,[s])):r=this.formatLabel(i.msg_missing_discount_tier,[s]),null!=r&&e.set(Number(s),r),n=t.template}.bind(this)),e}discountFormatted(t){return null==t[this.constants.DISCOUNT_AMOUNT_FIELD]?null:Number(t[this.constants.DISCOUNT_AMOUNT_FIELD]).toFixed(this.unitPriceScale)}formatLabel(t,e){for(let n=0,i=e.length;n<i;n++)t=t.replace("{"+n+"}",e[n].toString());return t}}const hs=(0,zt.f)(ls||(ls=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n:host {\n  width: 100%;\n}\n:host .table {\n  padding: 10px 0;\n}\n:host .tr {\n  text-align: center;\n  vertical-align: top;\n  display: flex;\n}\n:host .td1 {\n  width: 100%;\n}\n:host .td2 {\n  width: 50%;\n}\n:host .td3 {\n  width: 33%;\n}\n:host .header-attributes {\n  padding: 0 30px 0 30px;\n}\n"])));var ps;const fs=(0,zt.f)(ps||(ps=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .td {\n  display: flex;\n  padding: 6px 0;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 400;\n}\n:host .td > .label {\n  text-align: right;\n  padding-right: 10px;\n  min-width: 50%;\n  align-self: center;\n  white-space: nowrap;\n}\n:host .td > .field {\n  text-align: left;\n  padding-left: 10px;\n  width: 60%;\n}\n:host .td > .sb-icon-help-circled {\n  font-size: var(--sbFontSizeDefault);\n}\n:host .td[class*='--mobile'] {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n}\n:host .td[class*='--mobile'] .helpText {\n  display: none;\n}\n:host .td[class*='--mobile'] .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host .td[class*='--mobile'] .field {\n  width: 110%;\n  padding-left: 0;\n}\n:host [class*='--mobile'] .td {\n  flex-direction: column;\n  padding: 10px 0 5px 25px;\n  width: 90%;\n}\n:host [class*='--mobile'] .td .helpText {\n  display: none;\n}\n:host [class*='--mobile'] .td .label {\n  text-align: left;\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 0.95rem;\n  color: #54698d;\n}\n:host [class*='--mobile'] .td .field {\n  width: 110%;\n  padding-left: 0;\n}\n"])));var bs,gs,ms;class ys extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-field-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object}}static get observers(){return["_setFieldDataObserver(item, model)","_dataChangedObserver(data, item)"]}_setFieldDataObserver(t,e){if(void 0!==t&&void 0!==e)return this._setFieldData(t,e)}_setFieldData(){this.md=this.model[this.item],this.label=this.md.label,this.helpText=this.md.inlineHelpText,this.$.field.editing=this.md.updateable,this.$.field.md=this.md,this.$.field.property=this.item;let t={};t[this.item]=this.value,this.$.field.obj=t}_dataChangedObserver(t,e){if(void 0!==t&&void 0!==e)return this._dataChanged(t,e)}_dataChanged(){let t=new $e.Z(this.item,this.data);t.hasRelationship()&&(this.display=t.getRelationshipName())}static get template(){return(0,Qt.dy)(bs||(bs=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\n\t\t<div device class="td">\n\t\t<div class="label">[[label]]</div>\n\t\t<template is="dom-if" if="[[md.inlineHelpText]]">\n\t\t\t<div class="helpText">\n\t\t\t\t<span class="sb-icon-help-circled"></span>\n\t\t\t\t<paper-tooltip position="top" animation-delay="0">[[helpText]]</paper-tooltip>\n\t\t\t</div>\n\t\t</template>\n\t\t<div class="field"><sb-field id="field" value="{{value}}" record="[[data]]" md="[[md]]" disabled="[[disabled]]"></sb-field></div>\n\t\t</div>\n\t\t'])),fs)}}customElements.define(ys.is,ys);class vs extends Qt.H3{static get is(){return"sb-field-table"}static get properties(){return{numColumns:{type:Number,value:1},data:{type:Object,notify:!0},fieldNames:String,md:Object,disabled:Boolean}}static get observers(){return["_generateColumnsObserver(md, fieldNames)"]}_generateColumnsObserver(t,e){if(void 0!==t&&void 0!==e)return this.generateColumns(t,e)}generateColumns(){let t=[],e=[],n=[],i=this.fieldNames.length;for(let o=0;o<i;o++)o%this.numColumns==0?t.push(this.fieldNames[o]):o%this.numColumns==1?e.push(this.fieldNames[o]):n.push(this.fieldNames[o]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(t,e,n)}setColumns(t,e,n){t.length>0&&(this.$.firstColumn.model=this.md,this.$.firstColumn.group=t),e.length>0&&(this.$.secondColumn.model=this.md,this.$.secondColumn.group=e),n.length>0&&(this.$.thirdColumn.model=this.md,this.$.thirdColumn.group=n)}static get template(){return(0,Qt.dy)(gs||(gs=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t<style>",'</style>\n\t\t<style include="sb-common-styles"></style>\n\n\t\t<div id="table" class="table">\n\t\t\t<div class="tr">\n\t\t\t\t<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t\t<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t\t<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>\n\t\t\t</div>\n\t\t</div>\n\t\t'])),hs)}}customElements.define(vs.is,vs);const _s=(0,zt.f)(ms||(ms=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host([class*='--mobile']) {\n  min-height: 53px;\n}\n:host([class*='--mobile']) {\n  min-height: 53px;\n}\n:host([class*='--mobile'].primary) {\n  border-bottom: 1px solid #d8dde6 !important;\n  padding-top: 16px !important;\n  display: flex !important;\n}\n:host([class*='--mobile'] .primary) {\n  border-bottom: 1px solid #d8dde6 !important;\n  padding-top: 16px !important;\n  display: flex !important;\n}\n:host([class*='--mobile'].primary.first):after {\n  position: relative !important;\n  left: 0 !important;\n  margin-top: 0 !important;\n}\n:host([class*='--mobile'] .primary.first):after {\n  position: relative !important;\n  left: 0 !important;\n  margin-top: 0 !important;\n}\n"])));var ws,xs;class Cs extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-ds-table-cell"}static get properties(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},index:Number,viewport:{type:Object,value:function(){return j._.getViewport()}}}}static get observers(){return["_buildCellObserver(item, model, data, index, viewport)"]}get constants(){return this.model.constants}_buildCellObserver(t,e,n,i,o){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o)return this.buildCell(t,e,n,i,o)}buildCell(){let t=this.model.md.fieldsMap[this.constants.DISCOUNT_TIER_FIELD],e=this.item.replace("template.","");this.handleOriginalValues(),this.editing=this.isEditable(e,t);let n=t[e];n.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.md=n}isEditable(t,e){return t!==this.constants.NUMBER_FIELD&&((t!==this.constants.LOWER_BOUND_FIELD||this.data.template[this.constants.NUMBER_FIELD]!==this.model.disabledDiscountTier)&&((0!==this.index||!this.viewport||!this.viewport.isMobile())&&e[t].updateable))}handleOriginalValues(){!this.data.original&&this.data.template&&(this.data.original={},this.data.original.template=JSON.parse(JSON.stringify(this.data.template))),this.data.original&&(this.$.field.originalValue=this.get("data.original."+this.item))}static get template(){return(0,Qt.dy)(ws||(ws=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t\n\t\t\t<sb-field\n\t\t\t\tdevice\n\t\t\t\tid="field"\n\t\t\t\tvalue="{{value}}"\n\t\t\t\tproperty="[[item]]"\n\t\t\t\trender-read-only="true"\n\t\t\t\tediting="[[editing]]"\n\t\t\t\tmd="[[md]]"\n\t\t\t\tdisabled="[[disabled]]"\n\t\t\t\trecord="[[data.template]]"\n\t\t\t></sb-field>\n\t\t'])),_s)}}customElements.define(Cs.is,Cs);const ks=(0,zt.f)(xs||(xs=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n"])));var Ss,Os;class Is extends((0,Lt.Q)((0,Ft.U)(Qt.H3))){static get is(){return"sb-ds-tiers"}static get properties(){return{discountTiers:{type:Array,notify:!0},model:{type:Object,notify:!0},discountSchedule:Object,editorModel:Object}}get events(){let t={};return t[o.zW.DELETE_GROUPS]=this._deleteGroups,t}_hideSelection(t){return 0===t&&this.model.fieldsEditable?{hidden:!0,type:"invisible"}:null}_deleteGroups(){this.$.header.$.header.destroyGroup(),this.$.tbody.querySelectorAll("sb-table-row").forEach(function(t){t.cols=void 0,t.$.row.destroyGroup()}.bind(this))}static get template(){return(0,Qt.dy)(Ss||(Ss=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\t<style include="sb-tables-styles"></style>\n\t\t\t\t<style>','</style>\n\n\t\t\t\t<div device class="datatable">\n\t\t\t\t\t<div class="thead">\n\t\t\t\t\t\t<sb-table-header id="header"\n\t\t\t\t\t\t\t\t\t\tselectable="[[model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\tselected="{{model.selected}}"\n\t\t\t\t\t\t\t\t\t\tcols="[[model.fieldLabels]]"\n\t\t\t\t\t\t\t\t\t\theader-class-map="[[model.headerClassMap]]"\n\t\t\t\t\t\t\t\t\t\theader-actions="[[model.headerActions]]"\n\t\t\t\t\t\t\t\t\t\thide-hidden-selectable="[[!model.fieldsEditable]]">\n\t\t\t\t\t\t</sb-table-header>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tbody" id="tbody">\n\t\t\t\t\t\t<template is="dom-repeat" items="{{discountTiers}}" as="tier">\n\t\t\t\t\t\t\t<sb-table-row \n\t\t\t\t\t\t\t\t\t\tcell="sb-ds-table-cell"\n\t\t\t\t\t\t\t\t\t\trow-data="[[tier]]"\n\t\t\t\t\t\t\t\t\t\tcols="[[model.recordKeys]]"\n\t\t\t\t\t\t\t\t\t\tcols-display="[[model.fieldLabelMap]]"\n\t\t\t\t\t\t\t\t\t\tmodel="[[editorModel]]"\n\t\t\t\t\t\t\t\t\t\tselected="{{tier.selected}}"\n\t\t\t\t\t\t\t\t\t\tselectable="[[model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\thide-selection="[[_hideSelection(index, model.fieldsEditable)]]"\n\t\t\t\t\t\t\t\t\t\tprimary-mobile-cols=\'["template.Name"]\'\n\t\t\t\t\t\t\t\t\t\trepeat-primary-mobile-cols="true"\n\t\t\t\t\t\t\t\t\t\trow-class-map="[[model.rowClassMap]]"\n\t\t\t\t\t\t\t\t\t\tselection-id-data-path="template.Id"\n\t\t\t\t\t\t\t\t\t\trow-actions="[[tier.rowActions]]"\n\t\t\t\t\t\t\t\t\t\tindex="[[index]]"\n\t\t\t\t\t\t\t\t\t\troute-source="lineEditor"\n\t\t\t\t\t\t\t\t\t\tpath-prefix="template."\n\t\t\t\t\t\t\t\t\t\tdisabled="[[tier.disabled]]"\n\t\t\t\t\t\t\t\t\t\tselection-class="zone">\n\t\t\t\t\t\t\t</sb-table-row>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),ks)}}customElements.define(Is.is,Is);const Es=(0,zt.f)(Os||(Os=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogContentHeight: 300px;\n}\n:host .fieldItem {\n  width: 50%;\n}\n:host #fieldItemRow {\n  display: flex;\n}\n:host .hidden {\n  display: none;\n}\n:host #deleteLines {\n  margin: 0;\n  border-left: none;\n}\nsb-field-table {\n  --sbInputwidth: 95%;\n  --sbInputborder: 1px solid #d8dde6 !important;\n}\nsb-dialog {\n  --sbDialogContainerWidth: 80%;\n  --sbDialogContentOverflowX: hidden;\n  --sbDialogContentHeight: initial;\n}\nsb-dialog[class*='--mobile'] {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n[class*='--mobile'] sb-dialog {\n  --sbDialogContainerDisplay: flex;\n  --sbDialogContainerOverflow: hidden;\n  --sbDialogContainerFlexDirection: column;\n  --sbDialogContainerHeight: 100%;\n  --sbDialogContentHeight: 100%;\n  --sbDialogContentMarginBottom: 0;\n}\n"])));var Ts,Ms;class Bs extends((0,qt.J)((0,Lt.Q)((0,Ft.U)(Qt.H3)))){static get is(){return"sb-discount-schedule-dialog"}static get properties(){return{discountSchedule:{type:Object},discountUnit:{type:String},editorModel:Object,lineModel:Object,schedule:{type:Object,notify:!0},error:{type:Object,notify:!0},model:{type:Object,value:{}},viewport:{type:Object,value:function(){return j._.getViewport()}},isMobile:{type:Boolean,value:!1},dialogTapped:{type:Boolean,value:!1}}}get events(){let t={};return t[o.zW.SCHEDULE_ACTION]=this._handleIconAction,t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["_retrieveSchedule(discountScheduleId)","_buildDialog(schedule)","_discountScheduleResponseChanged(discountScheduleResponse)","_discountScheduleChanged(discountSchedule.*)","_createErrorHandler(error)","_toggleEditableClasses(dialogTapped)","_selectCheckboxes(model.selected)"]}get constants(){return this.editorModel.constants}ready(){super.ready(),Object.entries({"delete-tapped":"onDeleteLines","add-tapped":"onAddLine"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.addEventListener("sb-cancel-ds",this.onCancel),this.addEventListener("data-changed",function(t){t.detail&&t.detail.path=="data.".concat(this.discountUnitField)&&this.discountUnit!=t.detail.value&&(this.discountUnit=t.detail.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}.bind(this)),this._handleDialogTap(),this._handleDialogMouseEvents()}_createErrorHandler(){this.error&&(this.errors=this.error.validations?this.error.validations:[this.error.message])}_retrieveSchedule(t){t&&(this.showSpinner=!0,this.context={currencyCode:this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,fieldSetName:"DiscountScheduleModal"},this.$.loadDiscountScheduleService.uid=void 0,this.$.loadDiscountScheduleService.context=this.context,this.$.loadDiscountScheduleService.uid=t,this.$.loadDiscountScheduleService.spinner=!1)}_buildDialog(){if(!this.schedule)return;this._setConstants(this.constants),this.discountTiers=void 0,this.currencyCode=this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.editable=!!this.schedule[this.overrideBehaviorField],this.savedTiers=[],this.discountSchedule=JSON.parse(JSON.stringify(this.schedule)),this.data=this.discountSchedule,this.discountSchedule[this.discountUnitField]=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this._setDSFields(),this.showRevertBtn=!!this.discountSchedule[this.originalScheduleField],this.discountUnit=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this.buildRowData();let t=this.buildTiers();this._calculateDiscountAmounts(t),this.buildFieldData(),this.discountTiers=t,this._createActions(),this._toggleEditableClasses(),this.isMobile&&this._buildTabData(),this.showSpinner=!1}_discountScheduleResponseChanged(){let t=this.discountScheduleResponse.Id;if(this.lineModel.lineVO.record[this.discountScheduleField]=t,this.lineModel.lineVO.record[this.segmentKeyField]){let e=this.lineModel.segments;for(let n=0,i=e.length;n<i;n++)e[n].lineVO.record[this.discountScheduleField]=t}"save"===this.action?this.onCancel():(this.schedule=this.discountScheduleResponse,this.showRevertBtn=this.discountScheduleResponse[this.originalScheduleField]),(0,A.GC)(this).onFlagCalculate()}_discountScheduleChanged(t){t.path=="discountSchedule.".concat(this.discountUnitField)&&(this.discountUnit=t.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}buildTiers(){let t=[],e=this._retrieveRecords();return this.previousLowerBound=void 0,e.forEach(function(e){if(null!=e[this.lowerBoundField]){if("Percent"==this.discountUnit&&this.previousLowerBound!=e[this.lowerBoundField])this.previousLowerBound=e[this.lowerBoundField];else if("Percent"==this.discountUnit||e.CurrencyIsoCode!=this.currencyCode)return;t.push(new cs(e,this.discountSchedule))}else t.push(new cs(e,this.discountSchedule))}.bind(this)),t}buildFieldData(){if(this.fieldNames)return;let t=this.editorModel.md.fieldsMap[this.discountScheduleField];t[this.discountUnitField].required=!0,this.fieldTableData=t,this.fieldNames=["Name",this.discountUnitField]}buildRowData(){this.fieldsArray&&(0,o.BX)(o.zW.DELETE_GROUPS);let t=this.editorModel.data.discountScheduleModalFieldNames,e=this.editorModel.md.fieldsMap[this.tierField],n=[],i={},r={},s={},a=this.editorModel.data.customLabels.lbl_price,l={};t.forEach(function(t){l[t]="template."+t}.bind(this)),"Price"===this.discountUnit&&(l[a]="template."+a,e[a]=JSON.parse(JSON.stringify(e[this.discountAmountField])),e[a].label=a+"("+(this.currencyCode||this.editorModel.data.currencySymbol)+")",e[a].name=a),this.fieldsArray=Object.keys(l);let d=[];this.fieldsArray.forEach(function(t){if(this._isFieldShown(t)){var o,a=e[t],c=a.name;"currency"===a.type&&(a.scale=this._getPriceScale()),t===this.numberField?o="#":t===this.discountAmountField?(o=a.label.replace("{0}",this.currencyCode||this.editorModel.data.currencySymbol),a.label=o):o=a.label,d.push(l[t]),n.push(o),i[c]=a.label,r[a.label.replace(/\W/g,"")]=a.type,s[l[t]]=a.type}}.bind(this)),this.set("model.fieldsMD",e),this.isMobile||(this.set("model.selected",!1),this.set("model.headerClassMap",new Ce.o(Object.keys(r),"Th",r,null,!0).build()),this.set("model.fieldLabels",n)),this.set("model.rowClassMap",new Ce.o(d,"Td",s).build()),this.set("model.fieldLabelMap",i),this.set("model.recordKeys",d)}onRevert(){this._retrieveSchedule(this.discountSchedule[this.originalScheduleField])}onAddLine(t){let e=this._createBlankTierRecord(),n=new cs(e,this.discountSchedule);n.rowActions=this._createRowActions(),t.detail&&void 0!==t.detail.index?this.splice("discountTiers",t.detail.index+1,0,n):this.push("discountTiers",n),this._renumberLines(this.discountTiers,!0)}onDeleteLines(t){if(t.detail&&t.detail.index)this.splice("discountTiers",t.detail.index,1);else{for(let t=0,e=this.discountTiers.length;t<e&&this.discountTiers[t];t++)this.discountTiers[t].selected&&(this.splice("discountTiers",t,1),t--);this.set("model.selected",!1)}this._selectCheckboxes(!1),this._renumberLines(this.discountTiers,!0)}onSave(t){if(this.errors=void 0,this.tiers=this._processForSaving(),!this.tiers)return;let e;this.errors=void 0,this.action=t.currentTarget.attributes.id.value,this.discountSchedule[this.userDefinedField]&&this.lineModel.lineVO.record.Id===this.discountSchedule[this.quoteLineField]?(e={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleUpdaterService.uid=this.discountSchedule.Id,this.$.discountScheduleUpdaterService.model=e):(this.discountSchedule[this.quoteLineField]=this.lineModel.lineVO.record.Id,this.discountSchedule[this.userDefinedField]=!0,this.discountSchedule[this.originalScheduleField]=this.discountSchedule.Id,e={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleClonerService.model=e)}onCancel(){(0,o.BX)(o.zW.DELETE_GROUPS),this.dialogTapped=!1,this.dialogOverlapping=!1,this.set("model.fieldsEditable",!1),this.errors=void 0,this.schedule=void 0,this.discountSchedule=void 0,this.discountTiers=void 0,this.discountScheduleId=void 0,this.$.dialog.close()}_processForSaving(){let t=this._sortTiers(this.savedTiers),e=this._sortTiers(this.discountTiers);if(!t||!e)return null;let n=t.concat(e);this._renumberLines(n,!1),this.set("discountTiers",e),this._updateActions(),this._calculateDiscountAmounts(n),this._createTiers(n);let i=new us(this.discountSchedule,this.editorModel).validate(n);if(i.size>0)return this._createError(i),null;let o=[];return n.forEach(function(t){t.tiers.forEach(function(t){o.push(t)}.bind(this))}.bind(this)),this.discountSchedule[this.tiersField].records=o,this.discountSchedule[this.tiersField].totalSize=o.length,"Price"===this.discountUnit?(this.discountSchedule[this.discountUnitField]="amount",this.discountSchedule[this.usePriceForAmountField]=!0):this.discountSchedule[this.usePriceForAmountField]=!1,o}_setConstants(t){this.discountAmountField=t.DISCOUNT_AMOUNT_FIELD,this.discountScheduleField=t.DISCOUNT_SCHEDULE_FIELD,this.discountRateField=t.ADDITIONAL_DISCOUNT_RATE_FIELD,this.discountUnitField=t.DISCOUNT_UNIT_FIELD,this.lowerBoundField=t.LOWER_BOUND_FIELD,this.numberField=t.NUMBER_FIELD,this.originalScheduleField=t.ORIGINAL_SCHEDULE_FIELD,this.overrideBehaviorField=t.OVERRIDE_BEHAVIOR_FIELD,this.quantityField=t.QUANTITY_FIELD,this.quoteLineField=t.QUOTE_LINE,this.segmentKeyField=t.SEGMENT_KEY_FIELD,this.specialPriceField=t.SPECIAL_PRICE_FIELD,this.tierField=t.DISCOUNT_TIER_FIELD,this.tiersField=t.DISCOUNT_TIERS_FIELD,this.upperBoundField=t.UPPER_BOUND_FIELD,this.usePriceForAmountField=t.USE_PRICE_FOR_AMOUNT_FIELD,this.userDefinedField=t.USER_DEFINED_FIELD}_createError(t){let e=[];for(let n=0,i=this.discountTiers.length;n<i;n++){let i=this.discountTiers[n].template[this.numberField];t&&t.get(i)&&e.push(t.get(i))}e.length>0&&(this.errors=e)}_createActions(){if(!this.discountTiers)return;let t=[];for(let t=0,e=this.discountTiers.length;t<e;t++){let e=this._createRowActions(t);this.set("discountTiers.".concat(t,".rowActions"),e)}t.push({icon:"sb-icon-plus",position:"right",hidden:!0,invisible:!0}),t.push({icon:"sf-icon-delete",position:"right",hidden:!0,invisible:!0}),this.isMobile||this.set("model.headerActions",t)}_createRowActions(){return[{icon:"sb-icon-plus",title:"Add",position:"right",invisible:!1,hidden:!1,onTapFunction:function(){this.dispatchEvent((0,o.FU)("add-tapped",{index:this.index}))}},{icon:"sf-icon-delete",title:"Delete",position:"right",invisible:0==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),hidden:!1,onTapFunction:function(){this.dispatchEvent((0,o.FU)("delete-tapped",{index:this.index}))}}]}_retrieveVisibleRecords(t){let e=[],n=this.lineModel.lineVO.record[this.quantityField];if(t.forEach(function(t){let i=t[this.lowerBoundField],o=t[this.upperBoundField],r=this.discountSchedule[this.userDefinedField];if(!o)return n>=i||r?e.push(t):e;n>=i&&n>=o?this.savedTiers.push(new cs(t,this.discountSchedule)):(i<=n&&n<o||r&&i>n)&&e.push(t)}.bind(this)),0==e.length&&t.length>0){let i=t.length-1,o=t[0][this.lowerBoundField],r=t[i][this.upperBoundField],s=this._createBlankTierRecord();n<o?s[this.numberField]=1:n>=r&&(s[this.numberField]=t[i][this.numberField]+1,s[this.lowerBoundField]=r),e.push(s)}return e}_retrieveRecords(){let t=[];if(this.discountSchedule[this.tiersField])t=this.discountSchedule[this.tiersField].records,"Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]?(t=this._retrieveVisibleRecords(t),this.savedTiers.length>0&&(this.editorModel.disabledDiscountTier=t[0][this.numberField])):this.editorModel.disabledDiscountTier=void 0;else{let e=this._createBlankTierRecord();e[this.numberField]=1,t.push(e)}return t}_calculateDiscountAmounts(t){if(!t)return;let e=this.lineModel.lineVO.record[this.specialPriceField];t.forEach(function(t){let n=t.template;"Price"===this.discountUnit?(n.Price=n.Price||0===n.Price?n.Price:e-n[this.discountAmountField],n[this.discountAmountField]=e-n.Price):(n[this.discountRateField]=n[this.discountRateField]||0,n[this.discountAmountField]=n[this.discountAmountField]||0),n[this.constants.UPPER_BOUND_FIELD]||0==n[this.constants.UPPER_BOUND_FIELD]||(n[this.constants.UPPER_BOUND_FIELD]=null)}.bind(this))}_renumberLines(t,e){let n="Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]&&this.savedTiers.length>0?t[0].template[this.numberField]:1;for(let i=0,o=t.length;i<o;i++)t[i].template[this.numberField]!=n&&(e?this.set("discountTiers.".concat(i,".template.").concat(this.numberField),n):t[i].template[this.numberField]=n),n++}_sortTiers(t){let e=[],n={},i=[];return t.forEach(function(t){let i=t.template[this.lowerBoundField];if(n[i])return this.errors=[this.editorModel.data.customLabels.msg_identical_lower_bounds],null;e.push(i),n[i]=t}.bind(this)),e.sort((function(t,e){return t-e})),e.forEach(function(t){let e=n[t];i.push(e)}.bind(this)),i}_createTiers(t){let e=this.editorModel.data.settings.currencyIsoCodes;t.forEach(function(t){t.tiers=[],e?e.forEach(function(e){if(e==this.currencyCode)return t.template.CurrencyIsoCode=e,void t.tiers.push(t.template);"Percent"!==this.discountUnit&&t.tiers.push(this._createMultiCurrencyRecord(t.template,e))}.bind(this)):t.tiers.push(t.template)}.bind(this))}_selectCheckboxes(t){if(this.discountTiers)for(let e=1,n=this.discountTiers.length;e<n;e++)this.discountTiers[e]&&this.set("discountTiers.".concat(e,".selected"),t)}_createMultiCurrencyRecord(t,e){let n=JSON.parse(JSON.stringify(t));return n.CurrencyIsoCode=e,n[this.discountAmountField]=0,n[this.discountRateField]=n[this.discountRateField]||0,delete n.Price,n}_createBlankTierRecord(){let t={};return this.fieldsArray.forEach(function(e){t[e]=null,t.CurrencyIsoCode=this.currencyCode,t[this.discountAmountField]=0,t[this.discountRateField]=0}.bind(this)),t}_handleIconAction(t){let e=t.detail.event.type,n=t.detail.model;switch(this.lineModel=this.editorModel.quoteModel.lineModelsByKey[n.serviceModel.keys[0]],this.discountScheduleId=n.serviceModel.scheduleId,e){case"mouseenter":this.isMobile||this.dialogTapped||(this._toggleDialogClasses(!0),this.$.dialog.open());break;case"mouseleave":this._closeDialogDebouncer=Rt.dx.debounce(this._closeDialogDebouncer,jt.Wc.after(1),(()=>{this.isMobile||this.dialogTapped||this.dialogOverlapping||this.onCancel()}));break;case"click":this._openDialog()}}_openDialog(){this.dialogTapped||(this.dialogTapped=!0,this.$.dialog.open(),this._toggleDialogClasses(!1))}_toggleDialogClasses(t){let e=this.$.dialog.shadowRoot,n=e.querySelector(".sbDialog");(0,A.og)("boxShadow",t,n),(0,A.og)("noMarginBottom",t,e.querySelector("#content"))}_handleDialogTap(){this.addEventListener("sb-tap-ds",function(){!this.isMobile&&this.dialogOverlapping&&this._openDialog()}.bind(this))}_handleDialogMouseEvents(){if(this.isMobile)return;let t=this.$.dialog.shadowRoot.querySelector(".sbDialog");t.addEventListener("mouseenter",function(){this.dialogTapped||(this.dialogOverlapping=!0)}.bind(this)),t.addEventListener("mouseleave",function(){!this.dialogTapped&&this.dialogOverlapping&&this.onCancel()}.bind(this))}_toggleEditableClasses(){this.set("model.fieldsEditable",this.editable&&this.dialogTapped),this.discountTiers&&(this._setDisabled(),this._updateActions())}_updateActions(){for(let t=0,e=this.discountTiers.length;t<e;t++){let e=this.discountTiers[t].rowActions;if(e)for(let n=0,i=e.length;n<i;n++){let i=0==t&&"sf-icon-delete"==e[n].icon;this.set("discountTiers.".concat(t,".rowActions.").concat(n,".hidden"),!this.model.fieldsEditable),this.set("discountTiers.".concat(t,".rowActions.").concat(n,".invisible"),i)}}if(!this.isMobile&&this.model.headerActions)for(let t=0,e=this.model.headerActions.length;t<e;t++)this.set("model.headerActions.".concat(t,".hidden"),!this.model.fieldsEditable)}_setDisabled(){for(let t=0,e=this.discountTiers.length;t<e;t++)this.set("discountTiers.".concat(t,".disabled"),!this.model.fieldsEditable)}_setDSFields(){let t,e=this.editorModel.quoteModel.quoteVO;this.discountSchedule[this.constants.QUOTE]=e.record.Id,e.record[this.constants.ACCOUNT_FIELD]?t=e.record[this.constants.ACCOUNT_FIELD].Id:e.record[this.constants.OPPORTUNITY_FIELD]&&(t=e.record[this.constants.OPPORTUNITY_FIELD].AccountId),this.discountSchedule[this.constants.ACCOUNT_ID_FIELD]=t}_isFieldShown(t){return("Percent"!==this.discountUnit||t!==this.discountAmountField)&&(("Amount"!==this.discountUnit||t!==this.discountRateField)&&("Price"!==this.discountUnit||t!==this.discountRateField&&t!==this.discountAmountField))}_buildTabData(){let t=[],e=["Details","Tiers"];if(this.tabs!==t){for(let n=0,i=e.length;n<i;n++){let i,o,r=e[n],s="t"+n;"Details"===r?(i=["data","fieldNames","md","numColumns","disabled"],o="sb-field-table"):"Tiers"===r&&(i=["discountTiers","model","editorModel"],o="sb-ds-tiers"),t.push({name:s,label:r,bind:i,pageComponent:o})}this.tabs=t}}_getPriceScale(){const t=this.discountSchedule[this.constants.PRICE_SCALE_FIELD];return null!=t?t:this.editorModel.data.settings.priceScale}viewportChanged(){this.isMobile=!(!this.viewport||!this.viewport.isMobile())}static get template(){return(0,Qt.dy)(Ts||(Ts=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-dialog-styles sb-tables-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<sb-service id="discountScheduleUpdaterService" saver="QuoteLineEditorServiceProvider.DiscountScheduleUpdater" cache="DiscountSchedules" response={{discountScheduleResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="discountScheduleClonerService" saver="QuoteLineEditorServiceProvider.DiscountScheduleCloner" response={{discountScheduleResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="loadDiscountScheduleService" loader="DiscountScheduleServiceProvider" cache="DiscountSchedules" response="{{schedule}}" error="{{error}}"></sb-service>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog id="dialog"\n\t\t\t\t\t\tmodal="[[dialogTapped]]"\n\t\t\t\t\t\thide-close-icon="[[!dialogTapped]]"\n\t\t\t\t\t\tclose-dialog="sb-cancel-ds"\n\t\t\t\t\t\thide-cancel-button="[[!dialogTapped]]"\n\t\t\t\t\t\ttap-dialog="sb-tap-ds">\n\t\t\t\t\t\t<i slot="icon" class="icon sf-icon-discountscheduleicons-02"></i>\n\t\t\t\t\t\t<div slot="title" class="title"><sb-i18n>Discount Schedule Editor</sb-i18n></div>\n\t\t\t\t\t<div slot="content" class="content" id="content">\n\t\t\t\t\t\t<sf-loading-spinner show="[[showSpinner]]"></sf-loading-spinner>\n\t\t\t\t\t\t<div hidden$="[[showSpinner]]">\n\t\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[isMobile]]">\n\t\t\t\t\t\t\t\t<sb-tabs id="dsTabs"\n\t\t\t\t\t\t\t\t\t\ttabs="[[tabs]]"\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tdata="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\tmd="[[fieldTableData]]"\n\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\tdiscount-tiers="{{discountTiers}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\tdisabled="[[!model.fieldsEditable]]"\n\t\t\t\t\t\t\t\t\t\tselected-tab-index="0">\n\t\t\t\t\t\t\t\t</sb-tabs>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobile]]">\n\t\t\t\t\t\t\t\t<sb-field-table data="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\t\t\tfield-names="[[fieldNames]]"\n\t\t\t\t\t\t\t\t\t\t\t\tmd="[[fieldTableData]]"\n\t\t\t\t\t\t\t\t\t\t\t\tnum-columns="2"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled="[[!model.fieldsEditable]]">\n\t\t\t\t\t\t\t\t</sb-field-table>\n\t\t\t\t\t\t\t\t<sb-ds-tiers discount-schedule="{{discountSchedule}}"\n\t\t\t\t\t\t\t\t\t\t\tdiscount-tiers="{{discountTiers}}"\n\t\t\t\t\t\t\t\t\t\t\tmodel="{{model}}"\n\t\t\t\t\t\t\t\t\t\t\teditor-model="[[editorModel]]">\n\t\t\t\t\t\t\t\t</sb-ds-tiers>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="dom-if" if="[[model.fieldsEditable]]">\n\t\t\t\t\t\t<paper-button slot="paper-button" noink class="primary" id="save" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="update" on-click="onSave"><sb-i18n>Update</sb-i18n></paper-button>\n\t\t\t\t\t\t<template is="dom-if" if="[[showRevertBtn]]">\n\t\t\t\t\t\t\t<paper-button slot="paper-button" noink class="sf-icon-undo" on-click="onRevert"></paper-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="deleteLines" on-click="onDeleteLines"><sb-i18n>Delete</sb-i18n></paper-button>\n\t\t\t\t\t\t<paper-button slot="paper-button" noink id="addLine" on-click="onAddLine"><sb-i18n>Add</sb-i18n></paper-button>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Es)}}customElements.define(Bs.is,Bs);const Ps=(0,zt.f)(Ms||(Ms=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 420px;\n  --sbDialogMinWidth: 420px;\n  --sbToastMinWidth: 300px;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n  max-height: 400px;\n}\n:host .content input {\n  font-size: 14px;\n  min-width: 220px;\n  height: 24px;\n  padding: 0 10px;\n  margin-left: 20px;\n}\n:host .content[class*='--mobile'] {\n  width: 100%;\n  padding-top: 60px;\n  text-align: center;\n}\n:host .content sb-i18n[class*='--mobile'] {\n  font-size: 24px;\n}\n:host .content input[class*='--mobile'] {\n  width: 80%;\n  margin: 40px 0 4px 0;\n  font-size: 20px;\n  text-align: left;\n  border: 1px solid #D8DDE6;\n  height: 30px;\n}\n:host [class*='--mobile'] .content {\n  width: 100%;\n  padding-top: 60px;\n  text-align: center;\n}\n:host [class*='--mobile'] .content sb-i18n {\n  font-size: 24px;\n}\n:host [class*='--mobile'] .content input {\n  width: 80%;\n  margin: 40px 0 4px 0;\n  font-size: 20px;\n  text-align: left;\n  border: 1px solid #D8DDE6;\n  height: 30px;\n}\n"])));var Ds,As;class Ls extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-favorite-dialog"}static get properties(){return{favName:String}}ready(){super.ready(),this.addEventListener("sb-cancel-fav",this.onCancel)}onSave(){if(""==this.favName||void 0===this.favName)return void(this.errors=["Favorite name cannot be left blank."]);let t=[];if(this.favoritedGroup){let e=this.groupLines.length;for(let n=0;n<e;n++)this.groupLines[n].component||t.push(this.groupLines[n].lineVO.key)}else t.push(this.favoritedLine[0]);this.dispatchEvent((0,o.FU)("sb-favorite-saved",{keys:t,name:this.favName,groupKey:this.favoritedGroup})),this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}onCancel(){this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}static get template(){return(0,Qt.dy)(Ds||(Ds=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-fav"\n\t\t\t\t>\n\t\t\t\t\t<i slot="icon" class="icon sb-icon-star"></i>\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Add to Favorites</sb-i18n>\n\t\t\t\t\t</div>\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onSave"\n\t\t\t\t\t\t><sb-i18n>Save</sb-i18n></paper-button\n\t\t\t\t\t>\n\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<sb-i18n class="favNameText">Favorite Name</sb-i18n>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass="favNameInput"\n\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\tvalue="{{favName::input}}"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Ps)}}customElements.define(Ls.is,Ls);const Fs=(0,zt.f)(As||(As=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  --sbDialogMaxHeight: 600px;\n  --sbDialogMinWidth: 600px;\n  --sbToastMinWidth: 300px;\n}\n:host .content {\n  text-align: var(--sbDialogContentTextAlign, left);\n  font-size: var(--sbDialogContentFontSize, 14px);\n  max-height: 400px;\n  max-width: 900px;\n}\n:host .content .guidanceTable {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n}\n:host .content .Reasoning-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  text-align: left;\n  width: 49%;\n  padding-left: 10px;\n}\n:host .content .Target-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  text-align: center;\n  font-weight: 900;\n  width: 17%;\n}\n:host .content .Norm-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  font-weight: 500;\n  text-align: center;\n  width: 17%;\n}\n:host .content .Floor-header {\n  display: table-cell;\n  font-size: 1.286rem;\n  font-weight: 300;\n  text-align: center;\n  width: 17%;\n}\n:host .content .Reasoning-detail {\n  display: table-cell;\n  width: 49%;\n  text-align: left;\n  vertical-align: top;\n  padding-top: 8px;\n  padding-left: 10px;\n  padding-bottom: 10px;\n}\n:host .content .Target-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 900;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .Norm-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 500;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .Floor-detail {\n  display: table-cell;\n  width: 17%;\n  font-size: 1.714rem;\n  font-weight: 300;\n  text-align: center;\n  vertical-align: top;\n  padding-top: 8px;\n}\n:host .content .rowWrapper {\n  overflow-x: auto;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .content .rowWrapper .htmlField ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host .content .rowWrapper .htmlField ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host .content ul.grid {\n  width: fit-content;\n  display: flex;\n  padding: 0.75rem 0 0.75rem 0;\n  max-height: 25rem;\n}\n:host .content li.detail-block {\n  padding-right: 2rem;\n  padding-bottom: 4px;\n}\n:host .content li.detail-block div.body {\n  font-weight: bold;\n  padding-top: 4px;\n  padding-bottom: 8px;\n  text-transform: uppercase;\n}\n:host .content div.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-top: 4px;\n}\n:host .content[class*='--mobile'] {\n  width: 100%;\n  padding-top: 24px;\n  text-align: center;\n}\n:host .content sb-i18n[class*='--mobile'] {\n  font-size: 14px;\n}\n:host .content .mobile-Reasoning-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n}\n:host .content .mobile-Target-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n  padding-top: 24px;\n}\n:host .content .mobile-Norm-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host .content .mobile-Floor-header[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host .content .mobile-Target-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 900;\n}\n:host .content .mobile-Norm-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host .content .mobile-Floor-detail[class*='--mobile'] {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host .content .mobile-Reasoning-detail[class*='--mobile'] {\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: justify;\n  font-size: 1.143rem;\n}\n:host [class*='--mobile'] .content {\n  width: 100%;\n  padding-top: 24px;\n  text-align: center;\n}\n:host [class*='--mobile'] .content sb-i18n {\n  font-size: 14px;\n}\n:host [class*='--mobile'] .content .mobile-Reasoning-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n}\n:host [class*='--mobile'] .content .mobile-Target-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 900;\n  padding-top: 24px;\n}\n:host [class*='--mobile'] .content .mobile-Norm-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Floor-header {\n  padding-left: 20px;\n  font-size: 1.286rem;\n  text-align: left;\n  text-transform: uppercase;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Target-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 900;\n}\n:host [class*='--mobile'] .content .mobile-Norm-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Floor-detail {\n  padding-left: 20px;\n  font-size: 1.714rem;\n  text-align: left;\n  font-weight: 300;\n}\n:host [class*='--mobile'] .content .mobile-Reasoning-detail {\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: justify;\n  font-size: 1.143rem;\n}\n:host paper-button[aria-disabled=\"true\"] {\n  background-color: lightgrey;\n}\n"])));var qs;class Ns extends((0,Lt.Q)(Qt.H3)){static get is(){return"sb-pricing-guidance-dialog"}static get properties(){return{lineVO:Object,isPricingRecommendationAvailable:Boolean,pricingGuidanceArray:Array,isPricingGuidanceAvailable:Boolean,isMobileDevice:Boolean,quoteLineObjectArray:Array}}ready(){super.ready(),this.addEventListener("sb-cancel-fav",this.onCancel)}onAcceptPricingGuidance(){this.dispatchEvent((0,o.FU)("sb-accept-pricing-guidance",{lineVO:this.lineVO,headerValues:this.headerValues,lineItemValues:this.lineItemValues})),this.$.dialog.toggle()}onCancel(){this.$.dialog.toggle(),this.properties.lineVO={},this.properties.isPricingRecommendationAvailable=!1,this.properties.pricingGuidanceArray=[],this.properties.isPricingGuidanceAvailable=!1,this.properties.isMobileDevice=!1,this.properties.quoteLineObjectArray=[]}getPricingGuidanceValue(t,e){return t[e]}static get template(){return(0,Qt.dy)(qs||(qs=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style include="sb-dialogs-styles"></style>\n\t\t\t<style>','</style>\n\t\t\t<div device>\n\t\t\t\t<sb-dialog\n\t\t\t\t\tid="dialog"\n\t\t\t\t\tmodal="true"\n\t\t\t\t\tclose-dialog="sb-cancel-fav"\n\t\t\t\t>\n\t\t\t\t\t<i slot="icon" class="icon sf-icon-target"></i>\n\n\t\t\t\t\t<div slot="title" class="title">\n\t\t\t\t\t\t<sb-i18n>Pricing Guidance</sb-i18n>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<paper-button\n\t\t\t\t\t\tslot="paper-button"\n\t\t\t\t\t\tnoink\n\t\t\t\t\t\tclass="primary"\n\t\t\t\t\t\ton-click="onAcceptPricingGuidance"\n\t\t\t\t\t\tdisabled$="[[!isPricingRecommendationAvailable]]"\n\t\t\t\t\t>\n\t\t\t\t\t\t<sb-i18n>Accept Recommendation</sb-i18n>\n\t\t\t\t\t</paper-button>\n\n\t\t\t\t\t<div slot="content" class="content">\n\t\t\t\t\t\t<sb-toast type="error" messages="{{errors}}"></sb-toast>\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[!isPricingGuidanceAvailable]]"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t[[pricingGuidanceRecord.errorMessage]]\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\tis="dom-if"\n\t\t\t\t\t\t\tif="[[isPricingGuidanceAvailable]]"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[!isMobileDevice]]">\n\t\t\t\t\t\t\t\t<table class="topContentTable">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table class="guidanceTable">\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass$="guidanceHeader [[item.name]]-header"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.displayName]]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class$="guidanceDetail [[item.name]]-detail">[[item.value]]</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t\t\t&nbsp;\n\n\t\t\t\t\t\t\t\t<div class="rowWrapper"></div>\n\t\t\t\t\t\t\t\t<div class="rowWrapper">\n\t\t\t\t\t\t\t\t\t<ul class="grid">\n\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\t\t\titems="[[quoteLineObjectArray]]"\n\t\t\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<li class="detail-block">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="truncate body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.key]]\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="truncate">\n\t\t\t\t\t\t\t\t\t\t\t\t\t[[item.value]]\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template is="dom-if" if="[[isMobileDevice]]">\n\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\tis="dom-repeat"\n\t\t\t\t\t\t\t\t\titems="[[pricingGuidanceArray]]"\n\t\t\t\t\t\t\t\t\tas="item"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li class="mobileDevice">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass$="mobileDevice mobile-[[item.displayName]]-header"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t[[item.displayName]]\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass$="mobileDevice mobile-[[item.displayName]]-detail"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t[[item.value]]\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</sb-dialog>\n\t\t\t</div>\n\t\t'])),Fs)}}customElements.define(Ns.is,Ns);var Rs;n(5799);class js extends((0,qt.J)((0,Lt.Q)(Qt.H3))){static get is(){return"sb-le-custom-action-services"}static get properties(){return{editorModel:Object,eventDetail:Object,response:{type:Object,notify:!0},error:{notify:!0,observer:"_errorChanged"}}}_executeServiceAction(t,e,n){let i=e||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);this.editorModel&&(this._usesClientCalculator()&&this.sortLines(this.editorModel.quoteModel.quoteVO,!1),this.editorModel.quoteModel.quoteVO.lineItems=this._reorderLineItems(),this._reorderGroups());let o=this.editorModel?this.editorModel.quoteModel.quoteVO:this.data.quote;const r=n&&i?n(o,i):o.lineItems;let s=o.lineItems;o.partialVO=s.length!=r.length,o.lineItems=r;let a=this.data.settings.largeQuoteThreshold,l=a&&o.lineItems.length>a;if(("saveService"===t||"quickSaveService"===t)&&l&&SB&&SB.QuoteDAO)return o.lineItems=s,o.partialVO=!1,void this._saveLargeQuote(o,t);const d={cleanRootProperty:"record",cleanPathFromRoot:["ui_original_record"],keepIfDirtyWhenParentContains:"attributes",keepIfDirtyAllowList:{type:["".concat(this.prefix,"QuoteLineConsumptionSchedule__c"),"".concat(this.prefix,"QuoteLineConsumptionRate__c")]}};i?(this.$[t].model=void 0,i.quote=new Kr.$(!0,null,null,d).format(o),this.$[t].model=i):(this.$[t].model=void 0,this.$[t].model=new Kr.$(!0,null,null,d).format(o)),o.lineItems=s,o.partialVO=!1}_executeQuotelessServiceAction(t,e){let n=e||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);n?(this.$[t].model=void 0,this.$[t].model=n):console.log("no service model means nothing to do")}_saveLargeQuote(t,e){for(let e of t.lineItemGroups)e.record.attributes||(e.record.attributes={type:"".concat(this.prefix,"QuoteLineGroup__c")});const n=this.app.org.prefix;Promise.resolve().then((()=>this.data.settings.enableLQTValidations?(0,rt.em)("validationErrorConditionDependencies",[]).then((e=>{if(e.errors)throw this.isSaveProcessing=!1,new Error((0,$r.Z)(e.errors));return this.$.productRuleValidator.load({uid:t.record.Id,context:{quote:t.record,quoteLineGroups:t.lineItemGroups.map((t=>t.record)),quoteLines:t.lineItems.map((t=>(0,A.eK)(t.record,e.fields)))}})})):[])).then((t=>{if(t.length>0)throw this.isSaveProcessing=!1,new Error((0,$r.Z)(t));return new a.y(n).getConnection()})).then((e=>new SB.QuoteDAO(n,e,this.data.settings).saveQuote(t).then((()=>{let i=new SB.QuoteOpportunitySynchronizer(this.data.settings,e,n),o=[];return o.push(i.updateOpportunityProducts(t)),o.push(this._checkIfRecordJobFailed()),Promise.all(o)})))).then((t=>"Failed"!==t[1]?Promise.resolve():this._setRecordJob("Completed"))).then((()=>this._handleLargeQuoteSaveResponse(e))).catch((t=>{this.isSaveProcessing=!1,this.error=this.$[e].createError(t),this.showSpinner=!1;const n=t.message||t,i=t.stack||t;this._setRecordJob("Failed",n,i)}))}_checkIfRecordJobFailed(){const t={recordId:this.editorModel.quoteModel.quoteVO.record.Id,jobType:"QuoteCalculator"};return this.$.getRecordJobStatus.load({context:t})}_setRecordJob(t,e,n){const i={recordIds:[this.editorModel.quoteModel.quoteVO.record.Id],jobType:"QuoteCalculator",jobStatus:t,jobDetails:e,stacktrace:n};return this.$.setJobStatus.save({model:i})}_handleLargeQuoteSaveResponse(t){if("saveService"===t)this.saverResponse="SUCCESS";else if("quickSaveService"===t){this._reloadEditor(),this._getDomHost().$.sbLineEditorRead.update(!0)}}_reorderLineItems(){let t=[],e=this.editorModel.quoteModel.lineGroups;for(let n=0,i=e.length;n<i;n++){let i=e[n];for(let e=0,n=i.dimensions.length;e<n;e++){let n=i.dimensions[e],o=i.segmentedLinesByDimension[n];for(let e=0,n=o.length;e<n;e++){let n=o[e].segments;for(let e=0,i=n.length;e<i;e++)t.push(n[e].lineVO)}}for(let e=0,n=i.standardLines.length;e<n;e++)t.push(i.standardLines[e].lineVO)}return t}_reorderGroups(){let t=(0,A.GC)(this).groupModels;for(let e=0;e<t.length;e++)t[e].groupVO.record[this.editorModel.constants.NUMBER_FIELD]=e+1}updateUIAfterCalculate(t){let e=t.lineSortField&&t.lineSortField==this.editorModel.constants.NUMBER_FIELD;(0,A.GC)(this).updateAfterJSQC(this.notifier,e),this.sortLines(t,!0)||(0,o.BX)(o.zW.REFRESH_TABLE)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,o.oW)(this,this._getEventListners())}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this._getEventListners())}_getEventListners(){return{"sb-favorite-saved":"_saveFavorite","sb-clone-to-group-selected":"_cloneToGroup","job-completed":"_jobCompleted","sb-accept-pricing-guidance":"_onAcceptPricingGuidance"}}_saveFavorite(t){this._executeServiceAction("favoriteLinesService",{keys:t.detail.keys,favName:t.detail.name,groupKey:t.detail.groupKey},((t,e)=>{let n=null==t.lineItems||0==t.lineItems.length,i=null==e.keys||0==e.keys.length;if(n||i)return[];let o=new Set,r=e=>{o.add(e),t.lineItems.forEach((t=>{t.parentItemKey===e&&(o.add(t.key),t.record[this.data.developerPrefix+"Bundle__c"]&&r(t.key))}))};e.keys.forEach(r);let s=[];return t.lineItems.forEach((t=>{o.has(t.key)&&s.push(t)})),s}))}static get observers(){return["_executeCustomAction(eventDetail)","_handleCalculateResponse(calculateResponse)","_checkForGuidedMessages(saverResponse)","_reloadEditor(quoteEditorModelResponse)","_handleFavoriteResponse(favoriteResponse)","_handleUnfavoriteResponse(unfavoriteResponse)","_handleResegmentResponse(resegmentResponse)","_updateQuote(quoteVOResponse)","_handleToggleGroupResponse(toggleGroupResponse)","_handlePopupResponse(popupResponse)"]}_errorChanged(){this.isSaveProcessing=!1}_handleFavoriteResponse(){(0,A.GC)(this).updateQuote(this.favoriteResponse,((t,e)=>{let n=e.lineItems,i=n.length;t.lineItems&&0!==t.lineItems.length&&t.lineItems.forEach((t=>{let e=t.key;for(let o=0;o<i;o++)if(n[o].key===e){n[o]=t;break}}));let o=e.lineItemGroups,r=o.length;return t.lineItemGroups&&0!==t.lineItemGroups.length&&t.lineItemGroups.forEach((t=>{let e=t.key;for(let n=0;n<r;n++)if(o[n].key===e){o[n]=t;break}})),t.lineItems=n,t.lineItemGroups=o,t}))}_handleUnfavoriteResponse(){this._removeFavoritesFromQuote(this.unfavoriteResponse)}_removeFavoritesFromQuote(t){let e=new Set(t),n=this.editorModel.constants.FAVORITE_ID_FIELD;if(this.editorModel.quoteModel.quoteVO.lineItems.forEach((t=>{e.has(t.record[n])&&(t.record[n]=null)})),this.editorModel.quoteModel.quoteVO.lineItemGroups.forEach((t=>{e.has(t.record[n])&&(t.record[n]=null)})),this.editorModel.quoteModel.quoteVO.favoriteIds){let t=this.editorModel.quoteModel.quoteVO.favoriteIds;this.editorModel.quoteModel.quoteVO.favoriteIds=t.filter((t=>!e.has(t)))}this._updateQuote(this.editorModel.quoteModel.quoteVO)}_executeCustomAction(){let t=this.eventDetail.customAction;"function"==typeof this[t.eventHandlerName]?this[t.eventHandlerName]():t.url&&t.urlTarget?this._executeCustomURLAction(t.url,t.urlTarget,this.eventDetail.model):this._executeServiceAction(this.eventDetail.customAction.eventHandlerName)}onSaveAndNavigate(){this.onSave()}_executeCustomURLAction(t,e,n){switch(n.modelType){case"QuoteModel":this.model=n.quoteVO;break;case"LineModel":this.model=n.lineVO;break;case"GroupModel":this.model=n.groupVO;break;default:this.model=n.quoteVO||n.lineVO||n.groupVO}let i=this._parseURL(t,this.model,this.editorModel.quoteModel);"Popup"===e?this._handlePopup(i,this.model.record):this._navigateToURL(i)}_handleCalculateResponse(){let t=this.calculateResponse;t&&(null!=t.jobId?this._onJobChecker(t):this._updateQuote(t))}_updateQuote(t){(0,A.GC)(this).updateQuote(t)}_checkForGuidedMessages(){this.isSaveProcessing=!1,this.saverResponse.guidedMessages&&this.saverResponse.guidedMessages.length>0?((0,A.GC)(this).handleProductRuleAlertModal("saveService",this.saverResponse),this.showSpinner=!1):this.navigateToReturnUrl(!0)}navigateToReturnUrl(t){if(t&&this.saverResponse&&this.saverResponse.messages&&this.saverResponse.messages.length>0)return this.showSpinner&&(this.showSpinner=!1),void((0,A.GC)(this).error={validations:this.saverResponse.messages});let e="";if("onSaveAndNavigate"===this.eventDetail.customAction.eventHandlerName)e=this._parseURL(this.eventDetail.customAction.url,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel);else{let t=this.editorModel.quoteModel.quoteVO.record.Id;if(e=this.eventDetail.customAction.record?this.eventDetail.customAction.record[this.editorModel.constants.RETURN_URL_FIELD]:null,e&&(e=this._parseURL(e,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel),15!==e.length&&18!==e.length||!e.match(/^[a-zA-Z0-9]*$/)||(t=e,e=null)),this._getDomHost().inFullScreenMode&&this._getDomHost().exitFullScreenMode(),window.parent.postMessage({acknowledgement:"I acknowledge that this is an unsupported feature that may stop working at any time.",recordId:t},"*"),!e){if(this._isLightningExperience()){let e=this._getRecordIdsToRefresh(t);return window.SfdcApp&&window.SfdcApp.projectOneNavigator&&window.SfdcApp.projectOneNavigator.fireContainerEvent("force__vfGetRecordNotifyChange",{recordIds:e},!0),sforce.one.navigateToSObject(t),this._closeSubTab(),void(this.showSpinner&&(this.showSpinner=!1))}if("undefined"!=typeof Sfdc&&Sfdc&&Sfdc.Url){const e=Sfdc.Url.getUrlParameters(window.location.href);if(this._areUrlParamsValid(e))return void this._navigateByWindowLocation("".concat(this.editorModel.communityPrefix,"/").concat(t,"?isdtp=").concat(e.isdtp))}}e=e||this.editorModel.communityPrefix+"/"+t}this.showSpinner&&(this.showSpinner=!1),this._navigateToURL(e,!0)}_getRecordIdsToRefresh(t){let e=[{recordId:t}];(this.editorModel.quoteModel.quoteVO.lineItems||[]).forEach((function(t){t.record.Id&&e.push({recordId:t.record.Id})}));(this.editorModel.quoteModel.lineGroups||[]).forEach((function(t){t.groupVO.record.Id&&e.push({recordId:t.groupVO.record.Id})}));(this.editorModel.quoteModel.quoteVO.deletedLineIds||[]).forEach((function(t){e.push({recordId:t})}));return(this.editorModel.quoteModel.quoteVO.deletedGroupIds||[]).forEach((function(t){e.push({recordId:t})})),e}_areUrlParamsValid(t){return t&&("nv"===t.isdtp||"vw"===t.isdtp)}_closeSubTab(){if(sforce&&sforce.console)try{sforce.console.getEnclosingTabId((t=>{sforce.console.closeTab(t.id)}))}catch(t){}}_reloadEditor(){(0,A.GC)(this).destampGroups(),(0,A.GC)(this).md=void 0,this._clearAppliedUbpChanges(),(0,Nt.T8)(this,(function(){let t=this.editorModel.data.settings.largeQuoteThreshold;(null==t||this.editorModel.quoteModel.quoteVO.lineItems.length<=t)&&((0,A.GC)(this).rawData=this.quoteEditorModelResponse,this.quoteEditorModelResponse.guidedMessages&&this.quoteEditorModelResponse.guidedMessages.length>0&&((0,A.GC)(this).$.productAlertModal.displayContinueButton=!1,(0,A.GC)(this).handleProductRuleAlertModal("quickSaveService",this.quoteEditorModelResponse))),(0,Nt.T8)(this,(function(){this.showSpinner=!1,(0,o.BX)(o.zW.TOGGLE_QUICKSAVE,{enable:!0})}))}))}_handleToggleGroupResponse(){(0,A.GC)(this).set("editorModel.quoteModel.quoteVO",this.toggleGroupResponse),(0,A.GC)(this).shadowRoot.querySelector("#quoteTabs")&&(0,A.GC)(this).shadowRoot.querySelector("#quoteTabs").destroyTabs();let t=this.editorModel.quoteModel,e=t.quoteVO.lineItemGroups;if(t.grouped){(0,A.GC)(this).set("editorModel.quoteModel.grouped",!1),(0,A.GC)(this).rightSideButton=!1,(0,o.BX)(o.zW.CLOSE_GROUP_PANEL);for(let t=0;t<(0,A.GC)(this).groupModels.length;t++)(0,A.GC)(this).set("groupModels."+t+".groupVO",{})}else"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(e[0].record),this.set("editorModel.quoteModel.grouped",!0),this.set("editorModel.quoteModel.quoteVO.lineItemGroups",t.quoteVO.lineItemGroups);this._updateQuote(t.quoteVO),(0,A.GC)(this).viewport.isMobile()&&(0,A.GC)(this).buildQuoteTabs(),(0,A.GC)(this).quoteHasNoLines()}_handlePopupResponse(){switch(this.popupResponse.action){case"save":this.onSave();break;case"quicksave":this.onQuickSave();break;case"reload":this._reload()}}_reload(){window.location.reload()}_handlePopup(t,e){let n=this.$.popup;n.url=t,n.messenger=new Zr(this.editorModel,e),n.open()}_parseURL(t,e,n){return t.replace(/{!(.*?)}/g,function(t,i){let o,r=i.split("."),s=r[0];s==this.app.org.prefix+"__Quote__c"||s==this.app.org.prefix+"__Quote__r"||"Quote__c"==s||"Quote__r"==s?(o=n.quoteVO.record,r.shift()):s===this.app.org.prefix+"__Group__c"||s===this.app.org.prefix+"__Group__r"||"Group__c"==s||"Group__r"==s?(o=n.groupsByKey[this.model.parentGroupKey].groupVO.record,r.shift()):o=e.record;for(let t=0;t<r.length;t++){if(t===r.length-1)return o[r[t]];o=o[r[t]]}}.bind(this))}_navigateToURL(t,e){this._isLightningExperience()?i.I.user.inCommunity?this._navigateInLightningCommunity(t,e):sforce.one.navigateToURL(t,!!e):this._navigateByWindowLocation(t)}_navigateInLightningCommunity(t,e){if(t)if(t.startsWith("http"))sforce.one.navigateToURL(t,!!e);else{let n=t;n.startsWith("/")||(n="/"+n),n=this.editorModel.communityPrefix+n,sforce.one.navigateToURL(n,!!e)}}_navigateByWindowLocation(t){window.location.href=t}_isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}onFlagCalculate(t,e,n){(0,A.GC)(this).errors=null,this._usesClientCalculator()?((0,A.GC)(this).calculateGetCacheArray=[],this._jsqcCalculate(t).then(function(t){return e||t.updateQuoteRequired?(this.data.quote.calculationRequired=!1,void this._updateQuote(t.value)):this.data.quote.calculationRequired?(this.data.quote.calculationRequired=!1,t.value.lineSortField&&t.value.lineSortField!=this.data.developerPrefix+"Number__c"&&(t.value.lineItems=new ts(this.data.developerPrefix).sortLineItems(t.value.lineItems,t.value.lineSortField)),void(0,A.GC)(this)._createEditorModel((0,A.GC)(this).data,(0,A.GC)(this).md)):(this.updateUIAfterCalculate(t.value),void("function"==typeof n&&n(t.value)))}.bind(this),function(t){"function"==typeof n&&n(),void 0===this.editorModel?(this.$.alertModal.displayContinueButton=!1,this.$.alertModal.cancelCB=function(){location.reload()}.bind(this),this.$.alertModal.alerts=[t.message]):(0,A.GC)(this).error=t}.bind(this))):(this.$.calculateService.model=void 0,this.$.calculateService.background=!1===t,this._executeServiceAction("calculateService"),"function"==typeof n&&n())}onSave(){this.isSaveProcessing?console.log("A save request is already processing, ignoring this subsequent request"):(this.isSaveProcessing=!0,this.showSpinner=!0,this.$.saveService.background=!0,this._save("saveService"))}onQuickSave(){if(this.$.quickSaveService.uid=this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15),this.showSpinner=!0,this.$.quickSaveService.background=!0,(0,A.GC)(this).$.sbLineEditorRead.clearCache(),this.editorModel.largeQuoteExperienceEnabled){let t=this.editorModel.quoteModel.lineGroups;for(let e=0,n=t.length;e<n;e++)if(t[e].groupKey==(0,A.GC)(this).selectedGroupKey){(0,A.GC)(this).returnGroupKeyAfterQuickSave=e+2;break}}else(0,A.GC)(this).returnGroupKeyAfterQuickSave=null;this._save("quickSaveService"),(0,o.BX)(o.zW.QUOTE_SAVED)}onCancel(){this.showSpinner=!0,this.navigateToReturnUrl()}onAddProducts(){this._navigateToLookup("product")}onAddFavorites(){this._navigateToLookup("favorite")}onDeleteLines(){if(this._usesClientCalculator()){let t=new Set;if(this._retrieveKeysOfSelected().forEach((e=>{t.add(e)})),this._deleteLines(t,this.editorModel.quoteModel.quoteVO,!0),(0,A.GC)(this).renumber(),this.onFlagCalculate(!0,!1),(0,A.GC)(this).quoteHasNoLines(),this.editorModel.largeQuoteExperienceEnabled||this.editorModel.deviceContext.isMobile){this.editorModel.deviceContext.isMobile&&(0,A.GC)(this).buildQuoteTabs();for(let t=0,e=this.editorModel.quoteModel.lineGroups.length;t<e;t++)(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:this.editorModel.quoteModel.lineGroups[t].groupKey})}}else this._executeServiceAction("onDeleteLine",{keys:this._retrieveKeysOfSelected()})}onDeleteLine(){if(this._usesClientCalculator()){let t=new Set;t.add(this.eventDetail.model.serviceModel.keys[0]),this._deleteLines(t,this.editorModel.quoteModel.quoteVO,!0),(0,A.GC)(this).renumber(),this.onFlagCalculate(!0,!1),(0,A.GC)(this).quoteHasNoLines(),this.editorModel.deviceContext.isMobile?((0,A.GC)(this).buildQuoteTabs(),(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:this.eventDetail.model.groupModel.groupKey})):this.editorModel.largeQuoteExperienceEnabled&&(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:(0,A.GC)(this).selectedGroupKey})}else this._executeServiceAction("onDeleteLine",{keys:this.eventDetail.model.serviceModel.keys})}onAddGroup(){this._resetOnActionSignal(),this.editorModel.quoteModel.grouped?(this._addGroup(),this.onFlagCalculate(!0,!0)):this._groupQuote()}onUngroup(){this._resetOnActionSignal(),this._ungroupQuote()}_groupQuote(){let t=this.editorModel.quoteModel,e=t.quoteVO;if(e.record[this.data.developerPrefix+"LineItemsGrouped__c"]=!0,0===e.lineItemGroups.length){let n=this.editorModel.data.customLabels.lbl_default_group_name;if(e.record[this.data.developerPrefix+"DefaultGroupName__c"]){const t=e.record[this.data.developerPrefix+"DefaultGroupName__c"];t&&(n=t)}let i=this.editorModel.constants,o=this._createGroupRecord(t);o.Name=n,o[i.NUMBER_FIELD]=1,o=JSON.parse(JSON.stringify(o)),"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(o),t.lineGroups[0].groupVO={key:++t.quoteVO.nextGroupKey,record:o,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},sb.common.core.AppContext.org.isMultiCurrencyOrg&&(t.lineGroups[0].groupVO.CurrencyIsoCode=e.record.CurrencyIsoCode),t.grouped=!0,e.lineItemGroups.push(t.lineGroups[0].groupVO),t.groupsByKey[t.lineGroups[0].groupVO.key]=t.lineGroups[0],delete t.groupsByKey.null;let r=t.indexByGroupKey;r[t.lineGroups[0].groupVO.key]={index:Object.keys(r).length,indexByLineKey:{},indexBySegmentKey:{}},e.lineItems.forEach((function(e){e.parentGroupKey=t.lineGroups[0].groupVO.key})),this.onFlagCalculate(!0,!0),this.editorModel.largeQuoteExperienceEnabled&&(0,A.GC)(this).set("selectedGroupKey",t.lineGroups[0].groupVO.key)}}_ungroupQuote(){let t=this.editorModel.quoteModel;t.indexByGroupKey.null={index:0,indexByLineKey:{},indexBySegmentKey:{}},t.grouped=!1;let e=t.quoteVO,n=this.data.developerPrefix,i=[];0!==e.lineItemGroups.length&&(e.lineItemGroups.forEach((t=>{t.record.Id&&-1===i.indexOf(t.record.Id)&&i.push(t.record.Id)})),e.lineItemGroups=[],e.deletedGroupIds=i,e.lineItems.forEach((function(t){t.parentGroupKey=null,t.record[n+"Group__c"]=null}))),e.record[n+"LineItemsGrouped__c"]=!1,this.onFlagCalculate(!0,!0),(0,A.GC)(this).rightSideButton=!1,(0,o.BX)(o.zW.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&((0,A.GC)(this).set("groupModels",[]),(0,A.GC)(this).set("selectedGroupKey",null))}onResegmentLine(){let t=this.editorModel.data.settings.largeQuoteThreshold,e=this.editorModel.data.customLabels.msg_large_quote_sent_without_lines;if(null!=t&&t<this.editorModel.quoteModel.quoteVO.lineItems.length){let n=(t,e)=>{let n=e.keys[0],i=[],o=t.lineItems.length;for(let e=0;e<o;e++){let o=t.lineItems[e];if(o.key==n){i.push(o);break}}return i},i=this.eventDetail.model.lineVO.parentGroupKey,o=this.editorModel.quoteModel.quoteVO,r=new Gr.z(o).getSegmentTemplatesByDimensionTypeForGroupKey(i);o.segmentTemplatesByDimensionTypeByGroupKey={},o.segmentTemplatesByDimensionTypeByGroupKey[(i||-1)+""]=r;let s=e.replace("{0}",o.record.Id).replace("{1}",t);console.log(s),this._executeServiceAction("onResegmentLine",null,n)}else this._executeServiceAction("onResegmentLine")}_handleResegmentResponse(){delete this.resegmentResponse.segmentTemplatesByDimensionTypeByGroupKey;(0,A.GC)(this).updateQuote(this.resegmentResponse,((t,e)=>{let n,i=t.lineItems.length,o=this.editorModel.constants;for(let e=0;e<i;e++){let i=t.lineItems[e];if(1==i.record[o.SEGMENT_INDEX_FIELD]){n=i.key;break}}let r=[];return e.lineItems.forEach((t=>{t.key!==n&&r.push(t)})),r=r.concat(t.lineItems),t.lineItems=r,t}))}onDesegmentLine(){let t,e=this.editorModel.constants,n=(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null).segmentKey,i=JSON.parse(JSON.stringify(this.editorModel.quoteModel.quoteVO)),o=new Set;i.lineItems.forEach((i=>{i.record[e.SEGMENT_KEY_FIELD]===n&&(1===i.record[e.SEGMENT_INDEX_FIELD]?t=i:o.add(i.key))}));let r=this._transformLineToNonSegmentedLine(t);0!==o.size&&this._deleteLines(o,i,!1);let s=[],a=null!=r.parentItemKey;i.lineItems.forEach((t=>{t.key!=r.key&&s.push(t),a&&r.parentItemKey==t.key&&(s.push(r),a=!1)})),null==r.parentItemKey&&s.push(r),i.lineItems=s,i.calculationRequired=!0,this._updateQuote(i)}_deleteLines(t,e,n){let r=this.editorModel.constants,s=new Set,a=new Set,l=this._getAllRelatedKeys(t,n);t=new Set([...t,...l]),e.lineItems.forEach(((n,o)=>{if(t.has(n.key)){if(s.add(o),n.record.Id&&a.add(n.record.Id),i.I.isManualEditsForUBPEnabled&&n.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const t=this._getLineOrProdId(n.record),e="AppliedUbpChanges_".concat(t,"_").concat(n.key);(0,N.IV)(e)}if(n.parentGroup&&(n.parentGroup.record[r.FAVORITE_ID_FIELD]=null),n.record[r.FAVORITE_ID_FIELD]&&e.favoriteIds){let t=n.record[r.FAVORITE_ID_FIELD],i=[];e.favoriteIds.forEach((e=>{e!=t&&i.push(e)})),e.favoriteIds=i}}}));let d=[];e.lineItems.forEach(function(t,e){if(s.has(e)){let e=t.parentGroupKey,n=this.editorModel.quoteModel.indexByGroupKey[t.parentGroupKey].index;if(t.record[this.editorModel.constants.SEGMENT_KEY_FIELD]){let i=t.record[this.editorModel.constants.SEGMENT_KEY_FIELD],o=this.editorModel.quoteModel.lineModelsByKey[t.key];if(o.segments&&o.segments.length>0){let t=o.dimensionType,r=this.editorModel.quoteModel.indexByGroupKey[e].indexBySegmentKey[i];o.segments=[],(0,A.GC)(this).splice("groupModels.".concat(n,".segmentedLinesByDimension.").concat(t),r,1)}}else{let i=this.editorModel.quoteModel.indexByGroupKey[e].indexByLineKey[t.key];(0,A.GC)(this).splice("groupModels.".concat(n,".standardLines"),i,1)}this.editorModel.quoteModel.renumberIndexes(!0)}else a.has(t.record[r.SOURCE_FIELD])&&(t.record[r.SOURCE_FIELD]=null),d.push(t)}.bind(this)),s.size>0&&(0,o.BX)(o.zW.LINE_SPLICE_COMPLETE),e.lineItems=d,e.deletedLineIds=e.deletedLineIds||[],a.forEach((t=>{e.deletedLineIds.push(t)}))}_transformLineToNonSegmentedLine(t){let e=this.editorModel.constants;t.dimensionType=null,t.record[e.DIMENSION_ID_FIELD]=null,t.record[e.DIMENSION_FIELD]=null,t.record[e.SEGMENT_KEY_FIELD]=null,t.record[e.SEGMENT_INDEX_FIELD]=null,t.record[e.SEGMENT_LABEL_FIELD]=null,t.record[e.START_DATE_FIELD]=null,t.record[e.END_DATE_FIELD]=null;let n=t.record[e.OPTION_TYPE_FIELD];return n&&"component"===n.toLowerCase()?t.record[e.BUNDLED_QUANTITY_FIELD]=function(t){if(null!=t.actualQuantity)return t.actualQuantity;let n=t.record[e.QUANTITY_FIELD],i=t.record[e.PRIOR_QUANTITY_FIELD]||0,o=t.record[e.UPGRADED_QUANTITY]||0;return t.record[e.EXISTING_FIELD]||t.record[e.CARRYOVER_LINE_FIELD]?n-i+o:n}(t):n&&"accessory"===n.toLowerCase()&&(t.record[e.BUNDLED_QUANTITY_FIELD]=t.record[e.QUANTITY_FIELD]),t}onResetDiscounts(){this.editorModel.quoteModel.resetDiscounts(this.eventDetail.model.groupKey),D.U.shouldCalulateImmediately(D.U.constants.ADDITIONAL_DISCOUNT_FIELD,i.I.org.calculateImmediately,this.editorModel.quoteModel)&&this.onFlagCalculate(!0,!1)}updateLineOptional(){let t;this.eventDetail.model.groupKey&&(t=this.eventDetail.model.groupKey),this.editorModel.quoteModel.allOptional="optionalAllBtn"===this.eventDetail.customAction.caClass,this.editorModel.styleQuoteAndGroupActionButtons(),this.notifyPath("editorModel.quoteModel.allOptional",this.editorModel.quoteModel.allOptional),(0,o.BX)(o.zW.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:this.editorModel.quoteModel.allOptional,groupKey:t})}onUpgradeAssets(){this._navigateToLookup("asset")}onRenewSubscriptions(){this._navigateToLookup("subscription")}onAmendSubscriptions(){this._navigateToLookup("subscription")}onAddRecommendedProducts(){this._navigateToLookup("recommend")}onCloneGroup(){this.$.showSpinner=!0;let t=this.editorModel.quoteModel,e=this.eventDetail.model.serviceModel.keys[0];this._cloneGroup(t,e),delete this.eventDetail.model,this.onFlagCalculate(!0,!1)}_cloneGroup(t,e){let n=t.groupsByKey[e];if(n){this._addGroup(n.groupVO);let i=t.groupsByKey[t.quoteVO.nextGroupKey-1];if(i){let t=new Set,o=n.quoteModel.lineModelsByKey;for(let n in o)o.hasOwnProperty(n)&&(o[n].lineVO.parentItemKey||o[n].lineVO.parentGroupKey==e||t.add(o[n].lineVO.key));n.segmentedLines.forEach((e=>{let n=null;e.lineVO.parentItemKey&&(n=this._getRootPackage(o[e.lineVO.parentItemKey],o)),n&&t.has(n.lineVO.key)?this._cloneLine(n,i):e.lineVO.parentItemKey||this._cloneLine(e,i)})),n.standardLines.forEach((e=>{if(!e.lineVO.key)return;let n=null;e.lineVO.parentItemKey&&(n=this._getRootPackage(o[e.lineVO.parentItemKey],o)),n&&t.has(n.lineVO.key)?this._cloneLine(n,i):e.lineVO.parentItemKey||this._cloneLine(e,i)}))}}}_getRootPackage(t,e){return t.lineVO.parentItemKey?this._getRootPackage(e[t.lineVO.parentItemKey],e):t}onDeleteGroup(){const t=(0,A.GC)(this).i18n.l;!this.editorModel.quoteModel.isAmendmentOrChangeQuote||this.eventDetail.model.canDelete()?sb.dialog.confirm(t("msg_confirm_group_delete"),{ok:t("Ok"),cancel:t("Cancel")},(t=>{t&&this._deleteGroup()})):(0,A.GC)(this).errors=[t("msg_cannot_delete_group")]}_deleteGroup(){let t=this.eventDetail.model.serviceModel.keys[0],e=this.editorModel.quoteModel;this.eventDetail.model=void 0,null!=e.groupsByKey&&(this._removeGroup(e,t),this.onFlagCalculate(!0,!0),this._updateQuote(e.quoteVO),1==e.lineGroups.length&&(0,o.BX)(o.zW.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&e.lineGroups[0]&&(0,o.BX)(o.zW.GROUP_DELETED,{groupKey:e.lineGroups[0].groupKey}))}_removeGroup(t,e){let n=!0,i=new Set;if(t.quoteVO.lineItems.length>0&&(t.quoteVO.lineItems.forEach((function(t){t.parentItemKey&&t.parentGroupKey==e&&i.add(t.parentItemKey)})),t.quoteVO.lineItems.forEach((function(t){t.parentGroupKey!=e&&i.has(t.key)&&(n=!1)})),n)){let n=new Set,i=[];t.quoteVO.lineItems.forEach((t=>{t.parentGroupKey!=e?i.push(t):t.record.Id&&!n.has(t.record.Id)&&n.add(t.record.Id)})),i.forEach((t=>{n.has(t.record[this.editorModel.constants.SOURCE_FIELD])&&(t.record[this.editorModel.constants.SOURCE_FIELD]=null)})),t.quoteVO.deletedLineIds=t.quoteVO.deletedLineIds.concat(...n),t.quoteVO.lineItems=i}if(n){let n=[],i=[];t.quoteVO.lineItemGroups.forEach((t=>{t.key!=e?n.push(t):t.record.Id&&-1==i.indexOf(t.record.Id)&&i.push(t.record.Id)})),t.quoteVO.lineItemGroups=n,t.quoteVO.deletedGroupIds=t.quoteVO.deletedGroupIds.concat(i);let o=[],r=-1;if(t.lineGroups.forEach(((t,n)=>{t.groupKey!=e?o.push(t):r=n})),t.lineGroups=o,delete t.groupsByKey[e],delete t.indexByGroupKey[e],r>-1){const t=(0,A.GC)(this),e=t.groupModels;e&&e.splice&&(e.splice(r,1),t.groupModels=[],(0,Ne.y)(),t.groupModels=e)}}}onReconfigureLine(){let t={lineKey:this.eventDetail.model.lineVO.key,qId:this.editorModel.quoteModel.quoteVO.record.Id,ignoreCache:!0};this.eventDetail.model.groupModel.quoteModel.grouped&&(t.groupKey=this.eventDetail.model.groupModel.groupKey),r.C.nav("#",t,["product","pc"],!1,this)}onAddToFavorites(){this._openDialog("favDialog")}onViewPricingGuidance(){this._openPricingGuidanceDialog("pricingGuidanceDialog")}onViewConsumptionSchedule(){this.dispatchEvent((0,o.FU)("toggle-ubp-editor",{lineModel:this.eventDetail.model,visible:!0}))}onRemoveFromFavorites(){const t=(0,A.GC)(this).i18n.l;"Line"===this.eventDetail.customAction.location?sb.dialog.confirm(t("msg_confirm_remove_favorite"),{ok:t("Ok"),cancel:t("Cancel")},(t=>{t&&this._executeQuotelessServiceAction("onRemoveFromFavorites")})):sb.dialog.confirm(t("msg_confirm_remove_group_from_favorites"),{ok:t("Ok"),cancel:t("Cancel")},(t=>{t&&this._executeQuotelessServiceAction("onRemoveFromFavorites")}))}_onAcceptPricingGuidance(){if(this.eventDetail&&this.eventDetail.model&&this.eventDetail.model.lineVO&&this.eventDetail.model.lineVO.record&&this.eventDetail.model.lineVO.quoteLinePricingGuidance&&this.eventDetail.model.lineVO.quoteLinePricingGuidance.record&&this.eventDetail.model.groupModel&&this.eventDetail.model.groupModel.quoteModel&&this.eventDetail.model.groupModel.quoteModel.quoteVO&&this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems){let t=this.eventDetail.model.lineVO,e=t.record,n=this.data.developerPrefix,i=t.quoteLinePricingGuidance.record[n+"Target__c"],o=!1,r=n+"Product__c",s=e[r],a=n+"Discount__c",l=n+"AdditionalDiscountAmount__c",d=this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems;for(let t=0;t<d.length;t++){let e=d[t].record;if(e[r]===s&&d[t].quoteLinePricingGuidance){e[a]===i&&null==e[l]||(e[a]=i,e[l]=null,o=!0)}}o&&this.onFlagCalculate(!0,!1);const c=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new Dt).log(c,Pt,JSON.stringify({pricingGuidanceAction:"Accepted",quoteLineId:e.Id}))}}_cloneToGroup(t){let e=t.detail;if(0===e.length)return;let n=this.editorModel.quoteModel,i=this.editorModel.constants,r=(0,A.GC)(this),s=n.indexByGroupKey;for(let t in this.selectedLinesByKey){let o=this.selectedLinesByKey[t];for(let t=0,i=e.length;t<i;t++){let i=n.groupsByKey[e[t].value];this._cloneLine(o,i)}let a=s[o.lineVO.parentGroupKey],l=a.index,d=o.segmented?a.indexBySegmentKey[o.lineVO.record[i.SEGMENT_KEY_FIELD]]:a.indexByLineKey[t];this._clearSelectedCheckbox(d,l,r,o.lineVO.dimensionType)}if(n.selectedLinesByKey={},this.selectedLinesByKey={},this.editorModel.largeQuoteExperienceEnabled)for(let t=0,n=e.length;t<n;t++)(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:e[t].value});this.onFlagCalculate(!0,!1)}_clearSelectedCheckbox(t,e,n,i){i?n.set("groupModels.".concat(e,".segmentedLinesByDimension.").concat(i,".").concat(t,".selected"),!1):n.set("groupModels.".concat(e,".standardLines.").concat(t,".selected"),!1)}onCloneLine(){let t=this.eventDetail.model;if(t.selected&&this.editorModel.quoteModel.grouped){this.selectedLinesByKey=this.editorModel.quoteModel.selectedLinesByKey;let t=this.$.cloneToGroupDialog;return t.quoteModel=this.editorModel.quoteModel,void t.open()}this.showSpinner=!0;const e=()=>{this.showSpinner=!1};(0,Nt.T8)(this,(()=>{if(this.editorModel.data.settings.caPlugin){let n={};n.originalLines=this._getOriginalLineKeys(t),this.callPlugin("onBeforeCloneLine",n).then((()=>{let e=this._cloneLine(t);return n.clonedLines=this._getClonedLineKeys(e),this.callPlugin("onAfterCloneLine",n)})).then((()=>{delete this.eventDetail.model,this.onFlagCalculate(!0,!1,e)}))}else this._cloneLine(t),delete this.eventDetail.model,this.onFlagCalculate(!0,!1,e)}))}callPlugin(t,e){return new Promise(((n,i)=>{if(SB&&SB.JSQC){let o=new a.y(this.app.org.prefix);this.notifier=!this.data.quote.calculationRequired&&(0,A.GC)(this).editorModel?new Xr((0,A.GC)(this)):null;let r=new SB.JSQC(this.data.settings,this.data.quote,this.notifier),s=[o.getConnection(),o.getConnection()];Promise.all(s).then((o=>{r.setConnection(o[0]),r.setCustomerOnlyConnection(o[1]),r.onCallCAPlugin(t,e).then((t=>{this.updateUIAfterCalculate(t),this.showSpinner=!1,n()}),(t=>{this.showSpinner=!1;let e=t.message||t;(0,A.GC)(this).errors=[(0,A.GC)(this).i18n.l(e)],i({message:e})}))}),(t=>{this.showSpinner=!1;let e=t.message||t;(0,A.GC)(this).errors=[(0,A.GC)(this).i18n.l(e)],i({message:e})}))}else i({message:"ERROR: Could not find the Client-Side Calculator"})}))}_getOriginalLineKeys(t,e,n){if(n=n||{},t.segmented){n.segmented||(n.segmented={});let e=t.dimensionType;n.segmented[e]||(n.segmented[e]=[]);for(let i=0;i<t.segments.length;i++)n.segmented[e].push(t.segments[i].lineVO.key)}else{n.standard||(n.standard=[]),n.standard.push(t.lineVO.key);let e=this.editorModel.quoteModel.linesByParentItemKey[t.lineVO.key];if(e)for(let t=0,i=e.length;t<i;t++)n=this._getOriginalLineKeys(e[t],e[t].lineVO.key,n)}return n}_getClonedLineKeys(t){let e={standard:[]};for(let n=0;n<t.standard.length;n++)e.standard.push(t.standard[n].lineVO.key);e.segmented={};for(let n in t.segmented)if(t.segmented.hasOwnProperty(n)){e.segmented[n]||(e.segmented[n]=[]);let i=t.segmented[n].lines;for(let t=0;t<i.length;t++){let o=i[t];for(let t=0;t<o.segments.length;t++)e.segmented[n].push(o.segments[t].lineVO.key)}}return e}_cloneLine(t,e){let n=[],r={Year:{lines:[]},Quarter:{lines:[]},Month:{lines:[]},Custom:{lines:[]}},s=(0,A.GC)(this).groupModels,a=e?e.groupKey:t.lineVO.parentGroupKey,l=a?this.editorModel.quoteModel.indexByGroupKey[a].index:0;const d=(t,i)=>{let o;if(t.segmented?(o=s[l].cloneSegmentedLine(t,i,e),r[o.dimensionType].lines.push(o),r[o.dimensionType].key=t.lineVO.key):(o=s[l].cloneLine(t,i,e),n.push(o)),s[l].addToLinesByParentItemKey(o),t.bundle&&s[l].quoteModel.linesByParentItemKey[t.lineVO.key]){let e=s[l].quoteModel.linesByParentItemKey[t.lineVO.key];for(let t=0,n=e.length;t<n;t++)d(e[t],o.lineVO.key)}};return d(t),(()=>{let i=s[l].standardLines.length;if(n.length>0){let r,a,d=s[l].standardLines.length;if(e)r=d;else for(a=0;a<d;a++)if(t.lineVO.key===s[l].standardLines[a].lineVO.key){r=a+1;break}if(t.bundle)if(this.editorModel.data.settings.bundleKeptTogether)for(let e=a;e<d;e++){if(!s[l].standardLines[e].component&&s[l].standardLines[e].lineVO.key!==t.lineVO.key){r=e;break}r=d}else r=d;let c=(0,A.GC)(this);for(let t=0,e=n.length;t<e;t++){let e=n[t];c.splice("groupModels.".concat(l,".standardLines"),r,0,e),s[l].quoteModel.quoteVO.lineItems.push(e.lineVO),this.editorModel.quoteModel.lineModelsByKey[e.lineVO.key]=e,r++}e&&c.notifySplices("groupModels.".concat(l,".standardLines"),[{index:r-n.length,removed:[],addedCount:n.length,object:c.groupModels[l].standardLines,type:"splice"}]),this.editorModel.deviceContext.isMobile&&0===i&&(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:e.groupKey})}})(),(()=>{for(let t in r){if(!(r[t].lines.length>0))continue;let n=0,i=r[t].lines,a=s[l].segmentedLinesByDimension[t],d=a.length,c=r[t].key;if(e)n=d;else for(let t=0,e=a.length;t<e;t++)if(a[t].lineVO.key===c){n=t+1;break}for(let e=0,o=i.length;e<o;e++){let o=i[e];(0,A.GC)(this).splice("groupModels.".concat(l,".segmentedLinesByDimension.").concat(t),n+e,0,o),(0,A.GC)(this).push("groupModels.".concat(l,".segmentedLines"),o);for(let t=0;t<o.segments.length;t++)s[l].quoteModel.quoteVO.lineItems.push(o.segments[t].lineVO),this.editorModel.quoteModel.lineModelsByKey[o.segments[t].lineVO.key]=o.segments[t];o.segments.length>0&&(this.editorModel.quoteModel.lineModelsByKey[o.segments[0].lineVO.key].segments=o.segments,this.editorModel.quoteModel.lineModelsByKey[o.segments[0].lineVO.key].dimensionType=o.dimensionType)}0===d&&(0,o.BX)(o.zW.RENDER_NEW_TAB,{groupKey:e.groupKey})}})(),(()=>{if(i.I.isManualEditsForUBPEnabled&&t.lineVO.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const e=this._getLineOrProdId(t.lineVO.record),i="AppliedUbpChanges_".concat(e,"_").concat(t.lineVO.key),o=(0,N.U2)(i,["rates"]);if(o)for(let t of n){const e=this._getLineOrProdId(t.lineVO.record),n="AppliedUbpChanges_".concat(e,"_").concat(t.lineVO.key);(0,N.gz)(n,["rates"],A.Zr.deepClone(o))}}})(),(0,A.GC)(this).renumber(),this.editorModel.quoteModel.renumberIndexes(!0),{standard:n,segmented:r}}_usesClientCalculator(){return this.data.settings.usesClientCalculator}_jsqcCalculate(t){return this.showSpinner=!(!t&&null!=t)||this.showSpinner,new Promise(function(e,n){if(SB&&SB.JSQC){let i={},o=this.data.settings,r=new a.y(this.app.org.prefix);this.notifier=!this.data.quote.calculationRequired&&(0,A.GC)(this).editorModel?new Xr((0,A.GC)(this)):null,o.displayedLookupMap=this.getDisplayedLookupNames(this.data);(this.editorModel?new Jr(this.data,this.editorModel.quoteModel.groupsByKey):new Jr(this.data,null)).updateSegments()&&!this.data.quote.calculationRequired&&(i.updateQuoteRequired=!0,this.notifier=null);let s=new SB.JSQC(o,this.data.quote,this.notifier),l=[r.getConnection(),r.getConnection()];Promise.all(l).then(function(o){s.setConnection(o[0]),s.setCustomerOnlyConnection(o[1]),s.initServices(o[0]),s.onCalc().then(function(n){i.value=n,this.showSpinner=!t&&null!=t&&this.showSpinner,e(i)}.bind(this),function(e){this.showSpinner=!t&&null!=t&&this.showSpinner,n({message:e.message||e})}.bind(this))}.bind(this),function(t){n({message:t.message||t})}.bind(this))}else n({message:"ERROR: Could not find the Client-Side Calculator"})}.bind(this))}getDisplayedLookupNames(t){let e={line:[],group:[],quote:[]},n=t.settings.lineLookups?Object.keys(t.settings.lineLookups):[],i=t.settings.groupLookups?Object.keys(t.settings.groupLookups):[],o=t.settings.quoteLookups?Object.keys(t.settings.quoteLookups):[];return n.forEach((function(t){e.line.push($e.Z.getRelationshipField(t))})),i.forEach((function(t){e.group.push($e.Z.getRelationshipField(t))})),o.forEach((function(t){e.quote.push($e.Z.getRelationshipField(t))})),e}_onJobChecker(t){t.jobType="QuoteCalculator",this.$.jobchecker.useSpinner=!this.$.calculateService.background,this.$.jobchecker.data=t}_jobCompleted(){if(null!=this.$.jobchecker.result.payload){let t=JSON.parse(this.$.jobchecker.result.payload);if(t.backgroundCalculatePending=!1,this.saveServiceAfterBackgroundCalc)return this.editorModel.createQuoteModel(t),this._executeServiceAction(this.saveServiceAfterBackgroundCalc),void(this.saveServiceAfterBackgroundCalc=null);this._getDomHost().updateQuote(t)}}_save(t){this.editorModel.data.settings.usesClientCalculator?this._jsqcCalculate(!1).then(function(e){this._mergeUbpEdits(this.editorModel.quoteModel.quoteVO);const n=new Yr(this.editorModel.quoteModel.quoteVO,this.editorModel.constants).validateAssetQuantityChanges();0!==n.length?((0,A.GC)(this).error={validations:n},this.isSaveProcessing=!1):this._executeServiceAction(t)}.bind(this),function(t){(0,A.GC)(this).error=t,this.isSaveProcessing=!1}.bind(this)):this.editorModel.data.settings.usesBackgroundCalculator?(this.saveServiceAfterBackgroundCalc=t,this.onFlagCalculate(!1)):this._executeServiceAction(t)}_mergeUbpEdits(t){if(i.I.isManualEditsForUBPEnabled){const e=Object.keys(this.editorModel.constants.UBP_FIELDS.ConsumptionRateFields).map((t=>({fieldPath:this.editorModel.constants.UBP_FIELDS.ConsumptionRateFields[t]})));let n=!1;for(let i of t.lineItems)if(i.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const t=this._getLineOrProdId(i.record),o="AppliedUbpChanges_".concat(t,"_").concat(i.key),r=(0,N.U2)(o,["rates"]);r&&Object.keys(r).forEach((t=>{i.ubpChanges||(i.ubpChanges={rates:{}}),i.ubpChanges.rates[t]||(i.ubpChanges.rates[t]={Id:t,attributes:{type:"".concat(this.editorModel.constants.prefix,"QuoteLineConsumptionRate__c")}}),i.ubpChanges.rates[t]=Et(i.ubpChanges.rates[t]||{},r[t],e),n=!0}))}n&&(t.record[this.editorModel.constants.CONSUMPTION_RATE_OVERRIDE]=!0)}for(let e of t.lineItems)e.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]&&e.ubpChanges&&e.ubpChanges.rates&&Object.keys(e.ubpChanges.rates).forEach((t=>{(0,N.gz)(t,["record"],(0,A.UK)((0,N.U2)(t,["record"])||{},e.ubpChanges.rates[t]))}))}_clearAppliedUbpChanges(){i.I.isManualEditsForUBPEnabled&&this.quoteEditorModelResponse&&this.quoteEditorModelResponse.quote&&this.quoteEditorModelResponse.quote.lineItems&&this.quoteEditorModelResponse.quote.lineItems.forEach((t=>{const e=this._getLineOrProdId(t.record),n="AppliedUbpChanges_".concat(e,"_").concat(t.key);(0,N.IV)(n)}))}_navigateToLookup(t){this._resetOnActionSignal(),(0,A.GC)(this).errors=null;let e={qId:this.editorModel.quoteModel.quoteVO.record.Id,aId:this.eventDetail.customAction.customActionId};this.eventDetail.model&&this.eventDetail.model.groupKey&&(e.groupKey=this.eventDetail.model.groupKey),r.C.nav("#",e,[t,"lookup"],!1,this)}_retrieveKeysOfSelected(){let t=[],e=this.editorModel.quoteModel.lineGroups;for(let n=0,i=e.length;n<i;n++){let i=e[n].standardLines;for(let o=0,r=e[n].standardLines.length;o<r;o++)i[o].selected&&i[o].removable&&t.push(i[o].lineVO.key);let o=e[n].segmentedLines;for(let e=0,n=o.length;e<n;e++)if(o[e].selected&&o[e].removable){let n=o[e].segments;for(let e=0,i=n.length;e<i;e++)t.push(n[e].lineVO.key)}}return t}_getAllRelatedKeys(t,e){let n=new Set;return t.forEach((t=>{if(!t)return;let i=this.editorModel.quoteModel.lineModelsByKey[t],o=this.editorModel.quoteModel.linesByParentItemKey[t];if(o){let t=new Set;for(let e=0;e<o.length;e++)t.add(o[e].lineVO.key);let i=this._getAllRelatedKeys(t,e);n=new Set([...n,...t,...i])}else e&&i.segmented&&i.segments&&i.segments.forEach((t=>{n.add(t.lineVO.key)}))})),n}_addGroup(t){let e=this.editorModel.constants,n=this.editorModel.quoteModel,i=!1,r=!1;if(t){let e=this.editorModel.quoteModel.groupsByKey[t.key];i=e.standardSubscriptionScopeEditable,r=e.segmentedSubscriptionScopeEditable}else{let e=this._createGroupRecord(n);e.Name="Group".concat(n.lineGroups.length+1),t={record:e,multiSegmentColumns:{},localizedMultiSegmentColumns:{}}}"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(t.record),(t=JSON.parse(JSON.stringify(t))).key=n.quoteVO.nextGroupKey,n.quoteVO.nextGroupKey++,t.record.Id=void 0;let s=new W(t,n);s.standardSubscriptionScopeEditable=i,s.segmentedSubscriptionScopeEditable=r,n.quoteVO.lineItemGroups.push(t),n.groupsByKey[s.groupVO.key]=s;let a=n.indexByGroupKey;a[s.groupVO.key]={index:Object.keys(a).length,indexByLineKey:{},indexBySegmentKey:{}},(0,A.GC)(this).push("groupModels",s);for(let t=0;t<n.quoteVO.lineItemGroups.length;t++)n.quoteVO.lineItemGroups[t].record[e.NUMBER_FIELD]=t+1;(0,A.GC)(this).rightSideButton=n.lineGroups.length>1&&this.editorModel.quoteModel.grouped,(0,A.GC)(this).notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),n.lineGroups.length==e.PANEL_ADDED_INDEX?(0,o.BX)(o.zW.GROUP_PANEL_CREATED,{groupKey:s.groupVO.key}):(0,o.BX)(o.zW.BUILD_LAYOUT,{group:s}),this.editorModel.largeQuoteExperienceEnabled&&(0,o.BX)(o.zW.GROUP_ADDED,{groupKey:s.groupVO.key}),(0,A.GC)(this).quoteHasNoLines()}_createGroupRecord(t){let e={},n=this.editorModel.constants;return e[n.QUOTE_PROCESS_FIELD]=this.editorModel.data.defaultQuoteProcessId,e[n.ACCOUNT_FIELD]=t.quoteVO.record[n.ACCOUNT_FIELD],e[n.ACCOUNT_ID_FIELD]=t.quoteVO.record[n.ACCOUNT_ID_FIELD],e.attributes={type:"".concat(this.prefix,"QuoteLineGroup__c")},e}_extendSolutionGroupRecord(t){t.Name=this.eventDetail.customAction.record.Name,t[this.editorModel.constants.DESCRIPTION_FIELD]=this.eventDetail.customAction.record[this.editorModel.constants.DESCRIPTION_FIELD],t[this.editorModel.constants.SOLUTION_GROUP_ID_FIELD]=this.eventDetail.customAction.record.Id}_openDialog(t){let e=this.$[t];if("Line"===this.eventDetail.customAction.location)e.favoritedLine=this.eventDetail.model.serviceModel.keys;else{let t=[].concat(this.eventDetail.model.standardLines).concat(this.eventDetail.model.segmentedLines);if(0===t.length)return void((0,A.GC)(this).errors=[i.I.properties.i18n.value().l("Please select a group with one or more lines to favorite.")]);e.favoritedGroup=this.eventDetail.model.groupKey,e.groupLines=t}e.$.dialog.toggle()}_openPricingGuidanceDialog(t){let e=this.$[t],n=this.eventDetail.model.lineVO,i=this.editorModel.md.fieldLabelsMap[this.editorModel.constants.QUOTE_LINE],o=[],r=this.data.lineFieldNames,s=!1,a=!1,l={},d={},c=!1,u=[],h=this.eventDetail.model;if(n.quoteLinePricingGuidance&&n.quoteLinePricingGuidance.record){e.pricingGuidanceRecord=n.quoteLinePricingGuidance.record;let t={type:"percent",scale:2};if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET]){let e=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET],i=at.M.formatFieldData(h,e,t,n.record);this.pushPricingGuidanceValueToArray(o,"Target",i),s=!0,a=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM]){let e=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM],i=at.M.formatFieldData(h,e,t,n.record);this.pushPricingGuidanceValueToArray(o,"Norm",i),a=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR]){let e=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR],i=at.M.formatFieldData(h,e,t,n.record);this.pushPricingGuidanceValueToArray(o,"Floor",i),a=!0}if(null!=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION]){let t=n.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION];this.pushPricingGuidanceValueToArray(o,"Explanation",t),a=!0}e.pricingGuidanceArray=o}a||(l={errorMessage:[(0,A.GC)(this).i18n.l("PricingGuidanceNotAvailable")]});let p=dt.prepareSingleLineData(h,0,r,this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName]);if(r)for(let t of Object.values(r))u.push({key:i[t],value:p[t]}),d[t]=i[t];this.editorModel.deviceContext&&this.editorModel.deviceContext.isMobile&&(c=!0),e.pricingGuidanceRecord=l,e.isPricingGuidanceAvailable=a,e.lineVO=n,e.isPricingRecommendationAvailable=s,e.isMobileDevice=c,e.quoteLineObjectArray=u,e.$.dialog.toggle();let f=n.record,b=this.data.developerPrefix,g=b+"IsViewed__c",m=b+"Product__c",y=f[m],v=this.eventDetail.model.groupModel.quoteVO.lineItems;for(let t=0;t<v.length;t++){if(v[t].record[m]==y&&v[t].quoteLinePricingGuidance){v[t].quoteLinePricingGuidance.record[g]=!0}}const _=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new Dt).log(_,Pt,JSON.stringify({pricingGuidanceAction:"Viewed",quoteLineId:f.Id}))}pushPricingGuidanceValueToArray(t,e,n){let i=(0,A.GC)(this).i18n.l(e);t.push({name:e,value:n,displayName:i})}get prefix(){if(void 0!==this.app)return this.app.org.prefix?this.app.org.prefix+"__":""}sortLines(t,e){let n=t.lineSortField;return!(!t.lineSortField||n==this.editorModel.constants.NUMBER_FIELD)&&((0,o.BX)(o.zW.SORT_LINES_REQUIRED,{lineSortField:n,notify:e}),!0)}_resetOnActionSignal(){(0,o.BX)(o.zW.RESET_ON_ACTION)}_getDomHost(){return(0,A.GC)(this)}_getViewport(){return j._.getViewport()}_getLineOrProdId(t){return t.Id||t[this.editorModel.constants.SOURCE_FIELD]||t[this.editorModel.constants.PRODUCT]}static get template(){return(0,Qt.dy)(Rs||(Rs=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t\x3c!-- Quote Actions --\x3e\n\t\t\t<sb-service id="calculateService" saver="QuoteLineEditorServiceProvider.EditorCalculator" response={{calculateResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="saveService" saver="QuoteLineEditorServiceProvider.EditorSaver" response={{saverResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="quickSaveService" saver="QuoteLineEditorServiceProvider.EditorQuickSaver" cache="LineEditor" response={{quoteEditorModelResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onAddGroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onUngroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="productRuleValidator" loader="ProductRuleServiceProvider.ProductValidationLoader" error="{{error}}" ignore-cache></sb-service>\n\n\t\t\t\x3c!-- Group Actions --\x3e\n\t\t\t<sb-service id="onDeleteGroup" saver="QuoteLineEditorServiceProvider.EditorGroupDeleter" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onCloneGroup" saver="QuoteLineEditorServiceProvider.EditorGroupCloner" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\n\t\t\t\x3c!-- Line Actions --\x3e\n\t\t\t<sb-service id="onDeleteLine" saver="QuoteLineEditorServiceProvider.EditorDeleteLines" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onDesegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{quoteVOResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onResegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{resegmentResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="favoriteLinesService" saver="QuoteLineEditorServiceProvider.EditorFavoriteLines" response={{favoriteResponse}} error="{{error}}"></sb-service>\n\t\t\t<sb-service id="onRemoveFromFavorites" saver="QuoteLineEditorServiceProvider.EditorRemoveFavorite" response={{unfavoriteResponse}} error="{{error}}"></sb-service>\n\n\t\t\t\x3c!-- Load LineEditorCalculate --\x3e\n\t\t\t<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>\n\n\t\t\t\x3c!--Set and get record job status--\x3e\n\t\t\t<sb-service id="setJobStatus" saver="JobCheckerServiceProvider.SetJobsStatus" error="{{error}}"></sb-service>\n\t\t\t<sb-service id="getRecordJobStatus" loader="JobCheckerServiceProvider.GetRecordJobStatus" error="{{error}}" uid="AllJobs"></sb-service>\n\n\t\t\t\x3c!--Dialogs--\x3e\n\t\t\t<span device>\n\t\t\t<sb-favorite-dialog id="favDialog"></sb-favorite-dialog>\n\t\t\t<sb-pricing-guidance-dialog id="pricingGuidanceDialog"></sb-pricing-guidance-dialog>\n\t\t\t<sb-discount-schedule-dialog editor-model="{{editorModel}}" id="dsDialog"></sb-discount-schedule-dialog>\n\t\t\t<sb-clone-to-group-dialog id="cloneToGroupDialog" is-mobile="[[editorModel.deviceContext.isMobile]]"></sb-clone-to-group-dialog>\n\t\t\t<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>\n\t\t\t<sb-product-alert id="alertModal"></sb-product-alert>\n\t\t\t</span>\n\n\t\t\t<sb-loading-spinner show="[[showSpinner]]"></sb-loading-spinner>\n\t\t'])))}}customElements.define(js.is,js);var zs=n(6852),Hs=n(3841);class Us extends F{constructor(t,e){super(),this.metadata=t,this.options=e||{}}generateRow(t){let e="",n=this.getColumnWidths(),i=this.getColumnWidthUnit();for(let o=0;o<t.length;o++)e+='<div tabindex="0" '.concat(this.getAttributes(t[o])),n&&n[t[o]]&&(e+="px"===i?' style="min-width:'.concat(n[t[o]],"px;max-width:").concat(n[t[o]],'px"'):' style="width:'.concat(n[t[o]]).concat(i,'"')),e+=' index="'.concat(o,'" field="').concat(t[o],'" >'),e+='<div class="r">',e+=this.generateInnerFieldTemplate(t[o],this.metadata[o]),e+="</div>",e+="</div>";return e}getColumnWidths(){return this.options.columnWidths||{}}getColumnWidthUnit(){return this.options.columnWidthUnit||"px"}getAttributes(t){return(this.options.attributes||"").replace(/\$field/g,t)}}var Vs=n(3398),Ws=n(5985);function Qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qs(Object(n),!0).forEach((function(e){$s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $s(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ks=(t,e,n)=>{const i=[],o={scheduleId:t,rateId:e.Id};return null==e[n.Price]&&i.push(Gs(Gs({},o),{},{errorMsg:na.msg_missing_rate_field})),null==e[n.ProcessingOrder]&&i.push(Gs(Gs({},o),{},{errorMsg:na.msg_missing_rate_field})),null==e[n.LowerBound]&&i.push(Gs(Gs({},o),{},{errorMsg:na.msg_missing_rate_field})),i},Ys=(t,e,n)=>{if(null!=e[n.Price]){let i="";if("number"!=typeof e[n.Price])i=na.msg_rate_price_not_a_number;else{parseInt(e[n.Price],10)<0&&(i=na.msg_rate_price_is_negative)}if(""!==i)return[{scheduleId:t,rateId:e.Id,ratePrice:e[n.Price],errorMsg:i}]}return[]},Xs=t=>{const e=parseInt(t,10);return e.toString()===t.toString()&&e>=0},Js=(t,e,n)=>{const i=e[n.LowerBound],o=e[n.UpperBound];let r="";return null!=i&&!Xs(i)||null!=o&&!Xs(o)?r=na.msg_bound_fields_must_be_positive:null!=i&&null!=o&&parseInt(i,10)>=parseInt(o,10)&&(r=na.msg_lower_bound_greater_than_upper_bound),""!==r?[{scheduleId:t,rateId:e.Id,lowerBound:i,upperBound:o,errorMsg:r}]:[]},Zs=(t,e,n,i)=>{if(null!=n&&null!=e[i.ProcessingOrder]&&null!=n[i.ProcessingOrder]){const o=parseInt(e[i.ProcessingOrder],10);if(o===parseInt(n[i.ProcessingOrder],10))return[{scheduleId:t,processingOrder:o,errorMsg:na.msg_duplicate_rate_processing_order}]}return[]},ta=(t,e,n,i)=>n||null!=e[i.UpperBound]?[]:[{scheduleId:t,rateId:e.Id,errorMsg:na.msg_lesser_rate_has_null_upper_bound}],ea=(t,e,n,i)=>{if(null!==n&&null!=e[i.UpperBound]&&null!=n[i.LowerBound]){const o=parseInt(e[i.UpperBound],10),r=parseInt(n[i.LowerBound],10)-o;if(r>0)return[{scheduleId:t,errorMsg:na.msg_gaps_between_rates_bounds}];if(r<0)return[{scheduleId:t,errorMsg:na.msg_overlap_between_rates_bounds}]}return[]};let na;n(2740);var ia,oa,ra=n(5754);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Jt.k)({_template:(0,zt.d)(ia||(ia=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n\n    <slot></slot>\n"]))),is:"iron-scroll-threshold",properties:{upperThreshold:{type:Number,value:100},lowerThreshold:{type:Number,value:100},upperTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},lowerTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},horizontal:{type:Boolean,value:!1}},behaviors:[ra.o],observers:["_setOverflow(scrollTarget)","_initCheck(horizontal, isAttached)"],get _defaultScrollTarget(){return this},_setOverflow:function(t){this.style.overflow=t===this?"auto":"",this.style.webkitOverflowScrolling=t===this?"touch":""},_scrollHandler:function(){this.isDebouncerActive("_checkTheshold")||this.debounce("_checkTheshold",(function(){this.checkScrollThresholds()}),200)},_initCheck:function(t,e){e&&this.debounce("_init",(function(){this.clearTriggers(),this.checkScrollThresholds()}))},checkScrollThresholds:function(){if(!(!this.scrollTarget||this.lowerTriggered&&this.upperTriggered)){var t=this.horizontal?this._scrollLeft:this._scrollTop,e=this.horizontal?this.scrollTarget.scrollWidth-this._scrollTargetWidth-this._scrollLeft:this.scrollTarget.scrollHeight-this._scrollTargetHeight-this._scrollTop;t<=this.upperThreshold&&!this.upperTriggered&&(this._setUpperTriggered(!0),this.fire("upper-threshold")),e<=this.lowerThreshold&&!this.lowerTriggered&&(this._setLowerTriggered(!0),this.fire("lower-threshold"))}},checkScrollThesholds:function(){this.checkScrollThresholds()},clearTriggers:function(){this._setUpperTriggered(!1),this._setLowerTriggered(!1)}});const sa=(0,zt.f)(oa||(oa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  display: table-row;\n  background-color: var(--sbTableHeaderBgColor);\n  color: var(--sbTableHeaderColor);\n  font-family: var(--sbTableHeaderFontFamily);\n  font-size: var(--sbTableHeaderFontSize);\n  font-weight: var(--sbTableHeaderFontWeight);\n  font-style: var(--sbTableHeaderFontStyle);\n  text-decoration: var(--sbTableHeaderTextDecoration);\n  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbTableHeaderBorderBottomColor);\n  padding-top: var(--sbTableCellPaddingTop);\n  padding-right: var(--sbTableCellPaddingRight);\n  padding-bottom: var(--sbTableCellPaddingBottom);\n  padding-left: var(--sbTableCellPaddingLeft);\n}\n:host #content {\n  position: relative;\n}\n:host .th {\n  display: table-cell;\n  height: 32px;\n  padding-top: 2px;\n  padding-right: 18px;\n  padding-bottom: 0px;\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  text-transform: uppercase;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n}\n:host .sortable {\n  cursor: pointer;\n}\n:host .sortable:hover {\n  color: var(--sbIconColor);\n}\n:host .column-selected {\n  color: var(--sbIconColor);\n}\n:host .th.itemNumber {\n  min-width: 40px;\n  max-width: 40px;\n}\n:host .rightAligned {\n  text-align: right;\n}\n:host .centerAligned {\n  text-align: center;\n}\n:host .leftAligned {\n  text-align: left;\n}\n:host .hidden {\n  display: none;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host #tooltip.paper-tooltip {\n  padding: 5px;\n  color: var(--sbFontColor);\n  font-family: var(--sbFont);\n  font-size: 14px;\n  border-radius: 4px;\n  z-index: 999;\n  background-color: #fff;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  border: var(--sbBtnBorder);\n  opacity: 1;\n}\n:host .sf-icon-arrowup,\n:host .sf-icon-arrowdown {\n  color: var(--sbIconColor);\n  font-size: 13px;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .sf-icon-arrowup::before,\n:host .sf-icon-arrowdown::before {\n  vertical-align: center;\n}\n:host .arrow-on-hover > i {\n  display: none;\n}\n:host .arrow-on-hover:hover > i {\n  display: inline;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n}\n:host .col-adj-bar {\n  position: absolute;\n  padding: 16px 0 16px 0;\n  cursor: col-resize;\n  top: 0;\n  right: 0;\n  width: 1px;\n  height: inherit;\n  background-color: #d8dde6;\n}\n:host .th:hover .col-adj-bar {\n  width: 4px;\n  background-color: #706e6b;\n}\n:host .th:hover .col-adj-bar:hover {\n  background-color: var(--sbIconColor);\n}\n:host #col-resize-indicator {\n  background-color: var(--sbIconColor);\n  width: 4px;\n  height: 32px;\n  position: absolute;\n  cursor: col-resize;\n  top: 0;\n  visibility: hidden;\n  display: block;\n  z-index: 99999;\n}\n:host #col-resize-indicator #col-adj-divider {\n  background-color: var(--sbIconColor);\n  height: 70vh;\n  width: 1px;\n  float: right;\n  z-index: 99999;\n}\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n:host {\n  display: flex;\n}\n:host .th {\n  display: inline-block;\n  padding-top: 8px;\n}\n:host #content {\n  width: 100%;\n  display: table;\n}\n'])));var aa,la;function da(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?da(Object(n),!0).forEach((function(e){ua(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ua(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class ha extends((0,ke._)(zi(Hi(Qt.H3)))){static get is(){return"sf-table-header"}static get properties(){return ca(ca({fieldLabels:Object,fields:Object,options:{type:Object,value:{}},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover"}}},zi.properties),Hi.properties)}static get observers(){return["_initObserver(fields, fieldLabels, options)"]}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,o.oW)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this.eventListeners)}_initObserver(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n)return this._init(t,e,n)}_init(t,e){this.templateHTML=new gn(this.options).generate(t),this.uiData=e}getContentNode(){return this.shadowRoot.querySelector("#content")}isTemplatizeWithRootDivNode(){return!1}getTooltipContent(t){return(0,A.q6)(this.uiData,t.split("."))||""}static get template(){return(0,Qt.dy)(aa||(aa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-icons-styles"></style>\n       \t\t<div id="content">\n       \t\t</div>\n\t\t'])),sa)}}customElements.define(ha.is,ha);class pa extends ro{static getInstance(){return this._instance||(this._instance=new pa),this._instance}initListeners(t){(0,o.oW)(t,{mouseover:"onHovered",mouseout:"onUnhovered"})}}const fa=(0,zt.f)(la||(la=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host {\n  width: 24rem;\n  background-color: #F0F0F0;\n  display: inline-block;\n  border-radius: 0.25rem;\n}\n:host div.title {\n  margin-top: 0.5rem;\n}\n:host div.title span {\n  font-size: 1rem;\n}\n:host div.title .headerIcon {\n  display: inline-block;\n  padding: 0.25rem;\n  margin: 0.5rem 0.5rem 0.125rem 1rem;\n  background-color: #65B766;\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: 1.5rem;\n  border-radius: 4px;\n}\n:host ul.dataList {\n  width: 100%;\n  margin: 1rem;\n}\n:host ul.dataList li {\n  width: 50%;\n  float: left;\n  padding-right: 0.25rem;\n  padding-bottom: 0.5rem;\n}\n:host ul.dataList li:last-child {\n  margin-bottom: 1rem;\n}\n:host ul.dataList li div {\n  overflow: hidden;\n  -ms-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  line-height: 1.25;\n}\n:host ul.dataList li div.body {\n  font-weight: bold;\n}\n:host ul.dataList li div.dirty {\n  color: #F88962;\n}\n'])));var ba,ga;function ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ya(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class va extends(zi(Qt.H3)){static get is(){return"sf-preview-panel"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ma(Object(n),!0).forEach((function(e){ya(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({iconClass:String,title:String,data:{type:Array,observer:"_dataChanged"},metadata:{type:Object,observer:"_dataChanged"},templateOptions:Object,additionalUIData:Object},zi.properties)}_dataChanged(){if(this.data&&this.metadata){let t=Object.keys(this.metadata),e=Object.keys(this.metadata).reduce(((t,e)=>(t[e]=this.metadata[e].label,t)),{});this.templateHTML=new q(this.metadata,this.templateOptions).generate(t,e);let n=Object.keys(this.metadata).reduce(((t,e)=>{let n=this.data.find((t=>t.field===e)),i=n?n.value:"";return t[e]=at.M.formatFieldData(null,i,this.metadata[e],this.data),t}),{});this.additionalUIData&&(n=Object.assign(n,this.additionalUIData)),this.uiData=n}}getContentNode(){return this.shadowRoot.querySelector(".dataList")}isTemplatizeWithRootDivNode(){return!1}static get template(){return(0,Qt.dy)(ba||(ba=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles"></style>\n\t\t\t<style include="sb-icons-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div class="title">\n\t\t\t\t<i class$="headerIcon [[iconClass]]"></i><span>[[title]]</span>\n\t\t\t</div>\n\t\t\t<ul class="dataList"></ul>\n\t\t'])),fa)}}customElements.define(va.is,va);const _a=(0,zt.f)(ga||(ga=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .content {\n  width: 100%;\n  display: table;\n}\n:host .content.inlineEditable.show .container:not(.editable):hover.right div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).right div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover.center div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).center div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .content.inlineEditable.tr.show .container.editable span.pencil:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .content.inlineEditable.tr.show .container.editable.right div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable.center div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .content.inlineEditable .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n:host .content.inlineEditable .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n:host .content.inlineEditable .container:not(.editable).right div.r:before,\n:host .content.inlineEditable .container:not(.editable).center div.r:before,\n:host .content.inlineEditable .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: \'\\e874\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .content.inlineEditable .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .content.inlineEditable .container.editable span.pencil:after {\n  content: \'\\e847\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .td {\n  display: inline-block;\n  padding-top: calc(0.3rem + 2px);\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-right: 6px;\n  padding-bottom: 0.3rem;\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .td div.r {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n:host .td[field="ConsumptionSchedule.Name"] div.r,\n:host .td[field="QuoteLineConsumptionSchedule__r.Name"] div.r,\n:host .td[field="SBQQ__QuoteLineConsumptionSchedule__r.Name"] div.r {\n  cursor: pointer;\n  color: #166bbf;\n}\n:host paper-tooltip #tooltip {\n  padding: 0px;\n}\n:host .dirty {\n  color: #F88962;\n}\n'],['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host .content {\n  width: 100%;\n  display: table;\n}\n:host .content.inlineEditable.show .container:not(.editable):hover.right div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).right div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover.center div.r:before,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable).center div.r:before,\n:host .content.inlineEditable.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,\n:host .content.inlineEditable .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline;\n}\n:host .content.inlineEditable.tr.show .container.editable span.pencil:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus span.pencil:after {\n  color: var(--sbFieldEditableIconColor) !important;\n  display: inline-block;\n}\n:host .content.inlineEditable.tr.show .container.editable.right div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.right div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable.center div.r.dirty:before,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus.center div.r.dirty:before,\n:host .content.inlineEditable.tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,\n:host .content.inlineEditable.tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {\n  color: #F88962 !important;\n}\n:host .content.inlineEditable .container div.w {\n  display: flex;\n  position: absolute;\n  top: -1px;\n  min-height: 50px;\n  width: 17rem;\n  background-color: #FFF;\n  border-radius: 0.25rem;\n  border: 1px solid #dddbda;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);\n  z-index: 9001;\n}\n:host .content.inlineEditable .container div.w > div {\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  padding: 0.25rem 0.25rem 0.25rem 0.25rem;\n  min-height: 50px;\n}\n:host .content.inlineEditable .container:not(.editable).right div.r:before,\n:host .content.inlineEditable .container:not(.editable).center div.r:before,\n:host .content.inlineEditable .container:not(.editable):not(.right):not(.center) div.r:after {\n  content: \'\\\\e874\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .content.inlineEditable .container.editable span.pencil {\n  cursor: pointer;\n  padding: 0 3px 0 3px;\n  display: inline-block;\n}\n:host .content.inlineEditable .container.editable span.pencil:after {\n  content: \'\\\\e847\';\n  color: var(--sbFieldEditableIconColor);\n  font-family: \'sf-icons\';\n  display: none;\n}\n:host .td {\n  display: inline-block;\n  padding-top: calc(0.3rem + 2px);\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-right: 6px;\n  padding-bottom: 0.3rem;\n  /* 0.3rem is "row" padding. Can\'t add to row cause mouseover event won\'t fire on the cell */\n  padding-left: 6px;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .td div.r {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n:host .td[field="ConsumptionSchedule.Name"] div.r,\n:host .td[field="QuoteLineConsumptionSchedule__r.Name"] div.r,\n:host .td[field="SBQQ__QuoteLineConsumptionSchedule__r.Name"] div.r {\n  cursor: pointer;\n  color: #166bbf;\n}\n:host paper-tooltip #tooltip {\n  padding: 0px;\n}\n:host .dirty {\n  color: #F88962;\n}\n'])));var wa,xa;function Ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ka(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Sa extends((0,zs.n)(io(to((0,Ft.U)(zi(Qt.H3)))))){static get is(){return"ubp-rate-row"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(n),!0).forEach((function(e){ka(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({categoryId:String,rateId:String,unsavedUbpChanges:{type:Object,observing:{id:"UnsavedUbpChanges",path:[]}},inlineEditChanges:{type:Object,observing:{id:"UbpInlineEditChanges",path:["rates"]}},inlineEditedCategories:Array,rateRecord:{type:Object,observing:{idProperty:"rateId",path:["record"]}},dataIndex:{type:Number,reflectToAttribute:!0},fields:Array,isDirty:Boolean,eventListeners:{type:Object,value:{click:"onTap",change:"onChange"}}},zi.properties)}constructor(){super(),this._deviceDelegate=pa.getInstance(),this._deviceDelegate.initListeners(this)}static get observers(){return["_updateUiDataObserver(rateRecord, fields, rateId, unsavedUbpChanges)","_inlineEditedCategoriesChanged(inlineEditedCategories.splices)"]}get events(){let t={};return t[o.zW.UBP_ROW_REFRESH]=this._refreshRow,t}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,o.oW)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,o.oG)(this,this.eventListeners)}getContentNode(){return this.shadowRoot.querySelector(".content")}postPopulateContent(){(0,Nt.T8)(this,(()=>{this.dispatchEvent((0,o.FU)("rate-row-rendered"))})),this._resetPencilLoaded(),this._refreshDirtyIndicators()}hook_onHovered(t){let e=this.findCell(t);e&&e.getAttribute("field")==="".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".Name")&&(this.showTooltip=!0,this._displayPreviewTooltip(e)),this._handleEditableCellsHover()}hook_onUnhovered(t){let e=this.findCell(t);e&&e.getAttribute("field")==="".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".Name")&&(this.showTooltip=!1,this.dispatchEvent((0,o.FU)("toggle-tooltip",{show:!1})))}findCell(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return t.composedPath().find((t=>{let n=t.classList;return n&&n.contains(e)}))}_mapToMasterUbpChanges(t,e){return e&&(t=A.Zr.deepClone(t),e.forEach((e=>{t[e.fieldPath]=t["".concat(D.U.constants.prefix).concat(e.fieldPath,"__c")]}))),t}_displayPreviewTooltip(t){if(this._previewPanel)this.dispatchEvent((0,o.FU)("toggle-tooltip",{target:t,content:this._rateCardPreview,show:!0}));else{let i=document.createElement("sf-preview-panel"),r=(e=this.rateId,n=["record"],(0,N.U2)(e,n)),s=r[D.U.constants.UBP_FIELDS.ConsumptionScheduleId];mt(this.categoryId,["rateCardFields"],(()=>gt(s))).then((e=>{let n=e.reduce(((t,e)=>(t[e.fieldPath]={type:e.type,label:e.label},t)),{});mt(s,["record"],(()=>gt(s))).then((a=>{let l={};if(this.unsavedUbpChanges&&this.unsavedUbpChanges.schedules&&this.unsavedUbpChanges.schedules[s]){let t=this.unsavedUbpChanges.schedules[s];a.attributes&&"ConsumptionSchedule"===a.attributes.type&&(t=this._mapToMasterUbpChanges(this.unsavedUbpChanges.schedules[s],e));let i=Et(a,t,e);Object.keys(n).forEach((t=>{A.Zr.deepEquals(i[t],a[t])||(l[t]="dirty")})),a=i}let d=[];Object.keys(a).forEach((t=>{d.push({field:t,value:a[t]})})),i.additionalUIData={_cellClasses:l},i.templateOptions={attributes:'class$="truncate body {{_cellClasses.$field}}"'},i.data=d,i.metadata=n,i.title=(0,A.q6)(r,"".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".Name").split(".")),i.iconClass="sf-icon-paired-lines",this._rateCardPreview=i,this.showTooltip&&this.dispatchEvent((0,o.FU)("toggle-tooltip",{target:t,content:i,show:!0}))}))}))}var e,n}_updateUiDataObserver(t,e,n,i){if(void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return this._updateUiData(t,e,n,i)}_updateUiData(t,e,n,i){const o=this._computeUnsavedEditForRate(n,i);let r=o?Et(t,o,e):t;this.uiData=this._formatUiData(r,e,n,o)}commitInlineEdit(t,e){this.inlineEditChanges[this.rateId]=this.inlineEditChanges[this.rateId]||{},this.inlineEditChanges[this.rateId][t]=e,this.dispatchEvent((0,o.FU)("inline-edit-commit"))}_getInlineEditChangesForRate(t){return this.inlineEditChanges&&this.inlineEditChanges[t]||{}}_formatUiData(t,e,n,o){let r={};for(let n of e){let e=n.fieldPath.split(".");i.I.org.isMultiCurrencyOrg&&"currency"===n.type&&!n.CurrencyIsoCode&&(n.CurrencyIsoCode=(0,N.U2)((0,N.U2)("UBPClientState",["quoteLineOrProdId"]),["record","CurrencyIsoCode"]));let o=at.M.formatFieldData(null,(0,A.q6)(t,e),n,t);(0,A.k2)(r,e,o)}return r.rateId=n,r.unsavedEdits=o,r}_computeUnsavedEditForRate(t,e){let n={},i=(0,N.U2)(t,["record"]);if(i){if(e){let t=i[D.U.constants.UBP_FIELDS.ConsumptionScheduleId];if(t&&e.schedules&&e.schedules[t]){let i=e.schedules[t];Object.keys(i).forEach((t=>{"Id"!==t&&"attributes"!==t&&(n["".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".").concat(t)]=i[t])}))}}this.appliedChanges&&this.appliedChanges[t]?n=Et(n,this.appliedChanges[t],this.fields):e&&e.rates&&e.rates[t]&&(n=Et(n,e.rates[t],this.fields)),this.inlineEditChanges&&(n=Et(n,this._getInlineEditChangesForRate(t),this.fields))}return n}get appliedChanges(){const t=(0,N.U2)("UBPClientState"),e="AppliedUbpChanges_".concat(t.quoteLineOrProdId,"_").concat(t.lineKey);return(0,N.U2)(e,["rates"])}computeClasses(){return i.I.isManualEditsForUBPEnabled?"inlineEditable":""}getContentNode(){return this.shadowRoot.querySelector("div.content")}getCellClass(){return"sf-ubp-table-cell"}_getFieldMetadataForInlineEdit(t){return this.fields.find((e=>e.fieldPath===t))}_getFieldMetadata(t){return this._getFieldMetadataForInlineEdit(t)}toggleInlineEditForDeviceDelegate(t,e,n,i){this._deviceDelegate.toggleInlineEdit(t,e,n,i,this)}toggleCellClass(t,e,n,i){(0,A.og)(t,e,n)}_getEditField(t,e){return Ji.getFieldComponent(t,null,e,this._getRecord())}_getOriginalRecord(){return this.appliedChanges&&this.appliedChanges[this.rateId]?Et(this.rateRecord,this.appliedChanges[this.rateId],this.fields):this.rateRecord}_isEditable(t){return D.U.isUbpFieldInlineEditable(t,(0,N.U2)("ConsumptionRateMetadata",["rateEditable"]))}_getRecord(){const t=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges);return Et(this.rateRecord,t,this.fields)}checkIsDirty(t,e,n){return t!==e[n]}_formatNewValue(t,e){const n=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges);let i=at.M.formatFieldData(null,n[t],e,this.rateRecord);return this._restampField(t,i),n[t]}_inlineEditedCategoriesChanged(t){t&&t.indexSplices&&t.indexSplices.forEach((t=>{if(t.removed){let e=!1;for(let n of t.removed){let t=(0,N.U2)(n,["orderedRates"]);if(t&&t.indexOf(this.rateId)>-1){e=!0;break}}e&&this._updateUiData(this.rateRecord,this.fields,this.rateId,this.unsavedUbpChanges)}}))}onKeyDown(t){this._deviceDelegate.onKeyDown(t,this)}_refreshRow(t){t&&t.detail&&t.detail.id===this.rateId&&this._updateUiData(this.rateRecord,this.fields,this.rateId,this.unsavedUbpChanges)}static get template(){return(0,Qt.dy)(wa||(wa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t\t\t<style include="sb-common-styles sb-icons-styles "></style>\n\t\t\t<div class$="content tr {{computeClasses()}}"></div>\n\t\t'])),_a)}}customElements.define(Sa.is,Sa);const Oa=(0,zt.f)(xa||(xa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  overflow: auto;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  --paper-tooltip-duration-in: 0;\n}\n:host .rateCardPreview {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .fixed {\n  padding-top: 3px;\n  padding-right: 32px;\n  float: right;\n}\n:host .fixed > paper-button {\n  padding-left: 32px;\n  padding-right: 32px;\n}\n:host .tbody {\n  flex: 1;\n}\n:host sf-table-header {\n  padding: 0 0 0 1.3rem;\n}\n:host .sb-icon-search {\n  right: 1rem;\n  bottom: 0.1rem;\n}\n:host .sb-icon-clear {\n  cursor: pointer;\n  border: none;\n  position: relative;\n  right: 1.75rem;\n}\n:host .leftSearchIcon {\n  position: absolute;\n  margin: 0.5rem 0 0 0.75rem;\n}\n:host #searchBar {\n  padding-top: 3rem;\n  padding-bottom: 1rem;\n  padding-left: 1.5rem;\n  background-color: #fafafa;\n}\n:host #searchRateInput {\n  width: 28rem;\n  height: 2.2rem;\n  padding-left: 2rem;\n}\n:host .searchResultDesc {\n  margin: 0.28rem 0 0 0.56rem;\n}\n:host .noSearchResults {\n  margin-left: 2rem;\n  margin-top: 2rem;\n}\n:host .ubpSearchMessage {\n  height: 1.25rem;\n}\n:host .rateRow {\n  border-bottom-width: var(--sbTableRowBorderBottomWidth);\n  border-bottom-style: var(--sbTableRowBorderBottomStyle);\n  border-bottom-color: var(--sbTableRowBorderBottomColor);\n  padding: 0 0 0 1.3rem;\n  /* has to match sf-table-header */\n}\n'])));var Ia;function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach((function(e){Ma(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ma(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ba=["Description","ConsumptionSchedule.Description"];class Pa extends((0,Ws.P)([Vs.z],(0,qt.J)((0,zs.n)(zi(Li(Qt.H3)))))){static get is(){return"ubp-rate-table"}static get properties(){return{clientCacheSearchInput:{type:String,observing:{id:"UBPClientState",path:["searchKeyword"]}},userSearchInput:{type:String,value:null},rowTemplate:{type:Object,computed:"_getRowTemplate(fields)"},categoryId:{type:String,observer:"_categoryIdChanged"},rateIds:{type:Object,observing:{idProperty:"categoryId",path:["orderedRates"]},observer:"_rateIdsChanged"},fields:{type:Object,observing:{idProperty:"categoryId",path:["fields"]}},totalRateCount:{type:Number,observing:{idProperty:"categoryId",path:["rateCount"]},value:0},sortField:{type:String,observing:{idProperty:"categoryId",path:["sortField"]}},sortOrder:{type:String,observing:{idProperty:"categoryId",path:["sortOrder"]}},quoteLineOrProdId:{type:String,observing:{id:"UBPClientState",path:["quoteLineOrProdId"]}},lineKey:{type:Number,observing:{id:"UBPClientState",path:["lineKey"]}},hasInlineEditChanges:{type:Boolean,value:!1},inlineEditedCategories:{type:Array,observing:{id:"UbpInlineEditChanges",path:["categories"]}},lineModel:Object}}ready(){super.ready(),Object.entries({"table-header-sort-clicked":"_onSort","rate-row-rendered":"_resizeIronList","toggle-tooltip":"_toggleTooltip","iron-resize":"_checkThreshold","inline-edit-commit":"_inlineEditCommitted"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])}))}static get observers(){return["_updateHeaderStateObserver(sortField, sortOrder)"]}_categoryIdChanged(t,e){void 0===t&&e&&(this.rateIds=[],this.totalRateCount=0,this.fields=[]),this.hasInlineEditChanges=this.inlineEditedCategories&&this.inlineEditedCategories.indexOf(this.categoryId)>-1}_toggleTooltip(t){let e=this.shadowRoot.querySelector(".rateCardPreview");for(;e.firstChild;)e.removeChild(e.firstChild);t.detail.show?(e._target=t.detail.target,e.appendChild(t.detail.content),e.updatePosition(),e.show()):e.hide()}_checkThreshold(){this.rateIds&&this.rateIds.length!=this.totalRateCount&&this._previousRenderLength!==this.rateIds.length&&(this._previousRenderLength=this.rateIds.length,this.$.threshold.clearTriggers(),this.$.threshold.checkScrollThresholds())}_resizeIronList(){this.shadowRoot.querySelector("iron-list").dispatchEvent((0,o.FU)("iron-resize"))}_rateIdsChanged(t){const e=this.$.ironList._scrollPosition;this.$.ironList.items=t,this.$.ironList._resetScrollPosition(e)}_getSortLabel(t,e){if(t&&e){let n=e.find((e=>e.fieldPath===t));return n?n.label:t==="".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".Name")?(0,i.M)("Consumption Schedule Name"):""}return""}_onSort(t){let{detail:{lineSortField:e,order:n}}=t;(0,N.gz)(this.categoryId,[],Ta(Ta({},(0,N.U2)(this.categoryId,[])),{},{sortField:e,sortOrder:n})),this._loadRates(0)}_getFieldLabels(t){let e={};for(let n of t)(0,A.k2)(e,n.fieldPath.split("."),n.label);return e}_getFieldOptions(t){let e=this._getWidthParameters(this._getFieldsFromMetadata(t));return e.isSortable=t=>t&&Ba.every((e=>e!==t)),e}_getWidthParameters(t){return{columnWidths:this._calcColumnWidths(t),columnWidthUnit:"%"}}_getFieldsFromMetadata(t){return t.map((t=>t.fieldPath))}_calcColumnWidths(t){let e={};return t.length>0&&t.forEach((n=>{e[n]=Math.floor(100/t.length)})),e}_getRowTemplate(t){let e=this._getFieldsFromMetadata(t),n=this._getWidthParameters(e);return n.attributes="class$=\"container sf-ubp-table-cell td focusable ubp-rate-row {{computeCellClasses(rateId, '$field', unsavedEdits)}}\"",new Us(t,n).generateRowNode(e)}_search(){let t=this.userSearchInput?Hs.V.sanitizeHtmlText(this.userSearchInput):null;return(0,N.gz)("UBPClientState",["searchKeyword"],t),this._loadRates(0)}_clear(){this.set("userSearchInput",""),this._search()}_onKeyPress(t){13!=t.keyCode||this._shouldDisableSearch(this.userSearchInput)||(this._search(),this.$.searchRateInput.blur())}_getSearchPlaceholder(){return(0,i.M)("Search Consumption Schedule Name")}_loadMore(){this._loadRates(this.rateIds?this.rateIds.length:0)}_loadRates(t){bt(t)}_updateHeaderStateObserver(t,e){if(void 0!==t&&void 0!==e)return this.updateHeaderState(t,e)}updateHeaderState(t,e){this.$.tableHeader.setSort(t,e)}_noSearchResults(t){return 0===t}_shouldDisableSearch(t){return!!t&&!/(.*[^*?)( ]){2,}.*/g.test(t)}_shouldShowSortMessage(t,e){return""!==t&&e>0}_shouldShowSearchAppliesMessage(t){return!t}_getSortMessage(t,e,n){return(0,i.M)("Items_Sorted_by",[t,this._getSortLabel(e,n)])}clearSearch(){this.userSearchInput=null,(0,N.gz)("UBPClientState",["searchKeyword"],null)}computeCellClasses(t,e,n){let o="";if(n&&n.hasOwnProperty(e)){let i=(0,N.U2)(t,["record"]);const r=(0,N.U2)(this.appliedChangeKey,["rates"]);r&&r[t]&&(i=Et(i,r[t],[{fieldPath:e}])),o=A.Zr.deepEquals(n[e],(0,A.q6)(i,e.split(".")))?"":"dirty "}return i.I.isManualEditsForUBPEnabled&&(o+=D.U.isUbpFieldInlineEditable(e,(0,N.U2)("ConsumptionRateMetadata",["rateEditable"]))?F.classNames.EDITABLE:""),o}normalizeAndMergeUnsavedChanges(t,e){const n={};return t.forEach((t=>{const{Id:i,consumptionRates:o}=t;n[i]=o.map((t=>Et(t,e[t.Id],this.fields)))})),n}_onUpdate(){this.dispatchEvent((0,o.FU)("calculate-immediately",{callback:this._updateAfterCalculate.bind(this)}))}_updateAfterCalculate(t){(0,N.U2)(this.appliedChangeKey)||(0,N.gz)(this.appliedChangeKey,[],{rates:{}});const e=this._getUnsavedUbpChanges(t),n=(0,N.U2)("UbpInlineEditChanges",["rates"])||{},i=(0,N.U2)(this.appliedChangeKey,["rates"]),o=this._getSavedSchedulesAndRates(),r=[],s={};o.forEach((t=>{t.consumptionRates.forEach((t=>{r.push(t.Id)}))})),r.forEach((t=>{if(n[t]||e[t]||i[t]){const o=Et(i[t]||{},n[t],this.fields);s[t]=Et(o,e[t],this.fields)}}));const a=this.normalizeAndMergeUnsavedChanges(o,s),l=(0,N.U2)("ubpLabels",["labels"]),d=this._validateRates(a,l),c=0===d.length;c?(Object.keys(s).forEach((t=>{(0,N.gz)(this.appliedChangeKey,["rates",t],s[t])})),this._onCancel()):this._overrideConflictingInlineEdits(r,e,n),(0,N.gz)("UBPClientState",["successMsg"],c?[l.msg_changes_applied]:null),(0,N.gz)("UBPClientState",["errorMsg"],c?null:[d[0].errorMsg])}_overrideConflictingInlineEdits(t,e,n){t.forEach((t=>{if(e[t]&&n[t]){let i=!1;Object.keys(e[t]).forEach((e=>{"Id"!==e&&"attributes"!==e&&n[t][e]&&(delete n[t][e],i=!0)})),i&&(0,o.BX)(o.zW.UBP_ROW_REFRESH,{id:t})}}))}_getUnsavedUbpChanges(t){let e=(0,N.U2)("UnsavedUbpChanges",["rates"]);if(e)return e;if(t&&t.lineItems){const n=t.lineItems.find((t=>(t.record.Id===this.quoteLineOrProdId||t.record[D.U.constants.PRODUCT]===this.quoteLineOrProdId)&&t.key===this.lineKey));if(n&&n.ubpChanges)return e=n.ubpChanges,(0,N.gz)("UnsavedUbpChanges",[],e),e.rates}return{}}_validateRates(t,e){return((t,e,n)=>{let i=[];na=n;const o=e.UBP_FIELDS.ConsumptionRateFields;return Object.keys(t).forEach((e=>{const n=t[e].sort((t=>(e,n)=>e[t.ProcessingOrder]>n[t.ProcessingOrder]||e[t.ProcessingOrder]===n[t.ProcessingOrder]&&e[t.LowerBound]>n[t.LowerBound]?1:-1)(o));n.forEach(((t,r)=>{const s=r+1,a=n.length<=s?null:n[s];i=[...i,...Ks(e,t,o),...Ys(e,t,o),...Js(e,t,o),...Zs(e,t,a,o),...ea(e,t,a,o),...ta(e,t,s===n.length,o)]}))})),i})(t,D.U.constants,e)}_getSavedSchedulesAndRates(){const t=new window.SB.usageBasedPricingDAO(D.U.constants.prefix,null,null).getFromCache(this.quoteLineOrProdId)||[],e=(0,N.U2)(this.categoryId,["name"]),n=t.filter((t=>t["".concat(D.U.constants.prefix,"Category__c")]===e||t["".concat(D.U.constants.prefix,"Category__c")]==="".concat(D.U.constants.prefix).concat(e)));if(i.I.org.isMultiCurrencyOrg){const t=(0,N.U2)(this.quoteLineOrProdId,["record","CurrencyIsoCode"]);for(let e=0;e<n.length;e++)n[e].consumptionRates=n[e].consumptionRates.filter((e=>e.CurrencyIsoCode===t))}return n}_onCancel(){if(this.inlineEditedCategories){const t=this.inlineEditedCategories.indexOf(this.categoryId);if(t>-1){const e=(0,N.U2)("UbpInlineEditChanges",["rates"]);e&&Object.keys(e).forEach((t=>{const n=(0,N.U2)(t,["record",D.U.constants.prefix+"QuoteLineConsumptionSchedule__r",D.U.constants.prefix+"Category__c"]);n&&this.quoteLineOrProdId+"_"+n===this.categoryId&&delete e[t]})),this.splice("inlineEditedCategories",t,1),this.hasInlineEditChanges=!1}}}_shouldShowManualEditButtons(){return i.I.isManualEditsForUBPEnabled&&this.hasInlineEditChanges}_inlineEditCommitted(){this.hasInlineEditChanges=!0,-1===this.inlineEditedCategories.indexOf(this.categoryId)&&this.inlineEditedCategories.push(this.categoryId)}getCellClass(){return"sf-ubp-table-cell"}get appliedChangeKey(){return"AppliedUbpChanges_".concat(this.quoteLineOrProdId,"_").concat(this.lineKey)}getZIndex(t){return this.totalRateCount+10-t}_rowHasParentDiv(){return!0}discardUnappliedChanges(){(0,N.gz)("UbpInlineEditChanges",["categories"],[]),(0,N.gz)("UbpInlineEditChanges",["rates"],{}),this.hasInlineEditChanges=!1}static get template(){return(0,Qt.dy)(Ia||(Ia=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>\n\t\t\t<style>','</style>\n\n\t\t\t<div id="searchBar">\n\t\t\t\t<div id="invalidSearch" class="ubpSearchMessage searchResultDesc">\n\t\t\t\t\t<template is="dom-if" if="[[_shouldDisableSearch(userSearchInput)]]">\n\t\t\t\t\t\t<p><sb-i18n key="Your_search_term_must_have_2_or_more_characters">Your search term must have 2 or more characters, excluding  *, ?, (), or \' \'</sb-i18n></p>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t\t<span class="icon leftSearchIcon sf-icon-search"></span>\n\t\t\t\t<iron-input bind-value="{{userSearchInput}}">\n\t\t\t\t\t<input id="searchRateInput" value="{{value::input}}" on-keydown="_onKeyPress" placeholder=[[_getSearchPlaceholder()]]>\t\t\t\t\n\t\t\t\t</iron-input> \n\t\t\t\t<button class="sb-icon-clear sf-icon-clear" on-click="_clear"></button>\n\t\t\t\t<paper-button disabled="[[_shouldDisableSearch(userSearchInput)]]" class="sbPrimaryAction sb-icon-search" noink on-click="_search"></paper-button>\n\t\t\t\t<div class="fixed ubp-edit-buttons" hidden$="[[!_shouldShowManualEditButtons(hasInlineEditChanges)]]">\n\t\t\t\t\t<paper-button id="ubpCancelButton" on-click="_onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t\t\t<paper-button id="ubpUpdateButton" on-click="_onUpdate" class="brand-button"><sb-i18n>Update</sb-i18n></paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div id="sortByMessage" class="ubpSearchMessage searchResultDesc">\n\t\t\t\t\t<template is="dom-if" if="[[_shouldShowSortMessage(sortOrder, totalRateCount)]]">\n\t\t\t\t\t\t<p><b>[[_getSortMessage(totalRateCount, sortField, fields)]]</b></p>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<paper-tooltip fit-to-visible-bounds="true" position="top" animation-delay="0" class="rateCardPreview"></paper-tooltip>\n\t\t\t<sf-table-header id="tableHeader" fields="[[_getFieldsFromMetadata(fields)]]"\n\t\t\t\tfield-labels="[[_getFieldLabels(fields)]]" options="[[_getFieldOptions(fields)]]"></sf-table-header>\n\t\t\t<template is="dom-if" if="[[_noSearchResults(totalRateCount)]]">\n\t\t\t\t<p class="noSearchResults"><b><sb-i18n>There are no rates that match your search criteria</sb-i18n></b></p>\n\t\t\t</template>\n\t\t\t<iron-scroll-threshold id="threshold" class="tbody" on-lower-threshold="_loadMore">\n\t\t\t\t<div on-focusout="_onFocusOut" on-keydown="_onKeyDown">\n\t\t\t\t\t<iron-list id="ironList" scroll-target="threshold" as="rateId">\n\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t<div style$="z-index:[[getZIndex(index)]]" class="rateRow">\n\t\t\t\t\t\t\t\t<ubp-rate-row\n\t\t\t\t\t\t\t\t\ttemplate="[[rowTemplate]]"\n\t\t\t\t\t\t\t\t\tcategory-id="[[categoryId]]"\n\t\t\t\t\t\t\t\t\trate-id="[[rateId]]"\n\t\t\t\t\t\t\t\t\tfields="[[fields]]"\n\t\t\t\t\t\t\t\t\tinline-edited-categories="[[inlineEditedCategories]]"\n\t\t\t\t\t\t\t\t\tdata-index="[[index]]">\n\t\t\t\t\t\t\t\t</ubp-rate-row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</iron-list>\n\t\t\t\t</div>\n\t\t\t</iron-scroll-threshold>\n\t\t'])),Oa)}}var Da;customElements.define(Pa.is,Pa);const Aa=(0,zt.f)(Da||(Da=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n.checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n.checkboxcontainer.disabled {\n  display: none;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n.checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n.checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n/**\n * These styles used to be content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-dialog> must import to maintain the styles of\n * sb-dialog.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-dialog paper-button {\n  cursor: pointer;\n  float: right;\n  margin: 0px 0px 0px 16px;\n}\nsb-dialog paper-button.hidden {\n  display: none;\n}\nsb-dialog paper-button.default {\n  background-color: white;\n  border: 1px solid #D8DDE6;\n}\nsb-dialog paper-button.primary {\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  color: var(--sbBrandedButtonFontColor);\n}\nsb-dialog paper-button.primary:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n}\nsb-dialog .title {\n  padding-left: 10px;\n  display: inline-block;\n  margin: 0 0 0 0;\n  line-height: 1.25;\n  font-family: var(--sbDialogFontFamily);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  font-size: var(--sbPageHeaderFontSize);\n}\nsb-dialog .icon {\n  font-size: var(--sbIcon24);\n  display: inline-block;\n}\nsb-dialog[class*='--desktop'] .title {\n  display: var(--sbDialogTitleDisplay);\n}\n[class*='--desktop'] sb-dialog .title {\n  display: var(--sbDialogTitleDisplay);\n}\nsb-dialog[class*='--mobile'] paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\nsb-dialog[class*='--mobile'] .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\nsb-dialog[class*='--mobile'] .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\nsb-dialog[class*='--mobile'] .icon {\n  display: none;\n}\n[class*='--mobile'] sb-dialog paper-button {\n  margin: 0;\n  height: 36px;\n  font-size: 16px;\n}\n[class*='--mobile'] sb-dialog .title {\n  display: block;\n  text-align: center;\n  margin: 8px auto 0 auto;\n  font-size: 20px;\n  padding: 0 6px;\n  visibility: var(--sbDialogTitleMobileVisibility);\n}\n[class*='--mobile'] sb-dialog .title.no-buttons {\n  margin: 8px auto 0 auto;\n}\n[class*='--mobile'] sb-dialog .icon {\n  display: none;\n}\n:host {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n:host .ubpTabContainer {\n  border-bottom: 1px solid #d8dde6;\n  padding-left: 1rem;\n}\n:host .ubpTabContainer #paperTabContainer {\n  border: none;\n}\n:host .header {\n  background: var(--sbPageHeaderBgColor);\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n  min-height: var(--sbPageHeaderMinHeight);\n  padding-top: var(--sbPageHeaderPaddingTop);\n  padding-right: var(--sbPageHeaderPaddingRight);\n  padding-bottom: var(--sbPageHeaderPaddingBottom);\n  padding-left: var(--sbPageHeaderPaddingLeft);\n  width: 100%;\n}\n:host .header #ubpHeaderIcon {\n  display: var(--sbPageHeaderIconDisplay);\n  padding-top: 0px;\n  margin-top: 6px;\n  background-color: #2FBFCE;\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\n:host .header #ubpHeaderIcon:before {\n  display: block;\n}\n:host .header .ubpHeaderTitles {\n  padding-top: 3px;\n  line-height: 1.25;\n}\n:host .header #ubpSubTitle {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\n:host .header #productName {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n:host .header .fixed {\n  padding-top: 3px;\n  padding-right: 32px;\n}\n:host .header .fixed > paper-button {\n  padding-left: 32px;\n  padding-right: 32px;\n}\n:host .rowWrapper {\n  overflow-x: auto;\n  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);\n  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);\n  border-bottom-color: var(--sbPageHeaderBorderBottomColor);\n}\n:host .rowWrapper .htmlField ul > li {\n  list-style: disc;\n  list-style-position: inside;\n}\n:host .rowWrapper .htmlField ol > li {\n  list-style: decimal;\n  list-style-position: inside;\n}\n:host ul.grid {\n  width: fit-content;\n  display: flex;\n  padding: 0.75rem 0 0.75rem 0;\n  max-height: 15rem;\n}\n:host li.detail-block {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n:host li.detail-block div.body {\n  font-weight: bold;\n}\n:host div.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n:host .checkboxcontainer {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  margin: initial;\n  vertical-align: middle;\n  background-color: transparent;\n  cursor: pointer;\n}\n:host .checkboxcontainer.disabled {\n  display: none;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {\n  background-color: #1589ee;\n  border-color: #1589ee;\n}\n:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {\n  -webkit-animation: checkmark-expand 140ms ease-out forwards;\n  animation: checkmark-expand 140ms ease-out forwards;\n}\n:host .checkboxcontainer .paper-checkbox {\n  border: solid 2px;\n  border-color: #808080;\n  border-width: 1px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  height: 100%;\n  pointer-events: none;\n  position: relative;\n  -webkit-transition: background-color 140ms, border-color 140ms;\n  transition: background-color 140ms, border-color 140ms;\n}\n:host .checkboxcontainer .paper-checkbox .checkmark {\n  position: absolute;\n  width: 36%;\n  height: 70%;\n  border-style: solid;\n  border-top: none;\n  border-left: none;\n  border-right-width: calc(2 / 15 * 16px);\n  border-bottom-width: calc(2 / 15 * 16px);\n  border-color: #fff;\n  -webkit-transform-origin: 97% 86%;\n  transform-origin: 97% 86%;\n  box-sizing: content-box;\n  transform: scale(1, 1) rotate(45deg);\n}\n:host .discardBtn {\n  float: right;\n}\n:host #stayOnPageBtn {\n  float: left;\n  margin: 0;\n}\n"])));var La,Fa;class qa extends(zi((0,zs.n)(Qt.H3))){static get is(){return"sf-ubp-editor"}static get properties(){return{lineRecord:Object,errorMsg:{type:String,observing:{id:"UBPClientState",path:["errorMsg"]}},successMsg:{type:String,observing:{id:"UBPClientState",path:["successMsg"]}},requestCount:{type:Number,observing:{id:"UBPClientState",path:["requestCount"]}},categoryIds:{type:Array,observing:{idFunction:"_getLineId(lineRecord)",path:["related","categoryIds"]}},categoryIndex:{type:Number,observing:{id:"UBPClientState",path:["categoryIndex"]},value:0}}}ready(){super.ready(),Object.entries({"selected-page-changed":"_onTabChanged","sb-cancel-backToQuote":"_closeConfirmationDialog"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.shadyRoot&&(this.scopeSubtree(this.$.quoteLine,!0),this.scopeSubtree(this.querySelector(".ubpTabContainer",!0)))}getContentNode(){return this.$.quoteLine}isTemplatizeWithRootDivNode(){return!1}_getLineId(t){return t.Id||t[D.U.constants.SOURCE_FIELD]||t[D.U.constants.PRODUCT]}_getCategoryId(t,e){if(t)return t[e]}_hasCategories(t){return!!t&&t.length>0}_getCategoryTabs(t){return t.map((t=>({label:(0,N.U2)(t,["label"])})))}_onBackToQLE(){this.$.ubpRateTable.clearSearch();const t=(0,N.U2)("UbpInlineEditChanges",["categories"]);null!=t&&t.length>0?this.$.confirmationDialog.open():this.dispatchEvent((0,o.FU)("toggle-ubp-editor",{visible:!1}))}_closeConfirmationDialog(){this.$.confirmationDialog.close()}_discardAllUnappliedChanges(){this.$.ubpRateTable.discardUnappliedChanges(),this._closeConfirmationDialog(),this.dispatchEvent((0,o.FU)("toggle-ubp-editor",{visible:!1}))}_getProductName(t){return t[D.U.constants.PRODUCT_NAME_FIELD]}_onTabChanged(t){this.categoryIndex!==t.detail&&((0,N.gz)("UBPClientState",["categoryIndex"],t.detail),this._loadRates(0))}_loading(t){return t>0}_loadRates(t){bt(t)}static get template(){return(0,Gt.dy)(La||(La=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles iron-flex iron-flex-alignment"></style>\n\t\t<style>','</style>\n\t\t\n\t\t<sb-dialog \n\t\t\tid="confirmationDialog" \n\t\t\tmodal="true" \n\t\t\thide-cancel-button="true" \n\t\t\tclose-dialog="sb-cancel-backToQuote">\n\t\t\t<div slot="title" class="title">\n\t\t\t\t<sb-i18n key="Leave_page_without_updating">Leave page without updating?</sb-i18n></div>\n\t\t\t<div slot="content" class="content">\n\t\t\t\t<sb-i18n key="There_are_unsaved_changes_in_one_or_more_of_your_categories">\n\t\t\t\t\tThere are unsaved changes in one or more of your categories.  We\'re just making sure you want to go back to the quote without updating.\n\t\t\t\t</sb-i18n>\n\t\t\t</div>\n\t\t\t<paper-button \n\t\t\t\tslot="paper-button" \n\t\t\t\tid="stayOnPageBtn" \n\t\t\t\tnoink \n\t\t\t\ton-click="_closeConfirmationDialog">\n\t\t\t\t<sb-i18n>Never Mind</sb-i18n>\n\t\t\t</paper-button>\n\t\t\t<paper-button \n\t\t\t\tslot="paper-button" \n\t\t\t\tid="discardChangesBtn" \n\t\t\t\tnoink \n\t\t\t\tclass="primary discardBtn" \n\t\t\t\ton-click="_discardAllUnappliedChanges">\n\t\t\t\t<sb-i18n>Back to Quote</sb-i18n>\n\t\t\t</paper-button>\n\t\t</sb-dialog>\n\t\t<sb-loading-spinner \n\t\t\tshow="[[_loading(requestCount)]]"></sb-loading-spinner>\n\t\t<header class="header">\n\t\t\t<sb-toast type="error" messages="[[errorMsg]]"></sb-toast>\n\t\t\t<sb-toast type="success" messages="[[successMsg]]"></sb-toast>\n\t\t\t<div class="layout horizontal">\n\t\t\t\t\x3c!-- Icon and Titles --\x3e\n\t\t\t\t<i id="ubpHeaderIcon" class="icon sf-icon-paired-lines"></i>\n\t\t\t\t<div class="ubpHeaderTitles">\n\t\t\t\t\t<p id="ubpSubTitle"><sb-i18n>Consumption Schedule</sb-i18n></p>\n\t\t\t\t\t<p id="productName">[[_getProductName(lineRecord)]]</p>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- back button --\x3e\n\t\t\t\t<div class="flex layout horizontal wrap end-justified">\n\t\t\t\t\t<div class="fixed">\n\t\t\t\t\t\t<paper-button \n\t\t\t\t\t\t\tid="ubpBackButton" \n\t\t\t\t\t\t\ton-click="_onBackToQLE">\n\t\t\t\t\t\t\t\t<sb-i18n>Back to Quote</sb-i18n>\n\t\t\t\t\t\t</paper-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t\t<div class="rowWrapper">\n\t\t\t<ul class="grid" role="list" id="quoteLine">\n\t\t\t</ul>\n\t\t</div>\n        <div class="ubpTabContainer">\n        <template is="dom-if" if="[[_hasCategories(categoryIds)]]">\n            <sb-tabs \n            \tid="ubpCategoryTabs"\n                tabs="[[_getCategoryTabs(categoryIds)]]"\n                selected-tab-index="[[categoryIndex]]">\n            </sb-tabs>\n        </template>\n        </div>\n        <ubp-rate-table id="ubpRateTable" category-id="[[_getCategoryId(categoryIds, categoryIndex)]]"></ubp-rate-table>\n\t\t'])),Aa)}}customElements.define(qa.is,qa);const Na=(0,zt.f)(Fa||(Fa=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n:host {\n  display: inherit;\n  height: inherit;\n  --sb-side-panel-border-top: 1px solid #d8dde6;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n:host([class*='--mobile']) {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n:host #quoteTabsContainer {\n  position: relative;\n}\n"])));var Ra,ja;class za extends((0,qt.J)((0,Lt.Q)((0,Ft.U)(Qt.H3)))){static get is(){return"sb-quote-tabs"}static get properties(){return{isQuoteFieldPage:{type:Boolean,computed:"_setIsQuoteFieldPage(pageType)"},isGroupsPage:{type:Boolean,computed:"_setIsGroupsPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType, groupModel)"},editorModel:{notify:!0,type:Object},groupModels:{notify:!0,type:Object},viewport:{type:Object,value:function(){return j._.getViewport()}},segmentedCompName:String}}get events(){let t={};return t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t}static get observers(){return["buildPage(groupModels)","_groupModelsChanged(groupModels.*)"]}_groupModelsChanged(t){if(1===this.groupModels.length&&"groupModels"!==t.path&&!this.groupModels[0].quoteModel.grouped){let e=t.path.split("."),n=e.splice(2,e.length).join(".");this.set("groupModel."+n,t.value)}}ready(){super.ready(),this.handleResize(),this.segmentedCompName="sf-segmented-table"}connectedCallback(){super.connectedCallback(),this.resize()}buildPage(){this.groupModels&&(this.pageType=this.attributes.label.value,"details"!==this.pageType&&"groups"!==this.pageType&&(this.groupModel=this.groupModels[0],this.quoteModel=this.groupModel.quoteModel),"segmented"===this.pageType&&this.groupModel.quoteMDQTabs&&(this.segmentedTabs=this.groupModel.quoteMDQTabs),this.hideTabs=!!this.segmentedTabs&&(1===this.segmentedTabs.length&&"Custom"!==this.segmentedTabs[0].key),this.resize())}viewportChanged(t){this.viewport=t.detail.viewport}handleResize(){window.addEventListener("resize",function(t){this.resize()}.bind(this))}resize(){if((0,A.GC)(this)){let t=1===(0,A.GC)(this).tabs.length&&"Custom"!==(0,A.GC)(this).tabs[0].key?0:43;this.layoutHeight=(0,A.GC)(this).getBoundingClientRect().height-t+"px",this.parentNode.style.height=this.layoutHeight}}_setIsQuoteFieldPage(t){return"details"===t}_setIsGroupsPage(t){return"groups"===t}_setIsSegmentedLinesPage(t){return"segmented"===t}_setIsStandardLinesPage(t,e){return"standard"===t&&e}static get template(){return(0,Qt.dy)(Ra||(Ra=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\t\t\t<style>",'</style>\n\t        <div device id="quoteTabsContainer" style$="height:[[layoutHeight]]">\n\n\t\t\t<template is="dom-if" if="[[isQuoteFieldPage]]">\n\t\t\t\t<div class="quoteFieldsContainer">\n\t\t\t\t\t<sb-field-set-table num-columns="1"\n\t\t\t\t\t\t\t\t\t\teditor-model="{{editorModel}}"\n\t\t\t\t\t\t\t\t\t\tobject-name="[[editorModel.data.quoteObjectName]]"\n\t\t\t\t\t\t\t\t\t\tdata="{{editorModel.quoteModel.quoteVO.record}}"\n\t\t\t\t\t\t\t\t\t\tmodel="{{editorModel.quoteModel}}"></sb-field-set-table>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isGroupsPage]]">\n\t\t\t\t<sb-le-group-layout id="groupLayout"\n\t\t\t\t\t\t\t\t\teditor-model="[[editorModel]]"\n\t\t\t\t\t\t\t\t\tgroup-models="{{groupModels}}"\n\t\t\t\t\t\t\t\t\tright-side-button="[[rightSideButton]]"></sb-le-group-layout>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isSegmentedLinesPage]]">\n\t\t\t\t<sb-tabs tabs="[[segmentedTabs]]"\n\t\t\t\t\t\t page-component="[[segmentedCompName]]"\n\t\t\t\t\t\t group-model="{{groupModel}}"\n\t\t\t\t\t\t hide-tabs="[[hideTabs]]"></sb-tabs>\n\t\t\t</template>\n\n\t\t\t<template is="dom-if" if="[[isStandardLinesPage]]">\n\t\t\t\t<sf-standard-table id="mobileStandardLInes" group-model="{{groupModel}}"></sf-standard-table>\n\t\t\t</template>\n\t\t</div>\n\t    '])),Na)}}function Ha(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ua(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}customElements.define(za.is,za);const Va={"le-action-tapped":"_executeCustomAction","cseMobile-tapped":"_handleMobileCSE","cse-tapped":"_handleCSE","segmented-changed":"_handleCSEResponse","change-ghost":"_handleGhostChanges","renumber-lines":"renumber","validate-quantity-changed":"_displayUpgradeQuantityToast","field-change-validated":"_updateFieldValidations","calculate-immediately":"_calculateImmediately","rte-saved":"_updateIronList","calculate-cache-get":"_setCalculateCached","toggle-ubp-editor":"_toggleUbpEditor","toggle-page-loaded":"_togglePageLoaded"};class Wa extends((0,qt.J)((0,Lt.Q)((0,Ft.U)(s.T3)))){static get is(){return"sb-line-editor"}static get properties(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ha(Object(n),!0).forEach((function(e){Ua(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({rawData:{type:Object},data:{type:Object,observer:"_dataIsChanged"},md:{type:Object,notify:!0},editorModel:{type:Object,notify:!0},groupModels:{type:Array},errors:{type:Array,notify:!0},quoteLevelTabs:{type:Array,value:[]},pageLoaded:{type:Boolean,value:!1},calculateGetCacheArray:{type:Array,value:[]},rules:Array},s.T3.properties)}get events(){let t={};return t[o.zW.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,t[o.zW.VIEWPORT_CHANGED]=this.viewportChanged,t[o.zW.COL_SIZE_ERR]=this._onError,t[o.zW.GENERIC_ERROR]=this._onError,t}connectedCallback(){super.connectedCallback(),document.addEventListener("LineEditor-cached",function(){this.needsInit=!0}.bind(this)),(0,o.oW)(this,Va)}disconnectedCallback(){super.disconnectedCallback(),(0,o.oG)(this,Va)}static get observers(){return["_createEditorModelObserver(data, md)","_errorEventHandled(error)","_loadObjectMD(app.org)","_initObserver(rawData, rules)"]}_isColumnResizingEnabled(){return i.I.org.isColumnResizingEnabled&&!i.I.isMobile}_updateIronList(){this.editorModel.largeQuoteExperienceEnabled&&(0,o.BX)(o.zW.UPDATE_IRON_LIST,{index:null})}_loadObjectMD(){let t=this.app.org.prefix?this.app.org.prefix+"__":"";this.mdObjects=[t+"QuoteLineGroup__c",t+"QuoteLine__c",t+"Quote__c",t+"DiscountTier__c",t+"DiscountSchedule__c"]}_loadProductRules(){let t=i.I.org.hasQuoteSelectionProductRules&&i.I.org.isJSProductRulesEnabled;return!1===t&&(this.rules={}),t}_executeCustomAction(t){let{detail:e}=t;const n=e.customAction.eventHandlerName;"onFlagCalculate"===n&&(this.calculateGetCacheArray=[]),this._doesUserHavePermissionForAction(n)?("onFlagCalculate"===n&&this.data.settings.diagnosticToolEnabled&&this._openDiagnosticTool(),this.eventDetail=e):this.errors=[this.i18n.l("Insufficient privileges to perform that action")]}_doesUserHavePermissionForAction(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!new Set(["onAddProducts","onSave","onQuickSave","onFlagCalculate"]).has(t)||!1!==i.I.user.hasQuoteEditPermission}_createEditorModelObserver(t,e){if(void 0!==t&&void 0!==e)return this._createEditorModel(t,e)}_createEditorModel(t,e){if(t.settings.largeQuoteThreshold>0&&(t.settings.enableLQTValidations&&this._cacheProductRuleFields("validationErrorConditionDependencies"),t.settings.enableLQTSelectionRules&&this._cacheProductRuleFields("selectionErrorConditionDependencies")),this.ctx.params&&"onFlagCalculate"==this.ctx.params.cmd&&(t.quote.calculationRequired=!0,this.ctx.params.cmd=null),t.quote.calculationRequired)this.$.customActionServices.onFlagCalculate(this.pageLoaded);else{if(this.editorModel=new J(t,e,this),this._updateFieldLabelsMap(),this._handleGroupCustomActions(),this.groupModels=this._getGroupModels(),this.rightSideButton=!this.editorModel.deviceContext.isMobile&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.quoteId=this.editorModel.quoteModel.quoteVO.record.Id,this.hasQuoteFieldSet=this.editorModel.fieldsetMap.quoteFieldNames.length>0,this._viewportChanged(this.editorModel.deviceContext.isMobile),this.renumber(),this.quoteHasNoLines(),this.ctx.params&&null!=this.ctx.params.cmd?(this._executeCmd(this.ctx.params.cmd),this.ctx.params.cmd=null):this.$.sbLineEditorRead.isLastReadQuoteUnopened&&this.editorModel.quoteModel.quoteVO.isCoTermPrompted?this._navigateToContractLookupPage():this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]?this._executeDefaultCustomAction():this._handleMissingPricebook(),this._loadProductRules()&&this._redirectToLineEditor()?this.executeProductRules():this.pageLoaded=!0,(this.editorModel.deviceContext.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.quoteTotalDisplayed=!0),this.editorModel.largeQuoteExperienceEnabled){this.quoteDetailsIconClass="sf-icon-chevrondown";let t=this.returnGroupKeyAfterQuickSave?this.returnGroupKeyAfterQuickSave:this.ctx.params.groupKey;var n=t&&this.editorModel.quoteModel.groupsByKey[t]?t:this.groupModels[0].groupKey}this.selectedGroupKey=this.editorModel.largeQuoteExperienceEnabled?n:null,this._isSubtitleCombined()}}_cacheProductRuleFields(t){const e=this.$[t],n=e=>{const n={};return n[t]=e,(0,rt.TS)(n)};e.read({uid:t}).then((t=>n({fields:t}))).catch((t=>n({errors:t})))}_isSubtitleCombined(){this.subtitleCombined=this.editorModel.largeQuoteExperienceEnabled&&"doNotDisplay"!=this.data.settings.lineEditorTotalsField&&this.data.quote.lineItems.length>0}_handleGroupCustomActions(t){if(!this.editorModel)return;let e=this.viewport&&this.viewport.isDesktop()&&this.viewport.M.up;if(this.editorModel.groupCustomActions=e?this.editorModel.customActionsByLocation.Group:[this.editorModel.groupMobileMenuButtonAction],t||e||(this.editorModel.groupCustomActions[0].label=this.editorModel.customActionsByLocation.Group[0].label,this.editorModel.groupCustomActions[0].first=this.editorModel.customActionsByLocation.Group[0].first,this.editorModel.groupCustomActions[0].eventHandlerName=this.editorModel.customActionsByLocation.Group[0].eventHandlerName,this.editorModel.groupCustomActions[0].record=this.editorModel.customActionsByLocation.Group[0].record),t&&this.groupModels)for(let t=0,e=this.groupModels.length;t<e;t++)this.notifyPath("groupModels.".concat(t,".editorModel.groupCustomActions"))}_handleMissingPricebook(){if(this.addEventListener("pricebook-saved",function(t){this._executeDefaultCustomAction()}.bind(this)),window.location.href.indexOf("cp=1")>-1)return void document.location.assign(this.editorModel.communityPrefix+"/"+this.editorModel.quoteModel.quoteVO.record.Id);let t=this.data.userType;"Standard"==t||"PowerPartner"==t?this.$.pricebookDialog.open():this.errors=[(0,i.M)("msg_missing_pricebook_id")]}_updateFieldLabelsMap(){let t=this.editorModel.md.fieldLabelsMap,e=this.editorModel.data.quote.localizedMultiSegmentColumns,n=this.editorModel.data.quote.multiSegmentColumns;for(let i in n){let o=n[i],r=e[i];for(let e=0,n=o.length;e<n;e++)t[o[e].replace(/\W/g,"")]=r[e]}t.total=(0,i.M)("Total")}_navigateToContractLookupPage(){this.nav("#",{qId:this.editorModel.quoteModel.quoteVO.record.Id},["contract","lookup"],!1)}renumber(){this.editorModel.quoteModel.renumber(),(0,o.BX)(o.zW.ROWS_RENUMBERED)}_updateFieldValidations(t){this.errors=t.detail&&t.detail.error?[t.detail.error]:null}_calculateImmediately(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=void 0===t.detail.showSpinner||t.detail.showSpinner,i=void 0===t.detail.setPageLoaded||t.detail.setPageLoaded;this._calculateImmediatelyDebouncer=Rt.dx.debounce(this._calculateImmediatelyDebouncer,jt.Wc.after(e),(()=>{this.$.customActionServices.onFlagCalculate(n,!1,function(e){i&&(this.pageLoaded=!0),t.detail.callback&&"function"==typeof t.detail.callback&&t.detail.callback(e)}.bind(this))}))}_executeCmd(t){let e=this.editorModel.customActionsByLocation.Quote;if(e&&0!==e.length)for(let n=0,i=e.length;n<i;n++)e[n].eventHandlerName===t&&this._executeCustomAction({detail:{customAction:e[n],model:this.editorModel.quoteModel}})}_getValidDefaultCustomAction(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||0===t.length||this.data.quote.lineItems.length>0||this.data.quote.lineItemGroups.length>1||this.editorModel.quoteModel.grouped)return[];const e=this.editorModel.quoteModel.isRenewal?"onRenewSubscriptions":"onAddProducts";return t.filter((t=>t._customActionsConditionsMet&&t.eventHandlerName===e))}_executeDefaultCustomAction(){this._getValidDefaultCustomAction(this.editorModel.defaultCustomActions).forEach((t=>{this._executeCustomAction({detail:{customAction:t,model:this.editorModel.quoteModel}})}))}viewportChanged(){this._handleGroupCustomActions(!0),this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}buildQuoteTabs(){if(!this.editorModel)return;let t=[];if(this.editorModel.fieldsetMap.quoteFieldNames.length>0&&t.push("details"),this.editorModel.quoteModel.grouped)(0,A.og)("maxHeight",!0,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels.length>0&&t.push("groups");else{if(!this.groupModels.length)return;(0,A.og)("maxHeight",!1,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels[0]._groupHasSegmentedProducts()&&(this.buildUngroupedSegmentedTabs(),t.push("segmented")),this.groupModels[0]._groupHasStandardProducts()&&t.push("standard")}if(!this._renderTabs(t))return;this.shadowRoot.querySelector("#quoteTabs")&&this.shadowRoot.querySelector("#quoteTabs").destroyTabs();let e=[];for(let n=0,i=t.length;n<i;n++){let i,o="t"+n,r=t[n];switch(r){case"details":i=["groupModels","editorModel"];break;case"groups":i=["groupModels","rightSideButton","editorModel"];break;case"standard":case"segmented":i=["groupModels"]}e.push({name:o,label:r,bind:i})}this.ungroupedMDQTabs=this.groupModels[0]?this.groupModels[0].quoteMDQTabs:null,this.selectedTabIndex=0,this.hideTabs=1==e.length,this.quoteLevelTabs=e}_renderTabs(t){if(this.quoteLevelTabs.length!==t.length)return!0;if(this.groupModels[0]&&this.groupModels[0].quoteMDQTabs&&this.ungroupedMDQTabs.length!==this.groupModels[0].quoteMDQTabs.length)return!0;for(let e=0,n=this.quoteLevelTabs.length;e<n;e++)if(this.quoteLevelTabs[e].label!==t[e])return!0;return!1}_onError(t){t&&t.detail&&t.detail.errorMessage&&(this.errors=[t.detail.errorMessage])}_getGroupModels(){return this.editorModel.quoteModel.lineGroups}quoteHasNoLines(){if(0==this.data.quote.lineItems.length){let t=this.editorModel.quoteModel;this.groupedQuoteHasNoGroups=t.grouped&&0==t.lineGroups.length,this.ungroupedQuoteHasNoLines=!t.grouped}}updateQuote(t,e){if(null!=t){if(t.partialVO&&this.data.quote&&e&&((t=e(t,this.data.quote)).partialVO=!1),this.set("data.quote",t),this.data.settings.usesClientCalculator&&this.data.quote.calculationRequired)return void this.$.customActionServices.onFlagCalculate(!0,!0);this.editorModel||this._createEditorModel(this.data,this.md),this.editorModel.createQuoteModel(t),this.editorModel.styleQuoteAndGroupActionButtons();let n=this._getGroupModels();if(this._updateFieldLabelsMap(),this.set("groupModels",n),this.rightSideButton=this.viewport&&!this.viewport.isMobile()&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),this.set("editorModel.quoteModel",this.editorModel.quoteModel),this.renumber(),this.editorModel.largeQuoteExperienceEnabled){let t=this.editorModel.quoteModel,e=t.lineGroups;t.grouped&&1==e.length&&this.selectedGroupKey!=e[0].groupKey&&(this.selectedGroupKey=e[0].groupKey),this._isSubtitleCombined()}this.isMobile&&this.buildQuoteTabs()}this.quoteHasNoLines(),this.data.settings.multiLineDeleteEnabled&&(0,o.BX)(o.zW.DESELECT_CHECKBOX)}updateAfterJSQC(t,e){if(!t)return;const n=(n,i)=>{for(let o in n){let r=t.originalPathValues[o],s=n[o].value,a=!e||"QuoteLineModel"!=n[o].root;(r!=s||o.endsWith(this.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD))&&a&&(i(o,void 0),i(o,s))}};n(t.pathsToNotify,this.notifyPath.bind(this)),n(t.pathsToSet,this.set.bind(this)),i.I.isPricingGuidanceEnabled&&(0,o.BX)(o.zW.REFRESH_LINE_ACTIONS)}_initObserver(t,e){if(void 0!==t&&void 0!==e)return this._init(t)}_init(t){if(this.needsInit){"undefined"!=typeof Visualforce&&t.settings.usesClientCalculator&&t.settings.orgUrl&&window.Worker&&new st(t).beginPrecaching(),this.needsInit=!1}if(t.settings.usesClientCalculator&&"undefined"!=typeof SB&&SB.JSQC&&!t.quote.calculationRequired){let e=new a.y(this.app.org.prefix),n=new SB.JSQC(t.settings,t.quote,null),i=[e.getConnection(),e.getConnection()];Promise.all(i).then(function(e){n.setConnection(e[0]),n.setCustomerOnlyConnection(e[1]),n.setLogger(P),t.settings.displayedLookupMap=this.$.customActionServices.getDisplayedLookupNames(t),n.onLoad().then(function(){this.data=t}.bind(this),this._setError.bind(this)).catch(this._setError.bind(this))}.bind(this),this._setError.bind(this))}else this.data=t}_getNewQuoteRuleExecutor(){return new _(this.rawData.quote,this.rules,this.rawData.settings.developerPrefix,this.rawData.settings.jsprLabels)}executeProductRules(){let t,e=this._getNewQuoteRuleExecutor();try{t=e.execute()}catch(t){let e;e="object"==typeof t&&"info"===t.type?[t]:[{msg:t.toString(),type:"warning"}],(0,Nt.T8)(this,(()=>{this.errors=e}))}t&&t.requiredProductIds.length>0?(this.handleLinesAddedByProductRules(),this.$.quoteLineAdder.quote=this.rawData.quote,this.$.quoteLineAdder.productIds=t.requiredProductIds):this.pageLoaded=!0}_setError(t){this.error={message:t.message||t}}_dataIsChanged(){var t=new CustomEvent("sf-qle-data-changed",{bubbles:!1,detail:this.data});document.dispatchEvent(t);let e=this.data.developerPrefix,n={};this._removeDuplicateLineFieldsInDrawer();let i=[],o=new Set,r=["lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone","standardLineItemDrawerFieldNames","multiSegmentLineFieldNames","multiSegmentLineSummaryFieldNames"];for(let t=0,e=r.length;t<e;t++){let e=this.data[r[t]],n=e&&e.length;if(n)for(let t=0;t<n;t++){let n=e[t];o.has(n)||(o.add(n),i.push(n))}}let s=["".concat(e,"SubscriptionScope__c"),"".concat(e,"SegmentLabel__c"),"".concat(e,"StartDate__c"),"".concat(e,"EndDate__c"),"".concat(e,"PriceEditable__c")];for(let t=0,e=s.length;t<e;t++){let e=s[t];o.has(e)||(o.add(e),i.push(e))}n[this.data.quoteLineObjectName]=[].concat(i);let a=this.data.settings.lineEditorSubtotalsField;a&&"Default"!=a&&"doNotDisplay"!=a?(n[this.data.quoteLineObjectName].push(a),o.add(a)):(n[this.data.quoteLineObjectName].push("".concat(e,"NetTotal__c")),o.add("".concat(e,"NetTotal__c"))),n[this.data.quoteObjectName]=[].concat(this.data.quoteFieldNames);for(let t=0,e=this.data.quoteFieldNames.length;t<e;t++)o.add(this.data.quoteFieldNames[t]);let l=this.data.settings.lineEditorTotalsField;l&&"Default"!=l?(n[this.data.quoteObjectName].push(l),o.add(l)):this.data.quote.applyAdditionalDiscountLast?(n[this.data.quoteObjectName].push("".concat(e,"CustomerAmount__c")),o.add("".concat(e,"CustomerAmount__c"))):(n[this.data.quoteObjectName].push("".concat(e,"NetAmount__c")),o.add("".concat(e,"NetAmount__c"))),n["".concat(e,"QuoteLineGroup__c")]=[].concat(this.data.groupFieldNames);for(let t=0,e=this.data.groupFieldNames.length;t<e;t++)o.add(this.data.groupFieldNames[t]);let d=this.data.settings.lineEditorGroupSubtotalsField;d&&"Default"!=d?(n["".concat(e,"QuoteLineGroup__c")].push(d),o.add(d)):(n["".concat(e,"QuoteLineGroup__c")].push("".concat(e,"NetTotal__c")),o.add("".concat(e,"NetTotal__c"))),n["".concat(e,"DiscountTier__c")]=this.data.discountScheduleModalFieldNames,n["".concat(e,"DiscountSchedule__c")]=["Name","".concat(e,"DiscountUnit__c")],this.fieldNameSet=o,this.$.md.data=n,this._logQLELoad()}_removeDuplicateLineFieldsInDrawer(){let t=this.data.standardLineItemDrawerFieldNames;if(!t||0==t.length)return;let e=this.data.developerPrefix,n=this.app.deviceContext,i=function(t,n){let i=new Set(t);for(let t=0,o=n.length;t<o;t++)(i.has(n[t])||n[t]==e+"Number__c")&&(n.splice(t,1),t--)};this.data.lineFieldNamesPhone&&n.isPhone?i(this.data.lineFieldNamesPhone,t):this.data.lineFieldNamesTablet&&(n.isTablet||n.isPhone)?i(this.data.lineFieldNamesTablet,t):i(this.data.lineFieldNames,t)}_errorEventHandled(){this.error&&(this.error.validations?(this.errors=this.error.validations,this.$.customActionServices.updateUIAfterCalculate(this.editorModel.quoteModel.quoteVO)):this.errors=[this.error.message]),this.$.customActionServices.showSpinner=!1,(0,o.BX)(o.zW.TOGGLE_QUICKSAVE,{enable:!0}),this.$.sbLineEditorRead.restoreCache()}_logQLELoad(){if(!this._isCmpLoaded&&this.data&&this.data.quote&&this.data.quote.record){let t=null;this.data.quote.record["".concat(this.data.developerPrefix,"HeaderFieldSetName__c")]&&(t={usingDynamicQuoteHeader:!0}),this._log(this.data.quote.record.Id,Tt,t),this._isCmpLoaded=!0}}_log(t,e,n){(new Dt).log(t,e,n)}_handleMobileCSE(t){this._openDialog({dialog:"cseDialog",groupModelKey:null})}_handleCSE(t){this._openDialog(t.detail)}_handleCSEResponse(t){this.updateQuote(t.detail.quoteVO),this.$.cseDialog.$.dialog.toggle()}_openDialog(t){if("cseDialog"===t.dialog){let e=this.$.cseDialog,n=this.editorModel.quoteModel.groupsByKey[t.groupModelKey].segmentedLinesByDimension.Custom[0].segmentsByLabel,i=[];Object.keys(n).forEach((function(t){let e=n[t];e.lineVO.dimensionType==e.groupModel.editorModel.constants.CUSTOM_VALUE&&i.push(e)})),e.dataLineModels=i}this.$[t.dialog].$.dialog.toggle()}toggleGroupPanel(){this.viewport.isMobile()&&(0,o.BX)(o.zW.TOGGLE_PANEL_CLICKED)}resetColumnWidths(){const t=this.editorModel.fieldSetNames.lineFieldNames;(0,o.BX)(o.zW.RESET_COL_SIZES,{fieldSet:t}),this.$.actions.querySelector("paper-menu-button#cogDropdown").close()}updateQuoteDetails(){this.quoteDetailsHidden=!this.quoteDetailsHidden,this.toggleQuoteDetails(!1)}toggleQuoteDetails(t){this.set("quoteDetailsIconClass",this.quoteDetailsHidden?"sf-icon-chevronright":"sf-icon-chevrondown"),(0,o.BX)(o.zW.PAGE_RESIZED,{isFullScreenToggleEvent:t})}toggleFullScreenMode(t){this._toggleFullscreen(t),this.quoteDetailsHidden=this.inFullScreenMode,this.toggleQuoteDetails(!0)}_toggleFullscreen(t){this.inFullScreenMode?this.exitFullScreenMode():this.enterFullScreenMode(),t.stopPropagation()}enterFullScreenMode(){let t=document.querySelector("sb-page-container");t.requestFullScreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(),this.inFullScreenMode=!0}exitFullScreenMode(){let t=document.querySelector("sb-page-container");t.requestFullScreen?document.cancelFullScreen():t.msRequestFullscreen?document.msExitFullScreen():t.mozRequestFullScreen?document.mozCancelFullScreen():t.webkitRequestFullscreen&&document.webkitCancelFullScreen(),this.inFullScreenMode=!1}_viewportChanged(t){if(!this.editorModel)return;(0,A.og)("hidden",!t,this.shadowRoot.querySelector(".fixedActions"));let e=this.editorModel.standardPrimaryMobileCols.length;this.editorModel.standardPrimaryMobileCols=t?[this.editorModel.constants.PRODUCT_NAME_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[];let n=this.editorModel.segmentedPrimaryMobileCols.length;if(this.editorModel.segmentedPrimaryMobileCols=t?[this.editorModel.constants.PRODUCT_NAME_FIELD,"total"]:[],this.editorModel.segmentedDetailsPrimaryMobileCols=t?[this.editorModel.constants.SEGMENT_LABEL_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[],this.groupModels&&(e!==this.editorModel.standardPrimaryMobileCols.length||n!==this.editorModel.segmentedPrimaryMobileCols.length))for(let t=0;t<this.groupModels.length;t++)this.notifyPath("groupModels.".concat(t,".editorModel.standardPrimaryMobileCols")),this.notifyPath("groupModels.".concat(t,".editorModel.segmentedPrimaryMobileCols")),this.notifyPath("groupModels.".concat(t,".editorModel.segmentedDetailsPrimaryMobileCols"));t&&this.buildQuoteTabs(),this.isMobileRendered=t,this.isDesktopRendered=!t}buildUngroupedSegmentedTabs(){if(!this.groupModels||0==this.groupModels.length)return;let t=[],e=this.groupModels[0].dimensions;for(let n=0,i=e.length;n<i;n++){let i=e[n];if(this.groupModels[0].hasVisibleSegmentedLines[i]){let e="t"+n,o={name:e,key:i,label:this.groupModels[0].quoteModel.quoteVO.localizedDimensionNames[i],bind:["groupModel"]};"Custom"==i&&(o.iconId=e+"-"+this.groupModels[0].groupKey,o.iconClass="sb-icon-pencil",o.iconEvent="cseMobile"),t.push(o)}}this.groupModels[0].quoteMDQTabs=t,this.ungroupedMDQTabs||(this.ungroupedMDQTabs=t)}_openCSE(){event.currentTarget.attributes.dialog.value;this.$.cseDialog.$.dialog.toggle()}_displayUpgradeQuantityToast(t){let e=t.detail.invalidQuantity,n=t.detail.validQuantity;if(this.errors=null,e>0){let t=this.i18n.l("Exceeded maximum quantity available. Value has been reduced to {0}",[n]);this.errors=[{type:"warning",msg:t}]}}destampGroups(){this.isMobileRendered=!1,this.isDesktopRendered=!1}handleProductRuleAlertModal(t,e){let n=e.guidedMessages;if(n&&0!==n.length){if("saveService"===t){let t=()=>{if(this.editorModel.data.settings.usesClientCalculator){let t=this.editorModel.data.quote,n=e.quote,i=t.lineItems.length,o=(t,e)=>{for(let n in e)t[n]=e[n]};for(let e=0;e<i;e++){let i=t.lineItems[e],r=n.lineItems[e];i.record.Id=r.record.Id,delete r.record,o(i,r)}let r=t.lineItemGroups.length;for(let e=0;e<r;e++){let i=t.lineItemGroups[e],o=n.lineItemGroups[e];i.record.Id=o.record.Id}t.record.Id=n.record.Id,delete n.lineItems,delete n.lineItemGroups,delete n.record,o(t,n),this.updateQuote(t),this.$.customActionServices.notifier&&this.updateAfterJSQC(this.$.customActionServices.notifier)}else this.updateQuote(e.quote)};this.$.productAlertModal.cancelCB=t,this.$.productAlertModal.displayContinueButton=!0,this.$.productAlertModal.cancelText=Hr.o.localize("lbl_close"),this.$.productAlertModal.continueCB=()=>{this.$.customActionServices.navigateToReturnUrl(!0)}}else this.$.productAlertModal.cancelCB=null,this.$.productAlertModal.cancelText="Quick Save and Continue";this.$.productAlertModal.alerts=n}}_toggleEditors(t,e,n){n?(t.classList.remove("hidden"),e.classList.add("hidden")):(t.classList.add("hidden"),e.classList.remove("hidden"))}_loadUbp(){return function(){const t=(0,N.U2)("UBPClientState",["quoteLineOrProdId"]),e=null==(0,N.U2)("ConsumptionRateMetadata"),n=null==(0,N.U2)("ubpLabels",["labels"]);return vt(t,pt(pt({},wt(0,"".concat(D.U.constants.UBP_FIELDS.ConsumptionSchedule,".Name"),"asc")),{},{loadCategories:!0,shouldLoadRateFieldsMd:e,shouldLoadLabels:n}),((t,e)=>It("ConsumptionServiceProvider.UBPLoader",t,e)),kt)}()}_toggleUbpEditor(t){let e=t.detail.lineModel,n=t.detail.visible,i=this.$.qlEditorContainer,o=this.$.ubpEditorContainer,r=this.shadowRoot.querySelector("sf-ubp-editor");if(!n&&r)this._toggleEditors(o,i,n);else{this.$.customActionServices.showSpinner=!0;const t=e.lineVO.record,s=t.Id||t[this.editorModel.constants.SOURCE_FIELD]||t[this.editorModel.constants.PRODUCT],a=Math.trunc(window.innerHeight/30);(0,N.gz)("UBPClientState",[],new R.mP(s,e.lineVO.key,a)),(0,N.gz)("UnsavedUbpChanges",[],e.lineVO.ubpChanges||{}),(0,N.gz)("UbpInlineEditChanges",[],{rates:{},categories:[]}),(0,N.gz)(s,["record","CurrencyIsoCode"],t.CurrencyIsoCode),this._loadUbp().then((()=>{r||(r=document.createElement("sf-ubp-editor"),o.appendChild(r));const a=(0,N.U2)(s,["related","ubpFields"]),l=a.map((t=>t.fieldPath)),d={},c={};for(let t of a)d[t.fieldPath]=t.label,c[t.fieldPath]=t;r.lineRecord=t,r.uiData=dt.prepareSingleLineData(e,0,l,c),r.templateHTML=new q((t=>c[t])).generate(l,d),this._toggleEditors(o,i,n),this.$.customActionServices.showSpinner=!1})).catch(this._setError.bind(this))}}_togglePageLoaded(t){t&&t.detail&&(this.pageLoaded=!!t.detail.pageLoaded)}_redirectToLineEditor(){if(!this.ctx.params||!this.ctx.params.jspr)return!1;let t=r.C.getPreviousRoute();return"product/pc"===t||"product/lookup"===t||"favorite/lookup"===t||"asset/lookup"===t||"subscription/lookup"===t||"recommend/lookup"===t}handleLinesAddedByProductRules(){this.$.quoteLineAdder.addEventListener("lines-added-by-rules-changed",function(t){let e=JSON.parse(JSON.stringify(this.data));e.quote.lineItems=e.quote.lineItems.concat(t.detail.value),this.updateQuote(e.quote),this._calculateImmediately({detail:{showSpinner:!1,setPageLoaded:!0}})}.bind(this))}toggleOptional(t){const e=t.detail.groupKey,n=t.detail.toggleOptionalBoolean;this.editorModel.quoteModel.toggleOptional(n,e)}_setCalculateCached(t){this.pageLoaded&&this.calculateGetCacheArray.push(t.detail.cacheHit)}test_isCalculateCached(){return this.calculateGetCacheArray.length>0&&-1==this.calculateGetCacheArray.indexOf(!1)}_openDiagnosticTool(){const t="QLEDiagnosticToolApp",e="/c/".concat(t,".app"),n=window.open(e,t,"resizable=1,scrollbars=1"),i=new O(window),o=new O(n),r=new P(i,o);r.initPublisher(),P.setInstance(r)}static get template(){return(0,Qt.dy)(ja||(ja=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-common-styles sb-icons-styles"></style>\n\t\t<style>','</style>\n\n\t\t<div id="qlEditorContainer">\n\t\t\t\x3c!-- Put background data loading services here. --\x3e\n\t\t\t<sb-service id="validationErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedValidationQuoteLineFields" background="true"></sb-service>\n\t\t\t<sb-service id="selectionErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedSelectionQuoteLineFields" background="true"></sb-service>\n\n\t\t\t\x3c!--Load LineEditorModel--\x3e\n\t\t\t<sb-custom-segment-dialog id="cseDialog"></sb-custom-segment-dialog>\n\t\t\t<sb-line-editor-read id="sbLineEditorRead" quote-id="{{ctx.params.qId}}" line-editor-model="{{rawData}}" error="{{errors}}" background="true"></sb-line-editor-read>\n\t\t\t<sb-loading-spinner show="[[!pageLoaded]]"></sb-loading-spinner>\n\t\t\t\x3c!--caches objects--\x3e\n\t\t\t<sb-describe objects="[[mdObjects]]" background="true"></sb-describe>\n\t\t\t\x3c!--Load Field Metadata--\x3e\n\t\t\t<sb-le-field-md id="md" md="{{md}}" currency-decimal-scale="[[data.quote.currencyDecimalScale]]" settings="[[data.settings]]"></sb-le-field-md>\n\t\t\t\x3c!--Load Quote Scoped Product Rules Metadata--\x3e\n\t\t\t<template is="dom-if" if="[[_loadProductRules()]]">\n\t\t\t\t<sb-service id="productRulesService" uid="jspr" reader="ProductRuleServiceProvider.QuoteRulesLoader" error="{{errors}}" response="{{rules}}" cache="jspr"></sb-service>\n\t\t\t</template>\n\t\t\t<sb-product-rules-quote-line-adder id="quoteLineAdder" error="{{errors}}"></sb-product-rules-quote-line-adder>\n\n\t\t\t<sb-le-custom-action-services id="customActionServices" data="{{data}}" editor-model="{{editorModel}}" event-detail="[[eventDetail]]" response="{{customActionResponse}}" error="{{error}}" app="[[app]]"></sb-le-custom-action-services>\n\n\t\t\t<sb-page-header device id="lineEditorPageHeader">\n\t\t\t\t<div slot="messages" id="messages">\n\t\t\t\t\t<sb-toast type="error" messages="[[errors]]"></sb-toast>\n\t\t\t\t</div>\n\t\t\t\t<i slot="icon" class="icon sf-icon-custom93"></i>\n\t\t\t\t<h2 slot="h2" id="headerSubtitle">[[editorModel.data.headerSubtitle]]</h2>\n\t\t\t\t\x3c!--combine quote # and page label when quote toal is displayed in page header within large quote experience --\x3e\n\t\t\t\t<template is="dom-if" if="[[subtitleCombined]]">\n\t\t\t\t\t<h2 slot="h2" class="separator">|</h2>\n\t\t\t\t\t<h2 slot="h2"><sb-i18n>Edit Quote</sb-i18n></h2>\n\t\t\t\t</template>\n\t\t\t\t\x3c!--page label for desktop (large quote experience disabled--\x3e\n\t\t\t\t<template is="dom-if" if="[[!subtitleCombined]]">\n\t\t\t\t\t<h1 slot="h1" id="pageLabel"><sb-i18n>Edit Quote</sb-i18n></h1>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[quoteTotalDisplayed]]">\n\t\t\t\t\t<h2 slot="quoteTotal" id="quoteTotal">\n\t\t\t\t\t\t<sb-le-footer id="total" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>\n\t\t\t\t\t</h2>\n\t\t\t\t</template>\n\t\t\t\t<div class="fixedActions hidden" slot="fixedActions" hidden$="[[!editorModel.quoteModel.grouped]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGroupPanel" class="sf-icon-rows">\n\t\t\t\t\t\t<span class="badge icon-badge-upper-left">[[editorModel.quoteModel.lineGroups.length]]</span>\n\t\t\t\t\t</paper-button>\n\t\t\t\t</div>\n\t\t\t\t<div id="actions" class="actions" slot="actions">\n\t\t\t\t\t<template is="dom-repeat" items="[[editorModel.quoteCustomActions]]">\n\t\t\t\t\t\t<sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[editorModel.quoteModel]]" button="true"></sb-custom-action>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[_isColumnResizingEnabled()]]">\n\t\t\t\t\t\t<paper-menu-button id="cogDropdown"class$="[[deviceClasses]] columnSizeSetting" ignore-select no-overlap horizontal-align="right" vertical-offset$="[[verticalOffset]]">\n\t\t\t\t\t\t\t<paper-button noink id="cogButton" slot="dropdown-trigger" class="dropdown-trigger sf-icon-settings">\n\t\t\t\t\t\t\t\t<div class="sf-icon-down settings"></div>\n\t\t\t\t\t\t\t</paper-button>\n\n\t\t\t\t\t\t\t<paper-listbox id="cogMenu" slot="dropdown-content" class="dropdown-content">\n\t\t\t\t\t\t\t\t<paper-button><sb-i18n key="Reset_Column_Widths" on-click="resetColumnWidths">Reset Column Widths</sb-i18n></paper-button>\n\t\t\t\t\t\t\t</paper-listbox>\n\t\t\t\t\t\t</paper-menu-button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<template is="dom-if" if="[[editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t<div id="fullScreenMode" slot="fullScreenMode">\n\t\t\t\t\t\t<paper-button noink on-click="toggleFullScreenMode" class="sf-icon-expand"></paper-button>\n\t\t\t\t\t\t<paper-tooltip for="fullScreenMode" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t\t\t<sb-i18n key="fullScreenMode">Toggle Full Screen Mode</sb-i18n>\n\t\t\t\t\t\t</paper-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</sb-page-header>\n\n\n\n\t\t\t\x3c!--Tabs for mobile line editor--\x3e\n\t\t\t<template is="dom-if" if="[[isMobileRendered]]" restamp="true">\n\t\t\t\t<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">\n\t\t\t\t\t<div id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>\n\t\t\t\t</template>\n\t\t\t\t<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">\n\t\t\t\t\t<div id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>\n\t\t\t\t</template>\n\n\t\t\t\t<sb-tabs id="quoteTabs"\n\t\t\t\t\t\t tabs="[[quoteLevelTabs]]"\n\t\t\t\t\t\t group-models="{{groupModels}}"\n\t\t\t\t\t\t right-side-button="{{rightSideButton}}"\n\t\t\t\t\t\t editor-model="{{editorModel}}"\n\t\t\t\t\t\t selected-tab-index="[[selectedTabIndex]]"\n\t\t\t\t\t\t page-component="sb-quote-tabs"\n\t\t\t\t\t\t hide-tabs="[[hideTabs]]" secondary-tabs></sb-tabs>\n\t\t\t</template>\n\n\t\t\t\x3c!--Groups--\x3e\n\t\t\t<div device class="groupWrapper">\n\t\t\t<template is="dom-if" if="[[isDesktopRendered]]" restamp="true">\n\t\t\t\t<sb-le-group-layout id="groupLayout" group-models="{{groupModels}}" right-side-button="[[rightSideButton]]" editor-model="[[editorModel]]" selected-group-key="{{selectedGroupKey}}">\n\t\t\t\t\t\x3c!--Quote Fields--\x3e\n\t\t\t\t\t<div slot="quoteInformation" id="quoteInformation">\n\t\t\t\t\t\t<template is="dom-if" if="[[hasQuoteFieldSet]]">\n\t\t\t\t\t\t\t<div class="quoteFieldsContainer">\n\t\t\t\t\t\t\t\t<span class$="[[quoteDetailsIconClass]]" on-click="updateQuoteDetails"></span>\n\t\t\t\t\t\t\t\t<header class="quoteFieldsHeader">[[editorModel.data.quoteFieldsSectionTitle]]</header>\n\t\t\t\t\t\t\t\t<sb-field-set-table num-columns="3" editor-model="[[editorModel]]" object-name="[[editorModel.data.quoteObjectName]]" data="{{editorModel.quoteModel.quoteVO.record}}" hidden$="[[quoteDetailsHidden]]" model="{{editorModel.quoteModel}}"></sb-field-set-table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">\n\t\t\t\t\t\t<div slot="emptyGroupedQuote" id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">\n\t\t\t\t\t\t<div slot="emptyQuote" id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<template is="dom-if" if="[[!editorModel.largeQuoteExperienceEnabled]]">\n\t\t\t\t\t\t<sb-le-footer slot="footer" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>\n\t\t\t\t\t</template>\n\t\t\t\t</sb-le-group-layout>\n\t\t\t</template>\n\n\t\t\t\x3c!--Dialogs--\x3e\n\t\t\t<sb-pricebook-dialog id="pricebookDialog" editor-model="[[editorModel]]"></sb-pricebook-dialog>\n\t\t\t<sb-product-alert id="productAlertModal"></sb-product-alert>\n\t\t\t<div id="ghost" class="ghost"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="ubpEditorContainer" class="ubpEditorContainer hidden"></div>\n\t\t'])),Ht)}}customElements.define(Wa.is,Wa)},2519:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RecommendationLookup:()=>b});var i,o=n(9685),r=n(566),s=n(2833),a=n(5775),l=n(9497),d=n(3345);const c=(0,n(1510).f)(i||(u=['\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either \'phone\' or \'tablet\' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the "body" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The "body" of your page must be enclosed within a single child element that has an "id" attribute.\n The id can have any value but the default value is "pageBody".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot="actions"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host #drawer {\n  position: relative;\n}\n'],h||(h=u.slice(0)),i=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(h)}}))));var u,h,p,f=n(1305);n(6190),n(3737),n(9107),n(4589),n(2150),n(9277),n(2758),n(5799),n(461),n(2724);class b extends((0,a.Q)((0,l.P)(o.T3))){static get is(){return"sb-recommendation-lookup"}static get properties(){return(0,d.l7)({lineEditorModel:Object,selectedProducts:{type:Object,value:{}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,redirectUrl:String},o.T3.properties)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),super.ready(),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"]}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=t.detail.value.quote,this.localizer=new s.E(this.app.org.prefix?this.app.org.prefix+"__":""),this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=this.localizer.localizeSearchModel(t.detail.value),this.$.lookupLayout.fieldPrefix=this.searchModel.targetObjectName+"."}.bind(this))}bindFilterEnterCallBacks(){}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(t){this.lineEditorModel.quote=t.detail.value.quote,0==t.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(t),t.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(t)}.bind(this))}handleNonConfigurableProducts(t){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"RecommendationLookup"===this.redirectUrl&&(this.$.smSelectService.quote=t.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.spinner=!1)}handleConfigurableProducts(t){let e={};t.detail.value.selectedProducts=this.selectedProducts;let n=this.getConfigProductIds(t);e.qId=t.detail.value.quote.record.Id,e.pId=n,e.redirectUrl=this.redirectUrl,e.open=0,this.nav("#",e,["product","pc"],!1)}getConfigProductIds(t){let e=[];for(let n of t.detail.value.configuredProducts)e.push(n.record.Id);return e.join(",")}onSelect(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}onSelectMore(){this.redirectUrl="RecommendationLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0&&(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts())}getOrderedSelectedProducts(){let t=Object.keys(this.selectedProducts).sort(function(t,e){return this.selectedProducts[t].index-this.selectedProducts[e].index}.bind(this)),e=[];for(let n of t){let t=this.selectedProducts[n];t.invalid||e.push(t)}return e}navigateToLineEditor(){let t={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),this.nav("#",t,["quote","le"],!1)}onCancel(){let t={qId:this.quote.record.Id};this.nav("#",t,["quote","le"],!1)}clearStackTrace(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=(0,r.Z)(this.errors))}static get template(){return(0,f.dy)(p||(p=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t<style include="sb-tables-styles"></style>\n\t\t<style include="sb-common-styles"></style>\n\t\t<style>','</style>\n\t    <style include="sb-icons-styles"></style>\n\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="RecommendationLookupServiceProvider.RecommendationLoader" error="{{errors}}"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" saver="RecommendationLookupServiceProvider.RecommendationSelector"\n\t\t\terror="{{errors}}" uses-client-calculator="[[le.settings.usesClientCalculator]]"\n\t\t></sb-search-model-select>\n\n\t\t<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-product" slot="icon"></i>\n\t\t\t<h1 slot="h1"><sb-i18n>Recommended Products</sb-i18n></h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="rlSelect"><sb-i18n>Select</sb-i18n></paper-button>\n\t\t\t\t<paper-button noink on-click="onSelectMore" id="rlSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="rlCancel"><sb-i18n>Cancel</sb-i18n></paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\t\t<paper-drawer-panel device id="drawer" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t<sb-lookup-layout\n\t\t\t\tid="lookupLayout"\n\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\tprimary-mobile-cols=\'["Product2.Name", "UnitPrice"]\'\n\t\t\t\tselection-id-data-path="[[searchModel.targetObjectName]].Id"\n\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\tcurrency-iso-code="[[quote.record.CurrencyIsoCode]]"\n\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t\t'])),c)}}customElements.define(b.is,b)},6473:(t,e,n)=>{"use strict";n.r(e),n.d(e,{SubscriptionLookup:()=>g});var i,o=n(9685),r=n(9815),s=n(566),a=n(8529),l=n(5775),d=n(9497),c=n(1305),u=(n(5969),n(6190),n(6733),n(3737),n(9229),n(3046),n(9107),n(4589),n(2150),n(9277),n(2758),n(5799),n(461),n(2724),n(3345));const h=(0,n(1510).f)(i||(p=["\n/*\nRotates an element\n\n$r - the rotate function paramter, e.g. 90deg\n */\n/* Placeholder input styles */\n/* Media Query: Small-ish screens only */\n/* Media Query: Small-ish screens only */\n/* Media Query: Medium and up */\n/* Media Query: Medium only */\n/* Media Query: Medium and up */\n/* Media Query: Large only */\n/* Media Query: Large and up */\n/* Default usage applies to both phone and tablet */\n/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */\n/*\n Fixes the page header and lets the \"body\" of the page become scrollable.\n You typically want to include this mixin in your :host{} selector.\n\n The \"body\" of your page must be enclosed within a single child element that has an \"id\" attribute.\n The id can have any value but the default value is \"pageBody\".\n */\n/** user-select styles for all browsers */\n.sidePanelInputsWidth {\n  --sidePanelInputWidth: 180px;\n  --pillTextWidth: 148px;\n  --datePickerWidth: 100%;\n  --datePickerBoxSizing: border-box;\n  --sidePanelDatepicker: fixed;\n  --sidePanelDatepickerWidth: 300px;\n  --sidePanelDatepickerRight: 56px;\n}\n.standard-button {\n  background-color: var(--sbBtnBgColor);\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--sbBtnBorderColor);\n  color: var(--sbBtnColor);\n}\n.standard-button:hover {\n  background-color: var(--sbBtnHoverBgColor);\n  color: var(--sbBtnHoverColor);\n}\n.standard-button:disabled {\n  background-color: var(--sbBtnDisabledBgColor);\n  color: var(--sbBtnDisabledColor);\n}\n.brand-button {\n  font-family: var(--sbBrandedButtonFontFamily);\n  background-color: var(--sbBrandedButtonBackgroundColor);\n  border-color: var(--sbBrandedButtonBorderColor);\n  color: var(--sbBrandedButtonFontColor);\n}\n.brand-button:hover {\n  background-color: var(--sbBrandedButtonHoverBackgroundColor);\n  color: var(--sbBrandedButtonHoverFontColor);\n}\n.brand-button:disabled {\n  color: var(--sbBrandedButtonDisabledFontColor);\n}\n/**\n * These styles used to be ::content styles that would pierce the content tags\n * and style inside content tags. The deprecation of <content> for <slot> in\n * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way\n * more limited in its capabilities to pierce into slots and style components\n * inside slots. Therefore, we moved these slot style rules into this shared\n * sheet that all consumers of <sb-page-header> must import to maintain the\n * styles of sb-page-header.\n *\n * For more information on ::content vs. ::slotted, see:\n *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156\n *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot\n *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives\n */\nsb-page-header > .icon {\n  display: var(--sbPageHeaderIconDisplay);\n  color: var(--sbPageHeaderIconColor);\n  width: var(--sbPageHeaderIconSize);\n  height: var(--sbPageHeaderIconSize);\n  font-size: var(--sbPageHeaderIconSize);\n  margin-right: 12px;\n  border-radius: 4px;\n}\nsb-page-header > .icon:before {\n  display: block;\n}\nsb-page-header > h2 {\n  letter-spacing: 1px;\n  color: var(--sbPageHeaderSecondaryColor);\n  font-size: var(--sbPageHeaderSecondaryFontSize);\n  font-family: var(--sbPageHeaderSecondaryFontFamily);\n  font-style: var(--sbPageHeaderSecondaryFontStyle);\n  font-weight: var(--sbPageHeaderSecondaryFontWeight);\n  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);\n}\nsb-page-header > h1 {\n  color: var(--sbPageHeaderColor);\n  font-size: var(--sbPageHeaderFontSize);\n  font-family: var(--sbPageHeaderFontFamily);\n  font-style: var(--sbPageHeaderTitleFontStyle);\n  font-weight: var(--sbPageHeaderTitleFontWeight);\n  text-decoration: var(--sbPageHeaderTitleTextDecoration);\n}\n@media screen and (max-width: 480px) {\n  sb-page-header > h1 {\n    display: var(--my-page-header-display, none);\n    width: var(--my-page-header-width, 139px);\n    line-height: 1.25;\n    font-size: 1.25rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\nsb-page-header > .fixedActions {\n  font-size: 0;\n  white-space: nowrap;\n  margin-right: 10px;\n}\nsb-page-header > .fixedActions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .fixedActions > *,\nsb-page-header > .fixedActions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .fixedActions > *:first-of-type,\nsb-page-header > .fixedActions > paper-button:first-of-type,\nsb-page-header > .fixedActions > *.end + *,\nsb-page-header > .fixedActions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .fixedActions > *:last-of-type,\nsb-page-header > .fixedActions > paper-button:last-of-type,\nsb-page-header > .fixedActions > *.end,\nsb-page-header > .fixedActions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header div[slot=\"actions\"]:not(.normal) > * {\n  white-space: nowrap;\n  display: block !important;\n  text-align: left;\n  border: 0 !important;\n  margin-right: 0 !important;\n}\nsb-page-header > .actions {\n  font-size: 0;\n}\nsb-page-header > .actions > .end {\n  margin-right: 14px;\n}\nsb-page-header > .actions > *,\nsb-page-header > .actions > paper-button {\n  border-right: 0;\n  border-radius: 0;\n}\nsb-page-header > .actions > *:first-of-type,\nsb-page-header > .actions > paper-button:first-of-type,\nsb-page-header > .actions > *.end + *,\nsb-page-header > .actions > paper-button.end + * {\n  border-top-left-radius: var(--sbBtnBorderRadius);\n  border-bottom-left-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions > *:last-of-type,\nsb-page-header > .actions > paper-button:last-of-type,\nsb-page-header > .actions > *.end,\nsb-page-header > .actions > paper-button.end {\n  border-right: var(--sbBtnBorder);\n  border-top-right-radius: var(--sbBtnBorderRadius);\n  border-bottom-right-radius: var(--sbBtnBorderRadius);\n}\nsb-page-header > .actions .solutionGroups {\n  min-width: 32px;\n  max-height: 450px;\n  overflow-y: auto;\n  background-color: #ffffff;\n  border-radius: var(--sbBtnBorderRadius);\n  border: var(--sbBtnBorder);\n  z-index: 4;\n  position: absolute;\n  right: 18px;\n  top: 60px;\n  padding: 0;\n  display: none !important;\n}\nsb-page-header > .actions .solutionGroups li {\n  cursor: pointer;\n  padding: 5px 20px 5px 10px;\n  text-align: left;\n  font-size: 14px;\n  color: #0070D2;\n  margin: 0;\n  white-space: nowrap;\n  min-height: 24px;\n  display: block;\n  position: relative;\n}\nsb-page-header > .actions .solutionGroups.openSolutions {\n  display: block !important;\n}\nsb-page-header > .actions .solutionGroups.mobile {\n  position: fixed;\n  right: 132px;\n  top: 300px;\n  max-height: 260px;\n  max-width: 184px;\n  overflow-x: hidden;\n}\nsb-page-header .icon.sf-icon-custom90 {\n  background-color: #5A9CDD;\n}\nsb-page-header .icon.sf-icon-custom93 {\n  background-color: #904D4C;\n}\nsb-page-header .icon.sf-icon-product {\n  background-color: #B781D3;\n}\nsb-page-header .icon.sf-icon-settings {\n  background-color: #EDB566;\n}\nsb-page-header .icon.sf-icon-download {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-contract-1 {\n  background-color: #6EC06E;\n}\nsb-page-header .icon.sf-icon-approval {\n  background-color: #00C6B7;\n}\nsb-page-header .icon.sf-icon-gdoc {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-document {\n  background-color: #baac93;\n}\nsb-page-header .icon.sf-icon-recent {\n  background-color: #6CA1E9;\n}\nsb-page-header .icon.sf-icon-copy {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-favorite {\n  background-color: #FF7B84;\n}\nsb-page-header .icon.sf-icon-refresh.resize {\n  background-color: #6CA0E9;\n}\nsb-page-header .icon.sf-icon-replace {\n  background-color: #54698D;\n}\nsb-page-header .icon.sf-icon-custom_apps {\n  background-color: #8199af;\n}\nsb-page-header .icon.sf-icon-custom_apps.resize {\n  font-size: 24px !important;\n  padding: 4px;\n}\n:host {\n  color: #3c3d3e;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: hidden;\n}\n:host > #filter {\n  overflow: auto;\n  flex: auto;\n  -webkit-overflow-scrolling: touch;\n}\n:host .primaryButton {\n  background-color: #0070d2;\n  color: #FFFFFF;\n  font-weight: 400;\n  width: initial;\n}\n:host .primaryButton:hover {\n  background-color: #005fb2;\n  color: #FFFFFF;\n}\n:host sb-dialog .sb-icon-compass[class*='--mobile'] {\n  display: none;\n}\n:host sb-dialog .mobile[class*='--mobile'] {\n  padding: 6px 3px;\n}\n:host [class*='--mobile'] sb-dialog .sb-icon-compass {\n  display: none;\n}\n:host [class*='--mobile'] sb-dialog .mobile {\n  padding: 6px 3px;\n}\n:host #drawer {\n  position: relative;\n}\n:host .panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: flex-start;\n  overflow: auto;\n  flex: auto;\n  background-color: var(--sbFilterDrawerBgColor);\n  color: var(--sbFilterDrawerFontColor);\n}\n:host .panelbutton {\n  margin: 10px 0 10px 20px;\n}\n:host .click {\n  padding-top: 10px;\n  color: var(--sbLinkColor);\n  margin-left: 18px;\n  cursor: pointer;\n}\n:host .click:hover {\n  color: var(--sbLinkColorHover);\n}\n:host .filter-buttons {\n  margin: 10px 0 0 20px;\n  display: flex;\n  align-items: center;\n}\n:host .sf-icon-close {\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n}\n:host .title {\n  margin: 20px 20px 0 20px;\n  font-size: 16px;\n  margin-left: 20px;\n}\n:host .title[class*='--mobile'] {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host [class*='--mobile'] .title {\n  font-weight: 400;\n  font-size: 1.1rem;\n  color: #16325c;\n}\n:host .dialog {\n  margin-left: 0px;\n}\n.datatable {\n  position: relative;\n}\n.drawer {\n  position: relative;\n  top: inherit;\n}\n.drawer sb-lookup-layout {\n  overflow: auto;\n}\n.tbody[class*='--mobile'] {\n  position: absolute;\n}\n[class*='--mobile'] .tbody {\n  position: absolute;\n}\n.modaloverflow {\n  -webkit-overflow-scrolling: auto !important;\n}\n"],f||(f=p.slice(0)),i=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}}))));var p,f,b;n(5310),n(5677),n(4561);class g extends((0,l.Q)((0,d.P)(o.T3))){static get is(){return"sb-subscription-lookup"}static get properties(){return(0,u.l7)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:String,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]}},o.T3.properties)}connectedCallback(){super.connectedCallback(),this.handleSelectButtonClickedServerResponseAndNavigation()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((t=>{let[e,n]=t;this.addEventListener(e,this[n])})),this.preLoadObjects()}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(t){this.lineEditorModel=t.detail.value,this.quote=this.$.smLoadService.quote=this.$.smSelectService.quote=t.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(t){this.searchModel=t.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new r.s(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount,this.maxSelectAll=this.lineEditorModel.settings.usesClientAmendRenew?500:100}.bind(this))}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(t){let e=this.lineEditorModel.quote.lineItems;this.lineEditorModel.quote=t.detail.value,this.lineEditorModel.settings.usesClientCalculator&&(this.lineEditorModel.quote.lineItems=e.concat(this.lineEditorModel.quote.lineItems)),this.navigateToLineEditor()}.bind(this))}refocus(){this.$.sf.focusFirstField()}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}getConfigProductIds(t){let e=[];for(let n of t.detail.value.configuredProducts)e.push(n.record.Id);return e.join(",")}deSelectAll(){this.$.lookupLayout.deSelectAll()}onSelect(){this.spinner=!0,this.selectedProducts&&Object.keys(this.selectedProducts).length>0?this.lineEditorModel.settings.usesClientAmendRenew?this._clientAmendRenew():this.$.smSelectService.selectedProducts=this.selectedProducts:this.navigateToLineEditor()}onCancel(){this.spinner=!0;let t={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}navigateToLineEditor(){let t={qId:this.lineEditorModel.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(t.jspr=!0),null!=this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),this.nav("#",t,["quote","le"],!1)}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.$.sf.runService(),this.closeDrawer()}preLoadObjects(){this.subscriptionLookupObjects=[this.prefix+"Subscription__c","Contract"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}bindFilterEnterCallBacks(){this.$.sf.enterCallback=this.runSearcher.bind(this)}clearFilterFields(){this.filterData=this.searcher.clearFields()}clearStackTrace(){this.errors[0]&&(this.error=(0,s.Z)(this.errors),this.spinner=!1)}_clientAmendRenew(){new Promise(((t,e)=>{if(SB&&SB.JSARSettings&&SB.JSARServices&&SB.JSARLineGenManager){let n=new SB.JSARSettings(this.app.orgPrefix,this.lineEditorModel.amendRenewSettings);new a.y(this.app.orgPrefix).getConnection().then((i=>{let o=SB.JSARServices.constructFromJsarSettings(i,n),r=new SB.JSARLineGenManager(i,n,o),s=this.lineEditorModel.quote,a="Renewal"===s.record[this.prefix+"Type__c"],l=Object.keys(this.selectedProducts);(a?r.renewSubscriptionsToQuote(l,s,this.ctx.params.groupKey):r.amendSubscriptionsToQuote(l,s,this.ctx.params.groupKey)).then((e=>{t(e)}),(t=>{e(t.message||t)}))}),(t=>{e(t.message||t)}))}else e("ERROR: Could not find Client-Side Amend/Renew")})).then((t=>{t.calculationRequired=!0,this.lineEditorModel.quote=t,this.navigateToLineEditor()}),(t=>{this.errors=[t]}))}static get template(){return(0,c.dy)(b||(b=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t    <style include="sb-tables-styles"></style>\n\t    <style include="sb-common-styles"></style>\n\t    <style include="sb-icons-styles"></style>\n\t\t<style>','</style>\n\t\t<sb-describe objects="[[subscriptionLookupObjects]]"></sb-describe>\n\t\t<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>\n\t\t<sb-search-model-load id="smLoadService" loader="SubscriptionLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}" action-id="[[ctx.params.aId]]"></sb-search-model-load>\n\t\t<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]" saver="SubscriptionLookupServiceProvider.SearchModelSelector" uses-client-calculator="{{le.settings.usesClientCalculator}}" strip-quote-lines="true" error="{{errors}}"></sb-search-model-select>\n\t\t<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>\n\n\t\t<sb-page-header device>\n\t\t\t<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>\n\t\t\t<i class="icon sf-icon-recent" slot="icon"></i>\n\t\t\t<h1 slot="h1">\n\t\t\t\t<sb-i18n>Subscription Selection</sb-i18n>\n\t\t\t</h1>\n\t\t\t<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>\n\t\t\t<div class="fixedActions" slot="fixedActions">\n\t\t\t\t<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">\n\t\t\t\t\t<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">\n\t\t\t\t\t<sb-i18n>Filter</sb-i18n>\n\t\t\t\t</paper-tooltip>\n\t\t\t\t<template is="dom-if" if="[[hasQuoteProcess]]">\n\t\t\t\t\t<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">\n\t\t\t\t\t</paper-button>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div class="actions" slot="actions">\n\t\t\t\t<paper-button noink on-click="onSelect" id="plSelect">\n\t\t\t\t\t<sb-i18n>Select</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t\t<paper-button noink on-click="onCancel" id="plCancel">\n\t\t\t\t\t<sb-i18n>Cancel</sb-i18n>\n\t\t\t\t</paper-button>\n\t\t\t</div>\n\t\t</sb-page-header>\n\n\t\t<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">\n\t\t\t<div main slot="main">\n\t\t\t\t\x3c!--This is the list of subscriptions--\x3e\n\t\t\t\t<sb-lookup-layout\n\t\t\t\t\tid="lookupLayout"\n\t\t\t\t\tsearch-model="{{searchModel}}"\n\t\t\t\t\tprimary-mobile-cols="[[primaryMobileColumn]]"\n\t\t\t\t\tselection-id-data-path="Id"\n\t\t\t\t\tparent-attributes-path="attributes"\n\t\t\t\t\tselected-rows="{{selectedProducts}}"\n\t\t\t\t\ttotal-count="{{totalCount}}"\n\t\t\t\t\thas-total-count="{{hasTotalCount}}"\n\t\t\t\t\tmax-select-all="[[maxSelectAll]]"\n\t\t\t\t\tno-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"\n\t\t\t\t></sb-lookup-layout>\n\t\t\t</div>\n\t\t\t<div drawer slot="drawer" class="panel">\n\t\t\t\t<div id="aflayout" class="panel-actions" style="outline: none;">\n\t\t\t\t\t<header class="title"><sb-i18n>Filter</sb-i18n>\n\t\t\t\t\t\t<i class="sf-icon-close" on-click="closeDrawer"></i>\n\t\t\t\t\t</header>\n\t\t\t\t\t\x3c!--this is the filter panel--\x3e\n\t\t\t\t\t<sb-filter-layout id="sf"\n\t\t\t\t\t\t\t\t\t  search-model="{{searchModel}}"\n\t\t\t\t\t\t\t\t\t  filter-path="searchFilters"\n\t\t\t\t\t\t\t\t\t  filter-delegator="{{searcher}}"\n\t\t\t\t\t\t\t\t\t  service-loader="SubscriptionLookupServiceProvider.SearchModelSearcher"\n\t\t\t\t\t\t\t\t\t  send-quote-record="true"\n\t\t\t\t\t\t\t\t\t  result-limit="1000"\n\t\t\t\t\t\t\t\t\t  quote="[[quote]]"\n\t\t\t\t\t\t\t\t\t  search-filter-data="{{filterData}}"\n\t\t\t\t\t\t\t\t\t  spinner="{{spinner}}"\n\t\t\t\t\t\t\t\t\t  action-id="[[ctx.params.aId]]"\n\t\t\t\t\t\t\t\t\t  error="{{errors}}"\n\t\t\t\t\t></sb-filter-layout>\n\t\t\t\t\t<paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>\n\t\t\t\t\t<text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</paper-drawer-panel>\n\t    '])),h)}}customElements.define(g.is,g)},8719:()=>{"use strict";
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/if(!window.polymerSkipLoadingFontRoboto){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.crossOrigin="anonymous",t.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(t)}},9408:(t,e,n)=>{"use strict";n.d(e,{G:()=>b});n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var i={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},o={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},r={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},s=/[a-z0-9*]/,a=/U\+/,l=/^arrow/,d=/^space(bar)?/,c=/^escape$/;function u(t,e){var n="";if(t){var i=t.toLowerCase();" "===i||d.test(i)?n="space":c.test(i)?n="esc":1==i.length?e&&!s.test(i)||(n=i):n=l.test(i)?i.replace("arrow",""):"multiply"==i?"*":i}return n}function h(t,e){return t.key?u(t.key,e):t.detail&&t.detail.key?u(t.detail.key,e):(n=t.keyIdentifier,r="",n&&(n in i?r=i[n]:a.test(n)?(n=parseInt(n.replace("U+","0x"),16),r=String.fromCharCode(n).toLowerCase()):r=n.toLowerCase()),r||function(t){var e="";return Number(t)&&(e=t>=65&&t<=90?String.fromCharCode(32+t):t>=112&&t<=123?"f"+(t-112+1):t>=48&&t<=57?String(t-48):t>=96&&t<=105?String(t-96):o[t]),e}(t.keyCode)||"");var n,r}function p(t,e){return h(e,t.hasModifiers)===t.key&&(!t.hasModifiers||!!e.shiftKey==!!t.shiftKey&&!!e.ctrlKey==!!t.ctrlKey&&!!e.altKey==!!t.altKey&&!!e.metaKey==!!t.metaKey)}function f(t){return t.trim().split(" ").map((function(t){return function(t){return 1===t.length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce((function(t,e){var n=e.split(":"),i=n[0],o=n[1];return i in r?(t[r[i]]=!0,t.hasModifiers=!0):(t.key=i,t.event=o||"keydown"),t}),{combo:t.split(":").shift()})}(t)}))}const b={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(t,e){this._imperativeKeyBindings[t]=e,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(t,e){for(var n=f(e),i=0;i<n.length;++i)if(p(n[i],t))return!0;return!1},_collectKeyBindings:function(){var t=this.behaviors.map((function(t){return t.keyBindings}));return-1===t.indexOf(this.keyBindings)&&t.push(this.keyBindings),t},_prepKeyBindings:function(){for(var t in this._keyBindings={},this._collectKeyBindings().forEach((function(t){for(var e in t)this._addKeyBinding(e,t[e])}),this),this._imperativeKeyBindings)this._addKeyBinding(t,this._imperativeKeyBindings[t]);for(var e in this._keyBindings)this._keyBindings[e].sort((function(t,e){var n=t[0].hasModifiers;return n===e[0].hasModifiers?0:n?-1:1}))},_addKeyBinding:function(t,e){f(t).forEach((function(t){this._keyBindings[t.event]=this._keyBindings[t.event]||[],this._keyBindings[t.event].push([t,e])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(t){var e=this._keyBindings[t],n=this._onKeyBindingEvent.bind(this,e);this._boundKeyHandlers.push([this.keyEventTarget,t,n]),this.keyEventTarget.addEventListener(t,n)}),this)},_unlistenKeyEventListeners:function(){for(var t,e,n,i;this._boundKeyHandlers.length;)e=(t=this._boundKeyHandlers.pop())[0],n=t[1],i=t[2],e.removeEventListener(n,i)},_onKeyBindingEvent:function(t,e){if(this.stopKeyboardEventPropagation&&e.stopPropagation(),!e.defaultPrevented)for(var n=0;n<t.length;n++){var i=t[n][0],o=t[n][1];if(p(i,e)&&(this._triggerKeyHandler(i,o,e),e.defaultPrevented))return}},_triggerKeyHandler:function(t,e,n){var i=Object.create(t);i.keyboardEvent=n;var o=new CustomEvent(t.event,{detail:i,cancelable:!0});this[e].call(this,o),o.defaultPrevented&&n.preventDefault()}}},6717:(t,e,n)=>{"use strict";n.d(e,{$:()=>r,P:()=>s});n(2674),n(8518);var i=n(9408),o=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(t){this._detectKeyboardFocus(t),t||this._setPressed(!1)},_detectKeyboardFocus:function(t){this._setReceivedFocusFromKeyboard(!this.pointerDown&&t)},_userActivate:function(t){this.active!==t&&(this.active=t,this.fire("change"))},_downHandler:function(t){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(t){var e=t.detail.keyboardEvent,n=(0,o.vz)(e).localTarget;this.isLightDescendant(n)||(e.preventDefault(),e.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(t){var e=t.detail.keyboardEvent,n=(0,o.vz)(e).localTarget;this.isLightDescendant(n)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async((function(){this.click()}),1)},_pressedChanged:function(t){this._changedButtonState()},_ariaActiveAttributeChanged:function(t,e){e&&e!=t&&this.hasAttribute(e)&&this.removeAttribute(e)},_activeChanged:function(t,e){this.toggles?this.setAttribute(this.ariaActiveAttribute,t?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},s=[i.G,r]},8518:(t,e,n)=>{"use strict";n.d(e,{a:()=>i});n(2674),n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const i={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(t){this._setFocused("focus"===t.type)},_disabledChanged:function(t,e){this.setAttribute("aria-disabled",t?"true":"false"),this.style.pointerEvents=t?"none":"",t?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}}},6679:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n/* Most common used flex styles*/\n<dom-module id="iron-flex">\n  <template>\n    <style>\n      .layout.horizontal,\n      .layout.vertical {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.inline {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      }\n\n      .layout.horizontal {\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      }\n\n      .layout.vertical {\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      }\n\n      .layout.wrap {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      }\n\n      .layout.no-wrap {\n        -ms-flex-wrap: nowrap;\n        -webkit-flex-wrap: nowrap;\n        flex-wrap: nowrap;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .flex {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-auto {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      }\n\n      .flex-none {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Basic flexbox reverse styles */\n<dom-module id="iron-flex-reverse">\n  <template>\n    <style>\n      .layout.horizontal-reverse,\n      .layout.vertical-reverse {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.horizontal-reverse {\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      }\n\n      .layout.vertical-reverse {\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      }\n\n      .layout.wrap-reverse {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Flexbox alignment */\n<dom-module id="iron-flex-alignment">\n  <template>\n    <style>\n      /**\n       * Alignment in cross axis.\n       */\n      .layout.start {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.end {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      }\n\n      .layout.baseline {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      }\n\n      /**\n       * Alignment in main axis.\n       */\n      .layout.start-justified {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .layout.end-justified {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      }\n\n      .layout.around-justified {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      }\n\n      .layout.justified {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      }\n\n      /**\n       * Self alignment.\n       */\n      .self-start {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      }\n\n      .self-center {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      }\n\n      .self-end {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      }\n\n      .self-stretch {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      }\n\n      .self-baseline {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      }\n\n      /**\n       * multi-line alignment in main axis.\n       */\n      .layout.start-aligned {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      }\n\n      .layout.end-aligned {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      }\n\n      .layout.center-aligned {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      }\n\n      .layout.between-aligned {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      }\n\n      .layout.around-aligned {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Non-flexbox positioning helper styles */\n<dom-module id="iron-flex-factors">\n  <template>\n    <style>\n      .flex,\n      .flex-1 {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-2 {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      }\n\n      .flex-3 {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      }\n\n      .flex-4 {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      }\n\n      .flex-5 {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      }\n\n      .flex-6 {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      }\n\n      .flex-7 {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      }\n\n      .flex-8 {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      }\n\n      .flex-9 {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      }\n\n      .flex-10 {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      }\n\n      .flex-11 {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      }\n\n      .flex-12 {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      }\n    </style>\n  </template>\n</dom-module>\n<dom-module id="iron-positioning">\n  <template>\n    <style>\n      .block {\n        display: block;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      .invisible {\n        visibility: hidden !important;\n      }\n\n      .relative {\n        position: relative;\n      }\n\n      .fit {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      body.fullbleed {\n        margin: 0;\n        height: 100vh;\n      }\n\n      .scroll {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      }\n\n      /* fixed position */\n      .fixed-bottom,\n      .fixed-left,\n      .fixed-right,\n      .fixed-top {\n        position: fixed;\n      }\n\n      .fixed-top {\n        top: 0;\n        left: 0;\n        right: 0;\n      }\n\n      .fixed-right {\n        top: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      .fixed-bottom {\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      .fixed-left {\n        top: 0;\n        bottom: 0;\n        left: 0;\n      }\n    </style>\n  </template>\n</dom-module>\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},8374:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n<custom-style>\n  <style is="custom-style">\n    [hidden] {\n      display: none !important;\n    }\n  </style>\n</custom-style>\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      --layout: {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      };\n\n      --layout-inline: {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      };\n\n      --layout-horizontal: {\n        @apply --layout;\n\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      };\n\n      --layout-horizontal-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      };\n\n      --layout-vertical: {\n        @apply --layout;\n\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      };\n\n      --layout-vertical-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      };\n\n      --layout-wrap: {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      };\n\n      --layout-wrap-reverse: {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      };\n\n      --layout-flex-auto: {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      };\n\n      --layout-flex-none: {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      };\n\n      --layout-flex: {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      };\n\n      --layout-flex-2: {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      };\n\n      --layout-flex-3: {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      };\n\n      --layout-flex-4: {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      };\n\n      --layout-flex-5: {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      };\n\n      --layout-flex-6: {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      };\n\n      --layout-flex-7: {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      };\n\n      --layout-flex-8: {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      };\n\n      --layout-flex-9: {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      };\n\n      --layout-flex-10: {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      };\n\n      --layout-flex-11: {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      };\n\n      --layout-flex-12: {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      };\n\n      /* alignment in cross axis */\n\n      --layout-start: {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      };\n\n      --layout-center: {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      };\n\n      --layout-end: {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      };\n\n      --layout-baseline: {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      };\n\n      /* alignment in main axis */\n\n      --layout-start-justified: {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      };\n\n      --layout-center-justified: {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      };\n\n      --layout-end-justified: {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      };\n\n      --layout-around-justified: {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      };\n\n      --layout-justified: {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      };\n\n      --layout-center-center: {\n        @apply --layout-center;\n        @apply --layout-center-justified;\n      };\n\n      /* self alignment */\n\n      --layout-self-start: {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      };\n\n      --layout-self-center: {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      };\n\n      --layout-self-end: {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      };\n\n      --layout-self-stretch: {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      };\n\n      --layout-self-baseline: {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      };\n\n      /* multi-line alignment in main axis */\n\n      --layout-start-aligned: {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      };\n\n      --layout-end-aligned: {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      };\n\n      --layout-center-aligned: {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      };\n\n      --layout-between-aligned: {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      };\n\n      --layout-around-aligned: {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      };\n\n      /*******************************\n                Other Layout\n      *******************************/\n\n      --layout-block: {\n        display: block;\n      };\n\n      --layout-invisible: {\n        visibility: hidden !important;\n      };\n\n      --layout-relative: {\n        position: relative;\n      };\n\n      --layout-fit: {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-scroll: {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      };\n\n      --layout-fullbleed: {\n        margin: 0;\n        height: 100vh;\n      };\n\n      /* fixed position */\n\n      --layout-fixed-top: {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n      };\n\n      --layout-fixed-right: {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n      };\n\n      --layout-fixed-bottom: {\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-fixed-left: {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n    }\n  </style>\n</custom-style>'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content);var a=document.createElement("style");a.textContent="[hidden] { display: none !important; }",document.head.appendChild(a)},2740:(t,e,n)=>{"use strict";n(2674);var i,o=n(1440),r=n(1510);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const s=(0,o.k)({_template:(0,r.d)(i||(a=['\n    <style>\n      :host {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0px,0px,0px,0px);\n      }\n    </style>\n    <div aria-live$="[[mode]]">[[_text]]</div>\n'],l||(l=a.slice(0)),i=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}})))),is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){s.instance||(s.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(t){this._text="",this.async((function(){this._text=t}),this.timeout)},_onIronAnnounce:function(t){t.detail&&t.detail.text&&this.announce(t.detail.text)}});var a,l;s.instance=null,s.requestAvailability=function(){s.instance||(s.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(s.instance):document.addEventListener("load",(function(){document.body.appendChild(s.instance)}))};var d,c=n(2213),u=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,o.k)({_template:(0,r.d)(d||(d=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <style>\n      :host {\n        display: inline-block;\n      }\n    </style>\n    <slot id="content"></slot>\n']))),is:"iron-input",behaviors:[c.x],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){s.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=(0,u.vz)(this).observeNodes(function(t){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&((0,u.vz)(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var t;if(this.allowedPattern)t=new RegExp(this.allowedPattern);else if("number"===this.inputElement.type)t=/[0-9.,e-]/;return t},_bindValueChanged:function(t,e){e&&(void 0===t?e.value=null:t!==e.value&&(this.inputElement.value=t),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:t}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(t){var e=8==t.keyCode||9==t.keyCode||13==t.keyCode||27==t.keyCode,n=19==t.keyCode||20==t.keyCode||45==t.keyCode||46==t.keyCode||144==t.keyCode||145==t.keyCode||t.keyCode>32&&t.keyCode<41||t.keyCode>111&&t.keyCode<124;return!(e||0==t.charCode&&n)},_onKeypress:function(t){if(this.allowedPattern||"number"===this.inputElement.type){var e=this._patternRegExp;if(e&&!(t.metaKey||t.ctrlKey||t.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(t.charCode);this._isPrintable(t)&&!e.test(n)&&(t.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var t=this._patternRegExp;if(!t)return!0;for(var e=0;e<this.inputElement.value.length;e++)if(!t.test(this.inputElement.value[e]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var t=this.inputElement.checkValidity();return t&&(this.required&&""===this.bindValue?t=!1:this.hasValidator()&&(t=c.x.validate.call(this,this.bindValue))),this.invalid=!t,this.fire("iron-input-validate"),t},_announceInvalidCharacter:function(t){this.fire("iron-announce",{text:t})},_computeValue:function(t){return t}})},7308:(t,e,n)=>{"use strict";n(2674),n(9408);var i,o=n(3398),r=n(5754),s=n(1891),a=n(1440),l=n(7593),d=n(6515),c=n(6008),u=n(8373),h=n(8544),p=n(1510),f=n(1871);n(8842);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var b,g,m=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),y=m&&m[1]>=8,v="-10000px",_=-100;(0,a.k)({_template:(0,p.d)(i||(b=['\n    <style>\n      :host {\n        display: block;\n      }\n\n      @media only screen and (-webkit-max-device-pixel-ratio: 1) {\n        :host {\n          will-change: transform;\n        }\n      }\n\n      #items {\n        @apply --iron-list-items-container;\n        position: relative;\n      }\n\n      :host(:not([grid])) #items > ::slotted(*) {\n        width: 100%;\n      }\n\n      #items > ::slotted(*) {\n        box-sizing: border-box;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        will-change: transform;\n      }\n    </style>\n\n    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>\n\n    <div id="items">\n      <slot></slot>\n    </div>\n'],g||(g=b.slice(0)),i=Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(g)}})))),is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[d.F,o.z,r.o,s.x],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return(0,l.vz)((0,l.vz)(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var t=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,t-this._physicalCount)},set _virtualStart(t){t=this._clamp(t,0,this._maxVirtualStart),this.grid&&(t-=t%this._itemsPerRow),this._virtualStartVal=t},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(t){(t%=this._physicalCount)<0&&(t=this._physicalCount+t),this.grid&&(t-=t%this._itemsPerRow),this._physicalStartVal=t},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(t){this._physicalCountVal=t},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var t=this._firstVisibleIndexVal;if(null==t){var e=this._physicalTop+this._scrollOffset;t=this._iterateItems((function(t,n){return(e+=this._getPhysicalSizeIncrement(t))>this._scrollPosition?this.grid?n-n%this._itemsPerRow:n:this.grid&&this._virtualCount-1===n?n-n%this._itemsPerRow:void 0}))||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){var t=this._lastVisibleIndexVal;if(null==t){if(this.grid)t=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var e=this._physicalTop+this._scrollOffset;this._iterateItems((function(n,i){e<this._scrollBottom&&(t=i),e+=this._getPhysicalSizeIncrement(n)}))}this._lastVisibleIndexVal=t}return t},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,c.rs),this.listen(this,"iron-resize","_resizeHandler"),this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler"),this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(t){this.style.webkitOverflowScrolling=t===this?"touch":"",this.style.overflowY=t===this?"auto":"",this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounce("_render",this._render,c.rs)},updateViewportBoundaries:function(){var t=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(t["padding-top"],10),this._isRTL=Boolean("rtl"===t.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var t=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),e=t-this._scrollPosition,n=e>=0;if(this._scrollPosition=t,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(e)>this._physicalSize&&this._physicalSize>0){e-=this._scrollOffset;var i=Math.round(e/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+i,this._physicalStart=this._physicalStart+i,this._physicalTop=Math.min(Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){var o=this._getReusables(n);n?(this._physicalTop=o.physicalTop,this._virtualStart=this._virtualStart+o.indexes.length,this._physicalStart=this._physicalStart+o.indexes.length):(this._virtualStart=this._virtualStart-o.indexes.length,this._physicalStart=this._physicalStart-o.indexes.length),this._update(o.indexes,n?null:o.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),c.YA)}},_getReusables:function(t){var e,n,i,o=[],r=this._hiddenContentSize*this._ratio,s=this._virtualStart,a=this._virtualEnd,l=this._physicalCount,d=this._physicalTop+this._scrollOffset,c=this._physicalBottom+this._scrollOffset,u=this._scrollPosition,h=this._scrollBottom;for(t?(e=this._physicalStart,this._physicalEnd,n=u-d):(e=this._physicalEnd,this._physicalStart,n=c-h);n-=i=this._getPhysicalSizeIncrement(e),!(o.length>=l||n<=r);)if(t){if(a+o.length+1>=this._virtualCount)break;if(d+i>=u-this._scrollOffset)break;o.push(e),d+=i,e=(e+1)%l}else{if(s-o.length<=0)break;if(d+this._physicalSize-i<=h)break;o.push(e),d-=i,e=0===e?l-1:e-1}return{indexes:o,physicalTop:d-this._scrollOffset}},_update:function(t,e){if(!(t&&0===t.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(t),this._updateMetrics(t),e)for(;e.length;){var n=e.pop();this._physicalTop-=this._getPhysicalSizeIncrement(n)}this._positionItems(),this._updateScrollerSize()}},_createPool:function(t){var e,n;this._ensureTemplatized();var i=new Array(t);for(e=0;e<t;e++)n=this.stamp(null),i[e]=n.root.querySelector("*"),this._itemsParent.appendChild(n.root);return i},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(t){var e=this._clamp(this._physicalCount+t,3,this._virtualCount-this._virtualStart);if(e=this._convertIndexToCompleteRow(e),this.grid){var n=e%this._itemsPerRow;n&&e-n<=this._physicalCount&&(e+=this._itemsPerRow),e-=n}var i=e-this._physicalCount,o=Math.round(.5*this._physicalCount);if(!(i<0)){if(i>0){var r=window.performance.now();[].push.apply(this._physicalItems,this._createPool(i));for(var s=0;s<i;s++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+i,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+i),this._update(),this._templateCost=(window.performance.now()-r)/i,o=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===o||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,o)),c.t$):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,o),c.YA))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var t=this._getReusables(!0);this._physicalTop=t.physicalTop,this._virtualStart=this._virtualStart+t.indexes.length,this._physicalStart=this._physicalStart+t.indexes.length,this._update(t.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren("template"),this._userTemplate||console.warn("iron-list requires a template to be provided in light-dom");var t={__key__:!0};t[this.as]=!0,t[this.indexAs]=!0,t[this.selectedAs]=!0,t.tabIndex=!0,this._instanceProps=t,this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(t,e){void 0!==e&&(this.notifyResize(),(0,h.y)(),t&&this._updateGridMetrics())},_itemsChanged:function(t){if("items"===t.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,c.rs);else if("items.splices"===t.path){if(this._adjustVirtualIndex(t.value.indexSplices),this._virtualCount=this.items?this.items.length:0,t.value.indexSplices.some((function(t){return t.addedCount>0||t.removed.length>0}))){var e=this._getActiveElement();this.contains(e)&&e.blur()}var n=t.value.indexSplices.some((function(t){return t.index+t.addedCount>=this._virtualStart&&t.index<=this._virtualEnd}),this);this._isClientFull()&&!n||this._debounce("_render",this._render,c.rs)}else"items.length"!==t.path&&this._forwardItemPath(t.path,t.value)},_forwardItemPath:function(t,e){var n,i,o,r=(t=t.slice(6)).indexOf(".");-1===r&&(r=t.length);var s=this.modelForElement(this._offscreenFocusedItem),a=parseInt(t.substring(0,r),10);(n=this._isIndexRendered(a))?(i=this._getPhysicalIndex(a),o=this.modelForElement(this._physicalItems[i])):s&&(o=s),o&&o[this.indexAs]===a&&(t=t.substring(r+1),t=this.as+(t?"."+t:""),o._setPendingPropertyOrPath(t,e,!1,!0),o._flushProperties&&o._flushProperties(),n&&(this._updateMetrics([i]),this._positionItems(),this._updateScrollerSize()))},_adjustVirtualIndex:function(t){t.forEach((function(t){if(t.removed.forEach(this._removeItem,this),t.index<this._virtualStart){var e=Math.max(t.addedCount-t.removed.length,t.index-this._virtualStart);this._virtualStart=this._virtualStart+e,this._focusedVirtualIndex>=0&&(this._focusedVirtualIndex=this._focusedVirtualIndex+e)}}),this)},_removeItem:function(t){this.$.selector.deselect(t),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===t&&this._removeFocusedItem()},_iterateItems:function(t,e){var n,i,o,r;if(2===arguments.length&&e){for(r=0;r<e.length;r++)if(n=e[r],i=this._computeVidx(n),null!=(o=t.call(this,n,i)))return o}else{for(n=this._physicalStart,i=this._virtualStart;n<this._physicalCount;n++,i++)if(null!=(o=t.call(this,n,i)))return o;for(n=0;n<this._physicalStart;n++,i++)if(null!=(o=t.call(this,n,i)))return o}},_computeVidx:function(t){return t>=this._physicalStart?this._virtualStart+(t-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+t},_assignModels:function(t){this._iterateItems((function(t,e){var n=this._physicalItems[t],i=this.items&&this.items[e];if(null!=i){var o=this.modelForElement(n);o.__key__=null,this._forwardProperty(o,this.as,i),this._forwardProperty(o,this.selectedAs,this.$.selector.isSelected(i)),this._forwardProperty(o,this.indexAs,e),this._forwardProperty(o,"tabIndex",this._focusedVirtualIndex===e?0:-1),this._physicalIndexForKey[o.__key__]=t,o._flushProperties&&o._flushProperties(!0),n.removeAttribute("hidden")}else n.setAttribute("hidden","")}),t)},_updateMetrics:function(t){(0,h.y)();var e=0,n=0,i=this._physicalAverageCount,o=this._physicalAverage;this._iterateItems((function(t,i){n+=this._physicalSizes[t],this._physicalSizes[t]=this._physicalItems[t].offsetHeight,e+=this._physicalSizes[t],this._physicalAverageCount+=this._physicalSizes[t]?1:0}),t),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(n=1===this._itemsPerRow?n:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+e-n,this._itemsPerRow=1),this._physicalAverageCount!==i&&(this._physicalAverage=Math.round((o*i+e)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=this._physicalCount>0?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=this._physicalCount>0?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var t=this._physicalTop;if(this.grid){var e=this._itemsPerRow*this._itemWidth,n=(this._viewportWidth-e)/2;this._iterateItems((function(e,i){var o=i%this._itemsPerRow,r=Math.floor(o*this._itemWidth+n);this._isRTL&&(r*=-1),this.translate3d(r+"px",t+"px",0,this._physicalItems[e]),this._shouldRenderNextRow(i)&&(t+=this._rowHeight)}))}else{const e=[];this._iterateItems((function(n,i){const o=this._physicalItems[n];this.translate3d(0,t+"px",0,o),t+=this._physicalSizes[n];const r=o.id;r&&e.push(r)})),e.length&&this.setAttribute("aria-owns",e.join(" "))}},_getPhysicalSizeIncrement:function(t){return this.grid?this._computeVidx(t)%this._itemsPerRow!=this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[t]},_shouldRenderNextRow:function(t){return t%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var t=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==t){this._physicalTop=this._physicalTop-t;var e=this._scrollPosition;!y&&e>0&&this._resetScrollPosition(e-t)}},_resetScrollPosition:function(t){this.scrollTarget&&t>=0&&(this._scrollTop=t,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(t){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((t=(t=(t=t||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(t){return this.scrollToIndex(this.items.indexOf(t))},scrollToIndex:function(t){if(!("number"!=typeof t||t<0||t>this.items.length-1)&&((0,h.y)(),0!==this._physicalCount)){t=this._clamp(t,0,this._virtualCount-1),(!this._isIndexRendered(t)||t>=this._maxVirtualStart)&&(this._virtualStart=this.grid?t-2*this._itemsPerRow:t-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var e=this._physicalStart,n=this._virtualStart,i=0,o=this._hiddenContentSize;n<t&&i<=o;)i+=this._getPhysicalSizeIncrement(e),e=(e+1)%this._physicalCount,n++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+i),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)}),c.rs)},selectItem:function(t){return this.selectIndex(this.items.indexOf(t))},selectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(t)){var e=this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)]);e&&(e[this.selectedAs]=!0),this.updateSizeForIndex(t)}this.$.selector.selectIndex(t)}},deselectItem:function(t){return this.deselectIndex(this.items.indexOf(t))},deselectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(this._isIndexRendered(t))this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)])[this.selectedAs]=!1,this.updateSizeForIndex(t);this.$.selector.deselectIndex(t)}},toggleSelectionForItem:function(t){return this.toggleSelectionForIndex(this.items.indexOf(t))},toggleSelectionForIndex:function(t){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(t):this.$.selector.isSelected(this.items[t]))?this.deselectIndex(t):this.selectIndex(t)},clearSelection:function(){this._iterateItems((function(t,e){this.modelForElement(this._physicalItems[t])[this.selectedAs]=!1})),this.$.selector.clearSelection()},_selectionEnabledChanged:function(t){(t?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(t){var e=this.modelForElement(t.target);if(e){var n,i,o=(0,l.vz)(t).path[0],r=this._getActiveElement(),s=this._physicalItems[this._getPhysicalIndex(e[this.indexAs])];"input"!==o.localName&&"button"!==o.localName&&"select"!==o.localName&&(n=e.tabIndex,e.tabIndex=_,i=r?r.tabIndex:-1,e.tabIndex=n,r&&s!==r&&s.contains(r)&&i!==_||this.toggleSelectionForItem(e[this.as]))}},_multiSelectionChanged:function(t){this.clearSelection(),this.$.selector.multi=t},updateSizeForItem:function(t){return this.updateSizeForIndex(this.items.indexOf(t))},updateSizeForIndex:function(t){return this._isIndexRendered(t)?(this._updateMetrics([this._getPhysicalIndex(t)]),this._positionItems(),null):null},_manageFocus:function(){var t=this._focusedVirtualIndex;t>=0&&t<this._virtualCount?this._isIndexRendered(t)?this._restoreFocusedItem():this._createFocusBackfillItem():this._virtualCount>0&&this._physicalCount>0&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(t){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(t/this._itemsPerRow)*this._itemsPerRow:t},_isIndexRendered:function(t){return t>=this._virtualStart&&t<=this._virtualEnd},_isIndexVisible:function(t){return t>=this.firstVisibleIndex&&t<=this.lastVisibleIndex},_getPhysicalIndex:function(t){return(this._physicalStart+(t-this._virtualStart))%this._physicalCount},focusItem:function(t){this._focusPhysicalItem(t)},_focusPhysicalItem:function(t){if(!(t<0||t>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(t)||this.scrollToIndex(t);var e,n=this._physicalItems[this._getPhysicalIndex(t)],i=this.modelForElement(n);i.tabIndex=_,n.tabIndex===_&&(e=n),e||(e=(0,l.vz)(n).querySelector('[tabindex="-100"]')),i.tabIndex=0,this._focusedVirtualIndex=t,e&&e.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var t=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||this._focusedVirtualIndex<0)){if(!this._focusBackfillItem){var e=this.stamp(null);this._focusBackfillItem=e.root.querySelector("*"),this._itemsParent.appendChild(e.root)}this._offscreenFocusedItem=this._physicalItems[t],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[t]=this._focusBackfillItem,this._focusedPhysicalIndex=t,this.translate3d(0,v,0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(this._focusedVirtualIndex<0)){this._assignModels();var t=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),e=this._physicalItems[t];if(e){var n=this.modelForElement(e),i=this.modelForElement(this._offscreenFocusedItem);n[this.as]===i[this.as]?(this._focusBackfillItem=e,n.tabIndex=-1,this._physicalItems[t]=this._offscreenFocusedItem,this.translate3d(0,v,0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}},_didFocus:function(t){var e=this.modelForElement(t.target),n=this.modelForElement(this._focusedItem),i=null!==this._offscreenFocusedItem,o=this._focusedVirtualIndex;e&&(n===e?this._isIndexVisible(o)||this.scrollToIndex(o):(this._restoreFocusedItem(),n&&(n.tabIndex=-1),e.tabIndex=0,o=e[this.indexAs],this._focusedVirtualIndex=o,this._focusedPhysicalIndex=this._getPhysicalIndex(o),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],i&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(t){switch(t.keyCode){case 40:this._focusedVirtualIndex<this._virtualCount-1&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusedVirtualIndex>0&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(t)}},_clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},_debounce:function(t,e,n){this._debouncers=this._debouncers||{},this._debouncers[t]=u.dx.debounce(this._debouncers[t],n,e.bind(this)),(0,h.E)(this._debouncers[t])},_forwardProperty:function(t,e,n){t._setPendingProperty(e,n)},_forwardHostPropV2:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&this.modelForElement(n).forwardHostProp(t,e)}),this)},_notifyInstancePropV2:function(t,e,n){if((0,f.wB)(this.as,e)){var i=t[this.indexAs];e==this.as&&(this.items[i]=n),this.notifyPath((0,f.Iu)(this.as,"items."+i,e),n)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(t,e,n){0===e.indexOf(this.as+".")&&this.notifyPath("items."+t.__key__+"."+e.slice(this.as.length+1),n)},_forwardParentPath:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&this.modelForElement(n).notifyPath(t,e)}),this)},_forwardParentProp:function(t,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(n){n&&(this.modelForElement(n)[t]=e)}),this)},_getActiveElement:function(){var t=this._itemsParent.node.domHost;return(0,l.vz)(t?t.root:document).activeElement}})},5374:(t,e,n)=>{"use strict";n.d(e,{D:()=>a,i:()=>l});n(2674);var i=n(9408),o=n(1401),r=n(2849),s=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const a={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(t){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var e=this._valueToItem(t);e&&e.hasAttribute("disabled")||(this._setFocusedItem(e),o.A.select.apply(this,arguments))},_resetTabindices:function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach((function(e){e.setAttribute("tabindex",e===t?"0":"-1"),e.setAttribute("aria-selected",this._selection.isSelected(e))}),this)},_updateMultiselectable:function(t){t?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(t){if(-1===this._MODIFIER_KEYS.indexOf(t.key)){this.cancelDebouncer("_clearSearchText");for(var e,n=this._searchText||"",i=(n+=(t.key&&1==t.key.length?t.key:String.fromCharCode(t.keyCode)).toLocaleLowerCase()).length,o=0;e=this.items[o];o++)if(!e.hasAttribute("disabled")){var r=this.attrForItemTitle||"textContent",s=(e[r]||e.getAttribute(r)||"").trim();if(!(s.length<i)&&s.slice(0,i).toLocaleLowerCase()==n){this._setFocusedItem(e);break}}this._searchText=n,this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),n=1;n<t+1;n++){var i=this.items[(e-n+t)%t];if(!i.hasAttribute("disabled")){var o=(0,s.vz)(i).getOwnerRoot()||document;if(this._setFocusedItem(i),(0,s.vz)(o).activeElement==i)return}}},_focusNext:function(){for(var t=this.items.length,e=Number(this.indexOf(this.focusedItem)),n=1;n<t+1;n++){var i=this.items[(e+n)%t];if(!i.hasAttribute("disabled")){var o=(0,s.vz)(i).getOwnerRoot()||document;if(this._setFocusedItem(i),(0,s.vz)(o).activeElement==i)return}}},_applySelection:function(t,e){e?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"),r.P._applySelection.apply(this,arguments)},_focusedItemChanged:function(t,e){e&&e.setAttribute("tabindex","-1"),!t||t.hasAttribute("disabled")||this.disabled||(t.setAttribute("tabindex","0"),t.focus())},_onIronItemsChanged:function(t){t.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(t){var e=this.getAttribute("tabindex");a._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",e),a._shiftTabPressed=!1}),1)},_onFocus:function(t){if(!a._shiftTabPressed){var e=(0,s.vz)(t).rootTarget;(e===this||void 0===e.tabIndex||this.isLightDescendant(e))&&(this._defaultFocusAsync=this.async((function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),t?this._setFocusedItem(t):this.items[0]&&this._focusNext()})))}},_onUpKey:function(t){this._focusPrevious(),t.detail.keyboardEvent.preventDefault()},_onDownKey:function(t){this._focusNext(),t.detail.keyboardEvent.preventDefault()},_onEscKey:function(t){var e=this.focusedItem;e&&e.blur()},_onKeydown:function(t){this.keyboardEventMatchesKeys(t,"up down esc")||this._focusWithKeyboardEvent(t),t.stopPropagation()},_activateHandler:function(t){r.P._activateHandler.call(this,t),t.stopPropagation()},_disabledChanged:function(t){t?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)},_shiftTabPressed:!1},l=[o.U,i.G,a]},5141:(t,e,n)=>{"use strict";n.d(e,{P:()=>o});n(2674);var i=n(1440);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class o{constructor(t){o[" "](t),this.type=t&&t.type||"default",this.key=t&&t.key,t&&"value"in t&&(this.value=t.value)}get value(){var t=this.type,e=this.key;if(t&&e)return o.types[t]&&o.types[t][e]}set value(t){var e=this.type,n=this.key;e&&n&&(e=o.types[e]=o.types[e]||{},null==t?delete e[n]:e[n]=t)}get list(){if(this.type){var t=o.types[this.type];return t?Object.keys(t).map((function(t){return r[this.type][t]}),this):[]}}byKey(t){return this.key=t,this.value}}o[" "]=function(){},o.types={};var r=o.types;(0,i.k)({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(t,e,n){var i=new o({type:t,key:e});return void 0!==n&&n!==i.value?i.value=n:this.value!==i.value&&(this.value=i.value),i},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(t){t&&(this.value=this)},byKey:function(t){return new o({type:this.type,key:t}).value}})},8591:(t,e,n)=>{"use strict";n.d(e,{$:()=>D,Q:()=>B});n(2674);var i=n(7593);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let o;const r={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var t=(0,i.vz)(this).parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},get _isRTL(){return void 0===this._memoizedIsRTL&&(this._memoizedIsRTL="rtl"==window.getComputedStyle(this).direction),this._memoizedIsRTL},attached:function(){this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var t=window.getComputedStyle(this),e=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==t.top?"top":"auto"!==t.bottom?"bottom":null,horizontally:"auto"!==t.left?"left":"auto"!==t.right?"right":null},sizedBy:{height:"none"!==e.maxHeight,width:"none"!==e.maxWidth,minWidth:parseInt(e.minWidth,10)||0,minHeight:parseInt(e.minHeight,10)||0},margin:{top:parseInt(t.marginTop,10)||0,right:parseInt(t.marginRight,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0}}}},resetFit:function(){var t=this._fitInfo||{};for(var e in t.sizerInlineStyle)this.sizingTarget.style[e]=t.sizerInlineStyle[e];for(var e in t.inlineStyle)this.style[e]=t.inlineStyle[e];this._fitInfo=null},refit:function(){var t=this.sizingTarget.scrollLeft,e=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=t,this.sizingTarget.scrollTop=e},position:function(){if(!this.__shouldPosition)return;this._discoverInfo(),window.ShadyDOM&&window.ShadyDOM.flush(),this.style.position="fixed",this.sizingTarget.style.boxSizing="border-box",this.style.left="0px",this.style.top="0px";var t=this.getBoundingClientRect(),e=this.__getNormalizedRect(this.positionTarget),n=this.__getNormalizedRect(this.fitInto);let i,r,s,a;this.expandSizingTargetForScrollbars&&(i=this.sizingTarget.offsetWidth,r=this.sizingTarget.offsetHeight,s=this.sizingTarget.clientWidth,a=this.sizingTarget.clientHeight);var l=this._fitInfo.margin,d={width:t.width+l.left+l.right,height:t.height+l.top+l.bottom},c=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,d,t,e,n),u=c.left+l.left,h=c.top+l.top,p=Math.min(n.right-l.right,u+t.width),f=Math.min(n.bottom-l.bottom,h+t.height);u=Math.max(n.left+l.left,Math.min(u,p-this._fitInfo.sizedBy.minWidth)),h=Math.max(n.top+l.top,Math.min(h,f-this._fitInfo.sizedBy.minHeight));const b=Math.max(p-u,this._fitInfo.sizedBy.minWidth),g=Math.max(f-h,this._fitInfo.sizedBy.minHeight);this.sizingTarget.style.maxWidth=b+"px",this.sizingTarget.style.maxHeight=g+"px";const m=u-t.left,y=h-t.top;if(this.style.left="".concat(m,"px"),this.style.top="".concat(y,"px"),this.expandSizingTargetForScrollbars){const t=this.sizingTarget.offsetHeight,e=t-this.sizingTarget.clientHeight-(r-a);if(e>0){const i=n.height-l.top-l.bottom,o=Math.min(i,g+e);this.sizingTarget.style.maxHeight="".concat(o,"px");const r=this.sizingTarget.offsetHeight,s=r-t;let a;"top"===c.verticalAlign?a=y:"middle"===c.verticalAlign?a=y-s/2:"bottom"===c.verticalAlign&&(a=y-s),a=Math.max(n.top+l.top,Math.min(a,n.bottom-l.bottom-r)),this.style.top="".concat(a,"px")}const d=this.sizingTarget.offsetWidth,u=d-this.sizingTarget.clientWidth-(i-s);if(u>0){const t=(()=>{if(void 0!==o)return o;const t=document.createElement("div");Object.assign(t.style,{overflow:"auto",position:"fixed",left:"0px",top:"0px",maxWidth:"100px",maxHeight:"100px"});const e=document.createElement("div");return e.style.width="200px",e.style.height="200px",t.appendChild(e),document.body.appendChild(t),o=Math.abs(t.offsetWidth-100)>1?t.offsetWidth-t.clientWidth:0,document.body.removeChild(t),o})(),e=n.width-l.left-l.right,i=Math.min(e,b+u-t);this.sizingTarget.style.maxWidth="".concat(i,"px");const r=this.sizingTarget.offsetWidth+t,s=r-d;let a;"left"===c.horizontalAlign?a=m:"center"===c.horizontalAlign?a=m-s/2:"right"===c.horizontalAlign&&(a=m-s),a=Math.max(n.left+l.left,Math.min(a,n.right-l.right-r)),this.style.left="".concat(a,"px")}}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo;t.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px"),t.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var e=this.getBoundingClientRect();t.sizedBy.height||this.__sizeDimension(e,t.positionedBy.vertically,"top","bottom","Height"),t.sizedBy.width||this.__sizeDimension(e,t.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(t,e,n,i,o){this.__sizeDimension(t,e,n,i,o)},__sizeDimension:function(t,e,n,i,o){var r=this._fitInfo,s=this.__getNormalizedRect(this.fitInto),a="Width"===o?s.width:s.height,l=e===i,d=l?a-t[i]:t[n],c=r.margin[l?n:i],u="offset"+o,h=this[u]-this.sizingTarget[u];this.sizingTarget.style["max"+o]=a-c-d-h+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo.positionedBy;if(!t.vertically||!t.horizontally){this.style.position="fixed",t.vertically||(this.style.top="0px"),t.horizontally||(this.style.left="0px");var e=this.getBoundingClientRect(),n=this.__getNormalizedRect(this.fitInto);if(!t.vertically){var i=n.top-e.top+(n.height-e.height)/2;this.style.top=i+"px"}if(!t.horizontally){var o=n.left-e.left+(n.width-e.width)/2;this.style.left=o+"px"}}}},__getNormalizedRect:function(t){return t===document.documentElement||t===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:t.getBoundingClientRect()},__getOffscreenArea:function(t,e,n){var i=Math.min(0,t.top)+Math.min(0,n.bottom-(t.top+e.height)),o=Math.min(0,t.left)+Math.min(0,n.right-(t.left+e.width));return Math.abs(i)*e.width+Math.abs(o)*e.height},__getPosition:function(t,e,n,i,o,r){var s,a=[{verticalAlign:"top",horizontalAlign:"left",top:o.top+this.verticalOffset,left:o.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:o.top+this.verticalOffset,left:o.right-n.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:o.bottom-n.height-this.verticalOffset,left:o.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:o.bottom-n.height-this.verticalOffset,left:o.right-n.width-this.horizontalOffset}];if(this.noOverlap){for(var l=0,d=a.length;l<d;l++){var c={};for(var u in a[l])c[u]=a[l][u];a.push(c)}a[0].top=a[1].top+=o.height,a[2].top=a[3].top-=o.height,a[4].left=a[6].left+=o.width,a[5].left=a[7].left-=o.width}e="auto"===e?null:e,(t="auto"===t?null:t)&&"center"!==t||(a.push({verticalAlign:"top",horizontalAlign:"center",top:o.top+this.verticalOffset+(this.noOverlap?o.height:0),left:o.left-i.width/2+o.width/2+this.horizontalOffset}),a.push({verticalAlign:"bottom",horizontalAlign:"center",top:o.bottom-n.height-this.verticalOffset-(this.noOverlap?o.height:0),left:o.left-i.width/2+o.width/2+this.horizontalOffset})),e&&"middle"!==e||(a.push({verticalAlign:"middle",horizontalAlign:"left",top:o.top-i.height/2+o.height/2+this.verticalOffset,left:o.left+this.horizontalOffset+(this.noOverlap?o.width:0)}),a.push({verticalAlign:"middle",horizontalAlign:"right",top:o.top-i.height/2+o.height/2+this.verticalOffset,left:o.right-n.width-this.horizontalOffset-(this.noOverlap?o.width:0)})),"middle"===e&&"center"===t&&a.push({verticalAlign:"middle",horizontalAlign:"center",top:o.top-i.height/2+o.height/2+this.verticalOffset,left:o.left-i.width/2+o.width/2+this.horizontalOffset});for(l=0;l<a.length;l++){var h=a[l],p=h.verticalAlign===e,f=h.horizontalAlign===t;if(!this.dynamicAlign&&!this.noOverlap&&p&&f){s=h;break}var b=(!e||p)&&(!t||f);if(this.dynamicAlign||b){if(h.offscreenArea=this.__getOffscreenArea(h,n,r),0===h.offscreenArea&&b){s=h;break}s=s||h;var g=h.offscreenArea-s.offscreenArea;(g<0||0===g&&(p||f))&&(s=h)}}return s}};var s=n(3398),a=n(7948),l=Element.prototype,d=l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector;const c=new class{getTabbableNodes(t){var e=[];return this._collectTabbableNodes(t,e)?this._sortByTabIndex(e):e}isFocusable(t){return d.call(t,"input, select, textarea, button, object")?d.call(t,":not([disabled])"):d.call(t,"a[href], area[href], iframe, [tabindex], [contentEditable]")}isTabbable(t){return this.isFocusable(t)&&d.call(t,':not([tabindex="-1"])')&&this._isVisible(t)}_normalizedTabIndex(t){if(this.isFocusable(t)){var e=t.getAttribute("tabindex")||0;return Number(e)}return-1}_collectTabbableNodes(t,e){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=t;if(!this._isVisible(n))return!1;var o,r=this._normalizedTabIndex(n),s=r>0;r>=0&&e.push(n),o="content"===n.localName||"slot"===n.localName?(0,i.vz)(n).getDistributedNodes():(0,i.vz)(n.root||n).children;for(var a=0;a<o.length;a++)s=this._collectTabbableNodes(o[a],e)||s;return s}_isVisible(t){var e=t.style;return"hidden"!==e.visibility&&"none"!==e.display&&("hidden"!==(e=window.getComputedStyle(t)).visibility&&"none"!==e.display)}_sortByTabIndex(t){var e=t.length;if(e<2)return t;var n=Math.ceil(e/2),i=this._sortByTabIndex(t.slice(0,n)),o=this._sortByTabIndex(t.slice(n));return this._mergeSortByTabIndex(i,o)}_mergeSortByTabIndex(t,e){for(var n=[];t.length>0&&e.length>0;)this._hasLowerTabOrder(t[0],e[0])?n.push(e.shift()):n.push(t.shift());return n.concat(t,e)}_hasLowerTabOrder(t,e){var n=Math.max(t.tabIndex,0),i=Math.max(e.tabIndex,0);return 0===n||0===i?i>n:n>i}};var u,h,p,f=n(1440),b=n(1510);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,f.k)({_template:(0,b.d)(u||(h=["\n    <style>\n      :host {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: var(--iron-overlay-backdrop-background-color, #000);\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n        @apply --iron-overlay-backdrop;\n      }\n\n      :host(.opened) {\n        opacity: var(--iron-overlay-backdrop-opacity, 0.6);\n        pointer-events: auto;\n        @apply --iron-overlay-backdrop-opened;\n      }\n    </style>\n\n    <slot></slot>\n"],p||(p=h.slice(0)),u=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(p)}})))),is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&(0,i.vz)(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||(0,i.vz)(this.parentNode).removeChild(this)},_onTransitionend:function(t){t&&t.target===this&&this.complete()},_openedChanged:function(t){if(t)this.prepare();else{var e=window.getComputedStyle(this);"0s"!==e.transitionDuration&&0!=e.opacity||this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass("opened",this.opened)}.bind(this)))}});var g=n(9408),m=n(8042);const y=new
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class{constructor(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,m.NH(document.documentElement,"tap",(function(){})),document.addEventListener("tap",this._onCaptureClick.bind(this),!0),document.addEventListener("focus",this._onCaptureFocus.bind(this),!0),document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)}get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop")),this._backdropElement}get deepActiveElement(){var t=document.activeElement;for(t&&t instanceof Element!=!1||(t=document.body);t.root&&(0,i.vz)(t.root).activeElement;)t=(0,i.vz)(t.root).activeElement;return t}_bringOverlayAtIndexToFront(t){var e=this._overlays[t];if(e){var n=this._overlays.length-1,i=this._overlays[n];if(i&&this._shouldBeBehindOverlay(e,i)&&n--,!(t>=n)){var o=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(e)<=o&&this._applyOverlayZ(e,o);t<n;)this._overlays[t]=this._overlays[t+1],t++;this._overlays[n]=e}}}addOrRemoveOverlay(t){t.opened?this.addOverlay(t):this.removeOverlay(t)}addOverlay(t){var e=this._overlays.indexOf(t);if(e>=0)return this._bringOverlayAtIndexToFront(e),void this.trackBackdrop();var n=this._overlays.length,i=this._overlays[n-1],o=Math.max(this._getZ(i),this._minimumZ),r=this._getZ(t);if(i&&this._shouldBeBehindOverlay(t,i)){this._applyOverlayZ(i,o),n--;var s=this._overlays[n-1];o=Math.max(this._getZ(s),this._minimumZ)}r<=o&&this._applyOverlayZ(t,o),this._overlays.splice(n,0,t),this.trackBackdrop()}removeOverlay(t){var e=this._overlays.indexOf(t);-1!==e&&(this._overlays.splice(e,1),this.trackBackdrop())}currentOverlay(){var t=this._overlays.length-1;return this._overlays[t]}currentOverlayZ(){return this._getZ(this.currentOverlay())}ensureMinimumZ(t){this._minimumZ=Math.max(this._minimumZ,t)}focusOverlay(){var t=this.currentOverlay();t&&t._applyFocus()}trackBackdrop(){var t=this._overlayWithBackdrop();(t||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(t)-1,this.backdropElement.opened=!!t,this.backdropElement.prepare())}getBackdrops(){for(var t=[],e=0;e<this._overlays.length;e++)this._overlays[e].withBackdrop&&t.push(this._overlays[e]);return t}backdropZ(){return this._getZ(this._overlayWithBackdrop())-1}_overlayWithBackdrop(){for(var t=this._overlays.length-1;t>=0;t--)if(this._overlays[t].withBackdrop)return this._overlays[t]}_getZ(t){var e=this._minimumZ;if(t){var n=Number(t.style.zIndex||window.getComputedStyle(t).zIndex);n==n&&(e=n)}return e}_setZ(t,e){t.style.zIndex=e}_applyOverlayZ(t,e){this._setZ(t,e+2)}_overlayInPath(t){t=t||[];for(var e=0;e<t.length;e++)if(t[e]._manager===this)return t[e]}_onCaptureClick(t){var e=this._overlays.length-1;if(-1!==e)for(var n,o=(0,i.vz)(t).path;(n=this._overlays[e])&&this._overlayInPath(o)!==n&&(n._onCaptureClick(t),n.allowClickThrough);)e--}_onCaptureFocus(t){var e=this.currentOverlay();e&&e._onCaptureFocus(t)}_onCaptureKeyDown(t){var e=this.currentOverlay();e&&(g.G.keyboardEventMatchesKeys(t,"esc")?e._onCaptureEsc(t):g.G.keyboardEventMatchesKeys(t,"tab")&&e._onCaptureTab(t))}_shouldBeBehindOverlay(t,e){return!t.alwaysOnTop&&e.alwaysOnTop}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var v,_,w={pageX:0,pageY:0},x=null,C=[],k=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];function S(t){I.indexOf(t)>=0||(0===I.length&&function(){v=v||M.bind(void 0);for(var t=0,e=k.length;t<e;t++)document.addEventListener(k[t],v,{capture:!0,passive:!1})}(),I.push(t),_=I[I.length-1],E=[],T=[])}function O(t){var e=I.indexOf(t);-1!==e&&(I.splice(e,1),_=I[I.length-1],E=[],T=[],0===I.length&&function(){for(var t=0,e=k.length;t<e;t++)document.removeEventListener(k[t],v,{capture:!0,passive:!1})}())}const I=[];let E=null,T=null;function M(t){if(t.cancelable&&function(t){var e=(0,i.vz)(t).rootTarget;"touchmove"!==t.type&&x!==e&&(x=e,C=function(t){for(var e=[],n=t.indexOf(_),i=0;i<=n;i++)if(t[i].nodeType===Node.ELEMENT_NODE){var o=t[i],r=o.style;"scroll"!==r.overflow&&"auto"!==r.overflow&&(r=window.getComputedStyle(o)),"scroll"!==r.overflow&&"auto"!==r.overflow||e.push(o)}return e}((0,i.vz)(t).path));if(!C.length)return!0;if("touchstart"===t.type)return!1;var n=function(t){var e={deltaX:t.deltaX,deltaY:t.deltaY};if("deltaX"in t);else if("wheelDeltaX"in t&&"wheelDeltaY"in t)e.deltaX=-t.wheelDeltaX,e.deltaY=-t.wheelDeltaY;else if("wheelDelta"in t)e.deltaX=0,e.deltaY=-t.wheelDelta;else if("axis"in t)e.deltaX=1===t.axis?t.detail:0,e.deltaY=2===t.axis?t.detail:0;else if(t.targetTouches){var n=t.targetTouches[0];e.deltaX=w.pageX-n.pageX,e.deltaY=w.pageY-n.pageY}return e}(t);return!function(t,e,n){if(!e&&!n)return;for(var i=Math.abs(n)>=Math.abs(e),o=0;o<t.length;o++){var r=t[o];if(i?n<0?r.scrollTop>0:r.scrollTop<r.scrollHeight-r.clientHeight:e<0?r.scrollLeft>0:r.scrollLeft<r.scrollWidth-r.clientWidth)return r}}(C,n.deltaX,n.deltaY)}(t)&&t.preventDefault(),t.targetTouches){var e=t.targetTouches[0];w.pageX=e.pageX,w.pageY=e.pageY}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const B={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:y},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||(0,i.vz)(this).querySelector("[autofocus]")||this},get _focusableNodes(){return c.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this.__rootNodes=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=(0,i.vz)(this).observeNodes(this._onNodesChange)},detached:function(){for(var t in this._observer&&(0,i.vz)(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[t]&&cancelAnimationFrame(this.__rafs[t]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(t){this.fire("iron-overlay-canceled",t,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(t){t?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none",this.style.zIndex="",this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition="",this.style.transform=this.style.webkitTransform="",this.style.display="",this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var t=this._manager.deepActiveElement;(t===document.body||P(this,t))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null,this._focusNode.blur(),this._focusedChild=null}},_onCaptureClick:function(t){this.noCancelOnOutsideClick||this.cancel(t)},_onCaptureFocus:function(t){if(this.withBackdrop){var e=(0,i.vz)(t).path;-1===e.indexOf(this)?(t.stopPropagation(),this._applyFocus()):this._focusedChild=e[0]}},_onCaptureEsc:function(t){this.noCancelOnEscKey||this.cancel(t)},_onCaptureTab:function(t){if(this.withBackdrop){this.__ensureFirstLastFocusables();var e=t.shiftKey,n=e?this.__firstFocusableNode:this.__lastFocusableNode,i=e?this.__lastFocusableNode:this.__firstFocusableNode,o=!1;if(n===i)o=!0;else{var r=this._manager.deepActiveElement;o=r===n||r===this}o&&(t.preventDefault(),this._focusedChild=i,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){var t=this._focusableNodes;this.__firstFocusableNode=t[0],this.__lastFocusableNode=t[t.length-1]},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(t,e){var n=this.__rafs;null!==n[t]&&cancelAnimationFrame(n[t]),n[t]=requestAnimationFrame(function(){n[t]=null,e.call(this)}.bind(this))},__updateScrollObservers:function(t,e,n){t&&e&&this.__isValidScrollAction(n)?("lock"===n&&(this.__saveScrollPosition(),S(this)),this.__addScrollListeners()):(O(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){if(this.__rootNodes=[],a.my)for(var t=this;t;)t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host&&this.__rootNodes.push(t),t=t.host||t.assignedSlot||t.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach((function(t){t.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach((function(t){t.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this),this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(t){return"lock"===t||"refit"===t||"cancel"===t},__onCaptureScroll:function(t){if(!(this.__isAnimating||(0,i.vz)(t).path.indexOf(this)>=0))switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(t)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},P=(t,e)=>{for(let i=e;i;i=(n=i).assignedSlot||n.parentNode||n.host)if(i===t)return!0;var n;return!1},D=[r,s.z,B]},3398:(t,e,n)=>{"use strict";n.d(e,{z:()=>s});n(2674);var i=n(7593),o=n(7948),r=new Set;const s={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(r.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach((function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)}),this),this._fireResize())},assignParentResizable:function(t){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=t,t&&-1===t._interestedResizables.indexOf(this)&&(t._interestedResizables.push(this),t._subscribeIronResize(this))},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(t))},_subscribeIronResize:function(t){t.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(t){t.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():o.my||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=(0,i.vz)(t).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",(function e(){document.removeEventListener("readystatechange",e),t()}))}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach((function(t){t!==this&&t._findParent()}),this):(r.forEach((function(t){t!==this&&t._findParent()}),this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?r.delete(this):r.add(this)}}},5754:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});n(2674);var i=n(7593);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(t,e){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),e)if("document"===t)this.scrollTarget=this._doc;else if("string"==typeof t){var n=this.domHost;this.scrollTarget=n&&n.$?n.$[t]:(0,i.vz)(this.ownerDocument).querySelector("#"+t)}else this._isValidScrollTarget()&&(this._oldScrollTarget=t,this._toggleScrollListener(this._shouldHaveListener,t))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(t){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=t)},set _scrollLeft(t){this.scrollTarget===this._doc?window.scrollTo(t,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=t)},scroll:function(t,e){var n;"object"==typeof t?(n=t.left,e=t.top):n=t,n=n||0,e=e||0,this.scrollTarget===this._doc?window.scrollTo(n,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=n,this.scrollTarget.scrollTop=e)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(t,e){var n=e===this._doc?window:e;t?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),n.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(n.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(t){this._shouldHaveListener=t,this._toggleScrollListener(t,this.scrollTarget)}}},1401:(t,e,n)=>{"use strict";n.d(e,{A:()=>o,U:()=>r});n(2674);var i=n(2849);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(t){this.multi?this._toggleSelected(t):this.selected=t},multiChanged:function(t){this._selection.multi=t,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&this.selectedItems.length>0&&(this.selectedValues=this.selectedItems.map((function(t){return this._indexToValue(this.indexOf(t))}),this).filter((function(t){return null!=t}),this)):i.P._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(t){t=t||[];var e=(this._valuesToItems(t)||[]).filter((function(t){return null!=t}));this._selection.clear(e);for(var n=0;n<e.length;n++)this._selection.setItemSelected(e[n],!0);this.fallbackSelection&&!this._selection.get().length&&(this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection))},_selectionChange:function(){var t=this._selection.get();this.multi?(this._setSelectedItems(t),this._setSelectedItem(t.length?t[0]:null)):null!=t?(this._setSelectedItems([t]),this._setSelectedItem(t)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(t){var e=this.selectedValues.indexOf(t);e<0?this.push("selectedValues",t):this.splice("selectedValues",e,1)},_valuesToItems:function(t){return null==t?null:t.map((function(t){return this._valueToItem(t)}),this)}},r=[i.P,o]},2849:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});n(2674);var i=n(7593),o=n(7134);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class r{constructor(t){this.selection=[],this.selectCallback=t}get(){return this.multi?this.selection.slice():this.selection[0]}clear(t){this.selection.slice().forEach((function(e){(!t||t.indexOf(e)<0)&&this.setItemSelected(e,!1)}),this)}isSelected(t){return this.selection.indexOf(t)>=0}setItemSelected(t,e){if(null!=t&&e!==this.isSelected(t)){if(e)this.selection.push(t);else{var n=this.selection.indexOf(t);n>=0&&this.selection.splice(n,1)}this.selectCallback&&this.selectCallback(t,e)}}select(t){this.multi?this.toggle(t):this.get()!==t&&(this.setItemSelected(this.get(),!1),this.setItemSelected(t,!0))}toggle(t){this.setItemSelected(t,!this.isSelected(t))}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const s={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new r(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&(0,i.vz)(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(t){return this.items?this.items.indexOf(t):-1},select:function(t){this.selected=t},selectPrevious:function(){var t=this.items.length,e=t-1;void 0!==this.selected&&(e=(Number(this._valueToIndex(this.selected))-1+t)%t),this.selected=this._indexToValue(e)},selectNext:function(){var t=0;void 0!==this.selected&&(t=(Number(this._valueToIndex(this.selected))+1)%this.items.length),this.selected=this._indexToValue(t)},selectIndex:function(t){this.select(this._indexToValue(t))},forceSynchronousItemUpdate:function(){this._observer&&"function"==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(t){this.listen(this,t,"_activateHandler")},_removeListener:function(t){this.unlisten(this,t,"_activateHandler")},_activateEventChanged:function(t,e){this._removeListener(e),this._addListener(t)},_updateItems:function(){var t=(0,i.vz)(this).queryDistributedElements(this.selectable||"*");t=Array.prototype.filter.call(t,this._bindFilterItem),this._setItems(t)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(t){if(this.items){var e=this._valueToItem(this.selected);e?this._selection.select(e):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(t){return!this._excludedLocalNames[t.localName]},_valueToItem:function(t){return null==t?null:this.items[this._valueToIndex(t)]},_valueToIndex:function(t){if(!this.attrForSelected)return Number(t);for(var e,n=0;e=this.items[n];n++)if(this._valueForItem(e)==t)return n},_indexToValue:function(t){if(!this.attrForSelected)return t;var e=this.items[t];return e?this._valueForItem(e):void 0},_valueForItem:function(t){if(!t)return null;if(!this.attrForSelected){var e=this.indexOf(t);return-1===e?null:e}var n=t[(0,o.z)(this.attrForSelected)];return null!=n?n:t.getAttribute(this.attrForSelected)},_applySelection:function(t,e){this.selectedClass&&this.toggleClass(this.selectedClass,e,t),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,e,t),this._selectionChange(),this.fire("iron-"+(e?"select":"deselect"),{item:t})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(t){return(0,i.vz)(t).observeNodes((function(t){this._updateItems(),this._updateSelected(),this.fire("iron-items-changed",t,{bubbles:!1,cancelable:!1})}))},_activateHandler:function(t){for(var e=t.target,n=this.items;e&&e!=this;){var i=n.indexOf(e);if(i>=0){var o=this._indexToValue(i);return void this._itemActivate(o,e)}e=e.parentNode}},_itemActivate:function(t,e){this.fire("iron-activate",{selected:t,item:e},{cancelable:!0}).defaultPrevented||this.select(t)}}},2213:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});n(2674);var i=n(5141);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let o=null;const r={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){o=new i.P({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return o&&o.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(t){return void 0===t&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(t),!this.invalid},_getValidity:function(t){return!this.hasValidator()||this._validator.validate(t)}}},8458:(t,e,n)=>{"use strict";n.d(e,{t:()=>i});n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const i=[{properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(t,e){for(var n in e)t[n]=e[n]},_cloneConfig:function(t){var e={isClone:!0};return this._copyProperties(e,t),e},_getAnimationConfigRecursive:function(t,e,n){var i;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(i=t?this.animationConfig[t]:this.animationConfig,Array.isArray(i)||(i=[i]),i)for(var o,r=0;o=i[r];r++)if(o.animatable)o.animatable._getAnimationConfigRecursive(o.type||t,e,n);else if(o.id){var s=e[o.id];s?(s.isClone||(e[o.id]=this._cloneConfig(s),s=e[o.id]),this._copyProperties(s,o)):e[o.id]=o}else n.push(o)},getAnimationConfig:function(t){var e={},n=[];for(var i in this._getAnimationConfigRecursive(t,e,n),e)n.push(e[i]);return n}},{_configureAnimations:function(t){var e=[],n=[];if(t.length>0)for(let e,i=0;e=t[i];i++){let t=document.createElement(e.name);if(t.isNeonAnimation){let i=null;t.configure||(t.configure=function(t){return null}),i=t.configure(e),n.push({result:i,config:e,neonAnimation:t})}else console.warn(this.is+":",e.name,"not found!")}for(var i=0;i<n.length;i++){let t=n[i].result,o=n[i].config,r=n[i].neonAnimation;try{"function"!=typeof t.cancel&&(t=document.timeline.play(t))}catch(e){t=null,console.warn("Couldnt play","(",o.name,").",e)}t&&e.push({neonAnimation:r,config:o,animation:t})}return e},_shouldComplete:function(t){for(var e=!0,n=0;n<t.length;n++)if("finished"!=t[n].animation.playState){e=!1;break}return e},_complete:function(t){for(var e=0;e<t.length;e++)t[e].neonAnimation.complete(t[e].config);for(e=0;e<t.length;e++)t[e].animation.cancel()},playAnimation:function(t,e){var n=this.getAnimationConfig(t);if(n){this._active=this._active||{},this._active[t]&&(this._complete(this._active[t]),delete this._active[t]);var i=this._configureAnimations(n);if(0!=i.length){this._active[t]=i;for(var o=0;o<i.length;o++)i[o].animation.onfinish=function(){this._shouldComplete(i)&&(this._complete(i),delete this._active[t],this.fire("neon-animation-finish",e,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",e,{bubbles:!1})}},cancelAnimation:function(){for(var t in this._active){var e=this._active[t];for(var n in e)e[n].animation.cancel()}this._active={}}}]},1733:(t,e,n)=>{"use strict";n.d(e,{K:()=>c});n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const i={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}};var o=n(2213);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(t){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},s=[i,o.x,r];var a=n(7430),l=n(9360);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const d={_checkedChanged:function(){r._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){l.o._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}},c=[a.B,s,d]},7430:(t,e,n)=>{"use strict";n.d(e,{B:()=>a,S:()=>s});n(2674);var i=n(6717),o=n(8518),r=n(9360);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const s={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(t){t&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=t)},_createRipple:function(){var t=r.o._createRipple();return t.id="ink",t.setAttribute("center",""),t.classList.add("circle"),t}},a=[i.P,o.a,r.o,s]},9360:(t,e,n)=>{"use strict";n.d(e,{o:()=>f});n(2674);var i,o=n(9408),r=n(1440),s=n(7593),a=n(1510);
/**
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var l,d,c={distance:function(t,e,n,i){var o=t-n,r=e-i;return Math.sqrt(o*o+r*r)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function u(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function h(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),(0,s.vz)(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}u.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,e){var n=c.distance(t,e,0,0),i=c.distance(t,e,this.width,0),o=c.distance(t,e,0,this.height),r=c.distance(t,e,this.width,this.height);return Math.max(n,i,o,r)}},h.MAX_RADIUS=300,h.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=c.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(t+e),h.MAX_RADIUS)+5,i=1.1-n/h.MAX_RADIUS*.2,o=this.mouseInteractionSeconds/i,r=n*(1-Math.pow(80,-o));return Math.abs(r)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,e=this.opacity;return Math.max(0,Math.min(t,e))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,h.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,h.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new u(this.element)},draw:function(){var t,e,n;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),e=this.xNow-this.containerMetrics.width/2,n=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+e+"px, "+n+"px)",this.waveContainer.style.transform="translate3d("+e+"px, "+n+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var e=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=c.now(),this.center?(this.xStart=e,this.yStart=n,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=e,this.yEnd=n,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){(0,s.vz)((0,s.vz)(this.waveContainer).parentNode).removeChild(this.waveContainer)}},(0,r.k)({_template:(0,a.d)(i||(l=['\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        border-radius: inherit;\n        overflow: hidden;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,\n         * creating a node (with a position:absolute) in the middle of an event\n         * handler "interrupts" that event handler (which happens when the\n         * ripple is created on demand) */\n        pointer-events: none;\n      }\n\n      :host([animating]) {\n        /* This resolves a rendering issue in Chrome (as of 40) where the\n           ripple is not properly clipped by its parent (which may have\n           rounded corners). See: http://jsbin.com/temexa/4\n\n           Note: We only apply this style conditionally. Otherwise, the browser\n           will create a new compositing layer for every ripple element on the\n           page, and that would be bad. */\n        -webkit-transform: translate(0, 0);\n        transform: translate3d(0, 0, 0);\n      }\n\n      #background,\n      #waves,\n      .wave-container,\n      .wave {\n        pointer-events: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n\n      #background,\n      .wave {\n        opacity: 0;\n      }\n\n      #waves,\n      .wave {\n        overflow: hidden;\n      }\n\n      .wave-container,\n      .wave {\n        border-radius: 50%;\n      }\n\n      :host(.circle) #background,\n      :host(.circle) #waves {\n        border-radius: 50%;\n      }\n\n      :host(.circle) .wave-container {\n        overflow: hidden;\n      }\n    </style>\n\n    <div id="background"></div>\n    <div id="waves"></div>\n'],d||(d=l.slice(0)),i=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(d)}})))),is:"paper-ripple",behaviors:[o.G],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==(0,s.vz)(this).parentNode.nodeType?this.keyEventTarget=(0,s.vz)(this).getOwnerRoot().host:this.keyEventTarget=(0,s.vz)(this).parentNode;var t=this.keyEventTarget;this.listen(t,"up","uiUpAction"),this.listen(t,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(t){this.noink||this.downAction(t)},downAction:function(t){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(t),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(t){this.noink||this.upAction(t)},upAction:function(t){this.holdDown||(this.ripples.forEach((function(e){e.upAction(t)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var t=new h(this);return(0,s.vz)(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var e=this.ripples.indexOf(t);e<0||(this.ripples.splice(e,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var t,e;for(t=0;t<this.ripples.length;++t)(e=this.ripples[t]).draw(),this.$.background.style.opacity=e.outerOpacity,e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(t,e){void 0!==e&&(t?this.downAction():this.upAction())}});var p=n(6717);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const f={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(t){p.$._downHandler.call(this,t),this.pressed&&this.ensureRipple(t)},ensureRipple:function(t){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var e=this._rippleContainer||this.root;if(e&&(0,s.vz)(e).appendChild(this._ripple),t){var n=(0,s.vz)(this._rippleContainer||this),i=(0,s.vz)(t).rootTarget;n.deepContains(i)&&this._ripple.uiDownAction(t)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(t){this.hasRipple()&&(this._ripple.noink=t)}}},3296:(t,e,n)=>{"use strict";var i;n(2674);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n<custom-style>\n  <style is="custom-style">\n    html {\n\n      /* Material Design color palette for Google products */\n\n      --google-red-100: #f4c7c3;\n      --google-red-300: #e67c73;\n      --google-red-500: #db4437;\n      --google-red-700: #c53929;\n\n      --google-blue-100: #c6dafc;\n      --google-blue-300: #7baaf7;\n      --google-blue-500: #4285f4;\n      --google-blue-700: #3367d6;\n\n      --google-green-100: #b7e1cd;\n      --google-green-300: #57bb8a;\n      --google-green-500: #0f9d58;\n      --google-green-700: #0b8043;\n\n      --google-yellow-100: #fce8b2;\n      --google-yellow-300: #f7cb4d;\n      --google-yellow-500: #f4b400;\n      --google-yellow-700: #f09300;\n\n      --google-grey-100: #f5f5f5;\n      --google-grey-300: #e0e0e0;\n      --google-grey-500: #9e9e9e;\n      --google-grey-700: #616161;\n\n      /* Material Design color palette from online spec document */\n\n      --paper-red-50: #ffebee;\n      --paper-red-100: #ffcdd2;\n      --paper-red-200: #ef9a9a;\n      --paper-red-300: #e57373;\n      --paper-red-400: #ef5350;\n      --paper-red-500: #f44336;\n      --paper-red-600: #e53935;\n      --paper-red-700: #d32f2f;\n      --paper-red-800: #c62828;\n      --paper-red-900: #b71c1c;\n      --paper-red-a100: #ff8a80;\n      --paper-red-a200: #ff5252;\n      --paper-red-a400: #ff1744;\n      --paper-red-a700: #d50000;\n\n      --paper-pink-50: #fce4ec;\n      --paper-pink-100: #f8bbd0;\n      --paper-pink-200: #f48fb1;\n      --paper-pink-300: #f06292;\n      --paper-pink-400: #ec407a;\n      --paper-pink-500: #e91e63;\n      --paper-pink-600: #d81b60;\n      --paper-pink-700: #c2185b;\n      --paper-pink-800: #ad1457;\n      --paper-pink-900: #880e4f;\n      --paper-pink-a100: #ff80ab;\n      --paper-pink-a200: #ff4081;\n      --paper-pink-a400: #f50057;\n      --paper-pink-a700: #c51162;\n\n      --paper-purple-50: #f3e5f5;\n      --paper-purple-100: #e1bee7;\n      --paper-purple-200: #ce93d8;\n      --paper-purple-300: #ba68c8;\n      --paper-purple-400: #ab47bc;\n      --paper-purple-500: #9c27b0;\n      --paper-purple-600: #8e24aa;\n      --paper-purple-700: #7b1fa2;\n      --paper-purple-800: #6a1b9a;\n      --paper-purple-900: #4a148c;\n      --paper-purple-a100: #ea80fc;\n      --paper-purple-a200: #e040fb;\n      --paper-purple-a400: #d500f9;\n      --paper-purple-a700: #aa00ff;\n\n      --paper-deep-purple-50: #ede7f6;\n      --paper-deep-purple-100: #d1c4e9;\n      --paper-deep-purple-200: #b39ddb;\n      --paper-deep-purple-300: #9575cd;\n      --paper-deep-purple-400: #7e57c2;\n      --paper-deep-purple-500: #673ab7;\n      --paper-deep-purple-600: #5e35b1;\n      --paper-deep-purple-700: #512da8;\n      --paper-deep-purple-800: #4527a0;\n      --paper-deep-purple-900: #311b92;\n      --paper-deep-purple-a100: #b388ff;\n      --paper-deep-purple-a200: #7c4dff;\n      --paper-deep-purple-a400: #651fff;\n      --paper-deep-purple-a700: #6200ea;\n\n      --paper-indigo-50: #e8eaf6;\n      --paper-indigo-100: #c5cae9;\n      --paper-indigo-200: #9fa8da;\n      --paper-indigo-300: #7986cb;\n      --paper-indigo-400: #5c6bc0;\n      --paper-indigo-500: #3f51b5;\n      --paper-indigo-600: #3949ab;\n      --paper-indigo-700: #303f9f;\n      --paper-indigo-800: #283593;\n      --paper-indigo-900: #1a237e;\n      --paper-indigo-a100: #8c9eff;\n      --paper-indigo-a200: #536dfe;\n      --paper-indigo-a400: #3d5afe;\n      --paper-indigo-a700: #304ffe;\n\n      --paper-blue-50: #e3f2fd;\n      --paper-blue-100: #bbdefb;\n      --paper-blue-200: #90caf9;\n      --paper-blue-300: #64b5f6;\n      --paper-blue-400: #42a5f5;\n      --paper-blue-500: #2196f3;\n      --paper-blue-600: #1e88e5;\n      --paper-blue-700: #1976d2;\n      --paper-blue-800: #1565c0;\n      --paper-blue-900: #0d47a1;\n      --paper-blue-a100: #82b1ff;\n      --paper-blue-a200: #448aff;\n      --paper-blue-a400: #2979ff;\n      --paper-blue-a700: #2962ff;\n\n      --paper-light-blue-50: #e1f5fe;\n      --paper-light-blue-100: #b3e5fc;\n      --paper-light-blue-200: #81d4fa;\n      --paper-light-blue-300: #4fc3f7;\n      --paper-light-blue-400: #29b6f6;\n      --paper-light-blue-500: #03a9f4;\n      --paper-light-blue-600: #039be5;\n      --paper-light-blue-700: #0288d1;\n      --paper-light-blue-800: #0277bd;\n      --paper-light-blue-900: #01579b;\n      --paper-light-blue-a100: #80d8ff;\n      --paper-light-blue-a200: #40c4ff;\n      --paper-light-blue-a400: #00b0ff;\n      --paper-light-blue-a700: #0091ea;\n\n      --paper-cyan-50: #e0f7fa;\n      --paper-cyan-100: #b2ebf2;\n      --paper-cyan-200: #80deea;\n      --paper-cyan-300: #4dd0e1;\n      --paper-cyan-400: #26c6da;\n      --paper-cyan-500: #00bcd4;\n      --paper-cyan-600: #00acc1;\n      --paper-cyan-700: #0097a7;\n      --paper-cyan-800: #00838f;\n      --paper-cyan-900: #006064;\n      --paper-cyan-a100: #84ffff;\n      --paper-cyan-a200: #18ffff;\n      --paper-cyan-a400: #00e5ff;\n      --paper-cyan-a700: #00b8d4;\n\n      --paper-teal-50: #e0f2f1;\n      --paper-teal-100: #b2dfdb;\n      --paper-teal-200: #80cbc4;\n      --paper-teal-300: #4db6ac;\n      --paper-teal-400: #26a69a;\n      --paper-teal-500: #009688;\n      --paper-teal-600: #00897b;\n      --paper-teal-700: #00796b;\n      --paper-teal-800: #00695c;\n      --paper-teal-900: #004d40;\n      --paper-teal-a100: #a7ffeb;\n      --paper-teal-a200: #64ffda;\n      --paper-teal-a400: #1de9b6;\n      --paper-teal-a700: #00bfa5;\n\n      --paper-green-50: #e8f5e9;\n      --paper-green-100: #c8e6c9;\n      --paper-green-200: #a5d6a7;\n      --paper-green-300: #81c784;\n      --paper-green-400: #66bb6a;\n      --paper-green-500: #4caf50;\n      --paper-green-600: #43a047;\n      --paper-green-700: #388e3c;\n      --paper-green-800: #2e7d32;\n      --paper-green-900: #1b5e20;\n      --paper-green-a100: #b9f6ca;\n      --paper-green-a200: #69f0ae;\n      --paper-green-a400: #00e676;\n      --paper-green-a700: #00c853;\n\n      --paper-light-green-50: #f1f8e9;\n      --paper-light-green-100: #dcedc8;\n      --paper-light-green-200: #c5e1a5;\n      --paper-light-green-300: #aed581;\n      --paper-light-green-400: #9ccc65;\n      --paper-light-green-500: #8bc34a;\n      --paper-light-green-600: #7cb342;\n      --paper-light-green-700: #689f38;\n      --paper-light-green-800: #558b2f;\n      --paper-light-green-900: #33691e;\n      --paper-light-green-a100: #ccff90;\n      --paper-light-green-a200: #b2ff59;\n      --paper-light-green-a400: #76ff03;\n      --paper-light-green-a700: #64dd17;\n\n      --paper-lime-50: #f9fbe7;\n      --paper-lime-100: #f0f4c3;\n      --paper-lime-200: #e6ee9c;\n      --paper-lime-300: #dce775;\n      --paper-lime-400: #d4e157;\n      --paper-lime-500: #cddc39;\n      --paper-lime-600: #c0ca33;\n      --paper-lime-700: #afb42b;\n      --paper-lime-800: #9e9d24;\n      --paper-lime-900: #827717;\n      --paper-lime-a100: #f4ff81;\n      --paper-lime-a200: #eeff41;\n      --paper-lime-a400: #c6ff00;\n      --paper-lime-a700: #aeea00;\n\n      --paper-yellow-50: #fffde7;\n      --paper-yellow-100: #fff9c4;\n      --paper-yellow-200: #fff59d;\n      --paper-yellow-300: #fff176;\n      --paper-yellow-400: #ffee58;\n      --paper-yellow-500: #ffeb3b;\n      --paper-yellow-600: #fdd835;\n      --paper-yellow-700: #fbc02d;\n      --paper-yellow-800: #f9a825;\n      --paper-yellow-900: #f57f17;\n      --paper-yellow-a100: #ffff8d;\n      --paper-yellow-a200: #ffff00;\n      --paper-yellow-a400: #ffea00;\n      --paper-yellow-a700: #ffd600;\n\n      --paper-amber-50: #fff8e1;\n      --paper-amber-100: #ffecb3;\n      --paper-amber-200: #ffe082;\n      --paper-amber-300: #ffd54f;\n      --paper-amber-400: #ffca28;\n      --paper-amber-500: #ffc107;\n      --paper-amber-600: #ffb300;\n      --paper-amber-700: #ffa000;\n      --paper-amber-800: #ff8f00;\n      --paper-amber-900: #ff6f00;\n      --paper-amber-a100: #ffe57f;\n      --paper-amber-a200: #ffd740;\n      --paper-amber-a400: #ffc400;\n      --paper-amber-a700: #ffab00;\n\n      --paper-orange-50: #fff3e0;\n      --paper-orange-100: #ffe0b2;\n      --paper-orange-200: #ffcc80;\n      --paper-orange-300: #ffb74d;\n      --paper-orange-400: #ffa726;\n      --paper-orange-500: #ff9800;\n      --paper-orange-600: #fb8c00;\n      --paper-orange-700: #f57c00;\n      --paper-orange-800: #ef6c00;\n      --paper-orange-900: #e65100;\n      --paper-orange-a100: #ffd180;\n      --paper-orange-a200: #ffab40;\n      --paper-orange-a400: #ff9100;\n      --paper-orange-a700: #ff6500;\n\n      --paper-deep-orange-50: #fbe9e7;\n      --paper-deep-orange-100: #ffccbc;\n      --paper-deep-orange-200: #ffab91;\n      --paper-deep-orange-300: #ff8a65;\n      --paper-deep-orange-400: #ff7043;\n      --paper-deep-orange-500: #ff5722;\n      --paper-deep-orange-600: #f4511e;\n      --paper-deep-orange-700: #e64a19;\n      --paper-deep-orange-800: #d84315;\n      --paper-deep-orange-900: #bf360c;\n      --paper-deep-orange-a100: #ff9e80;\n      --paper-deep-orange-a200: #ff6e40;\n      --paper-deep-orange-a400: #ff3d00;\n      --paper-deep-orange-a700: #dd2c00;\n\n      --paper-brown-50: #efebe9;\n      --paper-brown-100: #d7ccc8;\n      --paper-brown-200: #bcaaa4;\n      --paper-brown-300: #a1887f;\n      --paper-brown-400: #8d6e63;\n      --paper-brown-500: #795548;\n      --paper-brown-600: #6d4c41;\n      --paper-brown-700: #5d4037;\n      --paper-brown-800: #4e342e;\n      --paper-brown-900: #3e2723;\n\n      --paper-grey-50: #fafafa;\n      --paper-grey-100: #f5f5f5;\n      --paper-grey-200: #eeeeee;\n      --paper-grey-300: #e0e0e0;\n      --paper-grey-400: #bdbdbd;\n      --paper-grey-500: #9e9e9e;\n      --paper-grey-600: #757575;\n      --paper-grey-700: #616161;\n      --paper-grey-800: #424242;\n      --paper-grey-900: #212121;\n\n      --paper-blue-grey-50: #eceff1;\n      --paper-blue-grey-100: #cfd8dc;\n      --paper-blue-grey-200: #b0bec5;\n      --paper-blue-grey-300: #90a4ae;\n      --paper-blue-grey-400: #78909c;\n      --paper-blue-grey-500: #607d8b;\n      --paper-blue-grey-600: #546e7a;\n      --paper-blue-grey-700: #455a64;\n      --paper-blue-grey-800: #37474f;\n      --paper-blue-grey-900: #263238;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n    }\n\n  </style>\n</custom-style>\n'],s||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},3536:(t,e,n)=>{"use strict";var i;n(2674),n(3296);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=(0,n(1510).d)(i||(r=['\n<custom-style>\n  <style is="custom-style">\n    html {\n      /*\n       * You can use these generic variables in your elements for easy theming.\n       * For example, if all your elements use `--primary-text-color` as its main\n       * color, then switching from a light to a dark theme is just a matter of\n       * changing the value of `--primary-text-color` in your application.\n       */\n      --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      /*\n       * Primary and accent colors. Also see color.js for more colors.\n       */\n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      /*\n       * Material Design Light background theme\n       */\n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  /* for secondary text and icons */\n      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */\n      --light-theme-divider-color: #dbdbdb;\n\n      /*\n       * Material Design Dark background theme\n       */\n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */\n      --dark-theme-disabled-color: #646464;  /* disabled/hint text */\n      --dark-theme-divider-color: #3c3c3c;\n\n      /*\n       * Deprecated values because of their confusing names.\n       */\n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n    }\n  </style>\n</custom-style>'],(s=['\n<custom-style>\n  <style is="custom-style">\n    html {\n      /*\n       * You can use these generic variables in your elements for easy theming.\n       * For example, if all your elements use \\`--primary-text-color\\` as its main\n       * color, then switching from a light to a dark theme is just a matter of\n       * changing the value of \\`--primary-text-color\\` in your application.\n       */\n      --primary-text-color: var(--light-theme-text-color);\n      --primary-background-color: var(--light-theme-background-color);\n      --secondary-text-color: var(--light-theme-secondary-color);\n      --disabled-text-color: var(--light-theme-disabled-color);\n      --divider-color: var(--light-theme-divider-color);\n      --error-color: var(--paper-deep-orange-a700);\n\n      /*\n       * Primary and accent colors. Also see color.js for more colors.\n       */\n      --primary-color: var(--paper-indigo-500);\n      --light-primary-color: var(--paper-indigo-100);\n      --dark-primary-color: var(--paper-indigo-700);\n\n      --accent-color: var(--paper-pink-a200);\n      --light-accent-color: var(--paper-pink-a100);\n      --dark-accent-color: var(--paper-pink-a400);\n\n\n      /*\n       * Material Design Light background theme\n       */\n      --light-theme-background-color: #ffffff;\n      --light-theme-base-color: #000000;\n      --light-theme-text-color: var(--paper-grey-900);\n      --light-theme-secondary-color: #737373;  /* for secondary text and icons */\n      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */\n      --light-theme-divider-color: #dbdbdb;\n\n      /*\n       * Material Design Dark background theme\n       */\n      --dark-theme-background-color: var(--paper-grey-900);\n      --dark-theme-base-color: #ffffff;\n      --dark-theme-text-color: #ffffff;\n      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */\n      --dark-theme-disabled-color: #646464;  /* disabled/hint text */\n      --dark-theme-divider-color: #3c3c3c;\n\n      /*\n       * Deprecated values because of their confusing names.\n       */\n      --text-primary-color: var(--dark-theme-text-color);\n      --default-primary-color: var(--primary-color);\n    }\n  </style>\n</custom-style>'])||(s=r.slice(0)),i=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))));var r,s;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},1370:(t,e,n)=>{"use strict";n(5115);var i=n(6788),o=n(6382),r=n(3885),s=n(7948),a=n(2019),l=n(138);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const d=(0,r._)((0,o.w)((0,i.q)(HTMLElement)));customElements.define("dom-bind",class extends d{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),s.XN)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(t,e,n,i){this.mutableData=!0}connectedCallback(){(0,l.N)()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){(0,a.r)((0,a.r)(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(t=t||this.querySelector("template"),!t){let e=new MutationObserver((()=>{if(t=this.querySelector("template"),!t)throw new Error("dom-bind requires a <template> child");e.disconnect(),this.render()}));return void e.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}})},5969:(t,e,n)=>{"use strict";var i=n(1305),o=n(8373),r=n(8544),s=n(6008),a=n(1871),l=n(2019),d=n(138),c=n(7948),u=n(8842);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class h extends i.H3{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=o.dx.debounce(this.__renderDebouncer,s.YA,(()=>this.__render())),(0,r.E)(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const t=(0,l.r)(this).parentNode;t&&(t.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||(0,l.r)(t).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),(0,d.N)()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const t=this;let e=t._templateInfo?t:(0,l.r)(t).querySelector("template");if(!e){let t=new MutationObserver((()=>{if(!(0,l.r)(this).querySelector("template"))throw new Error("dom-if requires a <template> child");t.disconnect(),this.__render()}));return t.observe(this,{childList:!0}),!1}this.__template=e}return!0}__ensureInstance(){let t=(0,l.r)(this).parentNode;if(this.__hasInstance()){let e=this.__getInstanceNodes();if(e&&e.length){if((0,l.r)(this).previousSibling!==e[e.length-1])for(let n,i=0;i<e.length&&(n=e[i]);i++)(0,l.r)(t).insertBefore(n,this)}}else{if(!t)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(t)}return!0}render(){(0,r.y)()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),c.dJ&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(t){}__teardownInstance(){}_showHideChildren(){}}const p=c.ew?class extends h{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(t){const e=this.__dataHost||this;if(c.XN&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const n=e._bindTemplate(this.__template,!0);n.runEffects=(t,e,n)=>{let i=this.__syncInfo;if(this.if)i&&(this.__syncInfo=null,this._showHideChildren(),e=Object.assign(i.changedProps,e)),t(e,n);else if(this.__instance)if(i||(i=this.__syncInfo={runEffects:t,changedProps:{}}),n)for(const t in e){const e=(0,a.Jz)(t);i.changedProps[e]=this.__dataHost[e]}else Object.assign(i.changedProps,e)},this.__instance=e._stampTemplate(this.__template,n),(0,l.r)(t).insertBefore(this.__instance,this)}__syncHostProperties(){const t=this.__syncInfo;t&&(this.__syncInfo=null,t.runEffects(t.changedProps,!1))}__teardownInstance(){const t=this.__dataHost||this;this.__instance&&(t._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const t=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==t&&(this.__instance.__hidden=t,(0,u.aZ)(t,this.__instance.templateInfo.childNodes)),t||this.__syncHostProperties()}}:class extends h{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(t){this.__ctor||(this.__ctor=(0,u.Uv)(this.__template,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[(0,a.Jz)(t)]=!0))}})),this.__instance=new this.__ctor,(0,l.r)(t).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let t=this.__instance.children;if(t&&t.length){let e=(0,l.r)(t[0]).parentNode;if(e){e=(0,l.r)(e);for(let n,i=0;i<t.length&&(n=t[i]);i++)e.removeChild(n)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let t=this.__invalidProps;if(t){this.__invalidProps=null;for(let e in t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__instance._flushProperties()}}_showHideChildren(){const t=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==t&&(this.__instance.__hidden=t,this.__instance._showHideChildren(t)),t||this.__syncHostProperties()}};customElements.define(p.is,p)},4580:(t,e,n)=>{"use strict";n.d(e,{t:()=>d});n(5115);var i=n(2795),o=n(7948);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let r={},s={};function a(t,e){r[t]=s[t.toLowerCase()]=e}function l(t){return r[t]||s[t.toLowerCase()]}class d extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let n=l(t);return n&&e?n.querySelector(e):n}return null}attributeChangedCallback(t,e,n,i){e!==n&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=(0,i.Kk)(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=(0,i.iY)(e)}return this.__assetpath}register(t){if(t=t||this.id){if(o.XN&&void 0!==l(t))throw a(t,null),new Error("strictTemplatePolicy: dom-module ".concat(t," re-registered"));this.id=t,a(t,this),(e=this).querySelector("style")&&console.warn("dom-module %s has style outside template",e.id)}var e}}d.prototype.modules=r,customElements.define("dom-module",d)},8228:(t,e,n)=>{"use strict";var i=n(1305),o=n(8842),r=n(8373),s=n(8544),a=n(6382),l=n(1871),d=n(6008),c=n(2019),u=n(138),h=n(7948);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const p=(0,a.w)(i.H3);class f extends p{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!h.dJ,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),(0,u.N)()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let t=(0,c.r)((0,c.r)(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const t=this;let e=this.template=t._templateInfo?t:this.querySelector("template");if(!e){let t=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()}));return t.observe(this,{childList:!0}),!1}let n={};n[this.as]=!0,n[this.indexAs]=!0,n[this.itemsIndexAs]=!0,this.__ctor=(0,o.Uv)(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:n,forwardHostProp:function(t,e){let n=this.__instances;for(let i,o=0;o<n.length&&(i=n[o]);o++)i.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,n){if((0,l.wB)(this.as,e)){let i=t[this.itemsIndexAs];e==this.as&&(this.items[i]=n);let o=(0,l.Iu)(this.as,"".concat(JSCompiler_renameProperty("items",this),".").concat(i),e);this.notifyPath(o,n)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,n=this.__getMethodHost();return function(){return n[e].apply(n,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let n=0;n<e.length;n++)0===t.indexOf(e[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||("items"===t.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.__renderDebouncer=r.dx.debounce(this.__renderDebouncer,e>0?d.Wc.after(e):d.YA,t.bind(this)),(0,s.E)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),(0,s.y)()}__render(){if(!this.__ensureTemplatized())return;let t=this.items||[];const e=this.__sortAndFilterItems(t),n=this.__calculateLimit(e.length);this.__updateInstances(t,n,e),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>{this.__chunkingId=null,this.__continueChunking()}))),this._setRenderedItemCount(this.__instances.length),h.dJ&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(t){let e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=n;return this.__filterFn&&(e=e.filter(((e,n,i)=>this.__filterFn(t[e],n,i)))),this.__sortFn&&e.sort(((e,n)=>this.__sortFn(t[e],t[n]))),e}__calculateLimit(t){let e=t;const n=this.__instances.length;if(this.initialCount){let i;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(e=Math.min(t,this.initialCount),i=Math.max(e-n,0),this.__chunkCount=i||1):(i=Math.min(Math.max(t-n,0),this.__chunkCount),e=Math.min(n+i,t)),this.__shouldMeasureChunk=i===this.__chunkCount,this.__shouldContinueChunking=e<t,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,e}__continueChunking(){if(this.__shouldMeasureChunk){const t=performance.now()-this.__renderStartTime,e=this._targetFrameTime/t;this.__chunkCount=Math.round(this.__chunkCount*e)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(t,e,n){const i=this.__itemsIdxToInstIdx={};let o;for(o=0;o<e;o++){let e=this.__instances[o],r=n[o],s=t[r];i[r]=o,e?(e._setPendingProperty(this.as,s),e._setPendingProperty(this.indexAs,o),e._setPendingProperty(this.itemsIndexAs,r),e._flushProperties()):this.__insertInstance(s,o,r)}for(let t=this.__instances.length-1;t>=o;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];const n=(0,c.r)(e.root);for(let t=0;t<e.children.length;t++){let i=e.children[t];n.appendChild(i)}return e}__attachInstance(t,e){let n=this.__instances[t];e.insertBefore(n.root,this)}__detachAndRemoveInstance(t){this.__detachInstance(t),this.__instances.splice(t,1)}__stampInstance(t,e,n){let i={};return i[this.as]=t,i[this.indexAs]=e,i[this.itemsIndexAs]=n,new this.__ctor(i)}__insertInstance(t,e,n){const i=this.__stampInstance(t,e,n);let o=this.__instances[e+1],r=o?o.children[0]:this;return(0,c.r)((0,c.r)(this).parentNode).insertBefore(i.root,r),this.__instances[e]=i,i}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let n=t.slice(6),i=n.indexOf("."),o=i<0?n:n.substring(0,i);if(o==parseInt(o,10)){let t=i<0?"":n.substring(i+1);this.__handleObservedPaths(t);let r=this.__itemsIdxToInstIdx[o],s=this.__instances[r];if(s){let n=this.as+(t?"."+t:"");s._setPendingPropertyOrPath(n,e,!1,!0),s._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return(0,o.GJ)(this.template,t)}}customElements.define(f.is,f)},5985:(t,e,n)=>{"use strict";n.d(e,{P:()=>l,w:()=>f});var i=n(9845),o=n(7948);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},s={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},a=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},s);function l(t,e){return p({},(0,i.x)(e),t)}function d(t,e,n,i){!function(t,e,n){const i=t._noAccessors,o=Object.getOwnPropertyNames(t);for(let r=0;r<o.length;r++){let s=o[r];if(!(s in n))if(i)e[s]=t[s];else{let n=Object.getOwnPropertyDescriptor(t,s);n&&(n.configurable=!0,Object.defineProperty(e,s,n))}}}(e,t,i);for(let t in r)e[t]&&(n[t]=n[t]||[],n[t].push(e[t]))}function c(t,e,n){e=e||[];for(let i=t.length-1;i>=0;i--){let o=t[i];o?Array.isArray(o)?c(o,e):e.indexOf(o)<0&&(!n||n.indexOf(o)<0)&&e.unshift(o):console.warn("behavior is null, check for missing or 404 import")}return e}function u(t,e){for(const n in e){const i=t[n],o=e[n];t[n]=!("value"in o)&&i&&"value"in i?Object.assign({value:i.value},o):o}}const h=(0,i.x)(HTMLElement);function p(t,e,n){let i;const r={};class l extends e{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(i)for(let t,e=0;e<i.length;e++)t=i[e],t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties);t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties),this._prepareTemplate()}else e._finalizeClass.call(this)}static get properties(){const e={};if(i)for(let t=0;t<i.length;t++)u(e,i[t].properties);return u(e,t.properties),e}static get observers(){let e=[];if(i)for(let t,n=0;n<i.length;n++)t=i[n],t.observers&&(e=e.concat(t.observers));return t.observers&&(e=e.concat(t.observers)),e}created(){super.created();const t=r.created;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}_registered(){const t=l.prototype;if(!t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))){t.__hasRegisterFinished=!0,super._registered(),o.nL&&h(t);const e=Object.getPrototypeOf(this);let n=r.beforeRegister;if(n)for(let t=0;t<n.length;t++)n[t].call(e);if(n=r.registered,n)for(let t=0;t<n.length;t++)n[t].call(e)}}_applyListeners(){super._applyListeners();const t=r.listeners;if(t)for(let e=0;e<t.length;e++){const n=t[e];if(n)for(let t in n)this._addMethodEventListenerToNode(this,t,n[t])}}_ensureAttributes(){const t=r.hostAttributes;if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];for(let t in n)this._ensureAttribute(t,n[t])}super._ensureAttributes()}ready(){super.ready();let t=r.ready;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attached(){super.attached();let t=r.attached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}detached(){super.detached();let t=r.detached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attributeChanged(t,e,n){super.attributeChanged();let i=r.attributeChanged;if(i)for(let o=0;o<i.length;o++)i[o].call(this,t,e,n)}}if(n){Array.isArray(n)||(n=[n]);let t=e.prototype.behaviors;i=c(n,null,t),l.prototype.behaviors=t?t.concat(n):i}const h=e=>{i&&function(t,e,n){for(let i=0;i<e.length;i++)d(t,e[i],n,a)}(e,i,r),d(e,t,r,s)};return o.nL||h(l.prototype),l.generatedFrom=t,l}const f=function(t,e){t||console.warn("Polymer.Class requires `info` argument");let n=e?e(h):h;return n=p(t,n,t.behaviors),n.is=n.prototype.is=t.is,n}},1891:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var i=n(6382);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o;o=i.E._mutablePropertyChange;const r={properties:{mutableData:Boolean},_shouldPropertyChange(t,e,n){return o(this,t,e,n,this.mutableData)}}},1440:(t,e,n)=>{"use strict";n.d(e,{k:()=>o});var i=n(5985);n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o=function(t){let e;return e="function"==typeof t?t:o.Class(t),t._legacyForceObservedAttributes&&(e.prototype._legacyForceObservedAttributes=t._legacyForceObservedAttributes),customElements.define(e.is,e),e};o.Class=i.w},7593:(t,e,n)=>{"use strict";n.d(e,{Ku:()=>a,vz:()=>h});n(5115);var i=n(2019),o=(n(7948),n(834));n(8544),n(8373);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=Element.prototype,s=r.matches||r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector,a=function(t,e){return s.call(t,e)};class l{constructor(t){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(t),this.node=t}observeNodes(t){return new o.o(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if((0,i.r)(this.node).contains(t))return!0;let e=t,n=t.ownerDocument;for(;e&&e!==n&&e!==this.node;)e=(0,i.r)(e).parentNode||(0,i.r)(e).host;return e===this.node}getOwnerRoot(){return(0,i.r)(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?(0,i.r)(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=(0,i.r)(this.node).assignedSlot;for(;e;)t.push(e),e=(0,i.r)(e).assignedSlot;return t}importNode(t,e){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return(0,i.r)(n).importNode(t,e)}getEffectiveChildNodes(){return o.o.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),n=[];for(let i,o=0,r=e.length;o<r&&(i=e[o]);o++)i.nodeType===Node.ELEMENT_NODE&&a(i,t)&&n.push(i);return n}get activeElement(){let t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}function d(t,e){for(let n=0;n<e.length;n++){let i=e[n];Object.defineProperty(t,i,{get:function(){return this.node[i]},configurable:!0})}}class c{constructor(t){this.event=t}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}l.prototype.cloneNode,l.prototype.appendChild,l.prototype.insertBefore,l.prototype.removeChild,l.prototype.replaceChild,l.prototype.setAttribute,l.prototype.removeAttribute,l.prototype.querySelector,l.prototype.querySelectorAll,l.prototype.parentNode,l.prototype.firstChild,l.prototype.lastChild,l.prototype.nextSibling,l.prototype.previousSibling,l.prototype.firstElementChild,l.prototype.lastElementChild,l.prototype.nextElementSibling,l.prototype.previousElementSibling,l.prototype.childNodes,l.prototype.children,l.prototype.classList,l.prototype.textContent,l.prototype.innerHTML;let u=l;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class t extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(l.prototype).forEach((e=>{"activeElement"!=e&&(t.prototype[e]=l.prototype[e])})),d(t.prototype,["classList"]),u=t,Object.defineProperties(c.prototype,{localTarget:{get(){const t=this.event.currentTarget,e=t&&h(t).getOwnerRoot(),n=this.path;for(let t=0;t<n.length;t++){const i=n[t];if(h(i).getOwnerRoot()===e)return i}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(t,e){for(let n=0;n<e.length;n++){let i=e[n];t[i]=function(){return this.node[i].apply(this.node,arguments)}}}(l.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll","attachShadow"]),d(l.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList","shadowRoot"]),function(t,e){for(let n=0;n<e.length;n++){let i=e[n];Object.defineProperty(t,i,{get:function(){return this.node[i]},set:function(t){this.node[i]=t},configurable:!0})}}(l.prototype,["textContent","innerHTML","className"]);const h=function(t){if((t=t||document)instanceof u)return t;if(t instanceof c)return t;let e=t.__domApi;return e||(e=t instanceof Event?new c(t):new u(t),t.__domApi=e),e}},6515:(t,e,n)=>{"use strict";n.d(e,{F:()=>o});var i=n(8842);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const o={templatize(t,e){this._templatizerTemplate=t,this.ctor=(0,i.Uv)(t,this,{mutableData:Boolean(e),parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(t){return new this.ctor(t)},modelForElement(t){return(0,i.GJ)(this._templatizerTemplate,t)}}},6813:(t,e,n)=>{"use strict";n.d(e,{SH:()=>f,PP:()=>p});n(5115);var i=n(7948),o=n(4473),r=n(346),s=n(2795),a=n(4580),l=n(6788),d=n(3120),c=n(4310);const u=(0,o.o)((t=>{const e=(0,c.e)(t);function n(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof o?e:null}function i(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const n=t.properties;n&&(e=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const e={};for(let n in t){const i=t[n];e[n]="function"==typeof i?{type:i}:i}return e}(n))}t.__ownProperties=e}return t.__ownProperties}class o extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){(0,d.z2)(this.prototype);const t=this._properties;this.__observedAttributes=t?Object.keys(t).map((t=>this.prototype._addPropertyToAttributeMap(t))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=n(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=i(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=n(this);this.__properties=Object.assign({},t&&t._properties,i(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){(0,d.Gd)(),this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return o}));var h=n(2019);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const p=window.ShadyCSS&&window.ShadyCSS.cssBuild,f=(0,o.o)((t=>{const e=u((0,l.q)(t));return class extends e{static get polymerElementVersion(){return"3.5.1"}static _finalizeClass(){e._finalizeClass.call(this);const t=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);var n;t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):i.nL||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let r in t)e=this.prototype,n=r,i=t[r],o=t,i.computed&&(i.readOnly=!0),i.computed&&(e._hasReadOnlyEffect(n)?console.warn("Cannot redefine computed property '".concat(n,"'.")):e._createComputedProperty(n,i.computed,o)),i.readOnly&&!e._hasReadOnlyEffect(n)?e._createReadOnlyProperty(n,!i.computed):!1===i.readOnly&&e._hasReadOnlyEffect(n)&&console.warn("Cannot make readOnly property '".concat(n,"' non-readOnly.")),i.reflectToAttribute&&!e._hasReflectEffect(n)?e._createReflectedProperty(n):!1===i.reflectToAttribute&&e._hasReflectEffect(n)&&console.warn("Cannot make reflected property '".concat(n,"' non-reflected.")),i.notify&&!e._hasNotifyEffect(n)?e._createNotifyingProperty(n):!1===i.notify&&e._hasNotifyEffect(n)&&console.warn("Cannot make notify property '".concat(n,"' non-notify.")),i.observer&&e._createPropertyObserver(n,i.observer,o[i.observer]),e._addPropertyToAttributeMap(n);var e,n,i,o}static createObservers(t,e){const n=this.prototype;for(let i=0;i<t.length;i++)n._createMethodObserver(t[i],e)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let t=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;"function"==typeof t&&(t=t()),this._template=void 0!==t?t:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(t){let e=null;if(t&&(!i.XN||i.ZN)&&(e=a.t.import(t,"template"),i.XN&&!e))throw new Error("strictTemplatePolicy: expecting dom-module or null template for ".concat(t));return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=(0,s.iY)(t.url);else{const t=a.t.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=i.sM,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let n in e){let i=e[n];"value"in i&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[n]=i)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let n=t[e];if(this._canApplyPropertyDefault(e)){let t="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}_canApplyPropertyDefault(t){return!this.hasOwnProperty(t)}static _processStyleText(t,e){return(0,s.Rq)(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const n=this.importPath;!function(t,e,n,o){if(!p){const i=e.content.querySelectorAll("style"),s=(0,r.uT)(e),a=(0,r.lx)(n),l=e.content.firstElementChild;for(let n=0;n<a.length;n++){let i=a[n];i.textContent=t._processStyleText(i.textContent,o),e.content.insertBefore(i,l)}let d=0;for(let e=0;e<s.length;e++){let n=s[e],r=i[d];r!==n?(n=n.cloneNode(!0),r.parentNode.insertBefore(n,r)):d++,n.textContent=t._processStyleText(n.textContent,o)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,n),i.md&&p&&i.FV){const n=e.content.querySelectorAll("style");if(n){let e="";Array.from(n).forEach((t=>{e+=t.textContent,t.parentNode.removeChild(t)})),t._styleSheet=new CSSStyleSheet,t._styleSheet.replaceSync(e)}}}(this,e,t,n?(0,s.Kk)(n):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const e=(0,h.r)(this);if(e.attachShadow)return t?(e.shadowRoot||(e.attachShadow({mode:"open",shadyUpgradeFragment:t}),e.shadowRoot.appendChild(t),this.constructor._styleSheet&&(e.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),i.Hr&&window.ShadyDOM&&window.ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=(0,s.Kk)(this.importPath)),(0,s.Kk)(t,e)}static _parseTemplateContent(t,n,i){return n.dynamicFns=n.dynamicFns||this._properties,e._parseTemplateContent.call(this,t,n,i)}static _addTemplatePropertyEffect(t,n,o){return!i.a2||n in this._properties||o.info.part.signature&&o.info.part.signature.static||o.info.part.hostProp||t.nestedTemplate||console.warn("Property '".concat(n,"' used in template but not declared in 'properties'; ")+"attribute will not be observed."),e._addTemplatePropertyEffect.call(this,t,n,o)}}}))},3885:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});n(5115);var i=n(4473),o=n(8042);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=(0,i.o)((t=>class extends t{_addEventListenerToNode(t,e,n){(0,o.NH)(t,e,n)||super._addEventListenerToNode(t,e,n)}_removeEventListenerFromNode(t,e,n){(0,o.ys)(t,e,n)||super._removeEventListenerFromNode(t,e,n)}}))},6382:(t,e,n)=>{"use strict";n.d(e,{E:()=>r,w:()=>s});var i=n(4473);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function o(t,e,n,i,o){let r;o&&(r="object"==typeof n&&null!==n,r&&(i=t.__dataTemp[e]));let s=i!==n&&(i==i||n==n);return r&&s&&(t.__dataTemp[e]=n),s}const r=(0,i.o)((t=>class extends t{_shouldPropertyChange(t,e,n){return o(this,t,e,n,!0)}})),s=(0,i.o)((t=>class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,n){return o(this,t,e,n,this.mutableData)}}));r._mutablePropertyChange=o},4310:(t,e,n)=>{"use strict";n.d(e,{e:()=>a});n(5115);var i=n(4473),o=n(6008),r=n(2019);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=o.YA,a=(0,i.o)((t=>class extends t{static createProperties(t){const e=this.prototype;for(let n in t)n in e||e._createPropertyAccessor(n)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let e=this.__dataAttributes[t];return e||(e=this.constructor.attributeNameForProperty(t),this.__dataAttributes[e]=t),e}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this.__data[t]},set:e?function(){}:function(e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,n){let i=this.__data[t],o=this._shouldPropertyChange(t,e,i);return o&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=i),this.__data[t]=e,this.__dataPending[t]=e),o}_isPropertyPending(t){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(t))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,s.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const t=this.__data,e=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,e,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,n)),this.__dataCounter--}_shouldPropertiesChange(t,e,n){return Boolean(e)}_propertiesChanged(t,e,n){}_shouldPropertyChange(t,e,n){return n!==e&&(n==n||e==e)}attributeChangedCallback(t,e,n,i){e!==n&&this._attributeToProperty(t,n),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,n,i)}_attributeToProperty(t,e,n){if(!this.__serializing){const i=this.__dataAttributes,o=i&&i[t]||t;this[o]=this._deserializeValue(e,n||this.constructor.typeForProperty(o))}}_propertyToAttribute(t,e,n){this.__serializing=!0,n=arguments.length<3?this[t]:n,this._valueToNodeAttribute(this,n,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,n){const i=this._serializeValue(e);"class"!==n&&"name"!==n&&"slot"!==n||(t=(0,r.r)(t)),void 0===i?t.removeAttribute(n):t.setAttribute(n,""===i&&window.trustedTypes?window.trustedTypes.emptyScript:i)}_serializeValue(t){return"boolean"==typeof t?t?"":void 0:null!=t?t.toString():void 0}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}))},233:(t,e,n)=>{"use strict";n.d(e,{Q:()=>d});n(5115);var i=n(4473),o=n(7134),r=n(4310);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s={};let a=HTMLElement.prototype;for(;a;){let t=Object.getOwnPropertyNames(a);for(let e=0;e<t.length;e++)s[t[e]]=!0;a=Object.getPrototypeOf(a)}const l=window.trustedTypes?t=>trustedTypes.isHTML(t)||trustedTypes.isScript(t)||trustedTypes.isScriptURL(t):()=>!1;const d=(0,i.o)((t=>{const e=(0,r.e)(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor((0,o.z)(t[e]))}static attributeNameForProperty(t){return(0,o.n)(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const n=this;n.hasAttribute(t)||this._valueToNodeAttribute(n,e,t)}_serializeValue(t){if("object"==typeof t){if(t instanceof Date)return t.toString();if(t){if(l(t))return t;try{return JSON.stringify(t)}catch(t){return""}}}return super._serializeValue(t)}_deserializeValue(t,e){let n;switch(e){case Object:try{n=JSON.parse(t)}catch(e){n=t}break;case Array:try{n=JSON.parse(t)}catch(e){n=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: ".concat(t))}break;case Date:n=isNaN(t)?String(t):Number(t),n=new Date(n);break;default:n=super._deserializeValue(t,e)}return n}_definePropertyAccessor(t,e){!function(t,e){if(!s[e]){let n=t[e];void 0!==n&&(t.__data?t._setPendingProperty(e,n):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=n))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}}))},6788:(t,e,n)=>{"use strict";n.d(e,{q:()=>et});n(5115);var i=n(2019),o=n(4473),r=n(1871),s=n(7134),a=n(233);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l={"dom-if":!0,"dom-repeat":!0};let d=!1,c=!1;function u(t){(function(){if(!d){d=!0;const t=document.createElement("textarea");t.placeholder="a",c=t.placeholder===t.textContent}return c})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}const h=(()=>{const t=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:t=>t});return(e,n,i)=>{const o=n.getAttribute(i);t&&i.startsWith("on-")?e.setAttribute(i,t.createScript(o,i)):e.setAttribute(i,o)}})();function p(t){let e=t.getAttribute("is");if(e&&l[e]){let n=t;for(n.removeAttribute("is"),t=n.ownerDocument.createElement(e),n.parentNode.replaceChild(t,n),t.appendChild(n);n.attributes.length;){const{name:e}=n.attributes[0];h(t,n,e),n.removeAttribute(e)}}return t}function f(t,e){let n=e.parentInfo&&f(t,e.parentInfo);if(!n)return t;for(let t=n.firstChild,i=0;t;t=t.nextSibling)if(e.parentIndex===i++)return t}function b(t,e,n,i){i.id&&(e[i.id]=n)}function g(t,e,n){if(n.events&&n.events.length)for(let i,o=0,r=n.events;o<r.length&&(i=r[o]);o++)t._addMethodEventListenerToNode(e,i.name,i.value,t)}function m(t,e,n,i){n.templateInfo&&(e._templateInfo=n.templateInfo,e._parentTemplateInfo=i)}const y=(0,o.o)((t=>class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let n=t._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(e),n.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute&&t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,n,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,n){return this._parseTemplateNode(t.content,e,n)}static _parseTemplateNode(t,e,n){let i=!1,o=t;return"template"!=o.localName||o.hasAttribute("preserve-content")?"slot"===o.localName&&(e.hasInsertionPoint=!0):i=this._parseTemplateNestedTemplate(o,e,n)||i,u(o),o.firstChild&&this._parseTemplateChildNodes(o,e,n),o.hasAttributes&&o.hasAttributes()&&(i=this._parseTemplateNodeAttributes(o,e,n)||i),i||n.noted}static _parseTemplateChildNodes(t,e,n){if("script"!==t.localName&&"style"!==t.localName)for(let i,o=t.firstChild,r=0;o;o=i){if("template"==o.localName&&(o=p(o)),i=o.nextSibling,o.nodeType===Node.TEXT_NODE){let n=i;for(;n&&n.nodeType===Node.TEXT_NODE;)o.textContent+=n.textContent,i=n.nextSibling,t.removeChild(n),n=i;if(e.stripWhiteSpace&&!o.textContent.trim()){t.removeChild(o);continue}}let s={parentIndex:r,parentInfo:n};this._parseTemplateNode(o,e,s)&&(s.infoIndex=e.nodeInfoList.push(s)-1),o.parentNode&&r++}}static _parseTemplateNestedTemplate(t,e,n){let i=t,o=this._parseTemplate(i,e);return(o.content=i.content.ownerDocument.createDocumentFragment()).appendChild(i.content),n.templateInfo=o,!0}static _parseTemplateNodeAttributes(t,e,n){let i=!1,o=Array.from(t.attributes);for(let r,s=o.length-1;r=o[s];s--)i=this._parseTemplateNodeAttribute(t,e,n,r.name,r.value)||i;return i}static _parseTemplateNodeAttribute(t,e,n,i,o){return"on-"===i.slice(0,3)?(t.removeAttribute(i),n.events=n.events||[],n.events.push({name:i.slice(3),value:o}),!0):"id"===i&&(n.id=o,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t,e){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let n=(e=e||this.constructor._parseTemplate(t)).nodeInfoList,i=e.content||t.content,o=document.importNode(i,!0);o.__noInsertionPoint=!e.hasInsertionPoint;let r=o.nodeList=new Array(n.length);o.$={};for(let t,i=0,s=n.length;i<s&&(t=n[i]);i++){let n=r[i]=f(o,t);b(0,o.$,n,t),m(0,n,t,e),g(this,n,t)}return o}_addMethodEventListenerToNode(t,e,n,i){let o=function(t,e,n){return t=t._methodHost||t,function(e){t[n]?t[n](e,e.detail):console.warn("listener method `"+n+"` not defined")}}(i=i||t,0,n);return this._addEventListenerToNode(t,e,o),o}_addEventListenerToNode(t,e,n){t.addEventListener(e,n)}_removeEventListenerFromNode(t,e,n){t.removeEventListener(e,n)}}));var v=n(7948);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
let _=0;const w=[],x={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},C="__computeInfo",k=/[A-Z]/;function S(t,e,n){let i=t[e];if(i){if(!t.hasOwnProperty(e)&&(i=t[e]=Object.create(t[e]),n))for(let t in i){let e=i[t],n=i[t]=Array(e.length);for(let t=0;t<e.length;t++)n[t]=e[t]}}else i=t[e]={};return i}function O(t,e,n,i,o,s){if(e){let a=!1;const l=_++;for(let d in n){let c=e[o?(0,r.Jz)(d):d];if(c)for(let e,r=0,u=c.length;r<u&&(e=c[r]);r++)e.info&&e.info.lastRun===l||o&&!E(d,e.trigger)||(e.info&&(e.info.lastRun=l),e.fn(t,d,n,i,e.info,o,s),a=!0)}return a}return!1}function I(t,e,n,i,o,s,a,l){let d=!1,c=e[a?(0,r.Jz)(i):i];if(c)for(let e,r=0,u=c.length;r<u&&(e=c[r]);r++)e.info&&e.info.lastRun===n||a&&!E(i,e.trigger)||(e.info&&(e.info.lastRun=n),e.fn(t,i,o,s,e.info,a,l),d=!0);return d}function E(t,e){if(e){let n=e.name;return n==t||!(!e.structured||!(0,r.jg)(n,t))||!(!e.wildcard||!(0,r.SG)(n,t))}return!0}function T(t,e,n,i,o){let r="string"==typeof o.method?t[o.method]:o.method,s=o.property;r?r.call(t,t.__data[s],i[s]):o.dynamicFn||console.warn("observer method `"+o.method+"` not defined")}function M(t,e,n){let i=(0,r.Jz)(e);if(i!==e){return B(t,(0,s.n)(i)+"-changed",n[e],e),!0}return!1}function B(t,e,n,o){let r={value:n,queueProperty:!0};o&&(r.path=o),(0,i.r)(t).dispatchEvent(new CustomEvent(e,{detail:r}))}function P(t,e,n,i,o,s){let a=(s?(0,r.Jz)(e):e)!=e?e:null,l=a?(0,r.U2)(t,a):t.__data[e];a&&void 0===l&&(l=n[e]),B(t,o.eventName,l,a)}function D(t,e,n,i,o){let r=t.__data[e];v.v1&&(r=(0,v.v1)(r,o.attrName,"attribute",t)),t._propertyToAttribute(e,o.attrName,r)}function A(t,e,n,i){let o=t[x.COMPUTE];if(o)if(v.ls){_++;const r=function(t){let e=t.constructor.__orderedComputedDeps;if(!e){e=new Map;const n=t[x.COMPUTE];let i,{counts:o,ready:r,total:s}=function(t){const e=t[C],n={},i=t[x.COMPUTE],o=[];let r=0;for(let t in e){const i=e[t];r+=n[t]=i.args.filter((t=>!t.literal)).length+(i.dynamicFn?1:0)}for(let t in i)e[t]||o.push(t);return{counts:n,ready:o,total:r}}(t);for(;i=r.shift();){e.set(i,e.size);const t=n[i];t&&t.forEach((t=>{const e=t.info.methodInfo;--s,0==--o[e]&&r.push(e)}))}if(0!==s){const e=t;console.warn("Computed graph for ".concat(e.localName," incomplete; circular?"))}t.constructor.__orderedComputedDeps=e}return e}(t),s=[];for(let t in e)F(t,o,s,r,i);let a;for(;a=s.shift();)q(t,"",e,n,a)&&F(a.methodInfo,o,s,r,i);Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),t.__dataPending=null}else{let r=e;for(;O(t,o,r,n,i);)Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),r=t.__dataPending,t.__dataPending=null}}const L=(t,e,n)=>{let i=0,o=e.length-1,r=-1;for(;i<=o;){const s=i+o>>1,a=n.get(e[s].methodInfo)-n.get(t.methodInfo);if(a<0)i=s+1;else{if(!(a>0)){r=s;break}o=s-1}}r<0&&(r=o+1),e.splice(r,0,t)},F=(t,e,n,i,o)=>{const s=e[o?(0,r.Jz)(t):t];if(s)for(let e=0;e<s.length;e++){const r=s[e];r.info.lastRun===_||o&&!E(t,r.trigger)||(r.info.lastRun=_,L(r.info,n,i))}};function q(t,e,n,i,o){let r=V(t,e,n,i,o);if(r===w)return!1;let s=o.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,r,!0):(t[s]=r,!1)}function N(t,e,n,i,o,r,a){n.bindings=n.bindings||[];let l={kind:i,target:o,parts:r,literal:a,isCompound:1!==r.length};if(n.bindings.push(l),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(l)){let{event:t,negate:e}=l.parts[0];l.listenerEvent=t||(0,s.n)(o)+"-changed",l.listenerNegate=e}let d=e.nodeInfoList.length;for(let n=0;n<l.parts.length;n++){let i=l.parts[n];i.compoundIndex=n,R(t,e,l,i,d)}}function R(t,e,n,i,o){if(!i.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let r=i.dependencies,s={index:o,binding:n,part:i,evaluator:t};for(let n=0;n<r.length;n++){let i=r[n];"string"==typeof i&&(i=X(i),i.wildcard=!0),t._addTemplatePropertyEffect(e,i.rootProperty,{fn:j,info:s,trigger:i})}}}function j(t,e,n,i,o,s,a){let l=a[o.index],d=o.binding,c=o.part;if(s&&c.source&&e.length>c.source.length&&"property"==d.kind&&!d.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[d.target]){let i=n[e];e=(0,r.Iu)(c.source,d.target,e),l._setPendingPropertyOrPath(e,i,!1,!0)&&t._enqueueClient(l)}else{let r=o.evaluator._evaluateBinding(t,c,e,n,i,s);r!==w&&function(t,e,n,i,o){o=function(t,e,n,i){if(n.isCompound){let o=t.__dataCompoundStorage[n.target];o[i.compoundIndex]=e,e=o.join("")}"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=null==e?"":e));return e}(e,o,n,i),v.v1&&(o=(0,v.v1)(o,n.target,n.kind,e));if("attribute"==n.kind)t._valueToNodeAttribute(e,o,n.target);else{let i=n.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[i]?e[x.READ_ONLY]&&e[x.READ_ONLY][i]||e._setPendingProperty(i,o)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,i,o)}}(t,l,d,c,r)}}function z(t,e){if(e.isCompound){let n=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),o=e.parts,r=new Array(o.length);for(let t=0;t<o.length;t++)r[t]=o[t].literal;let s=e.target;n[s]=r,e.literal&&"property"==e.kind&&("className"===s&&(t=(0,i.r)(t)),t[s]=e.literal)}}function H(t,e,n){if(n.listenerEvent){let i=n.parts[0];t.addEventListener(n.listenerEvent,(function(t){!function(t,e,n,i,o){let s,a=t.detail,l=a&&a.path;l?(i=(0,r.Iu)(n,i,l),s=a&&a.value):s=t.currentTarget[n],s=o?!s:s,e[x.READ_ONLY]&&e[x.READ_ONLY][i]||!e._setPendingPropertyOrPath(i,s,!0,Boolean(l))||a&&a.queueProperty||e._invalidateProperties()}(t,e,n.target,i.source,i.negate)}))}}function U(t,e,n,i,o,r){r=e.static||r&&("object"!=typeof r||r[e.methodName]);let s={methodName:e.methodName,args:e.args,methodInfo:o,dynamicFn:r};for(let o,r=0;r<e.args.length&&(o=e.args[r]);r++)o.literal||t._addPropertyEffect(o.rootProperty,n,{fn:i,info:s,trigger:o});return r&&t._addPropertyEffect(e.methodName,n,{fn:i,info:s}),s}function V(t,e,n,i,o){let r=t._methodHost||t,s=r[o.methodName];if(s){let i=t._marshalArgs(o.args,e,n);return i===w?w:s.apply(r,i)}o.dynamicFn||console.warn("method `"+o.methodName+"` not defined")}const W=[],Q="(?:[a-zA-Z_$][\\w.:$\\-*]*)",G="(?:("+Q+"|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)",$=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?"+("("+Q+"\\s*"+("(?:\\(\\s*(?:"+("(?:"+G+"(?:,\\s*"+G+")*)")+"?)\\)\\s*)")+"?)")+"(?:]]|}})","g");function K(t){let e="";for(let n=0;n<t.length;n++){e+=t[n].literal||""}return e}function Y(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:W};if(e[2].trim()){return function(t,e){return e.args=t.map((function(t){let n=X(t);return n.literal||(e.static=!1),n}),this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function X(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:e,value:"",literal:!1},i=e[0];switch("-"===i&&(i=e[1]),i>="0"&&i<="9"&&(i="#"),i){case"'":case'"':n.value=e.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(e),n.literal=!0}return n.literal||(n.rootProperty=(0,r.Jz)(e),n.structured=(0,r.AZ)(e),n.structured&&(n.wildcard=".*"==e.slice(-2),n.wildcard&&(n.name=e.slice(0,-2)))),n}function J(t,e,n){let i=(0,r.U2)(t,n);return void 0===i&&(i=e[n]),i}function Z(t,e,n,i){const o={indexSplices:i};v.HY&&!t._overrideLegacyUndefined&&(e.splices=o),t.notifyPath(n+".splices",o),t.notifyPath(n+".length",e.length),v.HY&&!t._overrideLegacyUndefined&&(o.indexSplices=[])}function tt(t,e,n,i,o,r){Z(t,e,n,[{index:i,addedCount:o,removed:r,object:e,type:"splice"}])}const et=(0,o.o)((t=>{const e=y((0,a.Q)(t));return class extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return x}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(nt.length){let t=nt[nt.length-1];t._enqueueClient(this),this.__dataHost=t}}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[x.READ_ONLY];for(let n in t)e&&e[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=t[n])}_addPropertyEffect(t,e,n){this._createPropertyAccessor(t,e==x.READ_ONLY);let i=S(this,e,!0)[t];i||(i=this[e][t]=[]),i.push(n)}_removePropertyEffect(t,e,n){let i=S(this,e,!0)[t],o=i.indexOf(n);o>=0&&i.splice(o,1)}_hasPropertyEffect(t,e){let n=this[e];return Boolean(n&&n[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,x.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,x.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,x.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,x.COMPUTE)}_setPendingPropertyOrPath(t,e,n,i){if(i||(0,r.Jz)(Array.isArray(t)?t[0]:t)!==t){if(!i){let n=(0,r.U2)(this,t);if(!(t=(0,r.t8)(this,t,e))||!super._shouldPropertyChange(t,e,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,n))return function(t,e,n){let i=t.__dataLinkedPaths;if(i){let o;for(let s in i){let a=i[s];(0,r.SG)(s,e)?(o=(0,r.Iu)(s,a,e),t._setPendingPropertyOrPath(o,n,!0,!0)):(0,r.SG)(a,e)&&(o=(0,r.Iu)(a,s,e),t._setPendingPropertyOrPath(o,n,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,n);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,n){n===t[e]&&"object"!=typeof n||("className"===e&&(t=(0,i.r)(t)),t[e]=n)}_setPendingProperty(t,e,n){let i=this.__dataHasPaths&&(0,r.AZ)(t),o=i?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,o[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),i?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(i||this[x.NOTIFY]&&this[x.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=n),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let n=t[e];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let n in t)!e&&this[x.READ_ONLY]&&this[x.READ_ONLY][n]||this._setPendingPropertyOrPath(n,t[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,n){let i,o=this.__dataHasPaths;this.__dataHasPaths=!1,A(this,e,n,o),i=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(e,n,o),this._flushClients(),O(this,this[x.REFLECT],e,n,o),O(this,this[x.OBSERVE],e,n,o),i&&function(t,e,n,i,o){let r,s,a=t[x.NOTIFY],l=_++;for(let s in e)e[s]&&(a&&I(t,a,l,s,n,i,o)||o&&M(t,s,n))&&(r=!0);r&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,i,e,n,o),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,n){this[x.PROPAGATE]&&O(this,this[x.PROPAGATE],t,e,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,t,e,n)}_runEffectsForTemplate(t,e,n,i){const o=(e,i)=>{O(this,t.propertyEffects,e,n,i,t.nodeList);for(let o=t.firstChild;o;o=o.nextSibling)this._runEffectsForTemplate(o,e,n,i)};t.runEffects?t.runEffects(o,e,i):o(e,i)}linkPaths(t,e){t=(0,r.Fv)(t),e=(0,r.Fv)(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=(0,r.Fv)(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let n={path:""};Z(this,(0,r.U2)(this,t,n),n.path,e)}get(t,e){return(0,r.U2)(e||this,t)}set(t,e,n){n?(0,r.t8)(n,t,e):this[x.READ_ONLY]&&this[x.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t){let e={path:""},n=(0,r.U2)(this,t,e),i=n.length;for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];let l=n.push(...s);return s.length&&tt(this,n,e.path,i,s.length,[]),l}pop(t){let e={path:""},n=(0,r.U2)(this,t,e),i=Boolean(n.length),o=n.pop();return i&&tt(this,n,e.path,n.length,0,[o]),o}splice(t,e,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];let a,l={path:""},d=(0,r.U2)(this,t,l);return e<0?e=d.length-Math.floor(-e):e&&(e=Math.floor(e)),a=2===arguments.length?d.splice(e):d.splice(e,n,...o),(o.length||a.length)&&tt(this,d,l.path,e,o.length,a),a}shift(t){let e={path:""},n=(0,r.U2)(this,t,e),i=Boolean(n.length),o=n.shift();return i&&tt(this,n,e.path,0,0,[o]),o}unshift(t){let e={path:""},n=(0,r.U2)(this,t,e);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];let a=n.unshift(...o);return o.length&&tt(this,n,e.path,0,o.length,[]),a}notifyPath(t,e){let n;if(1==arguments.length){let i={path:""};e=(0,r.U2)(this,t,i),n=i.path}else n=Array.isArray(t)?(0,r.Fv)(t):t;this._setPendingPropertyOrPath(n,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){var n;this._addPropertyEffect(t,x.READ_ONLY),e&&(this["_set"+(n=t,n[0].toUpperCase()+n.substring(1))]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,n){let i={property:t,method:e,dynamicFn:Boolean(n)};this._addPropertyEffect(t,x.OBSERVE,{fn:T,info:i,trigger:{name:t}}),n&&this._addPropertyEffect(e,x.OBSERVE,{fn:T,info:i,trigger:{name:e}})}_createMethodObserver(t,e){let n=Y(t);if(!n)throw new Error("Malformed observer expression '"+t+"'");U(this,n,x.OBSERVE,V,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,x.NOTIFY,{fn:P,info:{eventName:(0,s.n)(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,x.REFLECT,{fn:D,info:{attrName:e}})}_createComputedProperty(t,e,n){let i=Y(e);if(!i)throw new Error("Malformed computed expression '"+e+"'");const o=U(this,i,x.COMPUTE,q,t,n);S(this,C)[t]=o}_marshalArgs(t,e,n){const i=this.__data,o=[];for(let s=0,a=t.length;s<a;s++){let{name:a,structured:l,wildcard:d,value:c,literal:u}=t[s];if(!u)if(d){const t=(0,r.SG)(a,e),o=J(i,n,t?e:a);c={path:t?e:a,value:o,base:t?(0,r.U2)(i,a):o}}else c=l?J(i,n,a):i[a];if(v.HY&&!this._overrideLegacyUndefined&&void 0===c&&t.length>1)return w;o[s]=c}return o}static addPropertyEffect(t,e,n){this.prototype._addPropertyEffect(t,e,n)}static createPropertyObserver(t,e,n){this.prototype._createPropertyObserver(t,e,n)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,n){this.prototype._createComputedProperty(t,e,n)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let n=this.constructor._parseTemplate(t),i=this.__preBoundTemplateInfo==n;if(!i)for(let t in n.propertyEffects)this._createPropertyAccessor(t);if(e)if(n=Object.create(n),n.wasPreBound=i,this.__templateInfo){const e=t._parentTemplateInfo||this.__templateInfo,i=e.lastChild;n.parent=e,e.lastChild=n,n.previousSibling=i,i?i.nextSibling=n:e.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}static _addTemplatePropertyEffect(t,e,n){(t.hostProps=t.hostProps||{})[e]=!0;let i=t.propertyEffects=t.propertyEffects||{};(i[e]=i[e]||[]).push(n)}_stampTemplate(t,e){e=e||this._bindTemplate(t,!0),nt.push(this);let n=super._stampTemplate(t,e);if(nt.pop(),e.nodeList=n.nodeList,!e.wasPreBound){let t=e.childNodes=[];for(let e=n.firstChild;e;e=e.nextSibling)t.push(e)}return n.templateInfo=e,function(t,e){let{nodeList:n,nodeInfoList:i}=e;if(i.length)for(let e=0;e<i.length;e++){let o=i[e],r=n[e],s=o.bindings;if(s)for(let e=0;e<s.length;e++){let n=s[e];z(r,n),H(r,t,n)}r.__dataHost=t}}(this,e),this.__dataClientsReady&&(this._runEffectsForTemplate(e,this.__data,null,!1),this._flushClients()),n}_removeBoundDom(t){const e=t.templateInfo,{previousSibling:n,nextSibling:o,parent:r}=e;n?n.nextSibling=o:r&&(r.firstChild=o),o?o.previousSibling=n:r&&(r.lastChild=n),e.nextSibling=e.previousSibling=null;let s=e.childNodes;for(let t=0;t<s.length;t++){let e=s[t];(0,i.r)((0,i.r)(e).parentNode).removeChild(e)}}static _parseTemplateNode(t,n,i){let o=e._parseTemplateNode.call(this,t,n,i);if(t.nodeType===Node.TEXT_NODE){let e=this._parseBindings(t.textContent,n);e&&(t.textContent=K(e)||" ",N(this,n,i,"text","textContent",e),o=!0)}return o}static _parseTemplateNodeAttribute(t,n,i,o,r){let a=this._parseBindings(r,n);if(a){let e=o,r="property";k.test(o)?r="attribute":"$"==o[o.length-1]&&(o=o.slice(0,-1),r="attribute");let l=K(a);return l&&"attribute"==r&&("class"==o&&t.hasAttribute("class")&&(l+=" "+t.getAttribute(o)),t.setAttribute(o,l)),"attribute"==r&&"disable-upgrade$"==e&&t.setAttribute(o,""),"input"===t.localName&&"value"===e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===r&&(o=(0,s.z)(o)),N(this,n,i,r,o,a,l),!0}return e._parseTemplateNodeAttribute.call(this,t,n,i,o,r)}static _parseTemplateNestedTemplate(t,n,i){let o=e._parseTemplateNestedTemplate.call(this,t,n,i);const r=t.parentNode,s=i.templateInfo,a="dom-if"===r.localName,l="dom-repeat"===r.localName;v.gx&&(a||l)&&(r.removeChild(t),(i=i.parentInfo).templateInfo=s,i.noted=!0,o=!1);let d=s.hostProps;if(v.ew&&a)d&&(n.hostProps=Object.assign(n.hostProps||{},d),v.gx||(i.parentInfo.noted=!0));else{let t="{";for(let e in d){N(this,n,i,"property","_host_"+e,[{mode:t,source:e,dependencies:[e],hostProp:!0}])}}return o}static _parseBindings(t,e){let n,i=[],o=0;for(;null!==(n=$.exec(t));){n.index>o&&i.push({literal:t.slice(o,n.index)});let r=n[1][0],s=Boolean(n[2]),a=n[3].trim(),l=!1,d="",c=-1;"{"==r&&(c=a.indexOf("::"))>0&&(d=a.substring(c+2),a=a.substring(0,c),l=!0);let u=Y(a),h=[];if(u){let{args:t,methodName:n}=u;for(let e=0;e<t.length;e++){let n=t[e];n.literal||h.push(n)}let i=e.dynamicFns;(i&&i[n]||u.static)&&(h.push(n),u.dynamicFn=!0)}else h.push(a);i.push({source:a,mode:r,negate:s,customEvent:l,signature:u,dependencies:h,event:d}),o=$.lastIndex}if(o&&o<t.length){let e=t.substring(o);e&&i.push({literal:e})}return i.length?i:null}static _evaluateBinding(t,e,n,i,o,s){let a;return a=e.signature?V(t,n,i,0,e.signature):n!=e.source?(0,r.U2)(t,e.source):s&&(0,r.AZ)(n)?(0,r.U2)(t,n):t.__data[n],e.negate&&(a=!a),a}}})),nt=[]},4745:(t,e,n)=>{"use strict";n.d(e,{c:()=>d});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function i(t,e,n){return{index:t,removed:e,addedCount:n}}const o=0,r=1,s=2,a=3;function l(t,e,n,l,d,u){let h,p=0,f=0,b=Math.min(n-e,u-d);if(0==e&&0==d&&(p=function(t,e,n){for(let i=0;i<n;i++)if(!c(t[i],e[i]))return i;return n}(t,l,b)),n==t.length&&u==l.length&&(f=function(t,e,n){let i=t.length,o=e.length,r=0;for(;r<n&&c(t[--i],e[--o]);)r++;return r}(t,l,b-p)),d+=p,u-=f,(n-=f)-(e+=p)==0&&u-d==0)return[];if(e==n){for(h=i(e,[],0);d<u;)h.removed.push(l[d++]);return[h]}if(d==u)return[i(e,[],n-e)];let g=function(t){let e=t.length-1,n=t[0].length-1,i=t[e][n],l=[];for(;e>0||n>0;){if(0==e){l.push(s),n--;continue}if(0==n){l.push(a),e--;continue}let d,c=t[e-1][n-1],u=t[e-1][n],h=t[e][n-1];d=u<h?u<c?u:c:h<c?h:c,d==c?(c==i?l.push(o):(l.push(r),i=c),e--,n--):d==u?(l.push(a),e--,i=u):(l.push(s),n--,i=h)}return l.reverse(),l}(function(t,e,n,i,o,r){let s=r-o+1,a=n-e+1,l=new Array(s);for(let t=0;t<s;t++)l[t]=new Array(a),l[t][0]=t;for(let t=0;t<a;t++)l[0][t]=t;for(let n=1;n<s;n++)for(let r=1;r<a;r++)if(c(t[e+r-1],i[o+n-1]))l[n][r]=l[n-1][r-1];else{let t=l[n-1][r]+1,e=l[n][r-1]+1;l[n][r]=t<e?t:e}return l}(t,e,n,l,d,u));h=void 0;let m=[],y=e,v=d;for(let t=0;t<g.length;t++)switch(g[t]){case o:h&&(m.push(h),h=void 0),y++,v++;break;case r:h||(h=i(y,[],0)),h.addedCount++,y++,h.removed.push(l[v]),v++;break;case s:h||(h=i(y,[],0)),h.addedCount++,y++;break;case a:h||(h=i(y,[],0)),h.removed.push(l[v]),v++}return h&&m.push(h),m}function d(t,e){return l(t,0,t.length,e,0,e.length)}function c(t,e){return t===e}},6008:(t,e,n)=>{"use strict";n.d(e,{Wc:()=>d,YA:()=>h,rs:()=>c,t$:()=>u});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let i=0,o=0,r=[],s=0,a=!1,l=document.createTextNode("");new window.MutationObserver((function(){a=!1;const t=r.length;for(let e=0;e<t;e++){let t=r[e];if(t)try{t()}catch(t){setTimeout((()=>{throw t}))}}r.splice(0,t),o+=t})).observe(l,{characterData:!0});const d={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},c={run:t=>window.requestAnimationFrame(t),cancel(t){window.cancelAnimationFrame(t)}},u={run:t=>window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16),cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},h={run:t=>(a||(a=!0,l.textContent=s++),r.push(t),i++),cancel(t){const e=t-o;if(e>=0){if(!r[e])throw new Error("invalid async handle: "+t);r[e]=null}}}},5115:()=>{"use strict";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t,e){return t}},7134:(t,e,n)=>{"use strict";n.d(e,{n:()=>a,z:()=>s});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const i={},o=/-[a-z]/g,r=/([A-Z])/g;function s(t){return i[t]||(i[t]=t.indexOf("-")<0?t:t.replace(o,(t=>t[1].toUpperCase())))}function a(t){return i[t]||(i[t]=t.replace(r,"-$1").toLowerCase())}},8373:(t,e,n)=>{"use strict";n.d(e,{Ex:()=>r,Jk:()=>s,dx:()=>i});n(5115),n(4473),n(6008);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class i{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run((()=>{this._timer=null,o.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),o.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(t,e,n){return t instanceof i?t._cancelAsync():t=new i,t.setConfig(e,n),t}}let o=new Set;const r=function(t){o.add(t)},s=function(){const t=Boolean(o.size);return o.forEach((t=>{try{t.flush()}catch(t){setTimeout((()=>{throw t}))}})),t}},834:(t,e,n)=>{"use strict";n.d(e,{o:()=>a});n(5115);var i=n(4745),o=n(6008),r=n(2019);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function s(t){return"slot"===t.localName}let a=class{static getFlattenedNodes(t){const e=(0,r.r)(t);return s(t)?e.assignedNodes({flatten:!0}):Array.from(e.childNodes).map((t=>s(t)?(0,r.r)(t).assignedNodes({flatten:!0}):[t])).reduce(((t,e)=>t.concat(e)),[])}constructor(t,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=t,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){s(this._target)?this._listenSlots([this._target]):(0,r.r)(this._target).children&&(this._listenSlots((0,r.r)(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(t=>{this._processMutations(t)})):(this._nativeChildrenObserver=new MutationObserver((t=>{this._processMutations(t)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){s(this._target)?this._unlistenSlots([this._target]):(0,r.r)(this._target).children&&(this._unlistenSlots((0,r.r)(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,o.YA.run((()=>this.flush())))}_processMutations(t){this._processSlotMutations(t),this.flush()}_processSlotMutations(t){if(t)for(let e=0;e<t.length;e++){let n=t[e];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let t={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),n=(0,i.c)(e,this._effectiveNodes);for(let e,i=0;i<n.length&&(e=n[i]);i++)for(let n,i=0;i<e.removed.length&&(n=e.removed[i]);i++)t.removedNodes.push(n);for(let i,o=0;o<n.length&&(i=n[o]);o++)for(let n=i.index;n<i.index+i.addedCount;n++)t.addedNodes.push(e[n]);this._effectiveNodes=e;let o=!1;return(t.addedNodes.length||t.removedNodes.length)&&(o=!0,this.callback.call(this._target,t)),o}_listenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];s(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];s(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}}},8544:(t,e,n)=>{"use strict";n.d(e,{E:()=>i.Ex,y:()=>o});n(5115);var i=n(8373);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o=function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=(0,i.Jk)()}while(t||e)}},8042:(t,e,n)=>{"use strict";n.d(e,{BP:()=>F,NH:()=>D,nJ:()=>U,ys:()=>A,z2:()=>L});n(5115);var i=n(6008),o=n(8373),r=n(7948),s=n(2019);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a="string"==typeof document.head.style.touchAction,l="__polymerGestures",d="__polymerGesturesHandled",c="__polymerGesturesTouchAction",u=["mousedown","mousemove","mouseup","click"],h=[0,1,4,2],p=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function f(t){return u.indexOf(t)>-1}let b=!1;function g(t){if(!f(t)&&"touchend"!==t)return a&&b&&r.f6?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){b=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let m=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const y=[],v={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},_={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function w(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];try{let n=t.getRootNode();if(t.id){let i=n.querySelectorAll("label[for = '".concat(t.id,"']"));for(let t=0;t<i.length;t++)e.push(i[t])}}catch(t){}}return e}let x=function(t){let e=t.sourceCapabilities;var n;if((!e||e.firesTouchEvents)&&(t[d]={skip:!0},"click"===t.type)){let e=!1,i=E(t);for(let t=0;t<i.length;t++){if(i[t].nodeType===Node.ELEMENT_NODE)if("label"===i[t].localName)y.push(i[t]);else if(n=i[t],v[n.localName]){let n=w(i[t]);for(let t=0;t<n.length;t++)e=e||y.indexOf(n[t])>-1}if(i[t]===S.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function C(t){let e=m?["click"]:u;for(let n,i=0;i<e.length;i++)n=e[i],t?(y.length=0,document.addEventListener(n,x,!0)):document.removeEventListener(n,x,!0)}function k(t){let e=t.type;if(!f(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!p&&(e=h[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let S={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function O(t,e,n){t.movefn=e,t.upfn=n,document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}function I(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}r.z2&&document.addEventListener("touchend",(function(t){if(!r.z2)return;S.mouse.mouseIgnoreJob||C(!0),S.mouse.target=E(t)[0],S.mouse.mouseIgnoreJob=o.dx.debounce(S.mouse.mouseIgnoreJob,i.Wc.after(2500),(function(){C(),S.mouse.target=null,S.mouse.mouseIgnoreJob=null}))}),!!b&&{passive:!0});const E=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],T={},M=[];function B(t){const e=E(t);return e.length>0?e[0]:t.target}function P(t){let e,n=t.type,i=t.currentTarget[l];if(!i)return;let o=i[n];if(o){if(!t[d]&&(t[d]={},"touch"===n.slice(0,5))){let e=t.changedTouches[0];if("touchstart"===n&&1===t.touches.length&&(S.touch.id=e.identifier),S.touch.id!==e.identifier)return;a||"touchstart"!==n&&"touchmove"!==n||function(t){let e=t.changedTouches[0],n=t.type;if("touchstart"===n)S.touch.x=e.clientX,S.touch.y=e.clientY,S.touch.scrollDecided=!1;else if("touchmove"===n){if(S.touch.scrollDecided)return;S.touch.scrollDecided=!0;let n=function(t){let e="auto",n=E(t);for(let t,i=0;i<n.length;i++)if(t=n[i],t[c]){e=t[c];break}return e}(t),i=!1,o=Math.abs(S.touch.x-e.clientX),r=Math.abs(S.touch.y-e.clientY);t.cancelable&&("none"===n?i=!0:"pan-x"===n?i=r>o:"pan-y"===n&&(i=o>r)),i?t.preventDefault():N("track")}}(t)}if(e=t[d],!e.skip){for(let n,i=0;i<M.length;i++)n=M[i],o[n.name]&&!e[n.name]&&n.flow&&n.flow.start.indexOf(t.type)>-1&&n.reset&&n.reset();for(let i,r=0;r<M.length;r++)i=M[r],o[i.name]&&!e[i.name]&&(e[i.name]=!0,i[n](t))}}}function D(t,e,n){return!!T[e]&&(function(t,e,n){let i=T[e],o=i.deps,r=i.name,s=t[l];s||(t[l]=s={});for(let e,n,i=0;i<o.length;i++)e=o[i],m&&f(e)&&"click"!==e||(n=s[e],n||(s[e]=n={_count:0}),0===n._count&&t.addEventListener(e,P,g(e)),n[r]=(n[r]||0)+1,n._count=(n._count||0)+1);t.addEventListener(e,n),i.touchAction&&F(t,i.touchAction)}(t,e,n),!0)}function A(t,e,n){return!!T[e]&&(function(t,e,n){let i=T[e],o=i.deps,r=i.name,s=t[l];if(s)for(let e,n,i=0;i<o.length;i++)e=o[i],n=s[e],n&&n[r]&&(n[r]=(n[r]||1)-1,n._count=(n._count||1)-1,0===n._count&&t.removeEventListener(e,P,g(e)));t.removeEventListener(e,n)}(t,e,n),!0)}function L(t){M.push(t);for(let e=0;e<t.emits.length;e++)T[t.emits[e]]=t}function F(t,e){a&&t instanceof HTMLElement&&i.YA.run((()=>{t.style.touchAction=e})),t[c]=e}function q(t,e,n){let i=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(i.detail=n,(0,s.r)(t).dispatchEvent(i),i.defaultPrevented){let t=n.preventer||n.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function N(t){let e=function(t){for(let e,n=0;n<M.length;n++){e=M[n];for(let n,i=0;i<e.emits.length;i++)if(n=e.emits[i],n===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function R(t,e,n,i){e&&q(e,t,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:i,prevent:function(t){return N(t)}})}function j(t,e,n){if(t.prevent)return!1;if(t.started)return!0;let i=Math.abs(t.x-e),o=Math.abs(t.y-n);return i>=5||o>=5}function z(t,e,n){if(!e)return;let i,o=t.moves[t.moves.length-2],r=t.moves[t.moves.length-1],s=r.x-t.x,a=r.y-t.y,l=0;o&&(i=r.x-o.x,l=r.y-o.y),q(e,"track",{state:t.state,x:n.clientX,y:n.clientY,dx:s,dy:a,ddx:i,ddy:l,sourceEvent:n,hover:function(){return function(t,e){let n=document.elementFromPoint(t,e),i=n;for(;i&&i.shadowRoot&&!window.ShadyDOM;){let o=i;if(i=i.shadowRoot.elementFromPoint(t,e),o===i)break;i&&(n=i)}return n}(n.clientX,n.clientY)}})}function H(t,e,n){let i=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y),r=B(n||e);!r||_[r.localName]&&r.hasAttribute("disabled")||(isNaN(i)||isNaN(o)||i<=25&&o<=25||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=B(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let n=e.getBoundingClientRect(),i=t.pageX,o=t.pageY;return!(i>=n.left&&i<=n.right&&o>=n.top&&o<=n.bottom)}return!1}(e))&&(t.prevent||q(r,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:n}))}L({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){I(this.info)},mousedown:function(t){if(!k(t))return;let e=B(t),n=this;O(this.info,(function(t){k(t)||(R("up",e,t),I(n.info))}),(function(t){k(t)&&R("up",e,t),I(n.info)})),R("down",e,t)},touchstart:function(t){R("down",B(t),t.changedTouches[0],t)},touchend:function(t){R("up",B(t),t.changedTouches[0],t)}}),L({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,I(this.info)},mousedown:function(t){if(!k(t))return;let e=B(t),n=this,i=function(t){let i=t.clientX,o=t.clientY;j(n.info,i,o)&&(n.info.state=n.info.started?"mouseup"===t.type?"end":"track":"start","start"===n.info.state&&N("tap"),n.info.addMove({x:i,y:o}),k(t)||(n.info.state="end",I(n.info)),e&&z(n.info,e,t),n.info.started=!0)};O(this.info,i,(function(t){n.info.started&&i(t),I(n.info)})),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=B(t),n=t.changedTouches[0],i=n.clientX,o=n.clientY;j(this.info,i,o)&&("start"===this.info.state&&N("tap"),this.info.addMove({x:i,y:o}),z(this.info,e,n),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=B(t),n=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),z(this.info,e,n))}}),L({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){k(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){k(t)&&H(this.info,t)},touchstart:function(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){H(this.info,t.changedTouches[0],t)}});const U=B},138:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});var i=n(7948);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o=!1;function r(){if(i.nL&&!i.my){if(!o){o=!0;const t=document.createElement("style");t.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(t)}return!0}return!1}},1510:(t,e,n)=>{"use strict";n.d(e,{d:()=>s,f:()=>l});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const i=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:t=>t});class o{constructor(t,e){a(t,e);const n=e.reduce(((e,n,i)=>e+r(n)+t[i+1]),t[0]);this.value=n.toString()}toString(){return this.value}}function r(t){if(t instanceof o)return t.value;throw new Error("non-literal value passed to Polymer's htmlLiteral function: ".concat(t))}const s=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];a(t,n);const l=document.createElement("template");let d=n.reduce(((e,n,i)=>e+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof o)return r(t);throw new Error("non-template value passed to Polymer's html function: ".concat(t))}(n)+t[i+1]),t[0]);return i&&(d=i.createHTML(d)),l.innerHTML=d,l},a=(t,e)=>{if(!Array.isArray(t)||!Array.isArray(t.raw)||e.length!==t.length-1)throw new TypeError("Invalid call to the html template tag")},l=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new o(t,n)}},4473:(t,e,n)=>{"use strict";n.d(e,{o:()=>r});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let i=0;function o(){}o.prototype.__mixinApplications,o.prototype.__mixinSet;const r=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let n=i++;return function(i){let o=i.__mixinSet;if(o&&o[n])return i;let r=e,s=r.get(i);if(!s){s=t(i),r.set(i,s);let e=Object.create(s.__mixinSet||o||null);e[n]=!0,s.__mixinSet=e}return s}}},1871:(t,e,n)=>{"use strict";n.d(e,{AZ:()=>i,Fv:()=>d,Iu:()=>a,Jz:()=>o,SG:()=>s,U2:()=>u,jg:()=>r,t8:()=>h,wB:()=>l});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function i(t){return t.indexOf(".")>=0}function o(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function r(t,e){return 0===t.indexOf(e+".")}function s(t,e){return 0===e.indexOf(t+".")}function a(t,e,n){return e+n.slice(t.length)}function l(t,e){return t===e||r(t,e)||s(t,e)}function d(t){if(Array.isArray(t)){let e=[];for(let n=0;n<t.length;n++){let i=t[n].toString().split(".");for(let t=0;t<i.length;t++)e.push(i[t])}return e.join(".")}return t}function c(t){return Array.isArray(t)?d(t).split("."):t.toString().split(".")}function u(t,e,n){let i=t,o=c(e);for(let t=0;t<o.length;t++){if(!i)return;i=i[o[t]]}return n&&(n.path=o.join(".")),i}function h(t,e,n){let i=t,o=c(e),r=o[o.length-1];if(o.length>1){for(let t=0;t<o.length-1;t++){if(i=i[o[t]],!i)return}i[r]=n}else i[e]=n;return o.join(".")}},707:(t,e,n)=>{"use strict";n.d(e,{T8:()=>d});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let i=!1,o=[],r=[];function s(){i=!0,requestAnimationFrame((function(){i=!1,a(o),setTimeout((function(){!function(t){for(let e=0,n=t.length;e<n;e++)l(t.shift())}(r)}))}))}function a(t){for(;t.length;)l(t.shift())}function l(t){const e=t[0],n=t[1],i=t[2];try{n.apply(e,i)}catch(t){setTimeout((()=>{throw t}))}}function d(t,e,n){i||s(),r.push([t,e,n])}},2795:(t,e,n)=>{"use strict";n.d(e,{Kk:()=>a,Rq:()=>l,iY:()=>d});n(5115);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let i,o,r=/(url\()([^)]*)(\))/g,s=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function a(t,e){if(t&&s.test(t))return t;if("//"===t)return t;if(void 0===i){i=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",i="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),i)try{return new URL(t,e).href}catch(e){return t}return o||(o=document.implementation.createHTMLDocument("temp"),o.base=o.createElement("base"),o.head.appendChild(o.base),o.anchor=o.createElement("a"),o.body.appendChild(o.anchor)),o.base.href=e,o.anchor.href=t,o.anchor.href||t}function l(t,e){return t.replace(r,(function(t,n,i,o){return n+"'"+a(i.replace(/["']/g,""),e)+"'"+o}))}function d(t){return t.substring(0,t.lastIndexOf("/")+1)}},7948:(t,e,n)=>{"use strict";n.d(e,{FV:()=>r,HY:()=>f,Hr:()=>p,XN:()=>d,ZN:()=>c,a2:()=>h,dJ:()=>v,ew:()=>y,f6:()=>l,gx:()=>m,j8:()=>_,ls:()=>b,md:()=>w,my:()=>o,nL:()=>u,sM:()=>s,v1:()=>a,z2:()=>g});n(5115);var i=n(2795);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o=!window.ShadyDOM||!window.ShadyDOM.inUse,r=(Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback,o&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[t],e.shadowRoot.adoptedStyleSheets[0]===t}catch(t){return!1}})());let s=window.Polymer&&window.Polymer.rootPath||(0,i.iY)(document.baseURI||window.location.href);let a=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let l=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1;let d=window.Polymer&&window.Polymer.strictTemplatePolicy||!1;let c=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1;let u=window.Polymer&&window.Polymer.legacyOptimizations||!1;let h=window.Polymer&&window.Polymer.legacyWarnings||!1;let p=window.Polymer&&window.Polymer.syncInitialRender||!1;let f=window.Polymer&&window.Polymer.legacyUndefined||!1;let b=window.Polymer&&window.Polymer.orderedComputed||!1;let g=!0;let m=window.Polymer&&window.Polymer.removeNestedTemplates||!1;let y=window.Polymer&&window.Polymer.fastDomIf||!1;let v=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1;let _=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1;let w=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1},346:(t,e,n)=>{"use strict";n.d(e,{jv:()=>b,lx:()=>p,uT:()=>h});var i=n(4580),o=n(2795);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r="link[rel=import][type~=css]",s="include",a="shady-unscoped";function l(t){return i.t.import(t)}function d(t){let e=t.body?t.body:t;const n=(0,o.Rq)(e.textContent,t.baseURI),i=document.createElement("style");return i.textContent=n,i}function c(t){const e=t.trim().split(/\s+/),n=[];for(let t=0;t<e.length;t++)n.push(...u(e[t]));return n}function u(t){const e=l(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...f(e));const n=e.querySelector("template");n&&t.push(...h(n,e.assetpath)),e._styles=t}return e._styles}function h(t,e){if(!t._styles){const n=[],i=t.content.querySelectorAll("style");for(let t=0;t<i.length;t++){let r=i[t],a=r.getAttribute(s);a&&n.push(...c(a).filter((function(t,e,n){return n.indexOf(t)===e}))),e&&(r.textContent=(0,o.Rq)(r.textContent,e)),n.push(r)}t._styles=n}return t._styles}function p(t){let e=l(t);return e?f(e):[]}function f(t){const e=[],n=t.querySelectorAll(r);for(let t=0;t<n.length;t++){let i=n[t];if(i.import){const t=i.import,n=i.hasAttribute(a);if(n&&!t._unscopedStyle){const e=d(t);e.setAttribute(a,""),t._unscopedStyle=e}else t._style||(t._style=d(t));e.push(n?t._unscopedStyle:t._style)}}return e}function b(t){let e=t.trim().split(/\s+/),n="";for(let t=0;t<e.length;t++)n+=g(e[t]);return n}function g(t){let e=l(t);if(e&&void 0===e._cssText){let t=m(e),n=e.querySelector("template");n&&(t+=function(t,e){let n="";const i=h(t,e);for(let t=0;t<i.length;t++){let e=i[t];e.parentNode&&e.parentNode.removeChild(e),n+=e.textContent}return n}(n,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function m(t){let e="",n=f(t);for(let t=0;t<n.length;t++)e+=n[t].textContent;return e}},3120:(t,e,n)=>{"use strict";n.d(e,{Gd:()=>i,z2:()=>r});function i(){0}const o=[];function r(t){o.push(t)}},8842:(t,e,n)=>{"use strict";n.d(e,{GJ:()=>w,Uv:()=>_,aZ:()=>h});n(5115);var i=n(6788),o=n(6382),r=n(7948),s=n(2019);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a=null;function l(){return a}l.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:l,writable:!0}});const d=(0,i.q)(l),c=(0,o.E)(d);const u=(0,i.q)(class{});function h(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(Boolean(t)!=Boolean(i.__hideTemplateChildren__))if(i.nodeType===Node.TEXT_NODE)t?(i.__polymerTextContent__=i.textContent,i.textContent=""):i.textContent=i.__polymerTextContent__;else if("slot"===i.localName)if(t)i.__polymerReplaced__=document.createComment("hidden-slot"),(0,s.r)((0,s.r)(i).parentNode).replaceChild(i.__polymerReplaced__,i);else{const t=i.__polymerReplaced__;t&&(0,s.r)((0,s.r)(t).parentNode).replaceChild(i,t)}else i.style&&(t?(i.__polymerDisplay__=i.style.display,i.style.display="none"):i.style.display=i.__polymerDisplay__);i.__hideTemplateChildren__=t,i._showHideChildren&&i._showHideChildren(t)}}class p extends u{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=[];this.children=e;for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(t&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,(t=>{t.model=this,n(t)}));else{let i=this.__dataHost.__dataHost;i&&i._addEventListenerToNode(t,e,n)}}_showHideChildren(t){h(t,this.children)}_setUnmanagedPropertyToNode(t,e,n){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(t,e,n)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}p.prototype.__dataHost,p.prototype.__templatizeOptions,p.prototype._methodHost,p.prototype.__templatizeOwner,p.prototype.__hostProps;const f=(0,o.E)(p);function b(t){let e=t.__dataHost;return e&&e._methodHost||e}function g(t,e,n){let i=n.mutableData?f:p;_.mixin&&(i=_.mixin(i));let o=class extends i{};return o.prototype.__templatizeOptions=n,o.prototype._bindTemplate(t),function(t,e,n,i){let o=n.hostProps||{};for(let e in i.instanceProps){delete o[e];let n=i.notifyInstanceProp;n&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:v(e,n)})}if(i.forwardHostProp&&e.__dataHost)for(let e in o)n.hasHostProps||(n.hasHostProps=!0),t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,n){t.__dataHost._setPendingPropertyOrPath("_host_"+e,n[e],!0,!0)}})}(o,t,e,n),o}function m(t,e,n,i){let o=n.forwardHostProp;if(o&&e.hasHostProps){const u="template"==t.localName;let h=e.templatizeTemplateClass;if(!h){if(u){let t=n.mutableData?c:d;class i extends t{}h=e.templatizeTemplateClass=i}else{const n=t.constructor;class i extends n{}h=e.templatizeTemplateClass=i}let s=e.hostProps;for(let t in s)h.prototype._addPropertyEffect("_host_"+t,h.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:y(t,o)}),h.prototype._createNotifyingProperty("_host_"+t);r.a2&&i&&function(t,e,n){const i=n.constructor._properties,{propertyEffects:o}=t,{instanceProps:r}=e;for(let t in o)if(!(i[t]||r&&r[t])){const e=o[t];for(let n=0;n<e.length;n++){const{part:i}=e[n].info;if(!i.signature||!i.signature.static){console.warn("Property '".concat(t,"' used in template but not ")+"declared in 'properties'; attribute will not be observed.");break}}}}(e,n,i)}if(t.__dataProto&&Object.assign(t.__data,t.__dataProto),u)l=h,a=s=t,Object.setPrototypeOf(s,l.prototype),new l,a=null,t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties();else{Object.setPrototypeOf(t,h.prototype);const n=e.hostProps;for(let e in n)if(e="_host_"+e,e in t){const n=t[e];delete t[e],t.__data[e]=n}}}var s,l}function y(t,e){return function(t,n,i){e.call(t.__templatizeOwner,n.substring(6),i[n])}}function v(t,e){return function(t,n,i){e.call(t.__templatizeOwner,t,n,i[n])}}function _(t,e,n){if(r.XN&&!b(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let i=(e?e.constructor:p)._parseTemplate(t),o=i.templatizeInstanceClass;o||(o=g(t,i,n),i.templatizeInstanceClass=o);const s=b(t);m(t,i,n,s);let a=class extends o{};return a.prototype._methodHost=s,a.prototype.__dataHost=t,a.prototype.__templatizeOwner=e,a.prototype.__hostProps=i.hostProps,a}function w(t,e){let n;for(;e;)if(n=e.__dataHost?e:e.__templatizeInstance){if(n.__dataHost==t)return n;e=n.__dataHost}else e=(0,s.r)(e).parentNode;return null}},2019:(t,e,n)=>{"use strict";n.d(e,{r:()=>i});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const i=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t},1305:(t,e,n)=>{"use strict";n.d(e,{H3:()=>r,dy:()=>o.d});var i=n(6813),o=n(1510);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=(0,i.SH)(HTMLElement)},2674:(t,e,n)=>{"use strict";n.d(e,{XY:()=>P,dy:()=>B.d});var i=n(9845),o=(n(1440),n(6515),n(1370),n(8228),n(5969),n(1305)),r=n(4473),s=n(4745),a=n(6813);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let l=(0,r.o)((t=>{let e=(0,a.SH)(t);return class extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(t,e){let n=e.path;if(n==JSCompiler_renameProperty("items",this)){let n=e.base||[],i=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),i){let t=(0,s.c)(n,i);this.__applySplices(t)}this.__lastItems=n,this.__lastMulti=t}else if(e.path=="".concat(JSCompiler_renameProperty("items",this),".splices"))this.__applySplices(e.value.indexSplices);else{let t=n.slice("".concat(JSCompiler_renameProperty("items",this),".").length),e=parseInt(t,10);t.indexOf(".")<0&&t==e&&this.__deselectChangedIdx(e)}}__applySplices(t){let e=this.__selectedMap;for(let n=0;n<t.length;n++){let i=t[n];e.forEach(((t,n)=>{t<i.index||(t>=i.index+i.removed.length?e.set(n,t+i.addedCount-i.removed.length):e.set(n,-1))}));for(let t=0;t<i.addedCount;t++){let n=i.index+t;e.has(this.items[n])&&e.set(this.items[n],n)}}this.__updateLinks();let n=0;e.forEach(((t,i)=>{t<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,e.delete(i)):n++}))}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let t=0;this.__selectedMap.forEach((e=>{e>=0&&this.linkPaths("".concat(JSCompiler_renameProperty("items",this),".").concat(e),"".concat(JSCompiler_renameProperty("selected",this),".").concat(t++))}))}else this.__selectedMap.forEach((t=>{this.linkPaths(JSCompiler_renameProperty("selected",this),"".concat(JSCompiler_renameProperty("items",this),".").concat(t)),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),"".concat(JSCompiler_renameProperty("items",this),".").concat(t))}))}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(t){return this.__selectedMap.has(t)}isIndexSelected(t){return this.isSelected(this.items[t])}__deselectChangedIdx(t){let e=this.__selectedIndexForItemIndex(t);if(e>=0){let t=0;this.__selectedMap.forEach(((n,i)=>{e==t++&&this.deselect(i)}))}}__selectedIndexForItemIndex(t){let e=this.__dataLinkedPaths["".concat(JSCompiler_renameProperty("items",this),".").concat(t)];if(e)return parseInt(e.slice("".concat(JSCompiler_renameProperty("selected",this),".").length),10)}deselect(t){let e=this.__selectedMap.get(t);if(e>=0){let n;this.__selectedMap.delete(t),this.multi&&(n=this.__selectedIndexForItemIndex(e)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(t){this.deselect(this.items[t])}select(t){this.selectIndex(this.items.indexOf(t))}selectIndex(t){let e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),e):this.selected=this.selectedItem=e)}}}))(o.H3);class d extends l{static get is(){return"array-selector"}static get template(){return null}}customElements.define(d.is,d);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let c,u=null,h=window.HTMLImports&&window.HTMLImports.whenReady||null;function p(t){requestAnimationFrame((function(){h?h(t):(u||(u=new Promise((t=>{c=t})),"complete"===document.readyState?c():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&c()}))),u.then((function(){t&&t()})))}))}const f="__seenByShadyCSS",b="__shadyCSSCachedStyle";let g=null,m=null;class y{constructor(){this.customStyles=[],this.enqueued=!1,p((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&m&&(this.enqueued=!0,p(m))}addCustomStyle(t){t[f]||(t[f]=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[b])return t[b];let e;return e=t.getStyle?t.getStyle():t,e}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const n=t[e];if(n[b])continue;const i=this.getStyleForCustomStyle(n);if(i){const t=i.__appliedElement||i;g&&g(t),n[b]=t}}return t}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function v(t,e){for(let n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n])}y.prototype.addCustomStyle=y.prototype.addCustomStyle,y.prototype.getStyleForCustomStyle=y.prototype.getStyleForCustomStyle,y.prototype.processStyles=y.prototype.processStyles,Object.defineProperties(y.prototype,{transformCallback:{get:()=>g,set(t){g=t}},validateCallback:{get:()=>m,set(t){let e=!1;m||(e=!0),m=t,e&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const _=!(window.ShadyDOM&&window.ShadyDOM.inUse);let w,x;function C(t){w=(!t||!t.shimcssproperties)&&(_||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(x=window.ShadyCSS.cssBuild);const k=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?w=window.ShadyCSS.nativeCss:window.ShadyCSS?(C(window.ShadyCSS),window.ShadyCSS=void 0):C(window.WebComponents&&window.WebComponents.flags);const S=w,O=new y;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,n){},prepareTemplateDom(t,e){},prepareTemplateStyles(t,e,n){},styleSubtree(t,e){O.processStyles(),v(t,e)},styleElement(t){O.processStyles()},styleDocument(t){O.processStyles(),v(document.body,t)},getComputedStyleValue:(t,e)=>function(t,e){const n=window.getComputedStyle(t).getPropertyValue(e);return n?n.trim():""}(t,e),flushCustomStyles(){},nativeCss:S,nativeShadow:_,cssBuild:x,disableRuntime:k}),window.ShadyCSS.CustomStyleInterface=O;var I=n(346);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const E="include",T=window.ShadyCSS.CustomStyleInterface;class M extends HTMLElement{constructor(){super(),this._style=null,T.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute(E);return e&&(t.removeAttribute(E),t.textContent=(0,I.jv)(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",M);n(1891);var B=n(1510);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const P=(0,i.x)(HTMLElement).prototype},4040:()=>{
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
!function(){"use strict";var t,e=!1,n=[],i=!1;function o(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function r(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback((function(e){t=e,i&&t()}))}function s(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),e=!0,a().then(o)}function a(){i=!1;var e=n.map((function(t){return t instanceof Function?t():t}));return n=[],Promise.all(e).then((function(){i=!0,t&&t()})).catch((function(t){console.error(t)}))}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(t){t&&(n.push(t),e&&a())},window.WebComponents._batchCustomElements=r;var l="webcomponents-loader.js",d=[];(!("attachShadow"in Element.prototype)||!("getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&d.push("sd"),window.customElements&&!window.customElements.forcePolyfill||d.push("ce");var c,u,h=function(){var t=document.createElement("template");if(!("content"in t))return!0;if(!(t.content.cloneNode()instanceof DocumentFragment))return!0;var e=document.createElement("template");e.content.appendChild(document.createElement("div")),t.content.appendChild(e);var n=t.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!h||(d=["sd-ce-pf"]),d.length){var p,f=(u={createHTML:c=function(t){return t},createScript:c,createScriptURL:c},window.trustedTypes&&window.trustedTypes.createPolicy("webcomponents-loader",u)||u),b="bundles/webcomponents-"+d.join("-")+".js";if(window.WebComponents.root)p=window.WebComponents.root+b,window.trustedTypes&&window.trustedTypes.isScriptURL(window.WebComponents.root)&&(p=f.createScriptURL(p));else{var g=document.querySelector('script[src*="'+l+'"]');p=f.createScriptURL(g.src.replace(l,b))}var m=document.createElement("script");m.src=p,"loading"===document.readyState?(m.setAttribute("onload",f.createScript("window.WebComponents._batchCustomElements()")),document.write(f.createHTML(m.outerHTML)),document.addEventListener("DOMContentLoaded",s)):(m.addEventListener("load",(function(){r(),s()})),m.addEventListener("error",(function(){throw new Error("Could not load polyfill bundle"+p)})),document.head.appendChild(m))}else"complete"===document.readyState?(e=!0,o()):(window.addEventListener("load",s),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",s),s()})))}()},9862:(t,e)=>{!function(t){function e(t,e,n,i){var o,r=0,s=0,a=0;n=(n||"(").toString(),i=(i||")").toString();for(o=0;o<t.length;o++){var l=t[o];if(l.indexOf(n,r)>l.indexOf(i,r)||~l.indexOf(n,r)&&!~l.indexOf(i,r)||!~l.indexOf(n,r)&&~l.indexOf(i,r)){if(s=l.indexOf(n,r),a=l.indexOf(i,r),~s&&!~a||!~s&&~a){var d=t.slice(0,(o||1)+1).join(e);t=[d].concat(t.slice((o||1)+1))}r=(a>s?a:s)+1,o=0}else r=0}return t}function n(t,e){for(var n,o=0,r="";n=t.substr(o).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)o=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),r+=t.substr(0,n.index)+n[0];var s,a,l=(t=r+=t.substr(o)).match(/:([^\/]+)/gi);if(l){a=l.length;for(var d=0;d<a;d++)t="::"===(s=l[d]).slice(0,2)?s.slice(1):t.replace(s,i(s,e))}return t}function i(t,e,n){for(var i in n=t,e)if(e.hasOwnProperty(i)&&(n=e[i](t))!==t)break;return n===t?"([._a-zA-Z0-9-%()]+)":n}function o(t,e,n){if(!t.length)return n();var i=0;!function o(){e(t[i],(function(e){e||!1===e?(n(e),n=function(){}):(i+=1)===t.length?n():o()}))}()}function r(t){for(var e=[],n=0,i=t.length;n<i;n++)e=e.concat(t[n]);return e}function a(t,e){for(var n=0;n<t.length;n+=1)if(!1===e(t[n],n,t))return}function l(){return""===d.hash||"#"===d.hash}var d=document.location,c={mode:"modern",hash:d.hash,history:!1,check:function(){var t=d.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?!0===this.history?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function n(t){for(var e=0,n=u.listeners.length;e<n;e++)u.listeners[e](t)}var i=this;if(this.history=e,u.listeners||(u.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))!0===this.history?setTimeout((function(){window.onpopstate=n}),500):window.onhashchange=n,this.mode="modern";else{var o=document.createElement("iframe");o.id="state-frame",o.style.display="none",document.body.appendChild(o),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",(function(){"location"===event.propertyName&&i.check()})),window.setInterval((function(){i.check()}),50),this.onHashChanged=n,this.mode="legacy"}return u.listeners.push(t),this.mode},destroy:function(t){if(u&&u.listeners)for(var e=u.listeners,n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),!0===this.history?(window.history.pushState({},document.title,t),this.fire()):d.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),n=e.contentDocument||e.contentWindow.document;n.open(),n.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var t=this._hash;return t!=d.hash&&(d.hash=t),this},onHashChanged:function(){}},u=t.Router=function(t){if(!(this instanceof u))return new u(t);this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(t||{})};u.prototype.init=function(t){var e,n=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,i=!0===n.history?n.getPath():e.replace(/.*#/,"");n.dispatch("on","/"===i.charAt(0)?i:"/"+i)},c.init(this.handler,this.history),!1===this.history?l()&&t?d.hash=t:l()||n.dispatch("on","/"+d.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(e=l()&&t?t:l()?null:d.hash.replace(/^#/,""))&&window.history.replaceState({},document.title,e):e=this.getPath(),(e||!0===this.run_in_init)&&this.handler()),this},u.prototype.explode=function(){var t=!0===this.history?this.getPath():d.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},u.prototype.setRoute=function(t,e,n){var i=this.explode();return"number"==typeof t&&"string"==typeof e?i[t]=e:"string"==typeof n?i.splice(t,e,s):i=[t],c.setHash(i.join("/")),i},u.prototype.insertEx=function(t,e,n,i){return"once"===t&&(t="on",n=function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}(n)),this._insert(t,e,n,i)},u.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){e=this.explode().indexOf(t)}else e=this.explode();return e},u.prototype.destroy=function(){return c.destroy(this.handler),this},u.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t};var h=/\?.*/;u.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict=void 0===t.strict||t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=!0===this.history&&!1!==t.run_handler_in_init,this.convert_hash_in_init=!0===this.history&&!1!==t.convert_hash_in_init,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},u.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var n=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(n,e.source||e)},this},u.prototype.on=u.prototype.route=function(t,n,i){var o=this;return!i&&"function"==typeof n&&(i=n,n=t,t="on"),Array.isArray(n)?n.forEach((function(e){o.on(t,e,i)})):(n.source&&(n=n.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach((function(t){o.on(t.toLowerCase(),n,i)})):(n=e(n=n.split(new RegExp(this.delimiter)),this.delimiter),void this.insert(t,this.scope.concat(n),i)))},u.prototype.path=function(t,n){var i=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=e(t=t.split(new RegExp(this.delimiter)),this.delimiter),this.scope=this.scope.concat(t),n.call(this,this),this.scope.splice(i,t.length)},u.prototype.dispatch=function(t,e,n){function i(){r.last=s.after,r.invoke(r.runlist(s),r,n)}var o,r=this,s=this.traverse(t,e.replace(h,""),this.routes,""),a=this._invoked;return this._invoked=!0,s&&0!==s.length?("forward"===this.recurse&&(s=s.reverse()),(o=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last])&&o.length>0&&a?(this.async?this.invoke(o,this,i):(this.invoke(o,this),i()),!0):(i(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},n),!1)},u.prototype.invoke=function(t,e,n){var i,r=this;this.async?(i=function(n,r){if(Array.isArray(n))return o(n,i,r);"function"==typeof n&&n.apply(e,(t.captures||[]).concat(r))},o(t,i,(function(){n&&n.apply(e,arguments)}))):(i=function(n){return Array.isArray(n)?a(n,i):"function"==typeof n?n.apply(e,t.captures||[]):void("string"==typeof n&&r.resource&&r.resource[n].apply(e,t.captures||[]))},a(t,i))},u.prototype.traverse=function(t,e,n,i,o){function r(t){if(!o)return t;var e=function t(e){for(var n=[],i=0;i<e.length;i++)n[i]=Array.isArray(e[i])?t(e[i]):e[i];return n}(t);return e.matched=t.matched,e.captures=t.captures,e.after=t.after.filter(o),function t(e){for(var n=e.length-1;n>=0;n--)Array.isArray(e[n])?(t(e[n]),0===e[n].length&&e.splice(n,1)):o(e[n])||e.splice(n,1)}(e),e}var s,a,l,d,c=[];if(e===this.delimiter&&n[t])return(d=[[n.before,n[t]].filter(Boolean)]).after=[n.after].filter(Boolean),d.matched=!0,d.captures=[],r(d);for(var u in n)if(n.hasOwnProperty(u)&&(!this._methods[u]||this._methods[u]&&"object"==typeof n[u]&&!Array.isArray(n[u]))){if(s=a=i+this.delimiter+u,this.strict||(a+="["+this.delimiter+"]?"),!(l=e.match(new RegExp("^"+a))))continue;if(l[0]&&l[0]==e&&n[u][t])return(d=[[n[u].before,n[u][t]].filter(Boolean)]).after=[n[u].after].filter(Boolean),d.matched=!0,d.captures=l.slice(1),this.recurse&&n===this.routes&&(d.push([n.before,n.on].filter(Boolean)),d.after=d.after.concat([n.after].filter(Boolean))),r(d);if((d=this.traverse(t,e,n[u],s)).matched)return d.length>0&&(c=c.concat(d)),this.recurse&&(c.push([n[u].before,n[u].on].filter(Boolean)),d.after=d.after.concat([n[u].after].filter(Boolean)),n===this.routes&&(c.push([n.before,n.on].filter(Boolean)),d.after=d.after.concat([n.after].filter(Boolean)))),c.matched=!0,c.captures=d.captures,c.after=d.after,r(c)}return!1},u.prototype.insert=function(t,e,i,o){var r,s,a,l;if(e=e.filter((function(t){return t&&t.length>0})),o=o||this.routes,l=e.shift(),/\:|\*/.test(l)&&!/\\d|\\w/.test(l)&&(l=n(l,this.params)),e.length>0)return o[l]=o[l]||{},this.insert(t,e,i,o[l]);if(l||e.length||o!==this.routes){if(r=typeof o[l],s=Array.isArray(o[l]),o[l]&&!s&&"object"==r)switch(typeof o[l][t]){case"function":return void(o[l][t]=[o[l][t],i]);case"object":return void o[l][t].push(i);case"undefined":return void(o[l][t]=i)}else if("undefined"==r)return(a={})[t]=i,void(o[l]=a);throw new Error("Invalid route context: "+r)}switch(typeof o[t]){case"function":return void(o[t]=[o[t],i]);case"object":return void o[t].push(i);case"undefined":return void(o[t]=i)}},u.prototype.extend=function(t){function e(t){i._methods[t]=!0,i[t]=function(){var e=1===arguments.length?[t,""]:[t];i.on.apply(i,e.concat(Array.prototype.slice.call(arguments)))}}var n,i=this,o=t.length;for(n=0;n<o;n++)e(t[n])},u.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(r(t)):r(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},u.prototype.mount=function(t,n){function i(n,i){var r=n,s=n.split(o.delimiter),a=typeof t[n],l=""===s[0]||!o._methods[s[0]],d=l?"on":r;l&&(r=r.slice((r.match(new RegExp("^"+o.delimiter))||[""])[0].length),s.shift()),l&&"object"===a&&!Array.isArray(t[n])?(i=i.concat(s),o.mount(t[n],i)):(l&&(i=e(i=i.concat(r.split(o.delimiter)),o.delimiter)),o.insert(d,i,t[n]))}if(t&&"object"==typeof t&&!Array.isArray(t)){var o=this;for(var r in n=n||[],Array.isArray(n)||(n=n.split(o.delimiter)),t)t.hasOwnProperty(r)&&i(r,n.slice(0))}}}(e)},8566:(t,e,n)=>{var i;t.exports=function t(e,o,r){function s(l,d){if(!o[l]){if(!e[l]){var c=void 0;if(!d&&c)return i(l,!0);if(a)return a(l,!0);throw(c=new Error("Cannot find module '"+l+"'")).code="MODULE_NOT_FOUND",n(2558)}c=o[l]={exports:{}},e[l][0].call(c.exports,(function(t){return s(e[l][1][t]||t)}),c,c.exports,t,e,o,r)}return o[l].exports}for(var a=void 0,l=0;l<r.length;l++)s(r[l]);return s}({1:[function(t,e,n){"use strict";var i=t("../core");i.browser=t("./client"),t("../api"),e.exports=i},{"../api":8,"../core":20,"./client":15}],2:[function(t,e,n){"use strict";e.exports="1.11.1"},{}],3:[function(t,e,n){"use strict";e.exports={inherits:t("inherits"),util:t("util"),events:t("events"),"lodash/core":t("lodash/core"),"readable-stream":t("readable-stream"),multistream:t("multistream"),"./VERSION":t("./VERSION"),"./cache":t("./cache"),"./connection":t("./connection"),"./core":t("./core"),"./csv":t("./csv"),"./date":t("./date"),"./http-api":t("./http-api"),"./logger":t("./logger"),"./oauth2":t("./oauth2"),"./process":t("./process"),"./promise":t("./promise"),"./query":t("./query"),"./quick-action":t("./quick-action"),"./record-stream":t("./record-stream"),"./record":t("./record"),"./soap":t("./soap"),"./sobject":t("./sobject"),"./soql-builder":t("./soql-builder"),"./transport":t("./transport")}},{"./VERSION":2,"./cache":18,"./connection":19,"./core":20,"./csv":21,"./date":22,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./record":31,"./record-stream":30,"./soap":33,"./sobject":34,"./soql-builder":35,"./transport":36,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108,util:118}],4:[function(t,e,n){"use strict";function i(t,e){this._report=t,this._conn=t._conn,this.id=e}var o=t("lodash/core"),r=t("../core");function s(t,e){this._conn=t,this.id=e}function a(t,e){this._conn=t,this.id=e}function l(t){this._conn=t}t("../promise"),i.prototype.retrieve=function(t){var e=this._conn,n=this._report;return n=[e._baseUrl(),"analytics","reports",n.id,"instances",this.id].join("/"),e.request(n).thenCall(t)},s.prototype.describe=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"describe"].join("/");return this._conn.request(e).thenCall(t)},s.prototype.delete=s.prototype.del=s.prototype.destroy=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return this._conn.request({method:"DELETE",url:e}).thenCall(t)},s.prototype.clone=function(t,e){var n=[this._conn._baseUrl(),"analytics","reports"].join("/");return t={reportMetadata:{name:t}},t={method:"POST",url:n+="?cloneId="+this.id,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},this._conn.request(t).thenCall(e)},s.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e).thenCall(t)},s.prototype.run=s.prototype.exec=s.prototype.execute=function(t,e){t=t||{},o.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return n+="?includeDetails="+(t.details?"true":"false"),n={method:t.metadata?"POST":"GET",url:n},t.metadata&&(n.headers={"Content-Type":"application/json"},n.body=JSON.stringify(t.metadata)),this._conn.request(n).thenCall(e)},s.prototype.executeAsync=function(t,e){t=t||{},o.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return t.details&&(n+="?includeDetails=true"),n={method:"POST",url:n,body:""},t.metadata&&(n.headers={"Content-Type":"application/json"},n.body=JSON.stringify(t.metadata)),this._conn.request(n).thenCall(e)},s.prototype.instance=function(t){return new i(this,t)},s.prototype.instances=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return this._conn.request(e).thenCall(t)},a.prototype.describe=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id,"describe"].join("/");return this._conn.request(e).thenCall(t)},a.prototype.components=function(t,e){var n=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),i={};return o.isFunction(t)?e=t:o.isArray(t)?i.componentIds=t:o.isString(t)&&(i.componentIds=[t]),i={method:"POST",url:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},this._conn.request(i).thenCall(e)},a.prototype.status=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id,"status"].join("/");return this._conn.request(e).thenCall(t)},a.prototype.refresh=function(t){var e={method:"PUT",url:[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),body:""};return this._conn.request(e).thenCall(t)},a.prototype.clone=function(t,e,n){var i=[this._conn._baseUrl(),"analytics","dashboards"].join("/");i+="?cloneId="+this.id;var r={};return o.isObject(t)?(r=t,n=e):(r.name=t,r.folderId=e),r={method:"POST",url:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},this._conn.request(r).thenCall(n)},a.prototype.delete=a.prototype.del=a.prototype.destroy=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/");return this._conn.request({method:"DELETE",url:e}).thenCall(t)},l.prototype.report=function(t){return new s(this._conn,t)},l.prototype.reports=function(t){var e=[this._conn._baseUrl(),"analytics","reports"].join("/");return this._conn.request(e).thenCall(t)},l.prototype.dashboard=function(t){return new a(this._conn,t)},l.prototype.dashboards=function(t){var e=[this._conn._baseUrl(),"analytics","dashboards"].join("/");return this._conn.request(e).thenCall(t)},r.on("connection:new",(function(t){t.analytics=new l(t)})),e.exports=l},{"../core":20,"../promise":27,"lodash/core":89}],5:[function(t,e,n){"use strict";function i(t){this._conn=t}t=t("../core"),i.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},i.prototype._createRequestParams=function(t,e,n,i){var o={method:t,url:this._baseUrl()+e};return e={},i&&"object"==typeof i.headers&&(e=i.headers),/^(GET|DELETE)$/i.test(t)||(e["Content-Type"]="application/json"),o.headers=e,n&&(e=o.headers["Content-Type"],o.body=e&&"application/json"!==e?n:JSON.stringify(n)),o},i.prototype.get=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),this._conn.request(this._createRequestParams("GET",t,void 0,e)).thenCall(n)},i.prototype.post=function(t,e,n,i){return"function"==typeof e&&(i=e,n=e=void 0),"function"==typeof n&&(i=n,n=void 0),n=this._createRequestParams("POST",t,e,n),this._conn.request(n).thenCall(i)},i.prototype.put=function(t,e,n,i){return"function"==typeof e&&(i=e,n=e=void 0),"function"==typeof n&&(i=n,n=void 0),n=this._createRequestParams("PUT",t,e,n),this._conn.request(n).thenCall(i)},i.prototype.patch=function(t,e,n,i){return"function"==typeof e&&(i=e,n=e=void 0),"function"==typeof n&&(i=n,n=void 0),n=this._createRequestParams("PATCH",t,e,n),this._conn.request(n).thenCall(i)},i.prototype.del=i.prototype.delete=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),this._conn.request(this._createRequestParams("DELETE",t,void 0,e)).thenCall(n)},t.on("connection:new",(function(t){t.apex=new i(t)})),e.exports=i},{"../core":20}],6:[function(t,e,n){(function(n){"use strict";function i(t,e,n,i,o){this._bulk=t,this.type=e,this.operation=n,this.options=i||{},this.id=o,this.state=this.id?"Open":"Unknown",this._batches={}}var o=t("inherits"),r=t("readable-stream"),s=r.Duplex,a=t("events"),l=t("lodash/core"),d=t("multistream"),c=t("../core"),u=t("../record-stream"),h=t("../promise"),p=t("../http-api");o(i,a.EventEmitter),i.prototype.info=function(t){return this._jobInfo||(this._jobInfo=this.check()),this._jobInfo.thenCall(t)},i.prototype.open=function(t){var e,n=this,i=this._bulk;return i._logger,this._jobInfo||("harddelete"===(e=this.operation.toLowerCase())&&(e="hardDelete"),e=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<operation>"+e+"</operation>","<object>"+this.type+"</object>",this.options.extIdField?"<externalIdFieldName>"+this.options.extIdField+"</externalIdFieldName>":"",this.options.concurrencyMode?"<concurrencyMode>"+this.options.concurrencyMode+"</concurrencyMode>":"",this.options.assignmentRuleId?"<assignmentRuleId>"+this.options.assignmentRuleId+"</assignmentRuleId>":"","<contentType>CSV</contentType>","</jobInfo>"].join(""),this._jobInfo=i._request({method:"POST",path:"/job",body:e,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"}).then((function(t){return n.emit("open",t.jobInfo),n.id=t.jobInfo.id,n.state=t.jobInfo.state,t.jobInfo}),(function(t){throw n.emit("error",t),t}))),this._jobInfo.thenCall(t)},i.prototype.createBatch=function(){var t=new f(this),e=this;return t.on("queue",(function(){e._batches[t.id]=t})),t},i.prototype.batch=function(t){var e=this._batches[t];return e||(e=new f(this,t),this._batches[t]=e),e},i.prototype.check=function(t){var e=this,n=this._bulk,i=n._logger;return this._jobInfo=this._waitAssign().then((function(){return n._request({method:"GET",path:"/job/"+e.id,responseType:"application/xml"})})).then((function(t){return i.debug(t.jobInfo),e.id=t.jobInfo.id,e.type=t.jobInfo.object,e.operation=t.jobInfo.operation,e.state=t.jobInfo.state,t.jobInfo})),this._jobInfo.thenCall(t)},i.prototype._waitAssign=function(t){return(this.id?h.resolve({id:this.id}):this.open()).thenCall(t)},i.prototype.list=function(t){var e=this,n=this._bulk,i=n._logger;return this._waitAssign().then((function(){return n._request({method:"GET",path:"/job/"+e.id+"/batch",responseType:"application/xml"})})).then((function(t){return i.debug(t.batchInfoList.batchInfo),t=t.batchInfoList,l.isArray(t.batchInfo)?t.batchInfo:[t.batchInfo]})).thenCall(t)},i.prototype.close=function(){var t=this;return this._changeState("Closed").then((function(e){return t.id=null,t.emit("close",e),e}),(function(e){throw t.emit("error",e),e}))},i.prototype.abort=function(){var t=this;return this._changeState("Aborted").then((function(e){return t.id=null,t.emit("abort",e),e}),(function(e){throw t.emit("error",e),e}))},i.prototype._changeState=function(t,e){var n=this,i=this._bulk,o=i._logger;return this._jobInfo=this._waitAssign().then((function(){var e=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<state>"+t+"</state>","</jobInfo>"].join("");return i._request({method:"POST",path:"/job/"+n.id,body:e,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"})})).then((function(t){return o.debug(t.jobInfo),n.state=t.jobInfo.state,t.jobInfo})),this._jobInfo.thenCall(e)};var f=function(t,e){f.super_.call(this,{objectMode:!0}),this.job=t,this.id=e,this._bulk=t._bulk,this._deferred=h.defer(),this._setupDataStreams()};o(f,r.Writable),f.prototype._setupDataStreams=function(){var t=this,e={nullValue:"#N/A"};this._uploadStream=new u.Serializable,this._uploadDataStream=this._uploadStream.stream("csv",e),this._downloadStream=new u.Parsable,this._downloadDataStream=this._downloadStream.stream("csv",e),this.on("finish",(function(){t._uploadStream.end()})),this._uploadDataStream.once("readable",(function(){t.job.open().then((function(){t._uploadDataStream.pipe(t._createRequestStream())}))}));var n=this._dataStream=new s;n._write=function(e,n,i){t._uploadDataStream.write(e,n,i)},n.on("finish",(function(){t._uploadDataStream.end()})),this._downloadDataStream.on("readable",(function(){n.read(0)})),this._downloadDataStream.on("end",(function(){n.push(null)})),n._read=function(e){for(var i;null!==(i=t._downloadDataStream.read());)n.push(i)}},f.prototype._createRequestStream=function(){var t=this,e=t._bulk,n=e._logger;return e._request({method:"POST",path:"/job/"+t.job.id+"/batch",headers:{"Content-Type":"text/csv"},responseType:"application/xml"},(function(e,i){e?t.emit("error",e):(n.debug(i.batchInfo),t.id=i.batchInfo.id,t.emit("queue",i.batchInfo))})).stream()},f.prototype._write=function(t,e,n){t=l.clone(t),"insert"===this.job.operation?delete t.Id:"delete"===this.job.operation&&(t={Id:t.Id}),delete t.type,delete t.attributes,this._uploadStream.write(t,e,n)},f.prototype.stream=function(){return this._dataStream},f.prototype.run=f.prototype.exec=f.prototype.execute=function(t,e){var n=this;if("function"==typeof t&&(e=t,t=null),this._result)throw new Error("Batch already executed.");var i=h.defer();return this._result=i.promise,this._result.then((function(t){n._deferred.resolve(t)}),(function(t){n._deferred.reject(t)})),this.once("response",(function(t){i.resolve(t)})),this.once("error",(function(t){i.reject(t)})),l.isObject(t)&&l.isFunction(t.pipe)?t.pipe(this._dataStream):l.isArray(t)?(l.forEach(t,(function(t){Object.keys(t).forEach((function(e){"boolean"==typeof t[e]&&(t[e]=String(t[e]))})),n.write(t)})),n.end()):l.isString(t)&&(this._dataStream.write(t,"utf8"),this._dataStream.end()),this.thenCall(e)},f.prototype.then=function(t,e,n){return this._deferred.promise.then(t,e,n)},f.prototype.thenCall=function(t){return l.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this},f.prototype.check=function(t){var e=this._bulk,n=e._logger,i=this.job.id,o=this.id;if(!i||!o)throw new Error("Batch not started.");return e._request({method:"GET",path:"/job/"+i+"/batch/"+o,responseType:"application/xml"}).then((function(t){return n.debug(t.batchInfo),t.batchInfo})).thenCall(t)},f.prototype.poll=function(t,e){var n=this,i=this.job.id,o=this.id;if(!i||!o)throw new Error("Batch not started.");var r=(new Date).getTime(),s=function(){var a=(new Date).getTime();if(r+e<a)return(a=new Error("Polling time out. Job Id = "+i+" , batch Id = "+o)).name="PollingTimeout",a.jobId=i,a.batchId=o,void n.emit("error",a);n.check((function(e,i){e?n.emit("error",e):"Failed"===i.state?0<parseInt(i.numberRecordsProcessed,10)?n.retrieve():n.emit("error",new Error(i.stateMessage)):"Completed"===i.state?n.retrieve():(n.emit("progress",i),setTimeout(s,t))}))};setTimeout(s,t)},f.prototype.retrieve=function(t){var e=this,n=this._bulk,i=this.job.id,o=this.job,r=this.id;if(!i||!r)throw new Error("Batch not started.");return o.info().then((function(t){return n._request({method:"GET",path:"/job/"+i+"/batch/"+r+"/result"})})).then((function(t){var s;return s="query"===o.operation?(n._conn,t["result-list"].result,s=t["result-list"].result,l.map(l.isArray(s)?s:[s],(function(t){return{id:t,batchId:r,jobId:i}}))):l.map(t,(function(t){return{id:t.Id||null,success:"true"===t.Success,errors:t.Error?[t.Error]:[]}})),e.emit("response",s),s})).fail((function(t){throw e.emit("error",t),t})).thenCall(t)},f.prototype.result=function(t){var e=this.job.id,n=this.id;if(!e||!n)throw new Error("Batch not started.");var i=new u.Parsable,o=i.stream("csv");return this._bulk._request({method:"GET",path:"/job/"+e+"/batch/"+n+"/result/"+t,responseType:"application/octet-stream"}).stream().pipe(o),i};var b=function(){b.super_.apply(this,arguments)};function g(t){this._conn=t,this._logger=t._logger}o(b,p),b.prototype.beforeSend=function(t){t.headers=t.headers||{},t.headers["X-SFDC-SESSION"]=this._conn.accessToken},b.prototype.isSessionExpired=function(t){return 400===t.statusCode&&/<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(t.body)},b.prototype.hasErrorInResponseBody=function(t){return!!t.error},b.prototype.parseError=function(t){return{errorCode:t.error.exceptionCode,message:t.error.exceptionMessage}},g.prototype.pollInterval=1e3,g.prototype.pollTimeout=1e4,g.prototype._request=function(t,e){var n=this._conn;return t=l.clone(t),n=[n.instanceUrl,"services/async",n.version].join("/"),t.url=n+t.path,n={responseType:t.responseType},delete t.path,delete t.responseType,new b(this._conn,n).request(t).thenCall(e)},g.prototype.load=function(t,e,n,i,o){var r=this;if(!t||!e)throw new Error("Insufficient arguments. At least, 'type' and 'operation' are required.");l.isObject(n)&&n.constructor===Object||(o=i,i=n,n=null);var s=this.createJob(t,e,n);function a(){d=null,s.close()}s.once("error",(function(t){d&&d.emit("error",t)}));var d=s.createBatch();return d.on("response",a),d.on("error",(function(t){"PollingTimeout"!==t.name&&a()})),d.on("queue",(function(){d.poll(r.pollInterval,r.pollTimeout)})),d.execute(i,o)},g.prototype.query=function(t){if(!(e=t.replace(/\([\s\S]+\)/g,"").match(/FROM\s+(\w+)/i)))throw new Error("No sobject type found in query, maybe caused by invalid SOQL.");var e=e[1],n=this,i=new u.Parsable,o=i.stream("csv");return this.load(e,"query",t).then((function(t){t=t.map((function(t){return n.job(t.jobId).batch(t.batchId).result(t.id).stream()})),d(t).pipe(o)})).fail((function(t){i.emit("error",t)})),i},g.prototype.createJob=function(t,e,n){return new i(this,t,e,n)},g.prototype.job=function(t){return new i(this,null,null,null,t)},c.on("connection:new",(function(t){t.bulk=new g(t)})),e.exports=g}).call(this,t("_process"))},{"../core":20,"../http-api":23,"../promise":27,"../record-stream":30,_process:92,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108}],7:[function(t,e,n){"use strict";var i=t("inherits"),o=t("lodash/core"),r=t("../core"),s=t("../promise"),a=e.exports=function(t){this._conn=t};a.prototype._request=function(t,e){return/^(put|post|patch)$/i.test(t.method)&&o.isObject(t.body)&&(t.headers={"Content-Type":"application/json"},t.body=JSON.stringify(t.body)),t.url=this._normalizeUrl(t.url),this._conn.request(t,e)},a.prototype._normalizeUrl=function(t){return 0===t.indexOf("/chatter/")||0===t.indexOf("/connect/")?"/services/data/v"+this._conn.version+t:/^\/v[\d]+\.[\d]+\//.test(t)?"/services/data"+t:0!==t.indexOf("/services/")&&"/"===t[0]?"/services/data/v"+this._conn.version+"/chatter"+t:t},a.prototype.request=function(t,e){return new l(this,t).thenCall(e)},a.prototype.resource=function(t,e){return new d(this,t,e)},a.prototype.batch=function(t,e){var n=[],i=[];return o.forEach(t,(function(t){var e=s.defer();t._promise=e.promise,n.push(t.batchParams()),i.push(e)})),t={method:"POST",url:this._normalizeUrl("/connect/batch"),body:{batchRequests:n}},this.request(t).then((function(t){return o.forEach(t.results,(function(t,e){e=i[e],400<=t.statusCode?e.reject(t.result):e.resolve(t.result)})),t})).thenCall(e)};var l=function(t,e){this._chatter=t,this._params=e,this._promise=null};l.prototype.batchParams=function(){var t={method:(t=this._params).method,url:this._chatter._normalizeUrl(t.url)};return this._params.body&&(t.richInput=this._params.body),t},l.prototype.promise=function(){return this._promise||this._chatter._request(this._params)},l.prototype.stream=function(){return this._chatter._request(this._params).stream()},l.prototype.then=function(t,e){return this.promise().then(t,e)},l.prototype.thenCall=function(t){return o.isFunction(t)?this.promise().thenCall(t):this};var d=function(t,e,n){var i;n&&(i=o.map(o.keys(n),(function(t){return t+"="+encodeURIComponent(n[t])})).join("&"),e+=(0<e.indexOf("?")?"&":"?")+i),d.super_.call(this,t,{method:"GET",url:e}),this._url=e};i(d,l),d.prototype.create=function(t,e){return this._chatter.request({method:"POST",url:this._url,body:t}).thenCall(e)},d.prototype.retrieve=function(t){return this.thenCall(t)},d.prototype.update=function(t,e){return this._chatter.request({method:"PATCH",url:this._url,body:t}).thenCall(e)},d.prototype.del=d.prototype.delete=function(t){return this._chatter.request({method:"DELETE",url:this._url}).thenCall(t)},r.on("connection:new",(function(t){t.chatter=new a(t)}))},{"../core":20,"../promise":27,inherits:85,"lodash/core":89}],8:[function(t,e,n){t("./analytics"),t("./apex"),t("./bulk"),t("./chatter"),t("./metadata"),t("./soap"),t("./streaming"),t("./tooling")},{"./analytics":4,"./apex":5,"./bulk":6,"./chatter":7,"./metadata":9,"./soap":10,"./streaming":12,"./tooling":13}],9:[function(t,e,n){(function(n,i){"use strict";var o=t("inherits"),r=t("events"),s=t("readable-stream"),a=t("lodash/core"),l=t("../core"),d=t("../promise"),c=t("../soap"),u=e.exports=function(t){this._conn=t};function h(t){return(t=a.clone(t)).success="true"===t.success,t}function p(t){return(t=h(t)).created="true"===t.created,t}function f(t){return delete(t=a.clone(t)).$,t}u.prototype.pollInterval=1e3,u.prototype.pollTimeout=1e4,u.prototype._invoke=function(t,e,n){return new c(this._conn,{xmlns:"http://soap.sforce.com/2006/04/metadata",endpointUrl:this._conn.instanceUrl+"/services/Soap/m/"+this._conn.version}).invoke(t,e).then((function(t){return t.result})).thenCall(n)},u.prototype.createAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function i(e){return e["@xsi:type"]=t,e}var o=a.isArray(e);return e=o?a.map(e,i):i(e),e=this._invoke("create",{metadata:e}),new b(this,e,o).thenCall(n)},u.prototype.createSync=u.prototype.create=function(t,e,n){function i(e){return e["@xsi:type"]=t,e}return e=a.isArray(e)?a.map(e,i):i(e),this._invoke("createMetadata",{metadata:e}).then((function(t){return a.isArray(t)?a.map(t,h):h(t)})).thenCall(n)},u.prototype.readSync=u.prototype.read=function(t,e,n){return this._invoke("readMetadata",{type:t,fullNames:e}).then((function(t){return a.isArray(t.records)?a.map(t.records,f):f(t.records)})).thenCall(n)},u.prototype.updateAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function i(e){return e.metadata["@xsi:type"]=t,e}var o=a.isArray(e);return e=o?a.map(e,i):i(e),e=this._invoke("update",{updateMetadata:e}),new b(this,e,o).thenCall(n)},u.prototype.updateSync=u.prototype.update=function(t,e,n){function i(e){return e["@xsi:type"]=t,e}return e=a.isArray(e)?a.map(e,i):i(e),this._invoke("updateMetadata",{metadata:e}).then((function(t){return a.isArray(t)?a.map(t,h):h(t)})).thenCall(n)},u.prototype.upsertSync=u.prototype.upsert=function(t,e,n){function i(e){return e["@xsi:type"]=t,e}return e=a.isArray(e)?a.map(e,i):i(e),this._invoke("upsertMetadata",{metadata:e}).then((function(t){return a.isArray(t)?a.map(t,p):p(t)})).thenCall(n)},u.prototype.deleteAsync=function(t,e,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function i(e){return a.isString(e)&&(e={fullName:e}),e["@xsi:type"]=t,e}var o=a.isArray(e);return e=o?a.map(e,i):i(e),e=this._invoke("delete",{metadata:e}),new b(this,e,o).thenCall(n)},u.prototype.del=u.prototype.deleteSync=u.prototype.delete=function(t,e,n){return this._invoke("deleteMetadata",{type:t,fullNames:e}).then((function(t){return a.isArray(t)?a.map(t,h):h(t)})).thenCall(n)},u.prototype.rename=function(t,e,n,i){return this._invoke("renameMetadata",{type:t,oldFullName:e,newFullName:n}).then(h).thenCall(i)},u.prototype.checkStatus=function(t,e){var n=a.isArray(t);return t=this._invoke("checkStatus",{asyncProcessId:t}),new b(this,t,n).thenCall(e)},u.prototype.describe=function(t,e){return a.isString(t)||(e=t,t=this._conn.version),this._invoke("describeMetadata",{asOfVersion:t}).then((function(t){return t.metadataObjects=a.isArray(t.metadataObjects)?t.metadataObjects:[t.metadataObjects],t.metadataObjects=a.map(t.metadataObjects,(function(t){return t.childXmlNames&&(t.childXmlNames=a.isArray(t.childXmlNames)?t.childXmlNames:[t.childXmlNames]),t.inFolder="true"===t.inFolder,t.metaFile="true"===t.metaFile,t})),t.partialSaveAllowed="true"===t.partialSaveAllowed,t.testRequired="true"===t.testRequired,t})).thenCall(e)},u.prototype.list=function(t,e,n){return a.isString(e)||(n=e,e=this._conn.version),a.isArray(t)||(t=[t]),this._invoke("listMetadata",{queries:t,asOfVersion:e},n)},u.prototype.retrieve=function(t,e){return t=this._invoke("retrieve",{request:t}),new g(this,t).thenCall(e)},u.prototype.checkRetrieveStatus=function(t,e){return this._invoke("checkRetrieveStatus",{asyncProcessId:t},e)},u.prototype.deploy=function(t,e,n){e&&!a.isFunction(e)||(n=e,e={});var o=d.defer();if(a.isObject(t)&&a.isFunction(t.pipe)){var r=[];t.on("data",(function(t){r.push(t)})),t.on("end",(function(){o.resolve(i.concat(r).toString("base64"))}))}else if(t instanceof i)o.resolve(t.toString("base64"));else{if(!(t instanceof String||"string"==typeof t))throw"Unexpected zipInput type";o.resolve(t)}var s=this;return t=o.promise.then((function(t){return s._invoke("deploy",{ZipFile:t,DeployOptions:e},n)})),new m(this,t).thenCall(n)},u.prototype.checkDeployStatus=function(t,e,n){return e=a.isObject(e)||a.isBoolean(e)?!!e:(n=e,!1),this._invoke("checkDeployStatus",{asyncProcessId:t,includeDetails:e}).then((function(t){return t.done="true"===t.done,t.success="true"===t.success,t.checkOnly="true"===t.checkOnly,t.runTestsEnabled="true"===t.runTestsEnabled,t.ignoreWarnings&&(t.ignoreWarnings="true"===t.ignoreWarnings),t.rollbackOnError&&(t.rollbackOnError="true"===t.rollbackOnError),t.numberComponentErrors=Number(t.numberComponentErrors),t.numberComponentsDeployed=Number(t.numberComponentsDeployed),t.numberComponentsTotal=Number(t.numberComponentsTotal),t.numberTestErrors=Number(t.numberTestErrors),t.numberTestsCompleted=Number(t.numberTestsCompleted),t.numberTestsTotal=Number(t.numberTestsTotal),t})).thenCall(n)};var b=function(t,e,n){this._meta=t,this._results=e,this._isArray=n};o(b,r.EventEmitter),b.prototype.then=function(t,e){var n=this;return this._results.then((function(e){function i(t){return t.$&&"true"===t.$["xsi:nil"]?null:(t.done="true"===t.done,t)}return e=a.isArray(e)?a.map(e,i):i(e),n._isArray&&!a.isArray(e)&&(e=[e]),t(e)}),e)},b.prototype.thenCall=function(t){return a.isFunction(t)?this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})):this},b.prototype.check=function(t){var e=this,n=this._meta;return this.then((function(t){return t=a.isArray(t)?a.map(t,(function(t){return t.id})):t.id,e._ids=t,n.checkStatus(t)})).thenCall(t)},b.prototype.poll=function(t,e){var n=this,i=(new Date).getTime(),o=function(){var r=(new Date).getTime();if(i+e<r)return r="Polling time out.",n._ids&&(r+=" Process Id = "+n._ids),void n.emit("error",new Error(r));n.check().then((function(e){for(var i=!0,r=a.isArray(e)?e:[e],s=0,l=r.length;s<l;s++){var d=r[s];d&&!d.done&&(n.emit("progress",d),i=!1)}i?n.emit("complete",e):setTimeout(o,t)}),(function(t){n.emit("error",t)}))};setTimeout(o,t)},b.prototype.complete=function(t){var e=d.defer();this.on("complete",(function(t){e.resolve(t)})),this.on("error",(function(t){e.reject(t)}));var n=this._meta;return this.poll(n.pollInterval,n.pollTimeout),e.promise.thenCall(t)};var g=function(t,e){g.super_.call(this,t,e)};o(g,b),g.prototype.complete=function(t){var e=this._meta;return g.super_.prototype.complete.call(this).then((function(t){return e.checkRetrieveStatus(t.id)})).thenCall(t)},g.prototype.stream=function(){var t=this,e=new s.Readable,n=!1;return e._read=function(){n||(n=!0,t.complete((function(t,n){t?e.emit("error",t):(e.push(i.from(n.zipFile,"base64")),e.push(null))})))},e};var m=function(t,e){m.super_.call(this,t,e)};o(m,b),m.prototype.complete=function(t,e){a.isFunction(t)&&(e=t,t=!1);var n=this._meta;return m.super_.prototype.complete.call(this).then((function(e){return n.checkDeployStatus(e.id,t)})).thenCall(e)},l.on("connection:new",(function(t){t.metadata=new u(t)}))}).call(this,t("_process"),t("buffer").Buffer)},{"../core":20,"../promise":27,"../soap":33,_process:92,buffer:41,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],10:[function(t,e,n){"use strict";var i=t("lodash/core"),o=t("../core"),r=t("../soap"),s=e.exports=function(t){this._conn=t};s.prototype._invoke=function(t,e,n,i){return new r(this._conn,{xmlns:"urn:partner.soap.sforce.com",endpointUrl:this._conn.instanceUrl+"/services/Soap/u/"+this._conn.version}).invoke(t,e,{result:n}).then((function(t){return t.result})).thenCall(i)};var a={};s.prototype.convertLead=function(t,e){var n=i.isArray(t)?[a.LeadConvertResult]:a.LeadConvertResult;return this._invoke("convertLead",{leadConverts:t},n,e)},a.LeadConvertResult={success:"boolean",errors:[],leadId:"string",accountId:"string",contactId:"string",opportunityId:"string"},s.prototype.merge=function(t,e){var n=i.isArray(t)?[a.MergeResult]:a.MergeResult;return this._invoke("merge",{mergeRequests:t},n,e)},a.MergeResult={success:"boolean",errors:[],id:"string",mergedRecordIds:["string"],updatedRelatedIds:["string"]},s.prototype.emptyRecycleBin=function(t,e){return this._invoke("emptyRecycleBin",{ids:t},[a.EmptyRecycleBinResult],e)},a.EmptyRecycleBinResult={id:"string",success:"boolean",errors:[]},s.prototype.describeTabs=function(t){return this._invoke("describeTabs",{},[a.DescribeTabSetResult],t)},a.DescribeTabSetResult={label:"string",logoUrl:"string",namespace:"string",selected:"boolean",tabs:[{colors:[{theme:"string",color:"string",context:"string"}],iconUrl:"string",icons:[{theme:"string",height:"number",width:"number",url:"string",contentType:"string"}],label:"string",custom:"boolean",miniIconUrl:"string",name:"string",sobjectName:"string",url:"string"}]},s.prototype.getServerTimestamp=function(t){return this._invoke("getServerTimestamp",{},a.GetServerTimestampResult,t)},a.GetServerTimestampResult={timestamp:"string"},s.prototype.getUserInfo=function(t){return this._invoke("getUserInfo",{},a.GetUserInfoResult,t)},a.GetUserInfoResult={accessibilityMode:"boolean",currencySymbol:"string",orgAttachmentFileSizeLimit:"number",orgDefaultCurrencyIsoCode:"string",orgDisallowHtmlAttachments:"boolean",orgHasPersonAccounts:"boolean",organizationId:"string",organizationMultiCurrency:"boolean",organizationName:"string",profileId:"string",roleId:"string",sessionSecondsValid:"number",userDefaultCurrencyIsoCode:"string",userEmail:"string",userFullName:"string",userId:"string",userLanguage:"string",userLocale:"string",userName:"string",userTimeZone:"string",userType:"string",userUiSkin:"string"},s.prototype.setPassword=function(t,e,n){return this._invoke("setPassword",{userId:t,password:e},n)},s.prototype.resetPassword=function(t,e){return this._invoke("resetPassword",{userId:t},e)},s.prototype.create=function(t,e){var n=i.isArray(t)?[a.SaveResult]:a.SaveResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":t},this._invoke("create",t,n,e)},s.prototype.update=function(t,e){var n=i.isArray(t)?[a.SaveResult]:a.SaveResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":t},this._invoke("update",t,n,e)},a.SaveResult={success:"boolean",errors:[],id:"string"},s.prototype.upsert=function(t,e,n){var o=i.isArray(e)?[a.UpsertResult]:a.UpsertResult;return e={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:externalIDFieldName":t,"ns1:sObjects":e},this._invoke("upsert",e,o,n)},a.UpsertResult={created:"boolean",success:"boolean",errors:[],id:"string"},s.prototype.delete=function(t,e){var n=i.isArray(t)?[a.DeleteResult]:a.DeleteResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:ids":t},this._invoke("delete",t,n,e)},a.DeleteResult={success:"boolean",errors:[],id:"string"},o.on("connection:new",(function(t){t.soap=new s(t)})),e.exports=s},{"../core":20,"../soap":33,"lodash/core":89}],11:[function(t,e,n){var i={AuthFailure:function(t){this.incoming=function(e,n){("/meta/connect"!==e.channel&&"/meta/handshake"!==e.channel||!e.advice||"none"!=e.advice.reconnect?n:t)(e)}},Replay:function(t,e){var n=null!=e,i=e,o=t;this.setExtensionEnabled=function(t){n=t},this.setReplay=function(t){i=parseInt(t,10)},this.setChannel=function(t){o=t},this.incoming=function(t,e){"/meta/handshake"===t.channel?t.ext&&1==t.ext.replay&&(n=!0):t.channel===o&&t.data&&t.data.event&&t.data.event.replayId&&(i=t.data.event.replayId),e(t)},this.outgoing=function(t,e){var r;"/meta/subscribe"===t.channel&&t.subscription===o&&n&&(t.ext||(t.ext={}),(r={})[o]=i,t.ext.replay=r),e(t)}}};e.exports=i},{}],12:[function(t,e,n){"use strict";function i(t,e){this._streaming=t,this.name=e}var o=t("events"),r=t("inherits"),s=t("lodash/core"),a=t("faye"),l=t("./streaming-extension");function d(t,e){this._streaming=t,this._name=e}function c(t){this._conn=t}t=t("../core"),i.prototype.subscribe=function(t){return this._streaming.subscribe(this.name,t)},i.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this.name,t),this},d.prototype.subscribe=function(t){return this._streaming.subscribe(this._name,t)},d.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this._name,t),this},d.prototype.push=function(t,e){var n=s.isArray(t);t=n?t:[t];var i=this._streaming._conn;return this._id||(this._id=i.sobject("StreamingChannel").findOne({Name:this._name},"Id").then((function(t){return t.Id}))),this._id.then((function(e){return e="/sobjects/StreamingChannel/"+e+"/push",i.requestPost(e,{pushEvents:t})})).then((function(t){return n?t:t[0]})).thenCall(e)},r(c,o.EventEmitter),c.prototype._createClient=function(t,e){t="string"==typeof t&&0===t.indexOf("/u/"),t=[this._conn.instanceUrl,"cometd"+(1==t&&"36.0"===this._conn.version?"/replay":""),this._conn.version].join("/");var n=new a.Client(t,{});return n.setHeader("Authorization","OAuth "+this._conn.accessToken),e instanceof Array&&e.forEach((function(t){n.addExtension(t)})),-1===n._dispatcher.getConnectionTypes().indexOf("callback-polling")&&(n._dispatcher.selectTransport("long-polling"),n._dispatcher._transport.batching=!1),n},c.prototype._getFayeClient=function(t){var e=0===t.indexOf("/u/")?"generic":"pushTopic";return this._fayeClients&&this._fayeClients[e]||(this._fayeClients=this._fayeClients||{},this._fayeClients[e]=this._createClient(t)),this._fayeClients[e]},c.prototype.topic=function(t){return this._topics=this._topics||{},this._topics[t]=this._topics[t]||new i(this,t)},c.prototype.channel=function(t){return new d(this,t)},c.prototype.subscribe=function(t,e){return t=0===t.indexOf("/")?t:"/topic/"+t,this._getFayeClient(t).subscribe(t,e)},c.prototype.unsubscribe=function(t,e){return t=0===t.indexOf("/")?t:"/topic/"+t,this._getFayeClient(t).unsubscribe(t,e),this},c.prototype.createClient=function(t){return this._createClient(null,t)},t.on("connection:new",(function(t){t.streaming=new c(t)})),t.StreamingExtension=l,e.exports=c},{"../core":20,"./streaming-extension":11,events:48,faye:49,inherits:85,"lodash/core":89}],13:[function(t,e,n){"use strict";function i(t){this._conn=t,this._logger=t._logger,["query","queryMore","_toRecordResult","create","_createSingle","_createParallel","_createMany","insert","retrieve","_retrieveSingle","_retrieveParallel","_retrieveMany","update","_updateSingle","_updateParallel","_updateMany","upsert","del","delete","destroy","_destroySingle","_destroyParallel","_destroyMany","describe","describeGlobal","sobject"].forEach((function(e){this[e]=t.constructor.prototype[e]}),this),this.cache=new s;var e={key:function(t){return t?"describe."+t:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,e),this.describe=this.cache.makeResponseCacheable(this.describe,this,e),this.describeSObject$=this.describe$,this.describeSObject=this.describe,e={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,e),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,e),this.initialize()}var o=t("../core"),r=t("lodash/core"),s=t("../cache");i.prototype.initialize=function(){this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",r.bind((function(t){t.result&&r.map(t.result.sobjects,(function(t){return t.name})).forEach(this.sobject,this)}),this))},i.prototype._baseUrl=function(){return this._conn._baseUrl()+"/tooling"},i.prototype._supports=function(t){return"sobject-collection"!==t&&this._conn._supports.apply(this._conn,arguments)},i.prototype.request=function(){return this._conn.request.apply(this._conn,arguments)},i.prototype.executeAnonymous=function(t,e){return t=this._baseUrl()+"/executeAnonymous?anonymousBody="+encodeURIComponent(t),this.request(t).thenCall(e)},i.prototype.runTestsAsynchronous=function(t,e){var n=this._baseUrl()+"/runTestsAsynchronous/";return this._conn.requestPost(n,{classids:t.join(",")},void 0,e)},i.prototype.runTestsSynchronous=function(t,e){var n=this._baseUrl()+"/runTestsSynchronous/";return this._conn.requestPost(n,{classnames:t.join(",")},void 0,e)},i.prototype.completions=function(t,e){return r.isString(t)||(e=t,t="apex"),t=this._baseUrl()+"/completions?type="+encodeURIComponent(t),this.request(t).thenCall(e)},o.on("connection:new",(function(t){t.tooling=new i(t)})),e.exports=i},{"../cache":18,"../core":20,"lodash/core":89}],14:[function(t,e,n){"use strict";var i=t("readable-stream").Duplex,o=t("lodash/core");e.exports={supported:"object"==typeof Sfdc&&void 0!==Sfdc.canvas,createRequest:function(t){return function(e,n){var r,s=new i;s._read=function(t){r&&s.push(r.body)};var a=[],l=!1;function d(i){var a={client:t.client,method:e.method,data:i};if(e.headers)for(var l in a.headers={},e.headers)"content-type"===l.toLowerCase()?a.contentType=e.headers[l]:a.headers[l]=e.headers[l];a.success=function(t){var e,i=(a=t.responseHeaders,e={},a.split(/\n/).forEach((function(t){t=(n=t.split(/\s*:\s*/))[0].toLowerCase();var n=n[1];e[t]=n})),e),a=t.payload;o.isString(a)||(a=JSON.stringify(a)),r={statusCode:t.status,headers:i,body:a},n&&n(null,r,r.body),s.end()},a.failure=function(t){n&&n(t)},Sfdc.canvas.client.ajax(e.url,a)}return s._write=function(t,e,n){a.push(t.toString(e)),n()},s.on("finish",(function(){l||(d(a.join("")),l=!0)})),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(d(e.body),l=!0),s}}}},{"lodash/core":89,"readable-stream":108}],15:[function(t,e,n){"use strict";var i=t("events"),o=t("inherits"),r=t("querystring"),s=t("lodash/core"),a=t("../connection"),l=t("../oauth2");function d(){var t=function(){var t;if(window.location.hash){if((t=r.parse(window.location.hash.substring(1))).access_token)return{success:!0,body:t}}else if(window.location.search&&(t=r.parse(window.location.search.substring(1))).error)return{success:!1,body:t}}(),e=localStorage.getItem("jsforce_state");if(t&&e&&t.body.state===e){localStorage.removeItem("jsforce_state"),e=(n=e.split("."))[0];var n=n[1];return e=new c(e),t.success?(e._storeTokens(t.body),location.hash=""):e._storeError(t.body),"popup"===n&&window.close(),1}}function c(t){this._prefix=t||"jsforce"+u++,this.connection=null}var u=0;o(c,i.EventEmitter),c.prototype.init=function(t){var e;d()||(this.config=t,this.connection=new a(t),(t=this._getTokens())&&(this.connection.initialize(t),e=this,setTimeout((function(){e.emit("connect",e.connection)}),10)))},c.prototype.login=function(t,e){s.isFunction(t)&&(e=t,t={}),t=t||{},e=e||function(){},s.extend(t,this.config),this._prompt(t,e)},c.prototype._prompt=function(t,e){var n=this,i=new l(t),o=Math.random().toString(36).substring(2),r=[this._prefix,"popup",o].join(".");localStorage.setItem("jsforce_state",r);var s,a,d,c,u=i.getAuthorizationUrl({response_type:"token",scope:t.scope,state:r}),h=t.size||{},p=(s=u,a=h.width||912,d=h.height||513,c=screen.width/2-a/2,h=screen.height/2-d/2,window.open(s,null,"location=yes,toolbar=no,status=no,menubar=no,width="+a+",height="+d+",top="+h+",left="+c));if(!p)return r=[this._prefix,"redirect",o].join("."),localStorage.setItem("jsforce_state",r),u=i.getAuthorizationUrl({response_type:"token",scope:t.scope,state:r}),void(location.href=u);n._removeTokens();var f=setInterval((function(){try{var t;p&&!p.closed||(clearInterval(f),(t=n._getTokens())?(n.connection.initialize(t),n.emit("connect",n.connection),e(null,{status:"connect"})):(t=n._getError())?e(new Error(t.error+": "+t.error_description)):e(null,{status:"cancel"}))}catch(t){}}),1e3)},c.prototype.isLoggedIn=function(){return!(!this.connection||!this.connection.accessToken)},c.prototype.logout=function(){this.connection.logout(),this._removeTokens(),this.emit("disconnect")},c.prototype._getTokens=function(){var t,e=new RegExp("(^|;\\s*)"+this._prefix+"_loggedin=true(;|$)");return document.cookie.match(e)&&(e=Number(localStorage.getItem(this._prefix+"_issued_at")),Date.now()<e+72e5)?((e=localStorage.getItem(this._prefix+"_id"))&&(t={id:(t=e.split("/")).pop(),organizationId:t.pop(),url:e}),{accessToken:localStorage.getItem(this._prefix+"_access_token"),instanceUrl:localStorage.getItem(this._prefix+"_instance_url"),userInfo:t}):null},c.prototype._storeTokens=function(t){localStorage.setItem(this._prefix+"_access_token",t.access_token),localStorage.setItem(this._prefix+"_instance_url",t.instance_url),localStorage.setItem(this._prefix+"_issued_at",t.issued_at),localStorage.setItem(this._prefix+"_id",t.id),document.cookie=this._prefix+"_loggedin=true;"},c.prototype._removeTokens=function(){localStorage.removeItem(this._prefix+"_access_token"),localStorage.removeItem(this._prefix+"_instance_url"),localStorage.removeItem(this._prefix+"_issued_at"),localStorage.removeItem(this._prefix+"_id"),document.cookie=this._prefix+"_loggedin="},c.prototype._getError=function(){try{var t=JSON.parse(localStorage.getItem(this._prefix+"_error"));return localStorage.removeItem(this._prefix+"_error"),t}catch(t){}},c.prototype._storeError=function(t){localStorage.setItem(this._prefix+"_error",JSON.stringify(t))},e.exports=new c,e.exports.Client=c},{"../connection":19,"../oauth2":25,events:48,inherits:85,"lodash/core":89,querystring:97}],16:[function(t,e,n){"use strict";var i=0;e.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(t,e){return t=t||"callback",e=e||1e4,function(n,o){if("GET"!==n.method.toUpperCase())return o(new Error("JSONP only supports GET request."));var r="_jsforce_jsonpCallback_"+ ++i,s=window;n=n.url,n+=0<n.indexOf("?")?"&":"?",n+=t+"="+r;var a=document.createElement("script");a.type="text/javascript",a.src=n,document.documentElement.appendChild(a);var l=setTimeout((function(){d(),o(new Error("JSONP call time out."))}),e);s[r]=function(t){d(),o(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(t)})};var d=function(){clearTimeout(l),document.documentElement.removeChild(a),delete s[r]}}}}},{}],17:[function(t,e,n){"use strict";var i=t("readable-stream").Duplex,o=t("lodash/core");e.exports=function(t,e){var n,r=new XMLHttpRequest;if(r.open(t.method,t.url),t.headers)for(var s in t.headers)r.setRequestHeader(s,t.headers[s]);r.setRequestHeader("Accept","*/*");var a=new i;a._read=function(t){n&&a.push(n.body)};var l=[],d=!1;return a._write=function(t,e,n){l.push(t.toString("buffer"===e?"binary":e)),n()},a.on("finish",(function(){d||(r.send(l.join("")),d=!0)})),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(r.send(t.body),d=!0),r.onreadystatechange=function(){var t,i;4===r.readyState&&(t=function(t){return t=(t.getAllResponseHeaders()||"").split(/[\r\n]+/),o.map(t,(function(t){return t.split(/\s*:/)[0].toLowerCase()}))}(r),i={},o.forEach(t,(function(t){t&&(i[t]=r.getResponseHeader(t))})),(n={statusCode:r.status,headers:i,body:r.response}).statusCode||(n.statusCode=400,n.body="Access Declined"),e&&e(null,n,n.body),a.end())},a}},{"lodash/core":89,"readable-stream":108}],18:[function(t,e,n){"use strict";function i(){this.fetching=!1}var o=t("events"),r=t("inherits"),s=t("lodash/core");function a(t,e){return e=Array.prototype.slice.apply(e),t+"("+s.map(e,(function(t){return JSON.stringify(t)})).join(",")+")"}r(i,o.EventEmitter),i.prototype.get=function(t){if(!t)return this._value;this.once("value",t),s.isUndefined(this._value)||this.emit("value",this._value)},i.prototype.set=function(t){this._value=t,this.emit("value",this._value)},i.prototype.clear=function(){this.fetching=!1,delete this._value},(o=function(){this._entries={}}).prototype.get=function(t){if(t&&this._entries[t])return this._entries[t];var e=new i;return this._entries[t]=e},o.prototype.clear=function(t){for(var e in this._entries)t&&0!==e.indexOf(t)||this._entries[e].clear()},o.prototype.makeResponseCacheable=function(t,e,n){var i=this;return n=n||{},function(){var o=Array.prototype.slice.apply(arguments),r=o.pop();s.isFunction(r)||(o.push(r),r=null);var l=s.isString(n.key)?n.key:s.isFunction(n.key)?n.key.apply(e,o):a(n.namespace,o);Array.isArray(l)||(l=[l]);var d,c,u=[];l.forEach((function(t){(t=i.get(t)).fetching=!0,u.push(t)})),r&&o.push((function(t,e){Array.isArray(e)&&e.length==u.length?u.forEach((function(n,i){n.set({error:t,result:e[i]})})):u.forEach((function(n){n.set({error:t,result:e})})),r(t,e)}));try{d=t.apply(e||this,o)}catch(o){c=o}if(d&&s.isFunction(d.then))return r?d:d.then((function(t){return Array.isArray(t)&&t.length==u.length?u.forEach((function(e,n){e.set({error:void 0,result:t[n]})})):u.forEach((function(e){e.set({error:void 0,result:t})})),t}),(function(t){throw Array.isArray(t)&&t.length==u.length?u.forEach((function(e,n){e.set({error:t[n],result:void 0})})):u.forEach((function(e){e.set({error:t,result:void 0})})),t}));if(Array.isArray(d)&&d.length==u.length?u.forEach((function(t,e){t.set({error:c,result:d[e]})})):u.forEach((function(t){t.set({error:c,result:d})})),c)throw c;return d}},o.prototype.makeCacheable=function(t,e,n){var i=this;function o(){var o=Array.prototype.slice.apply(arguments),r=o.pop();s.isFunction(r)||o.push(r);var l=s.isString(n.key)?n.key:s.isFunction(n.key)?n.key.apply(e,o):a(n.namespace,o),d=i.get(l);if(!s.isFunction(r)){if(!(l=d.get()))throw new Error("Function call result is not cached yet.");if(l.error)throw l.error;return l.result}d.get((function(t){r(t.error,t.result)})),d.fetching||(d.fetching=!0,o.push((function(t,e){d.set({error:t,result:e})})),t.apply(e||this,o))}return n=n||{},o.clear=function(){var t=s.isString(n.key)?n.key:s.isFunction(n.key)?n.key.apply(e,arguments):a(n.namespace,arguments);i.clear(t)},o},e.exports=o},{events:48,inherits:85,"lodash/core":89}],19:[function(t,e,n){(function(n){"use strict";var i=t("events"),o=t("inherits"),r=t("lodash/core"),s=t("./promise"),a=t("./logger"),l=t("./oauth2"),d=t("./query"),c=t("./sobject"),u=t("./quick-action"),h=t("./http-api"),p=t("./transport"),f=t("./process"),b=t("./cache"),g="https://login.salesforce.com",m="",y="42.0",v=200,_=e.exports=function(e){e=e||{},this._logger=new a(e.logLevel);var n=e.oauth2||{loginUrl:e.loginUrl,clientId:e.clientId,clientSecret:e.clientSecret,redirectUri:e.redirectUri,proxyUrl:e.proxyUrl,httpProxy:e.httpProxy};this.oauth2=n=n instanceof l?n:new l(n),this.loginUrl=e.loginUrl||n.loginUrl||g,this.version=e.version||y,this.maxRequest=e.maxRequest||this.maxRequest||10,e.proxyUrl?this._transport=new p.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new p.HttpProxyTransport(e.httpProxy):this._transport=new p,this.callOptions=e.callOptions,t("./core").emit("connection:new",this),this.process=new f(this),this.cache=new b;var i=e.refreshFn;!i&&this.oauth2.clientId&&(i=w),i&&(this._refreshDelegate=new h.SessionRefreshDelegate(this,i)),n={key:function(t){return t?t.type?"describe."+t.type:"describe."+t:"describe"}},this.describe$=this.cache.makeCacheable(this.describe,this,n),this.describe=this.cache.makeResponseCacheable(this.describe,this,n),this.describeSObject$=this.describe$,this.describeSObject=this.describe,i={key:function(t){var e=t.types,n=(t=t.autofetch||!1,e=25<e.length&&!t?e.slice(0,25):e,[]);return e.forEach((function(t){n.push("describe."+t)})),n}},this.batchDescribe=this.cache.makeResponseCacheable(this.batchDescribe,this,i),this.batchDescribeSObjects=this.batchDescribe,n={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,n),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,n),this.initialize(e)};function w(t,e){t.oauth2.refreshToken(t.refreshToken,(function(n,i){if(n)return e(n);n=C(i.id),t.initialize({instanceUrl:i.instance_url,accessToken:i.access_token,userInfo:n}),e(null,i.access_token,i)}))}function x(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"+00:00"}function C(t){var e=t.split("/");return{id:e.pop(),organizationId:e.pop(),url:t}}function k(t){return t&&String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}o(_,i.EventEmitter),_.prototype.initialize=function(t){if(!t.instanceUrl&&t.serverUrl&&(t.instanceUrl=t.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=t.instanceUrl||t.serverUrl||this.instanceUrl||m,this.accessToken=t.sessionId||t.accessToken||this.accessToken,this.refreshToken=t.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=t.signedRequest&&function(t){if(r.isString(t)){if("{"===t[0])return JSON.parse(t);var e=t.split(".").pop();return e=n.from(e,"base64").toString("utf-8"),JSON.parse(e)}return t}(t.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,p.CanvasTransport.supported&&(this._transport=new p.CanvasTransport(this.signedRequest))),t.userInfo&&(this.userInfo=t.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",r.bind((function(t){t.result&&r.map(t.result.sobjects,(function(t){return t.name})).forEach(this.sobject,this)}),this)),this.tooling&&this.tooling.initialize(),this._sessionType=t.sessionId?"soap":"oauth2"},_.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},_.prototype._normalizeUrl=function(t){return"/"===t[0]?0===t.indexOf("/services/")?this.instanceUrl+t:this._baseUrl()+t:t},_.prototype.request=function(t,e,n){"function"==typeof e&&(n=e,e=null),e=e||{};var i=this;return r.isString(t)&&(t={method:"GET",url:t}),t.url=this._normalizeUrl(t.url),(e=new h(this,e)).on("response",(function(t){t.headers&&t.headers["sforce-limit-info"]&&(t=t.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/))&&(i.limitInfo={apiUsage:{used:parseInt(t[1],10),limit:parseInt(t[2],10)}})})),e.request(t).thenCall(n)},_.prototype.requestGet=function(t,e,n){return t={method:"GET",url:t},this.request(t,e,n)},_.prototype.requestPost=function(t,e,n,i){return e={method:"POST",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,i)},_.prototype.requestPut=function(t,e,n,i){return e={method:"PUT",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,i)},_.prototype.requestPatch=function(t,e,n,i){return e={method:"PATCH",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}},this.request(e,n,i)},_.prototype.requestDelete=function(t,e,n){return t={method:"DELETE",url:t},this.request(t,e,n)},_.prototype.query=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),e=new d(this,t,e),n&&e.run(n),e},_.prototype.queryAll=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),(e=new d(this,t,e)).scanAll(!0),n&&e.run(n),e},_.prototype.queryMore=function(t,e,n){return"function"==typeof e&&(n=e,e=void 0),e=new d(this,{locator:t},e),n&&e.run(n),e},_.prototype._ensureVersion=function(t){var e=this.version.split(".");return parseInt(e[0],10)>=t},_.prototype._supports=function(t){return"sobject-collection"===t&&this._ensureVersion(42)},_.prototype.retrieve=function(t,e,n,i){return"function"==typeof n&&(i=n,n={}),n=n||{},(r.isArray(e)?this._supports("sobject-collection")?this._retrieveMany(t,e,n):this._retrieveParallel(t,e,n):this._retrieveSingle(t,e,n)).thenCall(i)},_.prototype._retrieveSingle=function(t,e,n){return e?(e=[this._baseUrl(),"sobjects",t,e].join("/"),n.fields&&(e+="?fields="+n.fields.join(",")),this.request({method:"GET",url:e,headers:n.headers})):s.reject(new Error("Invalid record ID. Specify valid record ID value"))},_.prototype._retrieveParallel=function(t,e,n){if(e.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var i=this;return s.all(e.map((function(e){return i._retrieveSingle(t,e,n).catch((function(t){if(n.allOrNone||"NOT_FOUND"!==t.errorCode)throw t;return null}))})))},_.prototype._retrieveMany=function(t,e,n){if(0===e.length)return s.resolve([]);var i=[this._baseUrl(),"composite","sobjects",t].join("/"),o=this;return(n.fields?s.resolve(n.fields):new s((function(e,n){o.describe$(t,(function(t,i){t?n(t):(i=i.fields.map((function(t){return t.name})),e(i))}))}))).then((function(t){return o.request({method:"POST",url:i,body:JSON.stringify({ids:e,fields:t}),headers:r.defaults(n.headers||{},{"Content-Type":"application/json"})})}))},_.prototype._toRecordResult=function(t,e){var n={statusCode:e.errorCode,message:e.message};return e.content&&(n.content=e.content),e.fields&&(n.fields=e.fields),n={success:!1,errors:[n]},t&&(n.id=t),n},_.prototype.insert=_.prototype.create=function(t,e,n,i){return r.isString(t)||(i=n,n=e,e=t,t=null),"function"==typeof n&&(i=n,n={}),n=n||{},(r.isArray(e)?this._supports("sobject-collection")?this._createMany(t,e,n):this._createParallel(t,e,n):this._createSingle(t,e,n)).thenCall(i)},_.prototype._createSingle=function(t,e,n){return(t=t||e.attributes&&e.attributes.type||e.type)?(delete(e=r.clone(e)).Id,delete e.type,delete e.attributes,t=[this._baseUrl(),"sobjects",t].join("/"),this.request({method:"POST",url:t,body:JSON.stringify(e),headers:r.defaults(n.headers||{},{"Content-Type":"application/json"})})):s.reject(new Error("No SObject Type defined in record"))},_.prototype._createParallel=function(t,e,n){if(e.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var i=this;return s.all(e.map((function(e){return i._createSingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(null,t)}))})))},_.prototype._createMany=function(t,e,n){if(0===e.length)return s.resolve([]);if(e.length>v&&n.allowRecursive){var i=this;return i._createMany(t,e.slice(0,v),n).then((function(o){return i._createMany(t,e.slice(v),n).then((function(t){return o.concat(t)}))}))}e=r.map(e,(function(e){var n=t||e.attributes&&e.attributes.type||e.type;return n?(delete(e=r.clone(e)).Id,delete e.type,e.attributes={type:n},e):s.reject(new Error("No SObject Type defined in record"))}));var o=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"POST",url:o,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:e}),headers:r.defaults(n.headers||{},{"Content-Type":"application/json"})})},_.prototype.update=function(t,e,n,i){return r.isString(t)||(i=n,n=e,e=t,t=null),"function"==typeof n&&(i=n,n={}),n=n||{},(r.isArray(e)?this._supports("sobject-collection")?this._updateMany(t,e,n):this._updateParallel(t,e,n):this._updateSingle(t,e,n)).thenCall(i)},_.prototype._updateSingle=function(t,e,n){var i=e.Id;return i?(t=t||e.attributes&&e.attributes.type||e.type)?(delete(e=r.clone(e)).Id,delete e.type,delete e.attributes,t=[this._baseUrl(),"sobjects",t,i].join("/"),this.request({method:"PATCH",url:t,body:JSON.stringify(e),headers:r.defaults(n.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{id:i,success:!0,errors:[]}})):s.reject(new Error("No SObject Type defined in record")):s.reject(new Error("Record id is not found in record."))},_.prototype._updateParallel=function(t,e,n){if(e.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var i=this;return s.all(e.map((function(e){return i._updateSingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(e.Id,t)}))})))},_.prototype._updateMany=function(t,e,n){if(0===e.length)return s.resolve([]);if(e.length>v&&n.allowRecursive){var i=this;return i._updateMany(t,e.slice(0,v),n).then((function(o){return i._updateMany(t,e.slice(v),n).then((function(t){return o.concat(t)}))}))}e=r.map(e,(function(e){var n=e.Id;if(!n)throw new Error("Record id is not found in record.");var i=t||e.attributes&&e.attributes.type||e.type;if(!i)throw new Error("No SObject Type defined in record");return delete(e=r.clone(e)).Id,e.id=n,delete e.type,e.attributes={type:i},e}));var o=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"PATCH",url:o,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:e}),headers:r.defaults(n.headers||{},{"Content-Type":"application/json"})})},_.prototype.upsert=function(t,e,n,i,o){r.isString(t)||(o=i,i=n,n=e,e=t,t=null),"function"==typeof i&&(o=i,i={}),i=i||{};var a=this,l=r.isArray(e);return((e=l?e:[e]).length>this.maxRequest?s.reject(new Error("Exceeded max limit of concurrent call")):s.all(r.map(e,(function(e){var o=t||e.attributes&&e.attributes.type||e.type,s=e[n];return delete(e=r.clone(e))[n],delete e.type,delete e.attributes,s=[a._baseUrl(),"sobjects",o,n,s].join("/"),a.request({method:"PATCH",url:s,body:JSON.stringify(e),headers:r.defaults(i.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{success:!0,errors:[]}}).catch((function(t){if(!l||i.allOrNone||!t.errorCode)throw t;return a._toRecordResult(null,t)}))}))).then((function(t){return!l&&r.isArray(t)?t[0]:t}))).thenCall(o)},_.prototype.delete=_.prototype.del=_.prototype.destroy=function(t,e,n,i){return"function"==typeof n&&(i=n,n={}),n=n||{},(r.isArray(e)?this._supports("sobject-collection")?this._destroyMany(t,e,n):this._destroyParallel(t,e,n):this._destroySingle(t,e,n)).thenCall(i)},_.prototype._destroySingle=function(t,e,n){return t=[this._baseUrl(),"sobjects",t,e].join("/"),this.request({method:"DELETE",url:t,headers:n.headers||null},{noContentResponse:{id:e,success:!0,errors:[]}})},_.prototype._destroyParallel=function(t,e,n){if(e.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var i=this;return s.all(e.map((function(e){return i._destroySingle(t,e,n).catch((function(t){if(n.allOrNone||!t.errorCode)throw t;return this._toRecordResult(e,t)}))})))},_.prototype._destroyMany=function(t,e,n){if(0===e.length)return s.resolve([]);if(e.length>v&&n.allowRecursive){var i=this;return i._destroyMany(t,e.slice(0,v),n).then((function(o){return i._destroyMany(t,e.slice(v),n).then((function(t){return o.concat(t)}))}))}var o=[this._baseUrl(),"composite","sobjects?ids="].join("/")+e.join(",");return n.allOrNone&&(o+="&allOrNone=true"),this.request({method:"DELETE",url:o,headers:n.headers||null})},_.prototype.search=function(t,e){return t=this._baseUrl()+"/search?q="+encodeURIComponent(t),this.request(t).thenCall(e)},_.prototype.describe=_.prototype.describeSObject=function(t,e){var n=t.type||t;return n=[this._baseUrl(),"sobjects",n,"describe"].join("/"),t=t.ifModifiedSince?{"If-Modified-Since":t.ifModifiedSince}:{},this.request({method:"GET",url:n,headers:t}).then((function(t){return""===t?s.resolve(void 0):s.resolve(t)})).thenCall(e)},_.prototype.batchDescribe=_.prototype.batchDescribeSObjects=function(t,e){var n=t.types,i=t.autofetch||!1,o=Math.min(t.maxConcurrentRequests||15,15),r=[];do{var s=25<n.length?n.slice(0,25):n}while(r.push(s),0<(n=25<n.length?n.slice(25):[]).length&&i);var a=[];do{var l=r.length>o?r.slice(0,o):r}while(a.push(l),0<(r=r.length>o?r.slice(o):[]).length);return this.doBatchDescribeRequestBatches(a).thenCall(e)},_.prototype.doBatchDescribeRequestBatches=function(t){var e=this,n=[],i=t.shift();return e.doBatchOfBatchDescribeRequests(i).then((function(i){return i.forEach((function(t){n.push(t)})),0<t.length?e.doBatchDescribeRequestBatches(t).then((function(t){return t.forEach((function(t){n.push(t)})),s.resolve(n)})):s.resolve(n)}))},_.prototype.doBatchOfBatchDescribeRequests=function(t){var e=this;return s.all(t.map((function(t){return e.doBatchDescribeRequest(t)}))).then((function(t){var e=[];return t.forEach((function(t){t.forEach((function(t){e.push(t)}))})),s.resolve(e)}))},_.prototype.doBatchDescribeRequest=function(t){var e=[],n=[this._baseUrl(),"composite/batch"].join("/"),i="v"+this.version,o=[];return t.forEach((function(t){o.push({method:"GET",url:[i,"sobjects",t,"describe"].join("/")})})),this.request({method:"POST",url:n,body:JSON.stringify({batchRequests:o}),headers:{"Content-Type":"application/json"}}).then((function(t){if(t.results){var n=0;for(n=0;n<t.results.length;n++){var i=t.results[n];Array.isArray(i.result)?i.result[0].errorCode&&i.result[0].message&&this._logger.error("Error: "+i.result[0].errorCode+" "+i.result[0].message+" - "+typesToFetch[n]):e.push(i.result)}}return s.resolve(e)}))},_.prototype.describeGlobal=function(t){var e=this._baseUrl()+"/sobjects";return this.request(e).thenCall(t)},_.prototype.sobject=function(t){return this.sobjects=this.sobjects||{},this.sobjects[t]=this.sobjects[t]||new c(this,t)},_.prototype.identity=function(t,e){"function"==typeof t&&(e=t,t={}),t=t||{};var n=this,i=this.userInfo&&this.userInfo.url;return s.resolve(i?{identity:i}:this.request({method:"GET",url:this._baseUrl(),headers:t.headers})).then((function(t){return t=t.identity,n.request({method:"GET",url:t})})).then((function(t){return n.userInfo={id:t.user_id,organizationId:t.organization_id,url:t.id},t})).thenCall(e)},_.prototype.authorize=function(t,e,n){"function"==typeof e&&(n=e,e={});var i=this,o=this._logger;return this.oauth2.requestToken(t,e).then((function(t){var e=C(t.id);return i.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,refreshToken:t.refresh_token,userInfo:e}),o.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e})).thenCall(n)},_.prototype.login=function(t,e,n){var i,o;return this._refreshDelegate=new h.SessionRefreshDelegate(this,(i=t,o=e,function(t,e){t.login(i,o,(function(n){return n?e(n):void e(null,t.accessToken)}))})),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(t,e,n):this.loginBySoap(t,e,n)},_.prototype.loginByOAuth2=function(t,e,n){var i=this,o=this._logger;return this.oauth2.authenticate(t,e).then((function(t){var e=C(t.id);return i.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,userInfo:e}),o.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e})).thenCall(n)},_.prototype.loginBySoap=function(t,e,n){var i=this,o=this._logger,r=(e=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+k(t)+"</username>","<password>"+k(e)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),[this.loginUrl,"services/Soap/u",this.version].join("/"));return this._transport.httpRequest({method:"POST",url:r,body:e,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(t){if(400<=t.statusCode){var e=(a=t.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&a[1];throw new Error(e||t.body)}o.debug("SOAP response = "+t.body);var n=(a=t.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&a[1],s=(a=t.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&a[1],a=(e=(a=t.body.match(/<userId>([^<]+)<\/userId>/))&&a[1],t=(a=t.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&a[1],r.split("/").slice(0,3).join("/"));return a={id:e,organizationId:t,url:a+="/id/"+t+"/"+e},i.initialize({serverUrl:n.split("/").slice(0,3).join("/"),sessionId:s,userInfo:a}),o.debug("<login> completed. user id = "+e+", org id = "+t),a})).thenCall(n)},_.prototype.logout=function(t,e){return"function"==typeof t&&(e=t,t=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(t,e):this.logoutBySoap(t,e)},_.prototype.logoutByOAuth2=function(t,e){"function"==typeof t&&(e=t,t=!1);var n=this;return this._logger,this.oauth2.revokeToken(t?this.refreshToken:this.accessToken).then((function(){n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()})).thenCall(e)},_.prototype.logoutBySoap=function(t,e){"function"==typeof t&&(e=t,t=!1);var n=this,i=this._logger;return t=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+k(t?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join(""),this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:t,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(t){if(i.debug("SOAP statusCode = "+t.statusCode+", response = "+t.body),400<=t.statusCode){var e=(e=t.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&e[1];throw new Error(e||t.body)}n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()})).thenCall(e)},_.prototype.recent=function(t,e,n){var i;return r.isString(t)||(n=e,e=t,t=void 0),r.isNumber(e)||(n=e,e=void 0),t?(i=[this._baseUrl(),"sobjects",t].join("/"),this.request(i).then((function(t){return e?t.recentItems.slice(0,e):t.recentItems})).thenCall(n)):(i=this._baseUrl()+"/recent",e&&(i+="?limit="+e),this.request(i).thenCall(n))},_.prototype.updated=function(t,e,n,i){return t=[this._baseUrl(),"sobjects",t,"updated"].join("/"),"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=x(e)),e&&(t+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=x(n)),n&&(t+="&end="+encodeURIComponent(n)),this.request(t).thenCall(i)},_.prototype.deleted=function(t,e,n,i){return t=[this._baseUrl(),"sobjects",t,"deleted"].join("/"),"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=x(e)),e&&(t+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=x(n)),n&&(t+="&end="+encodeURIComponent(n)),this.request(t).thenCall(i)},_.prototype.tabs=function(t){var e=[this._baseUrl(),"tabs"].join("/");return this.request(e).thenCall(t)},_.prototype.limits=function(t){var e=[this._baseUrl(),"limits"].join("/");return this.request(e).thenCall(t)},_.prototype.theme=function(t){var e=[this._baseUrl(),"theme"].join("/");return this.request(e).thenCall(t)},_.prototype.quickActions=function(t){return this.request("/quickActions").thenCall(t)},_.prototype.quickAction=function(t){return new u(this,"/quickActions/"+t)}}).call(this,t("buffer").Buffer)},{"./cache":18,"./core":20,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./sobject":34,"./transport":36,buffer:41,events:48,inherits:85,"lodash/core":89}],20:[function(t,e,n){"use strict";var i=t("events").EventEmitter;(i=e.exports=new i).VERSION=t("./VERSION"),i.Connection=t("./connection"),i.OAuth2=t("./oauth2"),i.Date=i.SfDate=t("./date"),i.RecordStream=t("./record-stream"),i.Promise=t("./promise"),i.require=t("./require")},{"./VERSION":2,"./connection":19,"./date":22,"./oauth2":25,"./promise":27,"./record-stream":30,"./require":32,events:48}],21:[function(t,e,n){"use strict";var i=t("lodash/core"),o=t("csv-parse/lib/es5"),r=t("csv-parse/lib/es5/sync"),s=t("csv-stringify"),a=t("csv-stringify/lib/sync");e.exports={parseCSV:function(t,e){return e=i.extend({},e,{columns:!0}),r(t,e)},toCSV:function(t,e){return e=i.extend({},e,{header:!0}),a(t,e)},parseCSVStream:function(t){return t=i.extend({},t,{columns:!0}),o(t)},serializeCSVStream:function(t){return t=i.extend({},t,{header:!0}),s(t)}}},{"csv-parse/lib/es5":44,"csv-parse/lib/es5/sync":45,"csv-stringify":46,"csv-stringify/lib/sync":47,"lodash/core":89}],22:[function(t,e,n){"use strict";var i=t("lodash/core"),o=e.exports=function(t){this._literal=t};function r(t){return(t<10?"0":"")+t}o.prototype.toString=o.prototype.toJSON=function(){return this._literal},o.toDateLiteral=function(t){i.isNumber(t)?t=new Date(t):i.isString(t)&&(t=o.parseDate(t));var e=t.getFullYear(),n=t.getMonth()+1;return t=t.getDate(),t=[e,r(n),r(t)].join("-"),new o(t)},o.toDateTimeLiteral=function(t){i.isNumber(t)?t=new Date(t):i.isString(t)&&(t=o.parseDate(t));var e=t.getUTCFullYear(),n=t.getUTCMonth()+1,s=t.getUTCDate(),a=t.getUTCHours(),l=t.getUTCMinutes();return t=t.getUTCSeconds(),t=[e,r(n),r(s)].join("-")+"T"+[r(a),r(l),r(t)].join(":")+"Z",new o(t)},o.parseDate=function(t){var e,n=new Date,i=t.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(i)return n=new Date(0),i[4]?(n.setUTCFullYear(parseInt(i[1],10)),n.setUTCDate(parseInt(i[3],10)),n.setUTCMonth(parseInt(i[2],10)-1),n.setUTCHours(parseInt(i[5],10)),n.setUTCMinutes(parseInt(i[6],10)),n.setUTCSeconds(parseInt(i[7],10)),n.setUTCMilliseconds(parseInt(i[9]||"0",10)),i[10]&&"Z"!==i[10]&&(e=60*parseInt(i[12],10)+parseInt(i[13],10),n.setTime(("+"===i[11]?-1:1)*e*60*1e3+n.getTime()))):(n.setFullYear(parseInt(i[1],10)),n.setDate(parseInt(i[3],10)),n.setMonth(parseInt(i[2],10)-1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),n;throw new Error("Invalid date format is specified : "+t)};var s,a={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(s in a){var l=a[s];o[s]=1===l?new o(s):function(t){return function(e){return new o(t+":"+e)}}(s)}},{"lodash/core":89}],23:[function(t,e,n){"use strict";function i(t,e){e=e||{},this._conn=t,this.on("resume",(function(e){t.emit("resume",e)})),this._responseType=e.responseType,this._transport=e.transport||t._transport,this._noContentResponse=e.noContentResponse}var o=t("inherits"),r=t("events"),s=t("lodash/core"),a=t("./promise");function l(t){return JSON.parse(t)}function d(e){var n={};if(t("xml2js").parseString(e,{explicitArray:!1},(function(t,e){n={error:t,result:e}})),n.error)throw n.error;return n.result}function c(e){return t("./csv").parseCSV(e)}function u(t){return t}function h(t,e){this._conn=t,this._refreshFn=e,this._refreshing=!1}o(i,r.EventEmitter),i.prototype.request=function(t,e){function n(e){e?d.reject(e):(l!==o.instanceUrl&&(t.url=t.url.replace(l,o.instanceUrl)),i.request(t).then((function(t){d.resolve(t)}),(function(t){d.reject(t)})))}var i=this,o=this._conn,r=o._logger,s=this.getRefreshDelegate(),l=o.instanceUrl,d=a.defer();if(s&&s._refreshing)return s.once("resume",n),d.promise.thenCall(e);i.beforeSend(t),i.emit("request",t),r.debug("<request> method="+t.method+", url="+t.url);var c=Date.now();return this._transport.httpRequest(t).then((function(e){var o=Date.now();if(r.debug("elapsed time : "+(o-c)+"msec"),r.debug("<response> status="+e.statusCode+", url="+t.url),i.emit("response",e),i.isSessionExpired(e)&&s)return s.refresh(c,n),d.promise;if(i.isErrorResponse(e))throw i.getError(e);return i.getResponseBody(e)}),(function(t){var e=Date.now();throw r.debug("elapsed time : "+(e-c)+"msec"),r.error(t),t})).thenCall(e)},i.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},i.prototype.beforeSend=function(t){if(t.headers=t.headers||{},this._conn.accessToken&&(t.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var e,n=[];for(e in this._conn.callOptions)n.push(e+"="+this._conn.callOptions[e]);t.headers["Sforce-Call-Options"]=n.join(", ")}},i.prototype.getResponseContentType=function(t){return this._responseType||t.headers&&t.headers["content-type"]},i.prototype.parseResponseBody=function(t){var e=this.getResponseContentType(t),n=/^(text|application)\/xml(;|$)/.test(e)?d:/^application\/json(;|$)/.test(e)?l:/^text\/csv(;|$)/.test(e)?c:u;try{return n(t.body)}catch(e){return t.body}},i.prototype.getResponseBody=function(t){if(204===t.statusCode)return this._noContentResponse;var e,n=this.parseResponseBody(t);if(this.hasErrorInResponseBody(n))throw this.getError(t,n);if(300===t.statusCode)throw(e=new Error("Multiple records found")).name="MULTIPLE_CHOICES",e.content=n,e;return n},i.prototype.isSessionExpired=function(t){return 401===t.statusCode},i.prototype.isErrorResponse=function(t){return 400<=t.statusCode},i.prototype.hasErrorInResponseBody=function(t){return!1},i.prototype.parseError=function(t){return s.isArray(t)?t[0]:t},i.prototype.getError=function(t,e){var n;try{n=this.parseError(e||this.parseResponseBody(t))}catch(t){}n=s.isObject(n)&&s.isString(n.message)?n:{errorCode:"ERROR_HTTP_"+t.statusCode,message:t.body};var i,o=new Error(n.message);for(i in o.name=n.errorCode,n)o[i]=n[i];return o},o(h,r.EventEmitter),h.prototype.refresh=function(t,e){if(this._lastRefreshedAt>t)return e();var n=this,i=this._conn,o=i._logger;return n.once("resume",e),n._refreshing?void 0:(o.debug("<refresh token>"),n._refreshing=!0,n._refreshFn(i,(function(t,e,r){t||(o.debug("Connection refresh completed."),i.accessToken=e,i.emit("refresh",e,r)),n._lastRefreshedAt=Date.now(),n._refreshing=!1,n.emit("resume",t)})))},i.SessionRefreshDelegate=h,e.exports=i},{"./csv":21,"./promise":27,events:48,inherits:85,"lodash/core":89,xml2js:124}],24:[function(t,e,n){"use strict";var i,o=e.exports=function(t){"string"==typeof t&&(t=r[t]),t=t||r.INFO,this._logLevel=t},r=o.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(i in o.prototype.log=function(t,e){this._logLevel<=t&&(t<r.ERROR?console.log(e):console.error(e))},r)o.prototype[i.toLowerCase()]=function(t){return function(e){this.log(t,e)}}(r[i])},{}],25:[function(t,e,n){"use strict";var i=t("querystring"),o=t("lodash/core"),r=t("./transport"),s="https://login.salesforce.com";e=e.exports=function(t){t.authzServiceUrl&&t.tokenServiceUrl?(this.loginUrl=t.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=t.authzServiceUrl,this.tokenServiceUrl=t.tokenServiceUrl,this.revokeServiceUrl=t.revokeServiceUrl):(this.loginUrl=t.loginUrl||s,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.redirectUri=t.redirectUri,t.proxyUrl?this._transport=new r.ProxyTransport(t.proxyUrl):t.httpProxy?this._transport=new r.HttpProxyTransport(t.httpProxy):this._transport=new r},o.extend(e.prototype,{getAuthorizationUrl:function(t){return t=o.extend({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.authzServiceUrl+(0<=this.authzServiceUrl.indexOf("?")?"&":"?")+i.stringify(t)},refreshToken:function(t,e){return t={grant_type:"refresh_token",refresh_token:t,client_id:this.clientId},this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,e)},requestToken:function(t,e,n){return"function"==typeof e&&(n=e,e={}),e=o.extend({grant_type:"authorization_code",code:t,client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.clientSecret&&(e.client_secret=this.clientSecret),this._postParams(e,n)},authenticate:function(t,e,n){return this._postParams({grant_type:"password",username:t,password:e,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},n)},revokeToken:function(t,e){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:i.stringify({token:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(400<=t.statusCode){var e=i.parse(t.body);throw e&&e.error||(e={error:"ERROR_HTTP_"+t.statusCode,error_description:t.body}),(t=new Error(e.error_description)).name=e.error,t}})).thenCall(e)},_postParams:function(t,e){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:i.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(t){var e;try{e=JSON.parse(t.body)}catch(t){}if(400<=t.statusCode){e=e||{error:"ERROR_HTTP_"+t.statusCode,error_description:t.body};var n=new Error(e.error_description);throw n.name=e.error,n}return e})).thenCall(e)}})},{"./transport":36,"lodash/core":89,querystring:97}],26:[function(t,e,n){"use strict";var i=t("lodash/core"),o=(t("./promise"),t("./connection"),e.exports=function(t){this.rule=new o(t),this.approval=new r(t)},function(t){this._conn=t});o.prototype.list=function(t){return this._conn.request("/process/rules").then((function(t){return t.rules})).thenCall(t)},o.prototype.trigger=function(t,e){return t=i.isArray(t)?t:[t],this._conn.request({method:"POST",url:"/process/rules/",body:JSON.stringify({contextIds:t}),headers:{"content-type":"application/json"}}).thenCall(e)};var r=function(t){this._conn=t};r.prototype.list=function(t){return this._conn.request("/process/approvals").then((function(t){return t.approvals})).thenCall(t)},r.prototype.request=function(t,e){return t=t.map((function(t){return t._request||t})),this._conn.request({method:"POST",url:"/process/approvals",headers:{"content-type":"application/json"},body:JSON.stringify({requests:t})}).thenCall(e)},r.prototype._createRequest=function(t,e,n,o,r){return"function"==typeof n&&(r=n,n=o=null),"function"==typeof o&&(r=o,o=null),o=o||{},n={actionType:t,contextId:e,comments:n},i.extend(n,o),new s(this,n).thenCall(r)},r.prototype.submit=function(t,e,n,i){return this._createRequest("Submit",t,e,n,i)},r.prototype.approve=function(t,e,n,i){return this._createRequest("Approve",t,e,n,i)},r.prototype.reject=function(t,e,n,i){return this._createRequest("Reject",t,e,n,i)};var s=function(t,e){this._process=t,this._request=e};s.prototype.then=function(t,e){this._promise||(this._promise=this._process.request([this]).then((function(t){return t[0]}))),this._promise.then(t,e)},s.prototype.thenCall=function(t){return t?this.then((function(e){t(null,e)}),(function(e){t(e)})):this}},{"./connection":19,"./promise":27,"lodash/core":89}],27:[function(t,e,n){(function(n){"use strict";var i=t("lodash/core"),o=t("promise/lib/es6-extensions");o.prototype.thenCall=function(t){return i.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this},o.prototype.fail=o.prototype.catch,o.defer=function(){return new r};var r=function(){var t=this;this.promise=new o((function(e,n){t.resolve=e,t.reject=n}))};e.exports=o}).call(this,t("_process"))},{_process:92,"lodash/core":89,"promise/lib/es6-extensions":94}],28:[function(t,e,n){(function(n){"use strict";var i=t("inherits"),o=(t("events"),t("readable-stream")),r=t("lodash/core"),s=t("./promise"),a=(t("./date"),t("./soql-builder")),l=t("./record-stream"),d=e.exports=function(t,e,n){d.super_.call(this,{objectMode:!0}),this._conn=t,r.isString(e)?this._soql=e:e.locator&&0<=e.locator.indexOf("/")?this._locator=e.locator.split("/").pop():(this._config=e,this.select(e.fields),e.includes&&this.include(e.includes),e.sort&&this.sort(e.sort)),this._options=r.defaults(n||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:c.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=s.defer()};i(d,o.Readable),d.prototype.select=function(t){if(this._soql)throw Error("Cannot set select fields for the query which has already built SOQL.");if(t=t||"*",r.isString(t))t=t.split(/\s*,\s*/);else if(r.isObject(t)&&!r.isArray(t)){var e,n=[];for(e in t)t[e]&&n.push(e);t=n}return this._config.fields=t,this},d.prototype.where=function(t){if(this._soql)throw Error("Cannot set where conditions for the query which has already built SOQL.");return this._config.conditions=t,this},d.prototype.limit=function(t){if(this._soql)throw Error("Cannot set limit for the query which has already built SOQL.");return this._config.limit=t,this},d.prototype.skip=d.prototype.offset=function(t){if(this._soql)throw Error("Cannot set skip/offset for the query which has already built SOQL.");return this._config.offset=t,this},d.prototype.sort=d.prototype.orderby=function(t,e){if(this._soql)throw Error("Cannot set sort for the query which has already built SOQL.");return r.isString(t)&&r.isString(e)&&(t=[[t,e]]),this._config.sort=t,this},d.prototype.include=function(t,e,n,i){if(this._soql)throw Error("Cannot include child relationship into the query which has already built SOQL.");if(!r.isObject(t))return i={table:t,conditions:e,fields:n,limit:i&&i.limit,offset:i&&(i.offset||i.skip),sort:i&&i.sort},r.isArray(this._config.includes)||(this._config.includes=[]),this._config.includes.push(i),i=new u(this._conn,this,i),this._children=this._children||[],this._children.push(i),i;var o,s=t;for(o in s){var a=s[o];this.include(o,a.conditions,a.fields,a)}},d.prototype.maxFetch=function(t){return this._options.maxFetch=t,this},d.prototype.autoFetch=function(t){return this._options.autoFetch=t,this},d.prototype.scanAll=function(t){return this._options.scanAll=t,this};var c=d.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach((function(t){c[t]=t})),d.prototype.setResponseTarget=function(t){return t in c&&(this._options.responseTarget=t),this},d.prototype.run=d.prototype.exec=d.prototype.execute=function(t,e){var n=this,i=this._conn._logger,o=this._deferred;if(this._executed)return o.reject(new Error("re-executing already executed query")),this;if(this._finished)return o.reject(new Error("executing already closed query")),this;function s(t,n){if(r.isFunction(e))try{n=e(t,n),t=null}catch(n){t=n}t?o.reject(t):o.resolve(n)}return"function"==typeof t&&(e=t,t={}),t={headers:(t=t||{}).headers||n._options.headers,responseTarget:t.responseTarget||n._options.responseTarget,autoFetch:t.autoFetch||n._options.autoFetch,maxFetch:t.maxFetch||n._options.maxFetch,scanAll:t.scanAll||n._options.scanAll},this.once("response",(function(t){s(null,t)})),this.once("error",(function(t){s(t)})),this.once("fetch",(function(){var o,r;t.responseTarget===c.Records&&(n._chaining||e)&&(i.debug("--- collecting all fetched records ---"),o=[],r=function(t){o.push(t)},n.on("record",r),n.once("end",(function(){n.removeListener("record",r),n.emit("response",o,n)})))})),this._executed=!0,i.debug(">>> Query start >>>"),this._execute(t).then((function(){i.debug("*** Query finished ***")})).fail((function(t){i.debug("--- Query error ---"),n.emit("error",t)})),this},d.prototype._execute=function(t){var e=this,n=this._conn._logger,i=t.responseTarget,o=t.autoFetch,r=t.maxFetch,a=t.scanAll;return s.resolve(e._locator?e._conn._baseUrl()+"/query/"+e._locator:e.toSOQL().then((function(t){return e.totalFetched=0,n.debug("SOQL = "+t),e._conn._baseUrl()+"/"+(a?"queryAll":"query")+"?q="+encodeURIComponent(t)}))).then((function(n){return e._conn.request({method:"GET",url:n,headers:t.headers})})).then((function(n){var s;switch(e.emit("fetch"),e.totalSize=n.totalSize,i){case c.SingleRecord:s=n.records&&0<n.records.length?n.records[0]:null;break;case c.Records:s=n.records;break;case c.Count:s=n.totalSize;break;default:s=n}i!==c.Records&&e.emit("response",s,e);for(var a=n.records&&n.records.length||0,l=0;l<a;l++){if(e.totalFetched>=r){e._finished=!0;break}var d=n.records[l];e.push(d),e.emit("record",d,e.totalFetched++,e)}return n.nextRecordsUrl&&(e._locator=n.nextRecordsUrl.split("/").pop()),e._finished=e._finished||n.done||!o,e._finished?e.push(null):e._execute(t),s}))},d.prototype._read=function(t){this._finished||this._executed||this.execute({autoFetch:!0})},d.prototype.on=function(t,e){var n;return"record"===t&&(n=this).on("readable",(function(){for(;null!==n.read(););})),d.super_.prototype.on.call(this,t,e)},d.prototype.addListener=d.prototype.on,d.prototype._expandFields=function(){if(this._soql)return s.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var t,e,n=this,i=n._conn._logger,o=this._conn,a=this._config.table,l=this._config.fields||[];return i.debug("_expandFields: table = "+a+", fields = "+l.join(", ")),s.all([s.resolve(n._parent?(t=a,e=n._parent._config.table,i.debug('finding table for relation "'+t+'" in "'+e+'"...'),d(e).then((function(e){var n=t.toUpperCase();return(e=r.find(e.childRelationships,(function(t){return(t.relationshipName||"").toUpperCase()===n})))?e.childSObject:s.reject(new Error("No child relationship found: "+t))}))):a).then((function(t){return s.all(r.map(l,(function(e){return function t(e,n){i.debug('expanding field "'+n+'" in "'+e+'"...');var o=n.split(".");return"*"===o[o.length-1]?d(e).then((function(n){if(i.debug("table "+e+"has been described"),1<o.length){var s=o.shift(),a=r.find(n.fields,(function(t){return t.relationshipName&&t.relationshipName.toUpperCase()===s.toUpperCase()}));return a?(a=1===a.referenceTo.length?a.referenceTo[0]:"Name",t(a,o.join(".")).then((function(t){return r.map(t,(function(t){return s+"."+t}))}))):[]}return r.map(n.fields,(function(t){return t.name}))})):s.resolve([n])}(t,e)}))).then((function(t){n._config.fields=r.flatten(t)}))})),s.all(r.map(n._children||[],(function(t){return t._expandFields()})))]);function d(t){i.debug("describe cache: "+t);var e=s.defer();return o.describe$(t,(function(t,n){i.debug("... done."),t?e.reject(t):e.resolve(n)})),e.promise}},d.prototype.explain=function(t){var e=this,n=this._conn._logger;return e.toSOQL().then((function(t){return n.debug("SOQL = "+t),t="/query/?explain="+encodeURIComponent(t),e._conn.request(t)})).thenCall(t)},d.prototype.toSOQL=function(t){var e=this;return s.resolve(e._soql||e._expandFields().then((function(){return a.createSOQL(e._config)}))).thenCall(t)},d.prototype.stream=l.Serializable.prototype.stream,d.prototype.map=l.prototype.map,d.prototype.filter=l.prototype.map,d.prototype.delete=d.prototype.del=d.prototype.destroy=function(t,e,n){if("function"==typeof t?(n=t,e={},t=null):"object"==typeof t&&null!==t&&(n=e,e=t,t=null),e=e||{},!(t=t||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk delete.");var i=!1===e.allowBulk?-1:"number"==typeof e.bulkThreshold?e.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,o=this;return new s((function(e,n){var r=[],s=null;o.on("data",(function(a){a.Id?(a={Id:a.Id},s?s.write(a):(r.push(a),(i<0||r.length>i)&&(s=o._conn.sobject(t).deleteBulk().on("response",e).on("error",n),r.forEach((function(t){s.write(t)})),r=[]))):o.emit("error",new Error("Queried record does not include Salesforce record ID."))})).on("end",(function(){var i;s?s.end():(i=r.map((function(t){return t.Id})),o._conn.sobject(t).destroy(i,{allowRecursive:!0}).then(e,n))})).on("error",n)})).thenCall(n)},d.prototype.update=function(t,e,n,i){if("function"==typeof e?(i=e,n={},e=null):"object"==typeof e&&null!==e&&(i=n,n=e,e=null),n=n||{},!(e=e||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk update.");var o=r.isFunction(t)?l.map(t):l.recordMapStream(t),a=!1===n.allowBulk?-1:"number"==typeof n.bulkThreshold?n.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,d=this;return new s((function(t,n){var i=[],r=null;d.on("error",n).pipe(o).on("data",(function(o){r?r.write(o):(i.push(o),(a<0||i.length>a)&&(r=d._conn.sobject(e).updateBulk().on("response",t).on("error",n),i.forEach((function(t){r.write(t)})),i=[]))})).on("end",(function(){r?r.end():d._conn.sobject(e).update(i,{allowRecursive:!0}).then(t,n)})).on("error",n)})).thenCall(i)},d.prototype.then=function(t,e){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},d.prototype.thenCall=function(t){return r.isFunction(t)&&this.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))})),this};var u=function(t,e,n){u.super_.call(this,t,n),this._parent=e};i(u,d),u.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},u.prototype.end=function(){return this._parent},u.prototype.run=u.prototype.exec=u.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,t("_process"))},{"./date":22,"./promise":27,"./record-stream":30,"./soql-builder":35,_process:92,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],29:[function(t,e,n){"use strict";e=e.exports=function(t,e){this._conn=t,this._path=e},e.prototype.describe=function(t){var e=this._path+"/describe";return this._conn.request(e).thenCall(t)},e.prototype.defaultValues=function(t,e){"function"==typeof t&&(e=t,t=null);var n=this._path+"/defaultValues";return t&&(n+="/"+t),this._conn.request(n).thenCall(e)},e.prototype.execute=function(t,e,n){return e={contextId:t,record:e},this._conn.requestPost(this._path,e).thenCall(n)}},{}],30:[function(t,e,n){"use strict";t("events");var i=((r=t("readable-stream")).Duplex,r.Transform),o=r.PassThrough,r=t("inherits"),s=t("lodash/core"),a=t("./csv"),l=e.exports=function(){l.super_.call(this,{objectMode:!0})};r(l,i),l.prototype._transform=function(t,e,n){this.emit("record",t),this.push(t),n()},l.prototype.map=function(t){return this.pipe(l.map(t))},l.prototype.filter=function(t){return this.pipe(l.filter(t))};var d=l.Serializable=function(){d.super_.call(this),this._dataStream=null};r(d,l),d.prototype.stream=function(t,e){var n=u[t=t||"csv"];if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new o,this.pipe(n.serialize(e)).pipe(this._dataStream)),this._dataStream};var c=l.Parsable=function(){c.super_.call(this),this._dataStream=null};r(c,l),c.prototype.stream=function(t,e){var n=u[t=t||"csv"],i=this;if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new o,this._parserStream=n.parse(e).on("error",(function(t){i.emit("error",t)})),this._parserStream.pipe(this).pipe(new o({objectMode:!0,highWaterMark:5e5}))),this._dataStream},c.prototype.on=function(t,e){return"readable"!==t&&"record"!==t||this._dataStream.pipe(this._parserStream),c.super_.prototype.on.call(this,t,e)},c.prototype.addListener=c.prototype.on,l.map=function(t){var e=new l.Serializable;return e._transform=function(e,n,i){e=t(e)||e,this.push(e),i()},e},l.recordMapStream=function(t,e){return l.map((function(n){var i,o={Id:n.Id};for(i in t)o[i]=e?t[i]:function(t,e){if(s.isString(t)){var n=/^\$\{(\w+)\}$/.exec(t);return n?e[n[1]]:t.replace(/\$\{(\w+)\}/g,(function(t,n){return n=e[n],s.isNull(n)||s.isUndefined(n)?"":String(n)}))}return t}(t[i],n);return o}))},l.filter=function(t){var e=new l.Serializable;return e._transform=function(e,n,i){t(e)&&this.push(e),i()},e},r={serialize:function(t){return t=t||{},e=l.map((function(e){return function t(e,n){return Object.keys(e).reduce((function(e,i){var o,r=e[i],a={};return"attributes"===i?delete(e=s.extend({},e))[i]:n.nullValue&&null===r?(a[i]=n.nullValue,e=s.extend({},e,a)):null!==r&&"object"==typeof r&&(o=t(r,n),e=Object.keys(o).reduce((function(t,e){return t[i+"."+e]=o[e],t}),s.extend({},e))),e}),e)}(e,t)})),n=a.serializeCSVStream(t),(i=new o).on("pipe",(function(t){t.unpipe(i),t.pipe(e).pipe(n)})),i.pipe=function(t,e){return n.pipe(t,e)},i;var e,n,i},parse:function(t){return a.parseCSVStream(t)}};var u=l.DataStreamConverters={csv:r}},{"./csv":21,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],31:[function(t,e,n){"use strict";var i=t("lodash/core");e=e.exports=function(t,e,n){this._conn=t,this.type=e,this.id=n},e.prototype.retrieve=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.retrieve(this.type,this.id,t,e)},e.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),(t=i.clone(t)).Id=this.id,this._conn.update(this.type,t,e,n)},e.prototype.delete=e.prototype.del=e.prototype.destroy=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.destroy(this.type,this.id,t,e)},e.prototype.blob=function(t){return t=[this._conn._baseUrl(),"sobjects",this.type,this.id,t].join("/"),this._conn.request(t).stream()}},{"lodash/core":89}],32:[function(t,e,n){"use strict";var i=t("./_required");e.exports=function(t){"./jsforce"!==t&&"jsforce"!==t||(t="./core");var e=i[t];if(void 0===e)throw new Error("Cannot find module '"+t+"'");return e}},{"./_required":3}],33:[function(t,e,n){"use strict";var i=t("inherits"),o=t("lodash/core"),r=(t("xml2js"),t=t("./http-api"),e.exports=function(t,e){r.super_.apply(this,arguments),this._endpointUrl=e.endpointUrl,this._xmlns=e.xmlns||"urn:partner.soap.sforce.com"});function s(t,e){var n=e.shift();if(n){for(var i in t)if(n.test(i))return s(t[i],e);return null}return t}function a(t,e){if(o.isObject(t)&&(e=t,t=null),o.isArray(e))return o.map(e,(function(e){return a(t,e)})).join("");var n=[],i=[];if(o.isObject(e)){for(var r in e){var s=e[r];"@"===r[0]?(r=r.substring(1),n.push(r+'="'+s+'"')):i.push(a(r,s))}e=i.join("")}else e=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(t?"<"+t+(0<n.length?" "+n.join(" "):"")+">":"")+e+(t?"</"+t+">":"")}i(r,t),r.prototype.invoke=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);var r={};return r[t]=e,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:r}).then((function(t){return n?function t(e,n){if(o.isArray(e))return e.map((function(e){return t(e,n&&n[0])}));if(o.isObject(e)){if(e.$&&"true"===e.$["xsi:nil"])return null;if(o.isArray(n))return[t(e,n[0])];var i,r={};for(i in e)r[i]=t(e[i],n&&n[i]);return r}if(o.isArray(n))return[t(e,n[0])];if(o.isObject(n))return{};switch(n){case"string":return String(e);case"number":return Number(e);case"boolean":return"true"===e;default:return e}}(t,n):t})).thenCall(i)},r.prototype.beforeSend=function(t){t.body=this._createEnvelope(t.message)},r.prototype.isSessionExpired=function(t){return 500===t.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(t.body)},r.prototype.parseError=function(t){return{errorCode:(t=s(t,[/:Envelope$/,/:Body$/,/:Fault$/])).faultcode,message:t.faultstring}},r.prototype.getResponseBody=function(t){return s(r.super_.prototype.getResponseBody.call(this,t),[/:Envelope$/,/:Body$/,/.+/])},r.prototype._createEnvelope=function(t){var e={},n=this._conn;return n.accessToken&&(e.SessionHeader={sessionId:this._conn.accessToken}),n.callOptions&&(e.CallOptions=n.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',a(e),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',a(t),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},{"./http-api":23,inherits:85,"lodash/core":89,xml2js:124}],34:[function(t,e,n){"use strict";var i=t("lodash/core"),o=t("./record"),r=t("./query"),s=(t("./cache"),t("./quick-action"));e=e.exports=function(t,e){this._conn=t,this.type=e,e={key:"describe."+this.type},this.describe$=t.cache.makeCacheable(this.describe,this,e),this.describe=t.cache.makeResponseCacheable(this.describe,this,e),e={key:"layouts."+this.type},this.layouts$=t.cache.makeCacheable(this.layouts,this,e),this.layouts=t.cache.makeResponseCacheable(this.layouts,this,e),e={key:"compactLayouts."+this.type},this.compactLayouts$=t.cache.makeCacheable(this.compactLayouts,this,e),this.compactLayouts=t.cache.makeResponseCacheable(this.compactLayouts,this,e),e={key:"approvalLayouts."+this.type},this.approvalLayouts$=t.cache.makeCacheable(this.approvalLayouts,this,e),this.approvalLayouts=t.cache.makeResponseCacheable(this.approvalLayouts,this,e)},e.prototype.insert=e.prototype.create=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.create(this.type,t,e,n)},e.prototype.retrieve=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.retrieve(this.type,t,e,n)},e.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.update(this.type,t,e,n)},e.prototype.upsert=function(t,e,n,i){return"function"==typeof n&&(i=n,n={}),this._conn.upsert(this.type,t,e,n,i)},e.prototype.delete=e.prototype.del=e.prototype.destroy=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.destroy(this.type,t,e,n)},e.prototype.describe=function(t){return this._conn.describe(this.type,t)},e.prototype.record=function(t){return new o(this._conn,this.type,t)},e.prototype.find=function(t,e,n,i){return"function"==typeof t?(i=t,t={},n=e=null):"function"==typeof e?(i=e,n=e=null):"function"==typeof n&&(i=n,n=null),t={fields:e,includes:(n=n||{}).includes,table:this.type,conditions:t,limit:n.limit,sort:n.sort,offset:n.offset||n.skip},(n=new r(this._conn,t,n)).setResponseTarget(r.ResponseTargets.Records),i&&n.run(i),n},e.prototype.findOne=function(t,e,n,o){return"function"==typeof t?(o=t,t={},n=e=null):"function"==typeof e?(o=e,n=e=null):"function"==typeof n&&(o=n,n=null),n=i.extend(n||{},{limit:1}),(n=this.find(t,e,n)).setResponseTarget(r.ResponseTargets.SingleRecord),o&&n.run(o),n},e.prototype.select=function(t,e){return this.find(null,t,null,e)},e.prototype.count=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=this.find(t,{"count()":!0})).setResponseTarget("Count"),e&&t.run(e),t},e.prototype.bulkload=function(t,e,n,i){return this._conn.bulk.load(this.type,t,e,n,i)},e.prototype.insertBulk=e.prototype.createBulk=function(t,e){return this.bulkload("insert",t,e)},e.prototype.updateBulk=function(t,e){return this.bulkload("update",t,e)},e.prototype.upsertBulk=function(t,e,n){return this.bulkload("upsert",{extIdField:e},t,n)},e.prototype.deleteBulk=e.prototype.destroyBulk=function(t,e){return this.bulkload("delete",t,e)},e.prototype.deleteHardBulk=e.prototype.destroyHardBulk=function(t,e){return this.bulkload("hardDelete",t,e)},e.prototype.recent=function(t){return this._conn.recent(this.type,t)},e.prototype.updated=function(t,e,n){return this._conn.updated(this.type,t,e,n)},e.prototype.deleted=function(t,e,n){return this._conn.deleted(this.type,t,e,n)},e.prototype.layouts=function(t,e){return"function"==typeof t&&(e=t,t=null),t="/sobjects/"+this.type+"/describe/"+(t?"namedLayouts/"+t:"layouts"),this._conn.request(t,e)},e.prototype.compactLayouts=function(t){var e="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(e,t)},e.prototype.approvalLayouts=function(t){var e="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(e,t)},e.prototype.listviews=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(e,t)},e.prototype.listview=function(t){return new a(this._conn,this.type,t)},e.prototype.quickActions=function(t){return this._conn.request("/sobjects/"+this.type+"/quickActions").thenCall(t)},e.prototype.quickAction=function(t){return new s(this._conn,"/sobjects/"+this.type+"/quickActions/"+t)};var a=function(t,e,n){this._conn=t,this.type=e,this.id=n};a.prototype.results=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(e,t)},a.prototype.describe=function(t,e){"function"==typeof t&&(e=t,t={}),t=t||{};var n=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:n,headers:t.headers},e)},a.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e,t)}},{"./cache":18,"./query":28,"./quick-action":29,"./record":31,"lodash/core":89}],35:[function(t,e,n){"use strict";var i=t("lodash/core"),o=t("./date");function r(t){var e=["SELECT ",(e=t.fields,n=t.includes,n=i.map(i.values(n||{}),(function(t){return"("+r(t)+")"})),(e||["Id"]).concat(n).join(", "))," FROM ",t.table].join(""),n=function t(e,n,o){return i.isString(e)?e:(n=n||"AND",o=o||0,e=c(e=e||[])?e.map((function(t){var e,n=[];for(e in t)n.push({key:e,value:t[e]});return 1<n.length?n:n[0]})):i.keys(e).map((function(t){return{key:t,value:e[t]}})),e=e.map((function(i){var r,s=o+1;switch(i.key){case"$or":case"$and":case"$not":return"NOT"!==n&&1===e.length&&(s=o),r="$or"===i.key?"OR":"$and"===i.key?"AND":"NOT",t(i.value,r,s);default:return a(i.key,i.value)}})).filter((function(t){return t})),"NOT"===n?((r=0<o)?"(":"")+"NOT "+e[0]+(r?")":""):((r=0<o&&1<e.length)?"(":"")+e.join(" "+n+" ")+(r?")":""));var r}(t.conditions);return n&&(e+=" WHERE "+n),n=function(t){if(t=t||[],i.isString(t)){if(/,|\s+(asc|desc)\s*$/.test(t))return t;t=t.split(/\s+/).map((function(t){var e="ASC",n=t[0];return"-"===n?(e="DESC",t=t.substring(1)):"+"===n&&(t=t.substring(1)),[t,e]}))}else c(t)||(t=i.keys(t).map((function(e){return[e,t[e]]})));return t.map((function(t){var e=t[0],n=t[1];switch(String(n)){case"DESC":case"desc":case"descending":case"-":case"-1":n="DESC";break;default:n="ASC"}return e+" "+n})).join(", ")}(t.sort),n&&(e+=" ORDER BY "+n),t.limit&&(e+=" LIMIT "+t.limit),t.offset&&(e+=" OFFSET "+t.offset),e}var s={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};function a(t,e){return i.isArray(e)?l(t,"$in",e):i.isObject(e)?i.map(e,(function(e,n){if("$"===n[0])return l(t,n,e)})).join(" AND "):l(t,"$eq",e)}function l(t,e,n){var o=s[e];if(!o||i.isUndefined(n))return null;var r=d(n);if(i.isUndefined(r))return null;switch(o){case"NOT LIKE":return"("+["NOT",t,"LIKE",r].join(" ")+")";case"EXISTS":return[t,n?"!=":"=","null"].join(" ");default:return[t,o,r].join(" ")}}function d(t){return c(t)?0<t.length?"("+t.map(d).join(", ")+")":void 0:t instanceof o?t.toString():i.isString(t)?"'"+String(t||"").replace(/'/g,"\\'")+"'":i.isNumber(t)?t.toString():i.isNull(t)?"null":t}function c(t){return i.isObject(t)&&i.isFunction(t.pop)}n.createSOQL=r},{"./date":22,"lodash/core":89}],36:[function(t,e,n){(function(n){"use strict";var i,o,r=t("inherits"),s=t("./promise"),a=t("request"),l=t("./browser/canvas"),d=t("./browser/jsonp");a.defaults&&(i={followAllRedirects:!0},n.env.HTTP_PROXY&&(i.proxy=n.env.HTTP_PROXY),parseInt(n.env.HTTP_TIMEOUT)&&(i.timeout=parseInt(n.env.HTTP_TIMEOUT)),a=a.defaults(i)),o="undefined"==typeof window?n.env.LOCATION_BASE_URL||"":(c=function(t){var e=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(t);return e&&(t=e[1]+".salesforce.com"),t}(window.location.host))?"https://"+c:"",(n=e.exports=function(){}).prototype.httpRequest=function(t,e){var n,i=s.defer(),o=this._getHttpRequestModule();return function t(e,n){var i=e.then;return e.then=function(){return n(),t(i.apply(e,arguments),n)},e.stream=n,e}(i.promise,(function(){return n=n||o(t,(function(t,e){t?i.reject(t):i.resolve(e)}))})).thenCall(e)},n.prototype._getHttpRequestModule=function(){return a};var c=n.JsonpTransport=function(t){this._jsonpParam=t};r(c,n),c.prototype._getHttpRequestModule=function(){return d.createRequest(this._jsonpParam)},c.supported=d.supported,r(c=n.CanvasTransport=function(t){this._signedRequest=t},n),c.prototype._getHttpRequestModule=function(){return l.createRequest(this._signedRequest)},c.supported=l.supported;var u=n.ProxyTransport=function(t){this._proxyUrl=t};r(u,n),u.prototype.httpRequest=function(t,e){var n=t.url;0===n.indexOf("/")&&(n=o+n);var i={method:t.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":n}};if(!t.body&&""!==t.body||(i.body=t.body),t.headers)for(var r in t.headers)i.headers[r]=t.headers[r];return u.super_.prototype.httpRequest.call(this,i,e)};var h=n.HttpProxyTransport=function(t){this._httpProxy=t};r(h,n),h.prototype.httpRequest=function(t,e){var n=t.url;0===n.indexOf("/")&&(n=o+n);var i={method:t.method,url:t.url,proxy:this._httpProxy,headers:{}};if(!t.body&&""!==t.body||(i.body=t.body),t.headers)for(var r in t.headers)i.headers[r]=t.headers[r];return h.super_.prototype.httpRequest.call(this,i,e)}}).call(this,t("_process"))},{"./browser/canvas":14,"./browser/jsonp":16,"./promise":27,_process:92,inherits:85,request:17}],37:[function(t,e,n){"use strict";var i=t("./raw"),o=[],r=[],s=i.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function a(t){var e=o.length?o.pop():new l;e.task=t,i(e)}function l(){this.task=null}e.exports=a,l.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(r.push(t),s())}finally{this.task=null,o[o.length]=this}}},{"./raw":38}],38:[function(t,e,i){(function(t){"use strict";function n(t){o.length||i(),o[o.length]=t}e.exports=n;var i,o=[],r=0;function s(){for(;r<o.length;){var t=r;if(r+=1,o[t].call(),1024<r){for(var e=0,n=o.length-r;e<n;e++)o[e]=o[e+r];o.length-=r,r=0}}o.length=0,r=0}var a,l,d,c=(t=void 0!==t?t:self).MutationObserver||t.WebKitMutationObserver;function u(t){return function(){var e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}i="function"==typeof c?(l=1,a=new c(a=s),d=document.createTextNode(""),a.observe(d,{characterData:!0}),function(){l=-l,d.data=l}):u(s),n.requestFlush=i,n.makeRequestCallFromTimer=u}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(t,e,n){"use strict";n.byteLength=function(t){var e;return 3*((t=(e=d(t))[0])+(e=e[1]))/4-e},n.toByteArray=function(t){for(var e,n=(i=d(t))[0],i=i[1],s=new r(function(t,e){return 3*(t+e)/4-e}(n,i)),a=0,l=0<i?n-4:n,c=0;c<l;c+=4)e=o[t.charCodeAt(c)]<<18|o[t.charCodeAt(c+1)]<<12|o[t.charCodeAt(c+2)]<<6|o[t.charCodeAt(c+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===i&&(e=o[t.charCodeAt(c)]<<2|o[t.charCodeAt(c+1)]>>4,s[a++]=255&e),1===i&&(e=o[t.charCodeAt(c)]<<10|o[t.charCodeAt(c+1)]<<4|o[t.charCodeAt(c+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],s=0,a=n-o;s<a;s+=16383)r.push(function(t,e,n){for(var o,r=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(function(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}(o));return r.join("")}(t,s,a<s+16383?a:s+16383));return 1==o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2==o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],o[s.charCodeAt(a)]=a;function d(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return-1===(t=t.indexOf("="))&&(t=e),[t,t===e?0:4-t%4]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],40:[function(t,e,n){},{}],41:[function(t,e,n){"use strict";var i=t("base64-js"),o=t("ieee754");n.Buffer=a,n.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},n.INSPECT_MAX_BYTES=50;var r=2147483647;function s(t){if(r<t)throw new RangeError("Invalid typed array length");return(t=new Uint8Array(t)).__proto__=a.prototype,t}function a(t,e,n){if("number"!=typeof t)return l(t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(t)}function l(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return B(t)||t&&B(t.buffer)?function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');return(n=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=a.prototype,n}(t,e,n):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),i=s(n);return(e=i.write(t,e))!==n&&(i=i.slice(0,e)),i}(t,e):function(t){if(a.isBuffer(t)){var e=0|h(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||P(t.length)?s(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t){return d(t),s(t<0?0:0|h(t))}function u(t){for(var e=t.length<0?0:0|h(t.length),n=s(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t){if(r<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return E(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(t).length;default:if(i)return E(t).length;e=(""+e).toLowerCase(),i=!0}}function f(t,e,n){var o,r,s,a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var o="",r=e;r<n;++r)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[r]);return o}(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}(this,e,n);case"latin1":case"binary":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}(this,e,n);case"base64":return o=this,s=n,0===(r=e)&&s===o.length?i.fromByteArray(o):i.fromByteArray(o.slice(r,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}(this,e,n);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),P(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){var r=1,s=t.length,a=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s/=r=2,a/=2,n/=2}function l(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(o)for(var d=-1,c=n;c<s;c++)if(l(t,c)===l(e,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===a)return d*r}else-1!==d&&(c-=c-d),d=-1;else for(s<n+a&&(n=s-a),c=n;0<=c;c--){for(var u=!0,h=0;h<a;h++)if(l(t,c+h)!==l(e,h)){u=!1;break}if(u)return c}return-1}function y(t,e,n,i){return M(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function v(t,e,n,i){return M(function(t,e){for(var n,i,o=[],r=0;r<t.length&&!((e-=2)<0);++r)n=(i=t.charCodeAt(r))>>8,i%=256,o.push(i),o.push(n);return o}(e,t.length-n),t,n,i)}function _(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,s,a,l,d=t[o],c=null,u=239<d?4:223<d?3:191<d?2:1;if(o+u<=n)switch(u){case 1:d<128&&(c=d);break;case 2:128==(192&(r=t[o+1]))&&127<(l=(31&d)<<6|63&r)&&(c=l);break;case 3:r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&2047<(l=(15&d)<<12|(63&r)<<6|63&s)&&(l<55296||57343<l)&&(c=l);break;case 4:r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&65535<(l=(15&d)<<18|(63&r)<<12|(63&s)<<6|63&a)&&l<1114112&&(c=l)}null===c?(c=65533,u=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),o+=u}return function(t){var e=t.length;if(e<=w)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=w));return n}(i)}n.kMaxLength=r,(a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{get:function(){if(this instanceof a)return this.buffer}}),Object.defineProperty(a.prototype,"offset",{get:function(){if(this instanceof a)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=l,a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,n){return d(t),t<=0||void 0===e?s(t):"string"==typeof n?s(t).fill(e,n):s(t).fill(e)},a.allocUnsafe=c,a.allocUnsafeSlow=c,a.isBuffer=function(t){return null!=t&&!0===t._isBuffer},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var n=a.allocUnsafe(e),i=0,o=0;o<t.length;++o){var r=t[o];if(ArrayBuffer.isView(r)&&(r=a.from(r)),!a.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,i),i+=r.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):f.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,i,o){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=e)return 0;if(o<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(r,s),d=this.slice(i,o),c=t.slice(e,n),u=0;u<l;++u)if(d[u]!==c[u]){r=d[u],s=c[u];break}return r<s?-1:s<r?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},a.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var r,s,a,l=!1;;)switch(i){case"hex":return function(t,e,n,i){n=Number(n)||0;var o=t.length-n;(!i||o<(i=Number(i)))&&(i=o),(o=e.length)/2<i&&(i=o/2);for(var r=0;r<i;++r){var s=parseInt(e.substr(2*r,2),16);if(P(s))return r;t[n+r]=s}return r}(this,t,e,n);case"utf8":case"utf-8":return s=e,a=n,M(E(t,(r=this).length-s),r,s,a);case"ascii":case"latin1":case"binary":return y(this,t,e,n);case"base64":return r=this,s=e,a=n,M(T(t),r,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,i,o,r){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function k(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function S(t,e,n,i,r){return e=+e,n>>>=0,r||k(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function O(t,e,n,i,r){return e=+e,n>>>=0,r||k(t,0,n,8),o.write(t,e,n,i,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;return(t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),(e=this.subarray(t,e)).__proto__=a.prototype,e},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||x(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||x(t,e,this.length);for(var i=this[t+--e],o=1;0<e&&(o*=256);)i+=this[t+--e]*o;return i},a.prototype.readUInt8=function(t,e){return t>>>=0,e||x(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||x(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||x(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||x(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||x(t,e,this.length);for(var i=e,o=1,r=this[t+--i];0<i&&(o*=256);)r+=this[t+--i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*e)),r},a.prototype.readInt8=function(t,e){return t>>>=0,e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){return t>>>=0,e||x(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},a.prototype.readInt16BE=function(t,e){return t>>>=0,e||x(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||x(t,4,this.length),o.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||x(t,4,this.length),o.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||x(t,8,this.length),o.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||x(t,8,this.length),o.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;0<=--o&&(r*=256);)this[e+o]=t/r&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,i){t=+t,e>>>=0,i||C(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,r=1,s=0;for(this[e]=255&t;++o<n&&(r*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,i){t=+t,e>>>=0,i||C(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,r=1,s=0;for(this[e+o]=255&t;0<=--o&&(r*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,i){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,i);else if(this===t&&n<e&&e<i)for(var r=o-1;0<=r;--r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,i),e);return o},a.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o;1===t.length&&(o=t.charCodeAt(0),("utf8"===i&&o<128||"latin1"===i)&&(t=o))}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(r=e;r<n;++r)this[r]=t;else{var s=a.isBuffer(t)?t:new a(t,i),l=s.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=s[r%l]}return this};var I=/[^+/0-9A-Za-z-_]/g;function E(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],s=0;s<i;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!o){if(56319<n){-1<(e-=3)&&r.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&r.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(e-=3)&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(e-=3)&&r.push(239,191,189);if(o=null,n<128){if(--e<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function T(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function M(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function B(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function P(t){return t!=t}},{"base64-js":39,ieee754:84}],42:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":86}],43:[function(t,e,n){(function(t){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.size=n,this.length=0,this.buf=t.alloc(n)}var i,o,r;return i=e,(o=[{key:"prepend",value:function(t){var e=this.length++;e===this.size&&this.resize();var n=this.clone();this.buf[0]=t,n.copy(this.buf,1,0,e)}},{key:"append",value:function(t){var e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}},{key:"clone",value:function(){return t.from(this.buf.slice(0,this.length))}},{key:"resize",value:function(){var e=this.length;this.size=2*this.size;var n=t.alloc(this.size);this.buf.copy(n,0,0,e),this.buf=n}},{key:"toString",value:function(){return this.buf.slice(0,this.length).toString()}},{key:"toJSON",value:function(){return this.toString()}},{key:"reset",value:function(){this.length=0}}])&&n(i.prototype,o),r&&n(i,r),e}();e.exports=i}).call(this,t("buffer").Buffer)},{buffer:41}],44:[function(t,e,n){(function(n,i){"use strict";function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return r(t,arguments,b(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,t)})(t)}function r(t,e,n){return(r=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var i=[null];return i.push.apply(i,e),i=new(Function.bind.apply(t,i)),n&&m(i,n.prototype),i}).apply(null,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){var i,o;i=t,e=n[o=e],o in i?Object.defineProperty(i,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(){var t,e,o,r;for(r in arguments){var a=arguments[r],l=s(a);if(void 0!==t||"string"!=typeof a&&!n.isBuffer(a))if(void 0===e&&S(a))e=a;else{if(void 0!==o||"function"!==l)throw new C("CSV_INVALID_ARGUMENT",["Invalid argument:","got ".concat(JSON.stringify(a)," at index ").concat(r)]);o=a}else t=a}var d,c=new x(e);return o&&(d=void 0===e||void 0===e.objname?[]:{},c.on("readable",(function(){for(var t;null!==(t=this.read());)void 0===e||void 0===e.objname?d.push(t):d[t[0]]=t[1]})),c.on("error",(function(t){o(t,void 0,c.info)})),c.on("end",(function(){o(void 0,d,c.info)}))),void 0!==t&&("function"==typeof i?i((function(){c.write(t),c.end()})):(c.write(t),c.end())),c}var v=t("stream").Transform,_=t("./ResizeableBuffer"),w=n.from([239,187,191]),x=function(){function t(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,t),e=p(this,b(t).call(this,c({},{readableObjectMode:!0},{},i)));var o,r={};for(o in i)r[k(o)]=i[o];if(void 0===r.bom||null===r.bom||!1===r.bom)r.bom=!1;else if(!0!==r.bom)throw new C("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,","got ".concat(JSON.stringify(r.bom))]);var s=null;if(void 0===r.cast||null===r.cast||!1===r.cast||""===r.cast)r.cast=void 0;else if("function"==typeof r.cast)s=r.cast,r.cast=!0;else if(!0!==r.cast)throw new C("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,","got ".concat(JSON.stringify(r.cast))]);if(void 0===r.cast_date||null===r.cast_date||!1===r.cast_date||""===r.cast_date)r.cast_date=!1;else if(!0===r.cast_date)r.cast_date=function(t){var e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!=typeof r.cast_date)throw new C("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,","got ".concat(JSON.stringify(r.cast_date))]);var a=null;if(!0===r.columns)a=void 0;else if("function"==typeof r.columns)a=r.columns,r.columns=!0;else if(Array.isArray(r.columns))r.columns=I(r.columns);else{if(void 0!==r.columns&&null!==r.columns&&!1!==r.columns)throw new C("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an object, a function or true,","got ".concat(JSON.stringify(r.columns))]);r.columns=!1}if(void 0===r.columns_duplicates_to_array||null===r.columns_duplicates_to_array||!1===r.columns_duplicates_to_array)r.columns_duplicates_to_array=!1;else if(!0!==r.columns_duplicates_to_array)throw new C("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","expect an boolean,","got ".concat(JSON.stringify(r.columns_duplicates_to_array))]);if(void 0===r.comment||null===r.comment||!1===r.comment||""===r.comment)r.comment=null;else if("string"==typeof r.comment&&(r.comment=n.from(r.comment)),!n.isBuffer(r.comment))throw new C("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,","got ".concat(JSON.stringify(r.comment))]);var d=JSON.stringify(r.delimiter);if(Array.isArray(r.delimiter)||(r.delimiter=[r.delimiter]),0===r.delimiter.length)throw new C("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(d)]);if(r.delimiter=r.delimiter.map((function(t){if(null==t||!1===t)return n.from(",");if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t)||0===t.length)throw new C("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(d)]);return t})),void 0===r.escape||null===r.escape?r.escape=n.from('"'):"string"==typeof r.escape&&(r.escape=n.from(r.escape)),!n.isBuffer(r.escape))throw new Error("Invalid Option: escape must be a buffer or a string, got ".concat(JSON.stringify(r.escape)));if(1!==r.escape.length)throw new Error("Invalid Option Length: escape must be one character, got ".concat(r.escape.length));if(r.escape=r.escape[0],void 0===r.from||null===r.from)r.from=1;else{if("string"==typeof r.from&&/\d+/.test(r.from)&&(r.from=parseInt(r.from)),!Number.isInteger(r.from))throw new Error("Invalid Option: from must be an integer, got ".concat(JSON.stringify(r.from)));if(r.from<0)throw new Error("Invalid Option: from must be a positive integer, got ".concat(JSON.stringify(i.from)))}if(void 0===r.from_line||null===r.from_line)r.from_line=1;else{if("string"==typeof r.from_line&&/\d+/.test(r.from_line)&&(r.from_line=parseInt(r.from_line)),!Number.isInteger(r.from_line))throw new Error("Invalid Option: from_line must be an integer, got ".concat(JSON.stringify(i.from_line)));if(r.from_line<=0)throw new Error("Invalid Option: from_line must be a positive integer greater than 0, got ".concat(JSON.stringify(i.from_line)))}if(void 0===r.info||null===r.info||!1===r.info)r.info=!1;else if(!0!==r.info)throw new Error("Invalid Option: info must be true, got ".concat(JSON.stringify(r.info)));if(void 0===r.max_record_size||null===r.max_record_size||!1===r.max_record_size)r.max_record_size=0;else if(!(Number.isInteger(r.max_record_size)&&0<=r.max_record_size)){if("string"!=typeof r.max_record_size||!/\d+/.test(r.max_record_size))throw new Error("Invalid Option: max_record_size must be a positive integer, got ".concat(JSON.stringify(r.max_record_size)));r.max_record_size=parseInt(r.max_record_size)}if(void 0===r.objname||null===r.objname||!1===r.objname)r.objname=void 0;else if(n.isBuffer(r.objname)){if(0===r.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");r.objname=r.objname.toString()}else{if("string"!=typeof r.objname)throw new Error("Invalid Option: objname must be a string or a buffer, got ".concat(r.objname));if(0===r.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}if(void 0===r.on_record||null===r.on_record)r.on_record=void 0;else if("function"!=typeof r.on_record)throw new C("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,","got ".concat(JSON.stringify(r.on_record))]);if(null===r.quote||!1===r.quote||""===r.quote)r.quote=null;else{if(void 0===r.quote||!0===r.quote?r.quote=n.from('"'):"string"==typeof r.quote&&(r.quote=n.from(r.quote)),!n.isBuffer(r.quote))throw new Error("Invalid Option: quote must be a buffer or a string, got ".concat(JSON.stringify(r.quote)));if(1!==r.quote.length)throw new Error("Invalid Option Length: quote must be one character, got ".concat(r.quote.length));r.quote=r.quote[0]}if(void 0===r.raw||null===r.raw||!1===r.raw)r.raw=!1;else if(!0!==r.raw)throw new Error("Invalid Option: raw must be true, got ".concat(JSON.stringify(r.raw)));if(r.record_delimiter?Array.isArray(r.record_delimiter)||(r.record_delimiter=[r.record_delimiter]):r.record_delimiter=[],r.record_delimiter=r.record_delimiter.map((function(t){return"string"==typeof t&&(t=n.from(t)),t})),"boolean"!=typeof r.relax){if(void 0!==r.relax&&null!==r.relax)throw new Error("Invalid Option: relax must be a boolean, got ".concat(JSON.stringify(r.relax)));r.relax=!1}if("boolean"!=typeof r.relax_column_count){if(void 0!==r.relax_column_count&&null!==r.relax_column_count)throw new Error("Invalid Option: relax_column_count must be a boolean, got ".concat(JSON.stringify(r.relax_column_count)));r.relax_column_count=!1}if("boolean"!=typeof r.relax_column_count_less){if(void 0!==r.relax_column_count_less&&null!==r.relax_column_count_less)throw new Error("Invalid Option: relax_column_count_less must be a boolean, got ".concat(JSON.stringify(r.relax_column_count_less)));r.relax_column_count_less=!1}if("boolean"!=typeof r.relax_column_count_more){if(void 0!==r.relax_column_count_more&&null!==r.relax_column_count_more)throw new Error("Invalid Option: relax_column_count_more must be a boolean, got ".concat(JSON.stringify(r.relax_column_count_more)));r.relax_column_count_more=!1}if("boolean"!=typeof r.skip_empty_lines){if(void 0!==r.skip_empty_lines&&null!==r.skip_empty_lines)throw new Error("Invalid Option: skip_empty_lines must be a boolean, got ".concat(JSON.stringify(r.skip_empty_lines)));r.skip_empty_lines=!1}if("boolean"!=typeof r.skip_lines_with_empty_values){if(void 0!==r.skip_lines_with_empty_values&&null!==r.skip_lines_with_empty_values)throw new Error("Invalid Option: skip_lines_with_empty_values must be a boolean, got ".concat(JSON.stringify(r.skip_lines_with_empty_values)));r.skip_lines_with_empty_values=!1}if("boolean"!=typeof r.skip_lines_with_error){if(void 0!==r.skip_lines_with_error&&null!==r.skip_lines_with_error)throw new Error("Invalid Option: skip_lines_with_error must be a boolean, got ".concat(JSON.stringify(r.skip_lines_with_error)));r.skip_lines_with_error=!1}if(void 0===r.rtrim||null===r.rtrim||!1===r.rtrim)r.rtrim=!1;else if(!0!==r.rtrim)throw new Error("Invalid Option: rtrim must be a boolean, got ".concat(JSON.stringify(r.rtrim)));if(void 0===r.ltrim||null===r.ltrim||!1===r.ltrim)r.ltrim=!1;else if(!0!==r.ltrim)throw new Error("Invalid Option: ltrim must be a boolean, got ".concat(JSON.stringify(r.ltrim)));if(void 0===r.trim||null===r.trim||!1===r.trim)r.trim=!1;else if(!0!==r.trim)throw new Error("Invalid Option: trim must be a boolean, got ".concat(JSON.stringify(r.trim)));if(!0===r.trim&&!1!==i.ltrim?r.ltrim=!0:!0!==r.ltrim&&(r.ltrim=!1),!0===r.trim&&!1!==i.rtrim?r.rtrim=!0:!0!==r.rtrim&&(r.rtrim=!1),void 0===r.to||null===r.to)r.to=-1;else{if("string"==typeof r.to&&/\d+/.test(r.to)&&(r.to=parseInt(r.to)),!Number.isInteger(r.to))throw new Error("Invalid Option: to must be an integer, got ".concat(JSON.stringify(i.to)));if(r.to<=0)throw new Error("Invalid Option: to must be a positive integer greater than 0, got ".concat(JSON.stringify(i.to)))}if(void 0===r.to_line||null===r.to_line)r.to_line=-1;else{if("string"==typeof r.to_line&&/\d+/.test(r.to_line)&&(r.to_line=parseInt(r.to_line)),!Number.isInteger(r.to_line))throw new Error("Invalid Option: to_line must be an integer, got ".concat(JSON.stringify(i.to_line)));if(r.to_line<=0)throw new Error("Invalid Option: to_line must be a positive integer greater than 0, got ".concat(JSON.stringify(i.to_line)))}return e.info={comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},e.options=r,e.state={bomSkipped:!1,castField:s,commenting:!1,enabled:1===r.from_line,escaping:!1,escapeIsQuote:r.escape===r.quote,expectedRecordLength:null===r.columns?0:r.columns.length,field:new _(20),firstLineToHeaders:a,info:Object.assign({},e.info),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new _(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===r.record_delimiter.length?2:Math.max.apply(Math,l(r.record_delimiter.map((function(t){return t.length})))),trimChars:[n.from(" ")[0],n.from("\t")[0]],wasQuoting:!1,wasRowDelimiter:!1},e}var e,i,o;return g(t,v),e=t,(i=[{key:"_transform",value:function(t,e,n){!0!==this.state.stop&&(void 0!==(t=this.__parse(t,!1))&&(this.state.stop=!0),n(t))}},{key:"_flush",value:function(t){!0!==this.state.stop&&t(this.__parse(void 0,!0))}},{key:"__parse",value:function(t,e){var i,o=(x=this.options).bom,r=x.comment,s=x.escape,a=x.from_line,l=x.info,d=x.ltrim,c=x.max_record_size,u=x.quote,h=x.raw,p=x.relax,f=x.rtrim,b=x.skip_empty_lines,g=x.to,m=x.to_line,y=this.options.record_delimiter,v=this.state,_=v.bomSkipped,x=v.previousBuf,k=v.rawBuffer,S=v.escapeIsQuote;if(void 0===x){if(void 0===t)return void this.push(null);i=t}else i=void 0!==x&&void 0===t?x:n.concat([x,t]);if(!1===_)if(!1===o)this.state.bomSkipped=!0;else if(i.length<3){if(!1===e)return void(this.state.previousBuf=i)}else 0===w.compare(i,0,3)&&(i=i.slice(3)),this.state.bomSkipped=!0;for(var O=i.length,I=0;I<O&&!this.__needMoreData(I,O,e);I++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,!0===l&&0===this.state.record.length&&0===this.state.field.length&&!1===this.state.wasQuoting&&(this.state.info=Object.assign({},this.info)),this.state.wasRowDelimiter=!1),-1!==m&&this.info.lines>m)return this.state.stop=!0,void this.push(null);!1===this.state.quoting&&0===y.length&&this.__autoDiscoverRowDelimiter(i,I)&&(y=this.options.record_delimiter);var E=i[I];if(!0===h&&k.append(E),13!==E&&10!==E||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(!0===this.state.quoting&&E===s&&I+1<O){if(!S){this.state.escaping=!0;continue}if(i[I+1]===u){this.state.escaping=!0;continue}}if(!1===this.state.commenting&&E===u)if(!0===this.state.quoting){var T=i[I+1],M=f&&this.__isCharTrimable(T),B=null!==r&&this.__compareBytes(r,i,I+1,T),P=this.__isDelimiter(T,i,I+1),D=0===y.length?this.__autoDiscoverRowDelimiter(i,I+1):this.__isRecordDelimiter(T,i,I+1);if(E===s&&T===u)I++;else{if(!T||P||D||B||M){this.state.quoting=!1,this.state.wasQuoting=!0;continue}if(!1===p){if(void 0!==(T=this.__error(new C("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",'got "'.concat(String.fromCharCode(T),'"'),"at line ".concat(this.info.lines),"instead of delimiter, row delimiter, trimable character","(if activated) or comment"],this.__context()))))return T}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(u)}}else{if(0===this.state.field.length){this.state.quoting=!0;continue}if(!1===p){var A=this.__error(new C("INVALID_OPENING_QUOTE",["Invalid Opening Quote:","a quote is found inside a field at line ".concat(this.info.lines)],this.__context(),{field:this.state.field}));if(void 0!==A)return A}}if(!1===this.state.quoting){if(0!==(A=this.__isRecordDelimiter(E,i,I))){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!0===b&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,I+=A-1;continue}if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=a){this.state.enabled=!0,this.__resetField(),this.__resetRow(),I+=A-1;continue}var L=this.__onField();if(void 0!==L)return L;if(void 0!==(L=this.__onRow()))return L;if(-1!==g&&this.info.records>=g)return this.state.stop=!0,void this.push(null)}this.state.commenting=!1,I+=A-1;continue}if(this.state.commenting)continue;if(0!==(null===r?0:this.__compareBytes(r,i,I,E))){this.state.commenting=!0;continue}if(0!==(L=this.__isDelimiter(E,i,I))){if(void 0!==(A=this.__onField()))return A;I+=L-1;continue}}}if(!1===this.state.commenting&&0!==c&&this.state.record_length+this.state.field.length>c){var F=this.__error(new C("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes","of ".concat(c),"at line ".concat(this.info.lines)],this.__context()));if(void 0!==F)return F}if(L=!1===d||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(E),F=!1===f||!1===this.state.wasQuoting,1==L&&1==F)this.state.field.append(E);else if(!0===f&&!this.__isCharTrimable(E)&&void 0!==(E=this.__error(new C("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote","at line ".concat(this.info.lines)],this.__context()))))return E}if(!0===e)if(!0===this.state.quoting){var q=this.__error(new C("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:","the parsing is finished with an opening quote at line ".concat(this.info.lines)],this.__context()));if(void 0!==q)return q}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){if(void 0!==(q=this.__onField()))return q;if(void 0!==(q=this.__onRow()))return q}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.previousBuf=i.slice(I);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}},{key:"__isCharTrimable",value:function(t){return 32===t||9===t||13===t||10===t||12===t}},{key:"__onRow",value:function(){var t=(c=this.options).columns,e=c.columns_duplicates_to_array,n=c.info,i=c.from,o=c.relax_column_count,r=c.relax_column_count_less,s=c.relax_column_count_more,a=c.raw,l=c.skip_lines_with_empty_values,d=this.state,c=d.enabled,u=d.record;if(!1===c)return this.__resetRow();if(c=u.length,!0===t)return O(u)?void this.__resetRow():this.__firstLineToColumns(u);if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=c),c!==this.state.expectedRecordLength)if(!0===o||!0===r&&c<this.state.expectedRecordLength||!0===s&&c>this.state.expectedRecordLength)this.info.invalid_field_length++;else if(!1===t){if(void 0!==(s=this.__error(new C("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:","expect ".concat(this.state.expectedRecordLength,","),"got ".concat(c," on line ").concat(this.info.lines)],this.__context(),{record:u}))))return s}else if(void 0!==(c=this.__error(new C("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:","columns length is ".concat(t.length,","),"got ".concat(c," on line ").concat(this.info.lines)],this.__context(),{record:u}))))return c;if(!0===l&&O(u))this.__resetRow();else{if(!0===this.state.recordHasError)return this.__resetRow(),void(this.state.recordHasError=!1);if(this.info.records++,1===i||this.info.records>=i)if(!1!==t){for(var h={},p=0,f=u.length;p<f;p++)void 0===t[p]||t[p].disabled||(!0===e&&h[t[p].name]?Array.isArray(h[t[p].name])?h[t[p].name]=h[t[p].name].concat(u[p]):h[t[p].name]=[h[t[p].name],u[p]]:h[t[p].name]=u[p]);if(void 0===(l=this.options.objname))if(!0===a||!0===n){if(i=this.__push(Object.assign({record:h},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{})))return i}else{var b=this.__push(h);if(b)return b}else if(!0===a||!0===n){if(b=this.__push(Object.assign({record:[h[l],h]},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{})))return b}else if(l=this.__push([h[l],h]))return l}else if(!0===a||!0===n){var g=this.__push(Object.assign({record:u},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===n?{info:this.state.info}:{}));if(g)return g}else if(g=this.__push(u))return g;this.__resetRow()}}},{key:"__firstLineToColumns",value:function(t){var e=this.state.firstLineToHeaders;try{var n=void 0===e?t:e.call(null,t);return Array.isArray(n)?(n=I(n),this.state.expectedRecordLength=n.length,this.options.columns=n,void this.__resetRow()):this.__error(new C("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,","got ".concat(JSON.stringify(n))],this.__context(),{headers:n}))}catch(t){return t}}},{key:"__resetRow",value:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.record=[],this.state.record_length=0}},{key:"__onField",value:function(){var t=(i=this.options).cast,e=i.rtrim,n=i.max_record_size,i=(o=this.state).enabled,o=o.wasQuoting;if(!1===i)return this.__resetField();if(i=this.state.field.toString(),!0===e&&!1===o&&(i=i.trimRight()),!0===t){if(t=(o=a(this.__cast(i),2))[0],o=o[1],void 0!==t)return t;i=o}this.state.record.push(i),0!==n&&"string"==typeof i&&(this.state.record_length+=i.length),this.__resetField()}},{key:"__resetField",value:function(){this.state.field.reset(),this.state.wasQuoting=!1}},{key:"__push",value:function(t){var e=this.options.on_record;if(void 0!==e){var n=this.__context();try{t=e.call(null,t,n)}catch(t){return t}if(null==t)return}this.push(t)}},{key:"__cast",value:function(t){var e=(n=this.options).columns,n=n.relax_column_count;if(!0===Array.isArray(e)&&n&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];var i=this.__context();if(null!==this.state.castField)try{return[void 0,this.state.castField.call(null,t,i)]}catch(t){return[t]}return this.__isFloat(t)?[void 0,parseFloat(t)]:!1!==this.options.cast_date?[void 0,this.options.cast_date.call(null,t,i)]:[void 0,t]}},{key:"__isFloat",value:function(t){return 0<=t-parseFloat(t)+1}},{key:"__compareBytes",value:function(t,e,n,i){if(t[0]!==i)return 0;for(var o=t.length,r=1;r<o;r++)if(t[r]!==e[n+r])return 0;return o}},{key:"__needMoreData",value:function(t,e,n){if(n)return!1;var i=(r=this.options).comment,o=r.delimiter,r=(n=this.state).quoting;return n=n.recordDelimiterMaxLength,e-t-1<Math.max(i?i.length:0,n,r?1+n:0,o.length,1)}},{key:"__isDelimiter",value:function(t,e,n){var i=this.options.delimiter;t:for(var o=0;o<i.length;o++){var r=i[o];if(r[0]===t){for(var s=1;s<r.length;s++)if(r[s]!==e[n+s])continue t;return r.length}}return 0}},{key:"__isRecordDelimiter",value:function(t,e,n){var i=this.options.record_delimiter,o=i.length;t:for(var r=0;r<o;r++){var s=i[r],a=s.length;if(s[0]===t){for(var l=1;l<a;l++)if(s[l]!==e[n+l])continue t;return s.length}}return 0}},{key:"__autoDiscoverRowDelimiter",value:function(t,e){var i=t[e];return 13===i?10===t[e+1]?(this.options.record_delimiter.push(n.from("\r\n")),this.state.recordDelimiterMaxLength=2):(this.options.record_delimiter.push(n.from("\r")),this.state.recordDelimiterMaxLength=1):10===i?(this.options.record_delimiter.push(n.from("\n")),this.state.recordDelimiterMaxLength=1):0}},{key:"__error",value:function(t){var e=this.options.skip_lines_with_error;if(t="string"==typeof t?new Error(t):t,!e)return t;this.state.recordHasError=!0,this.emit("skip",t)}},{key:"__context",value:function(){var t=this.options.columns;return{column:!0===Array.isArray(t)?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,empty_lines:this.info.empty_lines,header:!0===t,index:this.state.record.length,invalid_field_length:this.info.invalid_field_length,quoting:this.state.wasQuoting,lines:this.info.lines,records:this.info.records}}}])&&h(e.prototype,i),o&&h(e,o),t}(),C=function(){function t(e,i){var o;u(this,t),Array.isArray(i)&&(i=i.join(" ")),o=p(this,b(t).call(this,i)),void 0!==Error.captureStackTrace&&Error.captureStackTrace(f(o),t),o.code=e;for(var r=arguments.length,s=new Array(2<r?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];for(var l=0,d=s;l<d.length;l++){var c,h=d[l];for(c in h){var g=h[c];o[c]=n.isBuffer(g)?g.toString():null==g?g:JSON.parse(JSON.stringify(g))}}return o}return g(t,o(Error)),t}();y.Parser=x,y.CsvError=C,e.exports=y;var k=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))},S=function(t){return"object"===s(t)&&null!==t&&!Array.isArray(t)},O=function(t){return t.every((function(t){return null==t||t.toString&&""===t.toString().trim()}))},I=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];if(null==o||!1===o)e[n]={disabled:!0};else if("string"==typeof o)e[n]={name:o};else{if(!S(o))throw new C("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,","got ".concat(JSON.stringify(o)," at position ").concat(n)]);if("string"!=typeof o.name)throw new C("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",'property "name" is required at position '.concat(n),"when column is an object literal"]);e[n]=o}}return e}}).call(this,t("buffer").Buffer,t("timers").setImmediate)},{"./ResizeableBuffer":43,buffer:41,stream:113,timers:115}],45:[function(t,e,n){(function(n){"use strict";var i=t(".");e.exports=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t=n.from(t));var o=e&&e.objname?{}:[],r=new i.Parser(e);if(r.push=function(t){null!==t&&(void 0===e.objname?o.push(t):o[t[0]]=t[1])},void 0!==(t=r.__parse(t,!1)))throw t;if(void 0!==(r=r.__parse(void 0,!0)))throw r;return o}}).call(this,t("buffer").Buffer)},{".":44,buffer:41}],46:[function(t,e,n){(function(n){var i,o=t("stream"),r=t("util"),s=t("lodash.get");e.exports=function(){var t,e,o,r,s;return 3===arguments.length?(o=arguments[0],r=arguments[1],t=arguments[2]):2===arguments.length?(Array.isArray(arguments[0])?o=arguments[0]:r=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:r=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:Array.isArray(arguments[0])?o=arguments[0]:r=arguments[0]),null==r&&(r={}),s=new i(r),o&&n.nextTick((function(){for(var t,e=0,n=o.length;e<n;e++)t=o[e],s.write(t);return s.end()})),t&&(e=[],s.on("readable",(function(){for(var t,n=[];t=s.read();)n.push(e.push(t));return n})),s.on("error",(function(e){return t(e)})),s.on("end",(function(){return t(null,e.join(""))}))),s},i=function(t){var e,n,i,r;for(n in null==t&&(t={}),i={},t)r=t[n],i[n]=r;switch(o.Transform.call(this,i),this.options=i,null==(e=this.options).delimiter&&(e.delimiter=","),null==(e=this.options).quote&&(e.quote='"'),null==(e=this.options).quoted&&(e.quoted=!1),null==(e=this.options).quotedEmpty&&(e.quotedEmpty=void 0),null==(e=this.options).quotedString&&(e.quotedString=!1),null==(e=this.options).eof&&(e.eof=!0),null==(e=this.options).escape&&(e.escape='"'),null==(e=this.options).columns&&(e.columns=null),null==(e=this.options).header&&(e.header=!1),null==(e=this.options).formatters&&(e.formatters={}),null==(e=this.options.formatters).date&&(e.date=function(t){return""+t.getTime()}),null==(e=this.options.formatters).bool&&(e.bool=function(t){return t?"1":""}),null==(e=this.options.formatters).object&&(e.object=function(t){return JSON.stringify(t)}),null==(e=this.options).rowDelimiter&&(e.rowDelimiter="\n"),null==this.countWriten&&(this.countWriten=0),this.options.rowDelimiter){case"auto":this.options.rowDelimiter=null;break;case"unix":this.options.rowDelimiter="\n";break;case"mac":this.options.rowDelimiter="\r";break;case"windows":this.options.rowDelimiter="\r\n";break;case"unicode":this.options.rowDelimiter="\u2028"}return this},r.inherits(i,o.Transform),(e.exports.Stringifier=i).prototype.headers=function(){var t,e,n;if(this.options.header&&this.options.columns)return"object"==typeof(n=this.options.columns)&&(n=function(){var i=[];for(t in n)e=n[t],i.push(e);return i}()),n=this.options.eof?this.stringify(n)+this.options.rowDelimiter:this.stringify(n),o.Transform.prototype.write.call(this,n)},i.prototype.end=function(t,e,n){return 0===this.countWriten&&this.headers(),o.Transform.prototype.end.apply(this,arguments)},i.prototype.write=function(t,e,n){var i,r;if(null!=t){if(!(r="object"!=typeof t)){0!==this.countWriten||Array.isArray(t)||null==(i=this.options).columns&&(i.columns=Object.keys(t));try{this.emit("record",t,this.countWriten)}catch(t){return this.emit("error",t)}this.options.eof?t=this.stringify(t)+this.options.rowDelimiter:(t=this.stringify(t),(this.options.header||this.countWriten)&&(t=this.options.rowDelimiter+t))}return"number"==typeof t&&(t=""+t),0===this.countWriten&&this.headers(),r||this.countWriten++,o.Transform.prototype.write.call(this,t,e,n)}},i.prototype._transform=function(t,e,n){return this.push(t),n()},i.prototype.stringify=function(t){var e,n,i,o,r,a,l,d,c,u,h,p,f,b,g,m,y,v,_;if("object"!=typeof t)return t;if("object"!=typeof(i=this.options.columns)||null===i||Array.isArray(i)||(i=Object.keys(i)),l=this.options.delimiter,b=this.options.quote,d=this.options.escape,Array.isArray(t))i&&t.splice(i.length);else{if(e=[],i)for(u=h=0,g=i.length;0<=g?h<g:g<h;u=0<=g?++h:--h)n=i[u],_=s(t,n),e[u]=null==_?"":_;else for(n in t)e.push(t[n]);t=e,e=null}if(Array.isArray(t)){for(f="",u=p=0,m=t.length;0<=m?p<m:m<p;u=0<=m?++p:--p)"string"==typeof(c=t[u])||("number"==typeof c?c=""+c:"boolean"==typeof c?c=this.options.formatters.bool(c):c instanceof Date?c=this.options.formatters.date(c):"object"==typeof c&&null!==c&&(c=this.options.formatters.object(c))),c?(a=0<=c.indexOf(l),r=0<=c.indexOf(b),o=0<=c.indexOf(d)&&d!==b,v=0<=c.indexOf("\r")||0<=c.indexOf("\n"),(v=r||a||v||this.options.quoted||this.options.quotedString&&"string"==typeof t[u])&&o&&(y="\\"===d?new RegExp(d+d,"g"):new RegExp(d,"g"),c=c.replace(y,d+d)),r&&(y=new RegExp(b,"g"),c=c.replace(y,d+b)),v&&(c=b+c+b),f+=c):(this.options.quotedEmpty||null==this.options.quotedEmpty&&""===t[u]&&this.options.quotedString)&&(f+=b+b),u!==t.length-1&&(f+=l);t=f}return t}}).call(this,t("_process"))},{_process:92,"lodash.get":88,stream:113,util:118}],47:[function(t,e,n){(function(n){var i=t("string_decoder").StringDecoder,o=t("./index");e.exports=function(t,e){var r,s,a,l,d;for(null==e&&(e={}),r=[],t instanceof n&&(t=(new i).write(t)),(d=new o.Stringifier(e)).push=function(t){if(t)return r.push(t.toString())},s=0,a=t.length;s<a;s++)l=t[s],d.write(l);return d.end(),r.join("")}}).call(this,t("buffer").Buffer)},{"./index":46,buffer:41,string_decoder:114}],48:[function(t,e,n){var i=Object.create||function(t){function e(){}return e.prototype=t,new e},o=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return e},r=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=0===d.x}catch(t){a=!1}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,n,o){var r,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(r=t._events)?(r.newListener&&(t.emit("newListener",e,n.listener||n),r=t._events),s=r[e]):(r=t._events=i(null),t._eventsCount=0),s?("function"==typeof s?s=r[e]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),s.warned||(o=c(t))&&0<o&&s.length>o&&(s.warned=!0,(o=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",o.name,o.message))):(s=r[e]=n,++t._eventsCount),t}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,n){return t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},(e=r.call(h,t)).listener=n,t.wrapFn=e}function f(t,e,n){return(t=t._events)&&(e=t[e])?"function"==typeof e?n?[e.listener||e]:[e]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):g(e,e.length):[]}function b(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function g(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');l=t}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t,e,n,i){var o,r,s,a,l="error"===t,d=this._events;if(d)l=l&&null==d.error;else if(!l)return!1;if(l){if(1<arguments.length&&(o=e),o instanceof Error)throw o;throw(l=new Error('Unhandled "error" event. ('+o+")")).context=o,l}if(!(r=d[t]))return!1;var c,u="function"==typeof r;switch(c=arguments.length){case 1:!function(t,e){if(u)t.call(e);else for(var n=t.length,i=g(t,n),o=0;o<n;++o)i[o].call(e)}(r,this);break;case 2:!function(t,e,n){if(u)t.call(e,n);else for(var i=t.length,o=g(t,i),r=0;r<i;++r)o[r].call(e,n)}(r,this,e);break;case 3:!function(t,e,n,i){if(u)t.call(e,n,i);else for(var o=t.length,r=g(t,o),s=0;s<o;++s)r[s].call(e,n,i)}(r,this,e,n);break;case 4:!function(t,e,n,i,o){if(u)t.call(e,n,i,o);else for(var r=t.length,s=g(t,r),a=0;a<r;++a)s[a].call(e,n,i,o)}(r,this,e,n,i);break;default:for(s=new Array(c-1),a=1;a<c;a++)s[a-1]=arguments[a];!function(t,e,n){if(u)t.apply(e,n);else for(var i=t.length,o=g(t,i),r=0;r<i;++r)o[r].apply(e,n)}(r,this,s)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,o,r,s,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=i(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,s=n.length-1;0<=s;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(t){for(var e=r,n=e+1,i=t.length;n<i;e+=1,n+=1)t[e]=t[n];t.pop()}(n),1===n.length&&(o[t]=n[0]),o.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.removeAllListeners=function(t){var e,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=i(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=i(null):delete n[t]),this;if(0===arguments.length){for(var r,s=o(n),a=0;a<s.length;++a)"removeListener"!==(r=s[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(a=e.length-1;0<=a;a--)this.removeListener(t,e[a]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},s.prototype.listenerCount=b,s.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],49:[function(t,e,n){"use strict";var i=t("./util/constants"),o=t("./mixins/logging");t={VERSION:i.VERSION,Client:t("./protocol/client"),Scheduler:t("./protocol/scheduler")},o.wrapper=t,e.exports=t},{"./mixins/logging":51,"./protocol/client":55,"./protocol/scheduler":61,"./util/constants":74}],50:[function(t,e,i){(function(n){"use strict";var i=t("../util/promise");e.exports={then:function(t,e){var n=this;return this._promise||(this._promise=new i((function(t,e){n._resolve=t,n._reject=e}))),0===arguments.length?this._promise:this._promise.then(t,e)},callback:function(t,e){return this.then((function(n){t.call(e,n)}))},errback:function(t,e){return this.then(null,(function(n){t.call(e,n)}))},timeout:function(t,e){this.then();var i=this;this._timer=n.setTimeout((function(){i._reject(e)}),1e3*t)},setDeferredStatus:function(t,e){this._timer&&n.clearTimeout(this._timer),this.then(),"succeeded"===t?this._resolve(e):"failed"===t?this._reject(e):delete this._promise}}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/promise":78}],51:[function(t,e,n){"use strict";var i,o=t("../util/to_json"),r={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(t,e){var n,i,s,a=r.logger||(r.wrapper||r).logger;a&&(n=Array.prototype.slice.apply(t),i="[Faye",s=this.className,t=n.shift().replace(/\?/g,(function(){try{return o(n.shift())}catch(t){return"[Object]"}})),s&&(i+="."+s),i+="] ","function"==typeof a[e]?a[e](i+t):"function"==typeof a&&a(i+t))}};for(i in r.LOG_LEVELS)!function(t){r[t]=function(){this.writeLog(arguments,t)}}(i);e.exports=r},{"../util/to_json":80}],52:[function(t,e,n){"use strict";var i={countListeners:function(t){return this.listeners(t).length},bind:function(t,e,n){function i(){e.apply(n,o.call(arguments))}var o=Array.prototype.slice;return this._listeners=this._listeners||[],this._listeners.push([t,e,n,i]),this.on(t,i)},unbind:function(t,e,n){this._listeners=this._listeners||[];for(var i,o=this._listeners.length;o--;)(i=this._listeners[o])[0]===t&&(e&&(i[1]!==e||i[2]!==n)||(this._listeners.splice(o,1),this.removeListener(t,i[3])))}};t("../util/assign")(i,t("../util/event_emitter").prototype),i.trigger=i.emit,e.exports=i},{"../util/assign":71,"../util/event_emitter":77}],53:[function(t,e,i){(function(t){"use strict";e.exports={addTimeout:function(e,n,i,o){var r;this._timeouts=this._timeouts||{},this._timeouts.hasOwnProperty(e)||((r=this)._timeouts[e]=t.setTimeout((function(){delete r._timeouts[e],i.call(o)}),1e3*n))},removeTimeout:function(e){this._timeouts=this._timeouts||{};var n=this._timeouts[e];n&&(t.clearTimeout(n),delete this._timeouts[e])},removeAllTimeouts:function(){for(var t in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(t)}}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(t,e,n){"use strict";var i=t("../util/class"),o=t("../util/assign"),r=t("../mixins/publisher"),s=t("./grammar"),a=i({initialize:function(t){this.id=this.name=t},push:function(t){this.trigger("message",t)},isUnused:function(){return 0===this.countListeners("message")}});o(a.prototype,r),o(a,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(t){var e=this.parse(t),n=["/**",t],i=e.slice();i[i.length-1]="*",n.push(this.unparse(i));for(var o=1,r=e.length;o<r;o++)(i=e.slice(0,o)).push("**"),n.push(this.unparse(i));return n},isValid:function(t){return s.CHANNEL_NAME.test(t)||s.CHANNEL_PATTERN.test(t)},parse:function(t){return this.isValid(t)?t.split("/").slice(1):null},unparse:function(t){return"/"+t.join("/")},isMeta:function(t){return(t=this.parse(t))?t[0]===this.META:null},isService:function(t){return(t=this.parse(t))?t[0]===this.SERVICE:null},isSubscribable:function(t){return this.isValid(t)?!this.isMeta(t)&&!this.isService(t):null},Set:i({initialize:function(){this._channels={}},getKeys:function(){var t,e=[];for(t in this._channels)e.push(t);return e},remove:function(t){delete this._channels[t]},hasSubscription:function(t){return this._channels.hasOwnProperty(t)},subscribe:function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];(this._channels[o]=this._channels[o]||new a(o)).bind("message",e)}},unsubscribe:function(t,e){var n=this._channels[t];return!!n&&(n.unbind("message",e),!!n.isUnused()&&(this.remove(t),!0))},distributeMessage:function(t){for(var e=a.expand(t.channel),n=0,i=e.length;n<i;n++){var o=this._channels[e[n]];o&&o.trigger("message",t)}}})}),e.exports=a},{"../mixins/publisher":52,"../util/assign":71,"../util/class":73,"./grammar":59}],55:[function(t,e,i){(function(n){"use strict";var i=t("asap"),o=t("../util/class"),r=(t("../util/promise"),t("../util/array")),s=t("../util/browser"),a=t("../util/constants"),l=t("../util/assign"),d=t("../util/validate_options"),c=t("../mixins/deferrable"),u=t("../mixins/logging"),h=t("../mixins/publisher"),p=t("./channel"),f=t("./dispatcher"),b=t("./error"),g=t("./extensible"),m=t("./publication"),y=t("./subscription");o=o({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(t,e){this.info("New client created for ?",t),d(e=e||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new p.Set,this._dispatcher=f.create(this,t||this.DEFAULT_ENDPOINT,e),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(e.interval||this.INTERVAL),timeout:1e3*(e.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",(function(){r.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()}),this)},addWebsocketExtension:function(t){return this._dispatcher.addWebsocketExtension(t)},disable:function(t){return this._dispatcher.disable(t)},setHeader:function(t,e){return this._dispatcher.setHeader(t,e)},handshake:function(t,e){var o;this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED&&(this._state=this.CONNECTING,(o=this).info("Initiating handshake with ?",this._dispatcher.endpoint.href),this._dispatcher.selectTransport(a.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:p.HANDSHAKE,version:a.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},(function(r){r.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=r.clientId,this._dispatcher.selectTransport(r.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),t&&i((function(){t.call(e)}))):(this.info("Handshake unsuccessful"),n.setTimeout((function(){o.handshake(t,e)}),1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)}),this))},connect:function(t,e){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake((function(){this.connect(t,e)}),this);this.callback(t,e),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:p.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var t=new m;return this._sendMessage({channel:p.DISCONNECT,clientId:this._dispatcher.clientId},{},(function(e){e.successful?(this._dispatcher.close(),t.setDeferredStatus("succeeded")):t.setDeferredStatus("failed",b.parse(e.error))}),this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new p.Set,t}},subscribe:function(t,e,n){if(t instanceof Array)return r.map(t,(function(t){return this.subscribe(t,e,n)}),this);var i=new y(this,t,e,n),o=!0===e;return this._channels.hasSubscription(t)&&!o?(this._channels.subscribe([t],i),i.setDeferredStatus("succeeded")):this.connect((function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,t),o||this._channels.subscribe([t],i),this._sendMessage({channel:p.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(e){if(!e.successful)return i.setDeferredStatus("failed",b.parse(e.error)),this._channels.unsubscribe(t,i);e=[].concat(e.subscription),this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,e),i.setDeferredStatus("succeeded")}),this)}),this),i},unsubscribe:function(t,e){if(t instanceof Array)return r.map(t,(function(t){return this.unsubscribe(t,e)}),this);this._channels.unsubscribe(t,e)&&this.connect((function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,t),this._sendMessage({channel:p.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(t){t.successful&&(t=[].concat(t.subscription),this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t))}),this)}),this)},publish:function(t,e,n){d(n||{},["attempts","deadline"]);var i=new m;return this.connect((function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,t,e),this._sendMessage({channel:t,data:e,clientId:this._dispatcher.clientId},n,(function(t){t.successful?i.setDeferredStatus("succeeded"):i.setDeferredStatus("failed",b.parse(t.error))}),this)}),this),i},_sendMessage:function(t,e,n,i){t.id=this._generateMessageId();var o=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",t,null,(function(t){t&&(n&&(this._responseCallbacks[t.id]=[n,i]),this._dispatcher.sendMessage(t,o,e||{}))}),this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(t){var e,n=t.id;void 0!==t.successful&&(e=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",t,null,(function(t){t&&(t.advice&&this._handleAdvice(t.advice),this._deliverMessage(t),e&&e[0].call(e[1],t))}),this)},_handleAdvice:function(t){l(this._advice,t),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(t){t.channel&&void 0!==t.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,t.channel,t.data),this._channels.distributeMessage(t))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var t=this;n.setTimeout((function(){t.connect()}),this._advice.interval)}}),l(o.prototype,c),l(o.prototype,h),l(o.prototype,u),l(o.prototype,g),e.exports=o}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../mixins/logging":51,"../mixins/publisher":52,"../util/array":70,"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/constants":74,"../util/promise":78,"../util/validate_options":82,"./channel":54,"./dispatcher":56,"./error":57,"./extensible":58,"./publication":60,"./subscription":62,asap:37}],56:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/uri"),r=t("../util/cookies"),s=t("../util/assign"),a=t("../mixins/logging"),l=t("../mixins/publisher"),d=t("../transport"),c=t("./scheduler"),u=i({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(t,e,n){this._client=t,this.endpoint=o.parse(e),this._alternates=n.endpoints||{},this.cookies=r.CookieJar&&new r.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||c,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var i,s=n.websocketExtensions;if(s)for(var a=0,l=(s=[].concat(s)).length;a<l;a++)this.addWebsocketExtension(s[a]);for(i in this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca,this._alternates)this._alternates[i]=o.parse(this._alternates[i]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(t){return this._alternates[t]||this.endpoint},addWebsocketExtension:function(t){this.wsExtensions.push(t)},disable:function(t){this._disabled.push(t),d.disable(t)},setHeader:function(t,e){this.headers[t]=e},close:function(){var t=this._transport;delete this._transport,t&&t.close()},getConnectionTypes:function(){return d.getConnectionTypes()},selectTransport:function(t){d.get(this,t,this._disabled,(function(t){this.debug("Selected ? transport for ?",t.connectionType,t.endpoint.href),t!==this._transport&&(this._transport&&this._transport.close(),this._transport=t,this.connectionType=t.connectionType)}),this)},sendMessage:function(t,e,n){n=n||{};var i=t.id,o=n.attempts,r=n.deadline&&(new Date).getTime()+1e3*n.deadline;(n=this._envelopes[i])||(r=new this._scheduler(t,{timeout:e,interval:this.retry,attempts:o,deadline:r}),n=this._envelopes[i]={message:t,scheduler:r}),this._sendEnvelope(n)},_sendEnvelope:function(t){if(this._transport&&!t.request&&!t.timer){var e=t.message,i=t.scheduler,o=this;if(!i.isDeliverable())return i.abort(),void delete this._envelopes[e.id];t.timer=n.setTimeout((function(){o.handleError(e)}),1e3*i.getTimeout()),i.send(),t.request=this._transport.sendMessage(e)}},handleResponse:function(t){var e=this._envelopes[t.id];void 0!==t.successful&&e&&(e.scheduler.succeed(),delete this._envelopes[t.id],n.clearTimeout(e.timer)),this.trigger("message",t),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(t,e){var i=this._envelopes[t.id],o=(t=i&&i.request,this);t&&(t.then((function(t){t&&t.abort&&t.abort()})),(t=i.scheduler).fail(),n.clearTimeout(i.timer),i.request=i.timer=null,e?this._sendEnvelope(i):i.timer=n.setTimeout((function(){i.timer=null,o._sendEnvelope(i)}),1e3*t.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down")))}});u.create=function(t,e,n){return new u(t,e,n)},s(u.prototype,l),s(u.prototype,a),e.exports=u}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/logging":51,"../mixins/publisher":52,"../transport":63,"../util/assign":71,"../util/class":73,"../util/cookies":75,"../util/uri":81,"./scheduler":61}],57:[function(t,e,n){"use strict";var i=t("../util/class"),o=t("./grammar"),r=i({initialize:function(t,e,n){this.code=t,this.params=Array.prototype.slice.call(e),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});r.parse=function(t){if(t=t||"",!o.ERROR.test(t))return new r(null,[],t);var e=t.split(":"),n=parseInt(e[0]),i=e[1].split(",");return t=e[2],new r(n,i,t)};var s,a={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(s in a)!function(t){r[t]=function(){return new r(a[t][0],arguments,a[t][1]).toString()}}(s);e.exports=r},{"../util/class":73,"./grammar":59}],58:[function(t,e,n){"use strict";var i={addExtension:function(t){this._extensions=this._extensions||[],this._extensions.push(t),t.added&&t.added(this)},removeExtension:function(t){if(this._extensions)for(var e=this._extensions.length;e--;)this._extensions[e]===t&&(this._extensions.splice(e,1),t.removed&&t.removed(this))},pipeThroughExtensions:function(t,e,n,i,o){if(this.debug("Passing through ? extensions: ?",t,e),!this._extensions)return i.call(o,e);var r=this._extensions.slice(),s=function(e){if(!e)return i.call(o,e);var a=r.shift();if(!a)return i.call(o,e);var l=a[t];if(!l)return s(e);3<=l.length?a[t](e,n,s):a[t](e,s)};s(e)}};t("../util/assign")(i,t("../mixins/logging")),e.exports=i},{"../mixins/logging":51,"../util/assign":71}],59:[function(t,e,n){"use strict";e.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},{}],60:[function(t,e,n){"use strict";var i=t("../util/class");t=t("../mixins/deferrable"),e.exports=i(t)},{"../mixins/deferrable":50,"../util/class":73}],61:[function(t,e,n){"use strict";function i(t,e){this.message=t,this.options=e,this.attempts=0}t("../util/assign")(i.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var t=this.options.attempts,e=this.attempts,n=this.options.deadline,i=(new Date).getTime();return!(void 0!==t&&t<=e||void 0!==n&&n<i)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),e.exports=i},{"../util/assign":71}],62:[function(t,e,n){"use strict";var i=t("../util/class"),o=t("../util/assign");t=t("../mixins/deferrable"),i=i({initialize:function(t,e,n,i){this._client=t,this._channels=e,this._callback=n,this._context=i,this._cancelled=!1},withChannel:function(t,e){return this._withChannel=[t,e],this},apply:function(t,e){e=e[0],this._callback&&this._callback.call(this._context,e.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],e.channel,e.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}}),o(i.prototype,t),e.exports=i},{"../mixins/deferrable":50,"../util/assign":71,"../util/class":73}],63:[function(t,e,n){"use strict";var i=t("./transport");i.register("websocket",t("./web_socket")),i.register("eventsource",t("./event_source")),i.register("long-polling",t("./xhr")),i.register("cross-origin-long-polling",t("./cors")),i.register("callback-polling",t("./jsonp")),e.exports=i},{"./cors":64,"./event_source":65,"./jsonp":66,"./transport":67,"./web_socket":68,"./xhr":69}],64:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/set"),r=t("../util/uri"),s=t("../util/assign"),a=t("../util/to_json"),l=s(i(t("./transport"),{encode:function(t){return"message="+encodeURIComponent(a(t))},request:function(t){var e,i=n.XDomainRequest?XDomainRequest:XMLHttpRequest,o=new i,r=++l._id,s=this._dispatcher.headers,a=this;if(o.open("POST",this.endpoint.href,!0),o.withCredentials=!0,o.setRequestHeader)for(e in o.setRequestHeader("Pragma","no-cache"),s)s.hasOwnProperty(e)&&o.setRequestHeader(e,s[e]);function d(){o&&(l._pending.remove(r),o.onload=o.onerror=o.ontimeout=o.onprogress=null,o=null)}return o.onload=function(){var e;try{e=JSON.parse(o.responseText)}catch(e){}d(),e?a._receive(e):a._handleError(t)},o.onerror=o.ontimeout=function(){d(),a._handleError(t)},o.onprogress=function(){},i===n.XDomainRequest&&l._pending.add({id:r,xhr:o}),o.send(this.encode(t)),o}}),{_id:0,_pending:new o,isUsable:function(t,e,i,o){return r.isSameOrigin(e)?i.call(o,!1):n.XDomainRequest?i.call(o,e.protocol===location.protocol):n.XMLHttpRequest?(e=new XMLHttpRequest,i.call(o,void 0!==e.withCredentials)):i.call(o,!1)}});e.exports=l}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/class":73,"../util/set":79,"../util/to_json":80,"../util/uri":81,"./transport":67}],65:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/uri"),r=t("../util/copy_object"),s=t("../util/assign"),a=t("../mixins/deferrable"),l=t("./transport"),d=t("./xhr");i=s(i(l,{initialize:function(t,e){if(l.prototype.initialize.call(this,t,e),!n.EventSource)return this.setDeferredStatus("failed");this._xhr=new d(t,e),(e=r(e)).pathname+="/"+t.clientId;var i=new n.EventSource(o.stringify(e)),s=this;i.onopen=function(){s._everConnected=!0,s.setDeferredStatus("succeeded")},i.onerror=function(){s._everConnected?s._handleError([]):(s.setDeferredStatus("failed"),i.close())},i.onmessage=function(t){var e;try{e=JSON.parse(t.data)}catch(t){}e?s._receive(e):s._handleError([])},this._socket=i},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)}))},encode:function(t){return this._xhr.encode(t)},request:function(t){return this._xhr.request(t)}}),{isUsable:function(t,e,n,i){if(!t.clientId)return n.call(i,!1);d.isUsable(t,e,(function(o){return o?void this.create(t,e).isUsable(n,i):n.call(i,!1)}),this)},create:function(t,e){var n=t.transports.eventsource=t.transports.eventsource||{},i=t.clientId,s=r(e);return s.pathname+="/"+(i||""),n[s=o.stringify(s)]=n[s]||new this(t,e),n[s]}}),s(i.prototype,a),e.exports=i}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/assign":71,"../util/class":73,"../util/copy_object":76,"../util/uri":81,"./transport":67,"./xhr":69}],66:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/uri"),r=t("../util/copy_object"),s=t("../util/assign"),a=t("../util/to_json"),l=s(i(t("./transport"),{encode:function(t){var e=r(this.endpoint);return e.query.message=a(t),e.query.jsonp="__jsonp"+l._cbCount+"__",o.stringify(e)},request:function(t){var e=document.getElementsByTagName("head")[0],i=document.createElement("script"),s=l.getCallbackName(),d=r(this.endpoint),c=this;function u(){if(!n[s])return!1;n[s]=void 0;try{delete n[s]}catch(t){}i.parentNode.removeChild(i)}return d.query.message=a(t),d.query.jsonp=s,n[s]=function(t){u(),c._receive(t)},i.type="text/javascript",i.src=o.stringify(d),e.appendChild(i),i.onerror=function(){u(),c._handleError(t)},{abort:u}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(t,e,n,i){n.call(i,!0)}});e.exports=l}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/class":73,"../util/copy_object":76,"../util/to_json":80,"../util/uri":81,"./transport":67}],67:[function(t,e,n){(function(n){"use strict";var i=t("../util/class"),o=t("../util/cookies").Cookie,r=t("../util/promise"),s=t("../util/array"),a=t("../util/assign"),l=t("../mixins/logging"),d=t("../mixins/timeouts"),c=t("../protocol/channel");i=a(i({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(t,e){this._dispatcher=t,this.endpoint=e,this._outbox=[],this._proxy=a({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(t){return""},sendMessage:function(t){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,this.endpoint.href,t),this.batching?(this._outbox.push(t),this._flushLargeBatch(),t.channel===c.HANDSHAKE?this._publish(.01):(t.channel===c.CONNECT&&(this._connectMessage=t),this._publish(this.MAX_DELAY))):r.resolve(this.request([t]))},_makePromise:function(){var t=this;this._requestPromise=this._requestPromise||new r((function(e){t._resolvePromise=e}))},_publish:function(t){return this._makePromise(),this.addTimeout("publish",t,(function(){this._flush(),delete this._requestPromise}),this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),1<this._outbox.length&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){var t;this.encode(this._outbox).length<this._dispatcher.maxRequestSize||(t=this._outbox.pop(),this._makePromise(),this._flush(),t&&this._outbox.push(t))},_receive:function(t){if(t){t=[].concat(t),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,this.endpoint.href,this.connectionType,t);for(var e=0,n=t.length;e<n;e++)this._dispatcher.handleResponse(t[e])}},_handleError:function(t,e){t=[].concat(t),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,this.endpoint.href,this.connectionType,t);for(var n=0,i=t.length;n<i;n++)this._dispatcher.handleError(t[n])},_getCookies:function(){var t=this._dispatcher.cookies,e=this.endpoint.href;return t?s.map(t.getCookiesSync(e),(function(t){return t.cookieString()})).join("; "):""},_storeCookies:function(t){var e,n=this._dispatcher.cookies,i=this.endpoint.href;if(t&&n)for(var r=0,s=(t=[].concat(t)).length;r<s;r++)e=o.parse(t[r]),n.setCookieSync(e,i)},_findProxy:function(){if(void 0!==n){var t=this.endpoint.protocol;if(t){var e,i=t.replace(/:$/,"").toLowerCase()+"_proxy",o=i.toUpperCase(),r=n.env;return"http_proxy"===i&&r.REQUEST_METHOD?(1===(t=Object.keys(r).filter((function(t){return/^http_proxy$/i.test(t)}))).length?t[0]===i&&void 0===r[o]&&(e=r[i]):1<t.length&&(e=r[i]),e=e||r["CGI_"+o]):(e=r[i]||r[o])&&!r[i]&&console.warn("The environment variable "+o+" is discouraged. Use "+i+"."),e}}}}),{get:function(t,e,n,i,o){var r=t.endpoint;s.asyncEach(this._transports,(function(r,a){var l=r[0],d=r[1],c=t.endpointFor(l);return 0<=s.indexOf(n,l)?a():s.indexOf(e,l)<0?(d.isUsable(t,c,(function(){})),a()):void d.isUsable(t,c,(function(e){if(!e)return a();e=d.hasOwnProperty("create")?d.create(t,c):new d(t,c),i.call(o,e)}))}),(function(){throw new Error("Could not find a usable connection type for "+r.href)}))},register:function(t,e){this._transports.push([t,e]),e.prototype.connectionType=t},getConnectionTypes:function(){return s.map(this._transports,(function(t){return t[0]}))},disable:function(t){if("autodisconnect"===t)for(var e=0;e<this._transports.length;e++)this._transports[e][1]._unloaded=!1},_transports:[]}),a(i.prototype,l),a(i.prototype,d),e.exports=i}).call(this,t("_process"))},{"../mixins/logging":51,"../mixins/timeouts":53,"../protocol/channel":54,"../util/array":70,"../util/assign":71,"../util/class":73,"../util/cookies":75,"../util/promise":78,_process:92}],68:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/promise"),r=t("../util/set"),s=t("../util/uri"),a=t("../util/browser"),l=t("../util/copy_object"),d=t("../util/assign"),c=t("../util/to_json"),u=t("../util/websocket"),h=t("../mixins/deferrable"),p=d(i(t("./transport"),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)})),this.connect()},request:function(t){this._pending=this._pending||new r;for(var e=0,n=t.length;e<n;e++)this._pending.add(t[e]);var i=this,s=new o((function(e,n){i.callback((function(n){n&&1===n.readyState&&(n.send(c(t)),e(n))})),i.connect()}));return{abort:function(){s.then((function(t){t.close()}))}}},connect:function(){if(!p._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var t=this._createSocket();if(!t)return this.setDeferredStatus("failed");var e=this,n=!(t.onopen=function(){t.headers&&e._storeCookies(t.headers["set-cookie"]),e._socket=t,e._state=e.CONNECTED,e._everConnected=!0,e.setDeferredStatus("succeeded",t)});t.onclose=t.onerror=function(){var i,o;n||(n=!0,i=e._state===e.CONNECTED,t.onopen=t.onclose=t.onerror=t.onmessage=null,delete e._socket,e._state=e.UNCONNECTED,o=e._pending?e._pending.toArray():[],delete e._pending,i||e._everConnected?(e.setDeferredStatus("unknown"),e._handleError(o,i)):e.setDeferredStatus("failed"))},t.onmessage=function(t){var n;try{n=JSON.parse(t.data)}catch(t){}if(n){for(var i=0,o=(n=[].concat(n)).length;i<o;i++)void 0!==n[i].successful&&e._pending.remove(n[i]);e._receive(n)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var t=p.getSocketUrl(this.endpoint),e=this._dispatcher.headers,n=this._dispatcher.wsExtensions,i=this._getCookies(),o=this._dispatcher.tls,r={extensions:n,headers:e,proxy:this._proxy,tls:o};""!==i&&(r.headers.Cookie=i);try{return u.create(t,[],r)}catch(t){}}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(t,e){var n=t.transports.websocket=t.transports.websocket||{};return n[e.href]=n[e.href]||new this(t,e),n[e.href]},getSocketUrl:function(t){return(t=l(t)).protocol=this.PROTOCOLS[t.protocol],s.stringify(t)},isUsable:function(t,e,n,i){this.create(t,e).isUsable(n,i)}});d(p.prototype,h),a.Event&&void 0!==n.onbeforeunload&&a.Event.on(n,"beforeunload",(function(){void 0===p._unloaded&&(p._unloaded=!0)})),e.exports=p}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/copy_object":76,"../util/promise":78,"../util/set":79,"../util/to_json":80,"../util/uri":81,"../util/websocket":83,"./transport":67}],69:[function(t,e,i){(function(n){"use strict";var i=t("../util/class"),o=t("../util/uri"),r=t("../util/browser"),s=t("../util/assign"),a=t("../util/to_json");i=s(i(t("./transport"),{encode:function(t){return a(t)},request:function(t){var e,i=this.endpoint.href,o=this;if(n.XMLHttpRequest)e=new XMLHttpRequest;else{if(!n.ActiveXObject)return this._handleError(t);e=new ActiveXObject("Microsoft.XMLHTTP")}e.open("POST",i,!0),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Pragma","no-cache"),e.setRequestHeader("X-Requested-With","XMLHttpRequest");var s,a=this._dispatcher.headers;for(s in a)a.hasOwnProperty(s)&&e.setRequestHeader(s,a[s]);function l(){e.abort()}return void 0!==n.onbeforeunload&&r.Event.on(n,"beforeunload",l),e.onreadystatechange=function(){if(e&&4===e.readyState){var i=null,s=e.status,a=e.responseText;if(s=200<=s&&s<300||304===s||1223===s,void 0!==n.onbeforeunload&&r.Event.detach(n,"beforeunload",l),e.onreadystatechange=function(){},e=null,!s)return o._handleError(t);try{i=JSON.parse(a)}catch(i){}i?o._receive(i):o._handleError(t)}},e.send(this.encode(t)),e}}),{isUsable:function(t,e,n,i){e="ReactNative"===navigator.product||o.isSameOrigin(e),n.call(i,e)}}),e.exports=i}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/to_json":80,"../util/uri":81,"./transport":67}],70:[function(t,e,n){"use strict";e.exports={commonElement:function(t,e){for(var n=0,i=t.length;n<i;n++)if(-1!==this.indexOf(e,t[n]))return t[n];return null},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},map:function(t,e,n){if(t.map)return t.map(e,n);var i=[];if(t instanceof Array)for(var o=0,r=t.length;o<r;o++)i.push(e.call(n||null,t[o],o));else for(var s in t)t.hasOwnProperty(s)&&i.push(e.call(n||null,s,t[s]));return i},filter:function(t,e,n){if(t.filter)return t.filter(e,n);for(var i=[],o=0,r=t.length;o<r;o++)e.call(n||null,t[o],o)&&i.push(t[o]);return i},asyncEach:function(t,e,n,i){function o(){if(!l){for(l=!0;0<a;)--a,(s+=1)===r?n&&n.call(i):e(t[s],d);l=!1}}var r=t.length,s=-1,a=0,l=!1,d=function(){a+=1,o()};d()}}},{}],71:[function(t,e,n){"use strict";var i=Array.prototype.forEach,o=Object.prototype.hasOwnProperty;e.exports=function(t){return i.call(arguments,(function(e,n){if(0!==n)for(var i in e)o.call(e,i)&&(t[i]=e[i])})),t}},{}],72:[function(t,e,i){(function(t){"use strict";var n={_registry:[],on:function(t,e,n,i){function o(){n.call(i)}t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o),this._registry.push({_element:t,_type:e,_callback:n,_context:i,_handler:o})},detach:function(t,e,n,i){for(var o,r=this._registry.length;r--;)o=this._registry[r],t&&t!==o._element||e&&e!==o._type||n&&n!==o._callback||i&&i!==o._context||(o._element.removeEventListener?o._element.removeEventListener(o._type,o._handler,!1):o._element.detachEvent("on"+o._type,o._handler),this._registry.splice(r,1),o=null)}};void 0!==t.onunload&&n.on(t,"unload",n.detach,n),e.exports={Event:n}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(t,e,n){"use strict";var i=t("./assign");e.exports=function(t,e){function n(){return this.initialize&&this.initialize.apply(this,arguments)||this}function o(){}return"function"!=typeof t&&(e=t,t=Object),o.prototype=t.prototype,n.prototype=new o,i(n.prototype,e),n}},{"./assign":71}],74:[function(t,e,n){e.exports={VERSION:"1.4.0",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},{}],75:[function(t,e,n){"use strict";e.exports={}},{}],76:[function(t,e,n){"use strict";var i=function(t){var e,n,o;if(t instanceof Array){for(e=[],n=t.length;n--;)e[n]=i(t[n]);return e}if("object"!=typeof t)return t;for(o in e=null===t?null:{},t)e[o]=i(t[o]);return e};e.exports=i},{}],77:[function(t,e,n){var i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(){}(e.exports=o).prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(i(e)){n=Array.prototype.slice.call(arguments,1);for(var o=e.slice(),r=0,s=o.length;r<s;r++)o[r].apply(this,n);return!0}return!1},o.prototype.on=o.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,this},o.prototype.once=function(t,e){var n=this;return n.on(t,(function i(){n.removeListener(t,i),e.apply(this,arguments)})),this},o.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(i(n)){var o=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}(n,e);if(o<0)return this;n.splice(o,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},o.prototype.removeAllListeners=function(t){return 0===arguments.length?this._events={}:t&&this._events&&this._events[t]&&(this._events[t]=null),this},o.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}},{}],78:[function(t,e,n){"use strict";function i(t){this._state=-1,this._value=null,this._defer=[],r(this,t)}var o=t("asap");i.prototype.then=function(t,e){var n=new i;return e={promise:n,onFulfilled:t,onRejected:e},-1===this._state?this._defer.push(e):s(this,e),n},i.prototype.catch=function(t){return this.then(null,t)};var r=function(t,e){if("function"==typeof e){var n=0,i=function(e){0==n++&&c(t,e)};try{e((function(e){0==n++&&a(t,e)}),i)}catch(e){i(e)}}},s=function(t,e){var n=t._state,i=t._value,r=e.promise,s=[e.onFulfilled,e.onRejected][n];if("function"!=typeof s)return(0,[a,c][n])(r,i);o((function(){try{a(r,s(i))}catch(t){c(r,t)}}))},a=function(t,e){if(t===e)return c(t,new TypeError("Recursive promise chain detected"));var n;try{n=l(e)}catch(e){return c(t,e)}if(!n)return d(t,e);r(t,(function(t,i){n.call(e,t,i)}))},l=function(t){var e=typeof t;return"function"==typeof(t=("object"==e||"function"==e)&&t&&t.then)?t:null},d=function(t,e){u(t,0,e)},c=function(t,e){u(t,1,e)},u=function(t,e,n){var i=t._defer,o=0;if(t._state=e,t._value=n,t._defer=null,0!==i.length)for(;o<i.length;)s(t,i[o++])};i.resolve=function(t){try{if(l(t))return t}catch(t){return i.reject(t)}return new i((function(e,n){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.all=function(t){return new i((function(e,n){var o=[],r=t.length;if(0===r)return e(o);for(var s=0;s<r;s++)!function(t,s){i.resolve(t).then((function(t){o[s]=t,0==--r&&e(o)}),n)}(t[s],s)}))},i.race=function(t){return new i((function(e,n){for(var o=0,r=t.length;o<r;o++)i.resolve(t[o]).then(e,n)}))},i.deferred=function(){var t={};return t.promise=new i((function(e,n){t.resolve=e,t.reject=n})),t},e.exports=i},{asap:37}],79:[function(t,e,n){"use strict";t=t("./class"),e.exports=t({initialize:function(){this._index={}},add:function(t){var e=void 0!==t.id?t.id:t;return!this._index.hasOwnProperty(e)&&(this._index[e]=t,!0)},forEach:function(t,e){for(var n in this._index)this._index.hasOwnProperty(n)&&t.call(e,this._index[n])},isEmpty:function(){for(var t in this._index)if(this._index.hasOwnProperty(t))return!1;return!0},member:function(t){for(var e in this._index)if(this._index[e]===t)return!0;return!1},remove:function(t){var e=void 0!==t.id?t.id:t;return t=this._index[e],delete this._index[e],t},toArray:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}})},{"./class":73}],80:[function(t,e,n){"use strict";e.exports=function(t){return JSON.stringify(t,(function(t,e){return this[t]instanceof Array?this[t]:e}))}},{}],81:[function(t,e,n){"use strict";e.exports={isURI:function(t){return t&&t.protocol&&t.host&&t.path},isSameOrigin:function(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port},parse:function(t){if("string"!=typeof t)return t;var e,n,i,o,r,s={},a=function(e,n){t=t.replace(n,(function(t){return s[e]=t,""})),s[e]=s[e]||""};for(a("protocol",/^[a-z]+\:/i),a("host",/^\/\/[^\/\?#]+/),/^\//.test(t)||s.host||(t=location.pathname.replace(/[^\/]*$/,"")+t),a("pathname",/^[^\?#]*/),a("search",/^\?[^#]*/),a("hash",/^#.*/),s.protocol=s.protocol||location.protocol,s.host?(s.host=s.host.substr(2),/@/.test(s.host)&&(s.auth=s.host.split("@")[0],s.host=s.host.split("@")[1]),e=s.host.match(/^\[([^\]]+)\]|^[^:]+/),s.hostname=e[1]||e[0],s.port=(s.host.match(/:(\d+)$/)||[])[1]||""):(s.host=location.host,s.hostname=location.hostname,s.port=location.port),s.pathname=s.pathname||"/",s.path=s.pathname+s.search,r={},i=0,o=(n=(a=s.search.replace(/^\?/,""))?a.split("&"):[]).length;i<o;i++)e=n[i].split("="),r[decodeURIComponent(e[0]||"")]=decodeURIComponent(e[1]||"");return s.query=r,s.href=this.stringify(s),s},stringify:function(t){var e=t.auth?t.auth+"@":"";return(e=t.protocol+"//"+e+t.host)+(t.pathname+this.queryString(t.query)+(t.hash||""))},queryString:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return 0===n.length?"":"?"+n.join("&")}}},{}],82:[function(t,e,n){"use strict";var i=t("./array");e.exports=function(t,e){for(var n in t)if(i.indexOf(e,n)<0)throw new Error("Unrecognized option: "+n)}},{"./array":70}],83:[function(t,e,i){(function(t){"use strict";var n=t.MozWebSocket||t.WebSocket;e.exports={create:function(t,e,i){return"function"!=typeof n?null:new n(t)}}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(t,e,n){n.read=function(t,e,n,i,o){var r,s,a=8*o-i-1,l=(1<<a)-1,d=l>>1,c=-7,u=n?o-1:0,h=n?-1:1;for(n=t[e+u],u+=h,r=n&(1<<-c)-1,n>>=-c,c+=a;0<c;r=256*r+t[e+u],u+=h,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=i;0<c;s=256*s+t[e+u],u+=h,c-=8);if(0===r)r=1-d;else{if(r===l)return s?NaN:1/0*(n?-1:1);s+=Math.pow(2,i),r-=d}return(n?-1:1)*s*Math.pow(2,r-i)},n.write=function(t,e,n,i,o,r){var s,a,l=8*r-o-1,d=(1<<l)-1,c=d>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,p=i?1:-1;for(r=e<0||0===e&&1/e<0?1:0,e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-s))<1&&(s--,i*=2),2<=(e+=1<=s+c?u/i:u*Math.pow(2,1-c))*i&&(s++,i/=2),d<=s+c?(a=0,s=d):1<=s+c?(a=(e*i-1)*Math.pow(2,o),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));8<=o;t[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;0<l;t[n+h]=255&s,h+=p,s/=256,l-=8);t[n+h-p]|=128*r}},{}],85:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],86:[function(t,e,n){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(i(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))||!!t._isBuffer);var e}},{}],87:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],88:[function(t,e,i){(function(t){var n="Expected a function",i="__lodash_hash_undefined__",o=1/0,r="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,f="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,g=f||b||Function("return this")(),m=Array.prototype,y=(t=Function.prototype,f=Object.prototype,b=g["__core-js_shared__"],(b=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+b:""),v=t.toString,_=f.hasOwnProperty,w=f.toString,x=RegExp("^"+v.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=(f=g.Symbol,m.splice),k=A(g,"Map"),S=A(Object,"create"),O=(f=f?f.prototype:void 0)?f.toString:void 0;function I(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function E(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(t,e){for(var n,i,o=t.length;o--;)if((n=t[o][0])===(i=e)||n!=n&&i!=i)return o;return-1}function B(t,e){for(var n,i=0,r=(e=function(t,e){if(q(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!R(t))||d.test(t)||!l.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:q(n=e)?n:L(n)).length;null!=t&&i<r;)t=t[function(t){if("string"==typeof t||R(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e[i++])];return i&&i==r?t:void 0}function P(t){return N(t)&&!(y&&y in t)&&(function(t){return(t=N(t)?w.call(t):"")==r||t==s}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?x:p).test(function(t){if(null!=t){try{return v.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function D(t,e){var n,i=t.__data__;return("string"==(t=typeof(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function A(t,e){return P(e=null==t?void 0:t[e])?e:void 0}I.prototype.clear=function(){this.__data__=S?S(null):{}},I.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},I.prototype.get=function(t){var e=this.__data__;if(S){var n=e[t];return n===i?void 0:n}return _.call(e,t)?e[t]:void 0},I.prototype.has=function(t){var e=this.__data__;return S?void 0!==e[t]:_.call(e,t)},I.prototype.set=function(t,e){return this.__data__[t]=S&&void 0===e?i:e,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(t){var e=this.__data__;return!((t=M(e,t))<0||(t==e.length-1?e.pop():C.call(e,t,1),0))},E.prototype.get=function(t){var e=this.__data__;return(t=M(e,t))<0?void 0:e[t][1]},E.prototype.has=function(t){return-1<M(this.__data__,t)},E.prototype.set=function(t,e){var n=this.__data__,i=M(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},T.prototype.clear=function(){this.__data__={hash:new I,map:new(k||E),string:new I}},T.prototype.delete=function(t){return D(this,t).delete(t)},T.prototype.get=function(t){return D(this,t).get(t)},T.prototype.has=function(t){return D(this,t).has(t)},T.prototype.set=function(t,e){return D(this,t).set(t,e),this};var L=F((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(R(t))return O?O.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return c.test(t)&&n.push(""),t.replace(u,(function(t,e,i,o){n.push(i?o.replace(h,"$1"):e||t)})),n}));function F(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;return r.has(o)?r.get(o):(n=t.apply(this,n),i.cache=r.set(o,n),n)};return i.cache=new(F.Cache||T),i}F.Cache=T;var q=Array.isArray;function N(t){var e=typeof t;return t&&("object"==e||"function"==e)}function R(t){return"symbol"==typeof t||!!(e=t)&&"object"==typeof e&&w.call(t)==a;var e}e.exports=function(t,e,n){return void 0===(e=null==t?void 0:B(t,e))?n:e}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(t,e,i){(function(t){(function(){var n,o="Expected a function",r=1,s=2,a=9007199254740991,l="[object Arguments]",d="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",b="[object GeneratorFunction]",g="[object Number]",m="[object Object]",y="[object Proxy]",v="[object RegExp]",_="[object String]",w=/[&<>"']/g,x=RegExp(w.source),C=/^(?:0|[1-9]\d*)$/,k="object"==typeof t&&t&&t.Object===Object&&t,S="object"==typeof self&&self&&self.Object===Object&&self,O=k||S||Function("return this")(),I="object"==typeof i&&i&&!i.nodeType&&i,E=I&&"object"==typeof e&&e&&!e.nodeType&&e;function T(t,e){return t.push.apply(t,e),t}function M(t){return function(e){return null==e?n:e[t]}}var B,P,D,A=(B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==B?n:B[t]}),L=Array.prototype,F=Object.prototype,q=F.hasOwnProperty,N=0,R=F.toString,j=O._,z=Object.create,H=F.propertyIsEnumerable,U=O.isFinite,V=(P=Object.keys,D=Object,function(t){return P(D(t))}),W=Math.max;function Q(t){return t instanceof K?t:new K(t)}var G=function(t){return Qt(t)?z?z(t):($.prototype=t,t=new $,$.prototype=n,t):{}};function $(){}function K(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e}function Y(t,e,n){t[e]=n}function X(t,e,i){if("function"!=typeof t)throw new TypeError(o);return setTimeout((function(){t.apply(n,i)}),e)}(K.prototype=G(Q.prototype)).constructor=K;var J,Z,tt=(J=st,function(t,e){if(null==t)return t;if(!Ut(t))return J(t,e);for(var n=t.length,i=Z?n:-1,o=Object(t);(Z?i--:++i<n)&&!1!==e(o[i],i,o););return t});function et(t,e,i){for(var o=-1,r=t.length;++o<r;){var s,a,l=t[o],d=e(l);null!=d&&(s===n?d==d:i(d,s))&&(s=d,a=l)}return a}function nt(t,e){var n=[];return tt(t,(function(t,i,o){e(t,i,o)&&n.push(t)})),n}function it(t,e,n,i,o){var r=-1,s=t.length;for(n=n||Ct,o=o||[];++r<s;){var a=t[r];0<e&&n(a)?1<e?it(a,e-1,n,i,o):T(o,a):i||(o[o.length]=a)}return o}var ot,rt=function(t,e,n){for(var i=-1,o=Object(t),r=n(t),s=r.length;s--;){var a=r[ot?s:++i];if(!1===e(o[a],a,o))break}return t};function st(t,e){return t&&rt(t,e,oe)}function at(t,e){return nt(e,(function(e){return Wt(t[e])}))}function lt(t){return R.call(t)}function dt(t,e){return e<t}var ct=de;function ut(t,e,i,o,a){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,i,o,a,c){var f=Ht(t),b=Ht(e),y=f?d:lt(t),w=b?d:lt(e),x=(y=y==l?m:y)==m,C=(w=w==l?m:w)==m,k=y==w;if(b=Dt(c=c||[],(function(e){return e[0]==t})),w=Dt(c,(function(t){return t[0]==e})),b&&w)return b[1]==e;if(c.push([t,e]),c.push([e,t]),k&&!x){var S=f?function(t,e,i,o,a,l){var d=i&r,c=t.length,u=e.length;if(c!=u&&!(d&&c<u))return!1;for(var h=-1,p=!0,f=i&s?[]:n;++h<c;){var b=t[h],g=e[h];if(void 0!==n){p=!1;break}if(f){if(!vt(e,(function(t,e){if(!Mt(f,e)&&(b===t||a(b,t,i,o,l)))return f.push(e)}))){p=!1;break}}else if(b!==g&&!a(b,g,i,o,l)){p=!1;break}}return p}(t,e,i,o,a,c):function(t,e,n){switch(n){case u:case h:case g:return jt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case _:return t==e+""}return!1}(t,e,y);return c.pop(),S}return i&r||(x=x&&q.call(t,"__wrapped__"),C=C&&q.call(e,"__wrapped__"),!x&&!C)?!!k&&(S=function(t,e,i,o,s,a){var l=i&r,d=oe(t),c=d.length,u=oe(e).length;if(c!=u&&!l)return!1;for(var h=c;h--;){var p=d[h];if(!(l?p in e:q.call(e,p)))return!1}for(var f,b=!0,g=l;++h<c;){var m=t[p=d[h]],y=e[p];if(void 0!==n||m!==y&&!s(m,y,i,o,a)){b=!1;break}g=g||"constructor"==p}return b&&!g&&(f=t.constructor)!=(u=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof u&&u instanceof u)&&(b=!1),b}(t,e,i,o,a,c),c.pop(),S):(S=a(x=x?t.value():t,C=C?e.value():e,i,o,c),c.pop(),S)}(t,e,i,o,ut,a))}function ht(t){return"function"==typeof t?t:null==t?ae:("object"==typeof t?bt:M)(t)}function pt(t,e){return t<e}function ft(t,e){var n=-1,i=Ut(t)?Array(t.length):[];return tt(t,(function(t,o,r){i[++n]=e(t,o,r)})),i}function bt(t){var e=V(t);return function(n){var i=e.length;if(null==n)return!i;for(n=Object(n);i--;){var o=e[i];if(!(o in n)||!ut(t[o],n[o],r|s))return!1}return!0}}function gt(t,e){return It(Ot(t,e,ae),t+"")}function mt(t,e,n){var i=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r}function yt(t){return mt(t,0,t.length)}function vt(t,e){var n;return tt(t,(function(t,i,o){return!(n=e(t,i,o))})),!!n}function _t(t,e,i,o){var r=!i;i=i||{};for(var s,a,l=-1,d=e.length;++l<d;){var c=e[l],u=o?o(i[c],t[c],c,i,t):n;u===n&&(u=t[c]),r?Y(i,c,u):(s=u,a=void 0,a=(u=i)[c],q.call(u,c)&&jt(a,s)&&(s!==n||c in u)||Y(u,c,s))}return i}function wt(t){return gt((function(e,i){var o=-1,r=i.length,s=1<r?i[r-1]:n;for(s=3<t.length&&"function"==typeof s?(r--,s):n,e=Object(e);++o<r;){var a=i[o];a&&t(e,a,o,s)}return e}))}function xt(t,e,n,i){if("function"!=typeof t)throw new TypeError(o);var r,s=1&e,a=(r=t,function(){var t=arguments,e=G(r.prototype);return Qt(t=r.apply(e,t))?t:e});return function e(){for(var o=-1,r=arguments.length,l=-1,d=i.length,c=Array(d+r),u=this&&this!==O&&this instanceof e?a:t;++l<d;)c[l]=i[l];for(;r--;)c[l++]=arguments[++o];return u.apply(s?n:this,c)}}function Ct(t){return Ht(t)||zt(t)}function kt(t,e,n){if(Qt(n)){var i,o,r,s=typeof e;return("number"==s?Ut(n)&&(r=typeof(i=e),(o=null==(o=n.length)?a:o)&&("number"==r||"symbol"!=r&&C.test(i))&&-1<i&&i%1==0&&i<o):"string"==s&&e in n)&&jt(n[e],t)}}function St(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Ot(t,e,i){return e=W(e===n?t.length-1:e,0),function(){for(var n=arguments,o=-1,r=W(n.length-e,0),s=Array(r);++o<r;)s[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=i(s),t.apply(this,a)}}var It=ae;function Et(t){return null!=t&&t.length?it(t,1):[]}function Tt(t){return t&&t.length?t[0]:n}function Mt(t,e,n){for(var i=null==t?0:t.length,o=((n="number"==typeof n?n<0?W(i+n,0):n:0)||0)-1,r=e==e;++o<i;){var s=t[o];if(r?s===e:s!=s)return o}return-1}function Bt(t){return(t=Q(t)).__chain__=!0,t}var Pt,Dt=(Pt=function(t,e,n){var i=null==t?0:t.length;return i?((n=null==n?0:Xt(n))<0&&(n=W(i+n,0)),function(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}(t,ht(e),n)):-1},function(t,e,i){var o,r=Object(t);return Ut(t)||(o=ht(e),t=oe(t),e=function(t){return o(r[t],t,r)}),-1<(i=Pt(t,e,i))?r[o?t[i]:i]:n});function At(t,e){return tt(t,ht(e))}function Lt(t,e,n){return i=t,o=ht(e),r=n,s=arguments.length<3,tt(i,(function(t,e,n){r=s?(s=!1,t):o(r,t,e,n)})),r;var i,o,r,s}function Ft(t,e){var i;if("function"!=typeof e)throw new TypeError(o);return t=Xt(t),function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var qt=gt((function(t,e,n){return xt(t,33,e,n)})),Nt=gt((function(t,e){return X(t,1,e)})),Rt=gt((function(t,e,n){return X(t,Jt(e)||0,n)}));function jt(t,e){return t===e||t!=t&&e!=e}var zt=ct(function(){return arguments}())?ct:function(t){return Gt(t)&&q.call(t,"callee")&&!H.call(t,"callee")},Ht=Array.isArray;function Ut(t){return null!=t&&"number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=a&&!Wt(t);var e}function Vt(t){return Gt(t)&&lt(t)==h}function Wt(t){return!!Qt(t)&&((t=lt(t))==f||t==b||t==c||t==y)}function Qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}function $t(t){return"number"==typeof t||Gt(t)&&lt(t)==g}function Kt(t){return Gt(t)&&lt(t)==v}function Yt(t){return"string"==typeof t||!Ht(t)&&Gt(t)&&lt(t)==_}var Xt=Number,Jt=Number;function Zt(t){return"string"==typeof t?t:null==t?"":t+""}var te=wt((function(t,e){_t(e,V(e),t)})),ee=wt((function(t,e){_t(e,St(e),t)}));k=gt((function(t,e){t=Object(t);var i=-1,o=e.length,r=2<o?e[2]:n;for(r&&kt(e[0],e[1],r)&&(o=1);++i<o;)for(var s=e[i],a=re(s),l=-1,d=a.length;++l<d;){var c=a[l],u=t[c];(u===n||jt(u,F[c])&&!q.call(t,c))&&(t[c]=s[c])}return t}));var ne,ie,oe=V,re=St;function se(t){return null==t?[]:ft(oe(e=t),(function(t){return e[t]}));var e}function ae(t){return t}function le(t,e,n){var i=oe(e),o=at(e,i);null!=n||Qt(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=at(e,oe(e)));var r=!(Qt(n)&&"chain"in n&&!n.chain),s=Wt(t);return tt(o,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__);return(n.__actions__=yt(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,T([this.value()],arguments))})})),t}function de(){}S=It(Ot(ne=function(t,e){return null==t?{}:(n=t,n=Object(n),Lt(e,(function(t,e){return e in n&&(t[e]=n[e]),t}),{}));var n},n,Et),ne+""),ct=ht,Q.assignIn=ee,Q.before=Ft,Q.bind=qt,Q.chain=Bt,Q.compact=function(t){return nt(t,Boolean)},Q.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return T(Ht(n)?yt(n):[n],it(e,1))},Q.create=function(t,e){return t=G(t),null==e?t:te(t,e)},Q.defaults=k,Q.defer=Nt,Q.delay=Rt,Q.filter=function(t,e){return nt(t,ht(e))},Q.flatten=Et,Q.flattenDeep=function(t){return null!=t&&t.length?it(t,1/0):[]},Q.iteratee=ct,Q.keys=oe,Q.map=function(t,e){return ft(t,ht(e))},Q.matches=function(t){return bt(te({},t))},Q.mixin=le,Q.negate=function(t){if("function"!=typeof t)throw new TypeError(o);return function(){var e=arguments;return!t.apply(this,e)}},Q.once=function(t){return Ft(2,t)},Q.pick=S,Q.slice=function(t,e,i){var o=null==t?0:t.length;return e=null==e?0:+e,i=i===n?o:+i,o?mt(t,e,i):[]},Q.sortBy=function(t,e){var i=0;return e=ht(e),ft(ft(t,(function(t,n,o){return{value:t,index:i++,criteria:e(t,n,o)}})).sort((function(t,e){return function(t,e){if(t!==e){var i=t!==n,o=null===t,r=t==t,s=e!==n,a=null===e,l=e==e;if(!a&&e<t||o&&s&&l||!i&&l||!r)return 1;if(!o&&t<e||a&&i&&r||!s&&r||!l)return-1}return 0}(t.criteria,e.criteria)||t.index-e.index})),M("value"))},Q.tap=function(t,e){return e(t),t},Q.thru=function(t,e){return e(t)},Q.toArray=function(t){return Ut(t)?t.length?yt(t):[]:se(t)},Q.values=se,Q.extend=ee,le(Q,Q),Q.clone=function(t){return Qt(t)?Ht(t)?yt(t):_t(t,V(t)):t},Q.escape=function(t){return(t=Zt(t))&&x.test(t)?t.replace(w,A):t},Q.every=function(t,e,i){return o=ht(e=i?n:e),r=!0,tt(t,(function(t,e,n){return r=!!o(t,e,n)})),r;var o,r},Q.find=Dt,Q.forEach=At,Q.has=function(t,e){return null!=t&&q.call(t,e)},Q.head=Tt,Q.identity=ae,Q.indexOf=Mt,Q.isArguments=zt,Q.isArray=Ht,Q.isBoolean=function(t){return!0===t||!1===t||Gt(t)&&lt(t)==u},Q.isDate=Vt,Q.isEmpty=function(t){return Ut(t)&&(Ht(t)||Yt(t)||Wt(t.splice)||zt(t))?!t.length:!V(t).length},Q.isEqual=function(t,e){return ut(t,e)},Q.isFinite=function(t){return"number"==typeof t&&U(t)},Q.isFunction=Wt,Q.isNaN=function(t){return $t(t)&&t!=+t},Q.isNull=function(t){return null===t},Q.isNumber=$t,Q.isObject=Qt,Q.isRegExp=Kt,Q.isString=Yt,Q.isUndefined=function(t){return t===n},Q.last=function(t){var e=null==t?0:t.length;return e?t[e-1]:n},Q.max=function(t){return t&&t.length?et(t,ae,dt):n},Q.min=function(t){return t&&t.length?et(t,ae,pt):n},Q.noConflict=function(){return O._===this&&(O._=j),this},Q.noop=de,Q.reduce=Lt,Q.result=function(t,e,i){return(e=null==t?n:t[e])===n&&(e=i),Wt(e)?e.call(t):e},Q.size=function(t){return null==t?0:(t=Ut(t)?t:V(t)).length},Q.some=function(t,e,i){return vt(t,ht(e=i?n:e))},Q.uniqueId=function(t){var e=++N;return Zt(t)+e},Q.each=At,Q.first=Tt,le(Q,(ie={},st(Q,(function(t,e){q.call(Q.prototype,e)||(ie[e]=t)})),ie),{chain:!1}),Q.VERSION="4.17.15",tt(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?String.prototype:L)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|join|replace|shift)$/.test(t);Q.prototype[t]=function(){var t=arguments;if(!i||this.__chain__)return this[n]((function(n){return e.apply(Ht(n)?n:[],t)}));var o=this.value();return e.apply(Ht(o)?o:[],t)}})),Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=function(){return t=this.__wrapped__,Lt(this.__actions__,(function(t,e){return e.func.apply(e.thisArg,T([t],e.args))}),t);var t},E&&((E.exports=Q)._=Q,I._=Q)}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(t,e,n){e.exports=o,e=t("inherits");var i=t("readable-stream");function o(t,e){var n=this;if(!(n instanceof o))return new o(t,e);i.Readable.call(n,e),n.destroyed=!1,n._drained=!1,n._forwarding=!1,n._current=null,n._toStreams2=e&&e.objectMode?r:s,"function"==typeof t?n._queue=t:(n._queue=t.map(n._toStreams2),n._queue.forEach((function(t){"function"!=typeof t&&n._attachErrorListener(t)}))),n._next()}function r(t){return a(t,{objectMode:!0,highWaterMark:16})}function s(t){return a(t)}function a(t,e){return!t||"function"==typeof t||t._readableState?t:(e=new i.Readable(e).wrap(t),t.destroy&&(e.destroy=t.destroy.bind(t)),e)}e(o,i.Readable),o.obj=function(t){return new o(t,{objectMode:!0,highWaterMark:16})},o.prototype._read=function(){this._drained=!0,this._forward()},o.prototype._forward=function(){if(!this._forwarding&&this._drained&&this._current){var t;for(this._forwarding=!0;null!==(t=this._current.read());)this._drained=this.push(t);this._forwarding=!1}},o.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,this._current&&this._current.destroy&&this._current.destroy(),"function"!=typeof this._queue&&this._queue.forEach((function(t){t.destroy&&t.destroy()})),t&&this.emit("error",t),this.emit("close"))},o.prototype._next=function(){var t,e=this;e._current=null,"function"==typeof e._queue?e._queue((function(t,n){return t?e.destroy(t):(n=e._toStreams2(n),e._attachErrorListener(n),void e._gotNextStream(n))})):("function"==typeof(t=e._queue.shift())&&(t=e._toStreams2(t()),e._attachErrorListener(t)),e._gotNextStream(t))},o.prototype._gotNextStream=function(t){var e=this;if(!t)return e.push(null),void e.destroy();function n(){e._forward()}function i(){t._readableState.ended||e.destroy()}e._current=t,e._forward(),t.on("readable",n),t.once("end",(function o(){e._current=null,t.removeListener("readable",n),t.removeListener("end",o),t.removeListener("close",i),e._next()})),t.once("close",i)},o.prototype._attachErrorListener=function(t){var e=this;t&&t.once("error",(function n(i){t.removeListener("error",n),e.destroy(i)}))}},{inherits:85,"readable-stream":108}],91:[function(t,e,n){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,i)}));case 4:return t.nextTick((function(){e.call(null,n,i,o)}));default:for(r=new Array(a-1),s=0;s<r.length;)r[s++]=arguments[s];return t.nextTick((function(){e.apply(null,r)}))}}}:e.exports=t}).call(this,t("_process"))},{_process:92}],92:[function(t,e,n){var i,o;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}e=e.exports={},function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&p())}function p(){if(!c){var t=a(h);c=!0;for(var e=d.length;e;){for(l=d,d=[];++u<e;)l&&l[u].run();u=-1,e=d.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function b(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new f(t,e)),1!==d.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],93:[function(t,e,n){"use strict";var i=t("asap/raw");function o(){}var r=null,s={};function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,t!==o&&p(t,this)}function l(t,e){for(;3===t._65;)t=t._55;if(a._37&&a._37(t),0===t._65)return 0===t._40?(t._40=1,void(t._72=e)):1===t._40?(t._40=2,void(t._72=[t._72,e])):void t._72.push(e);var n,o;n=t,o=e,i((function(){var t=1===n._65?o.onFulfilled:o.onRejected;null!==t?(t=function(t,e){try{return t(e)}catch(t){return r=t,s}}(t,n._55))===s?c(o.promise,r):d(o.promise,t):(1===n._65?d:c)(o.promise,n._55)}))}function d(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself.")),0;if(e&&("object"==typeof e||"function"==typeof e)){var n=function(t){try{return t.then}catch(t){return r=t,s}}(e);if(n===s)return c(t,r),0;if(n===t.then&&e instanceof a)return t._65=3,t._55=e,void u(t);if("function"==typeof n)return void p(n.bind(e),t)}t._65=1,t._55=e,u(t)}function c(t,e){t._65=2,t._55=e,a._87&&a._87(t,e),u(t)}function u(t){if(1===t._40&&(l(t,t._72),t._72=null),2===t._40){for(var e=0;e<t._72.length;e++)l(t,t._72[e]);t._72=null}}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;t=function(t,e,n){try{t(e,n)}catch(t){return r=t,s}}(t,(function(t){n||(n=!0,d(e,t))}),(function(t){n||(n=!0,c(e,t))})),n||t!==s||(n=!0,c(e,r))}(e.exports=a)._37=null,a._87=null,a._61=o,a.prototype.then=function(t,e){if(this.constructor!==a)return i=t,r=e,new(n=this).constructor((function(t,e){var s=new a(o);s.then(t,e),l(n,new h(i,r,s))}));var n,i,r,s=new a(o);return l(this,new h(t,e,s)),s}},{"asap/raw":38}],94:[function(t,e,n){"use strict";var i=t("./core.js");e.exports=i;var o=c(!0),r=c(!1),s=c(null),a=c(void 0),l=c(0),d=c("");function c(t){var e=new i(i._61);return e._65=1,e._55=t,e}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return o;if(!1===t)return r;if(0===t)return l;if(""===t)return d;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i((function(e,n){n(t)}))}return c(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)!function r(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._65;)a=a._55;return 1===a._65?r(s,a._55):(2===a._65&&n(a._55),void a.then((function(t){r(s,t)}),n))}var l=a.then;if("function"==typeof l)return void new i(l.bind(a)).then((function(t){r(s,t)}),n)}e[s]=a,0==--o&&t(e)}(r,e[r])}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){t.forEach((function(t){i.resolve(t).then(e,n)}))}))},i.prototype.catch=function(t){return this.then(null,t)}},{"./core.js":93}],95:[function(t,e,n){"use strict";e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e),e=1e3,o&&"number"==typeof o.maxKeys&&(e=o.maxKeys);var a=t.length;0<e&&e<a&&(a=e);for(var l=0;l<a;++l){var d,c=t[l].replace(s,"%20"),u=0<=(p=c.indexOf(n))?(d=c.substr(0,p),c.substr(p+1)):(d=c,""),h=decodeURIComponent(d),p=decodeURIComponent(u);c=r,u=h,Object.prototype.hasOwnProperty.call(c,u)?i(r[h])?r[h].push(p):r[h]=[r[h],p]:r[h]=p}return r};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],96:[function(t,e,n){"use strict";function i(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),(function(s){var a=encodeURIComponent(i(s))+n;return o(t[s])?r(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function r(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var s=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},{}],97:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":95,"./encode":96}],98:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":99}],99:[function(t,e,n){"use strict";var i=t("process-nextick-args"),o=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n};e.exports=c,(e=t("core-util-is")).inherits=t("inherits");var r=t("./_stream_readable"),s=t("./_stream_writable");e.inherits(c,r);for(var a=o(s.prototype),l=0;l<a.length;l++){var d=a[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(t){if(!(this instanceof c))return new c(t);r.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||i.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},{"./_stream_readable":101,"./_stream_writable":103,"core-util-is":42,inherits:85,"process-nextick-args":91}],100:[function(t,e,n){"use strict";e.exports=o;var i=t("./_stream_transform");function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}(e=t("core-util-is")).inherits=t("inherits"),e.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":102,"core-util-is":42,inherits:85}],101:[function(t,e,i){(function(n,i){"use strict";var o=t("process-nextick-args");e.exports=m;var r,s=t("isarray");function a(t,e){return t.listeners(e).length}m.ReadableState=g,t("events").EventEmitter;var l=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,c=i.Uint8Array||function(){},u=t("core-util-is");u.inherits=t("inherits"),i=t("util");var h,p=void 0,f=(p=i&&i.debuglog?i.debuglog("stream"):function(){},t("./internal/streams/BufferList"));i=t("./internal/streams/destroy"),u.inherits(m,l);var b=["error","close","destroy","pause","resume"];function g(e,n){e=e||{};var i=n instanceof(r=r||t("./_stream_duplex"));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark;n=this.objectMode?16:16384,this.highWaterMark=o||0===o?o:i&&(s||0===s)?s:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h=h||t("string_decoder/").StringDecoder,this.decoder=new h(e.encoding),this.encoding=e.encoding)}function m(e){if(r=r||t("./_stream_duplex"),!(this instanceof m))return new m(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function y(t,e,n,i,o){var r,s,a,l,u=t._readableState;return null===e?(u.reading=!1,s=t,(a=u).ended||(!a.decoder||(l=a.decoder.end())&&l.length&&(a.buffer.push(l),a.length+=a.objectMode?1:l.length),a.ended=!0,x(s))):(o||(r=function(t,e){var n;return function(t){return d.isBuffer(t)||t instanceof c}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,e)),r?t.emit("error",r):u.objectMode||e&&0<e.length?("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===d.prototype||(r=e,e=d.from(r)),i?u.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):v(t,u,e,!0):u.ended?t.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(e=u.decoder.write(e),u.objectMode||0!==e.length?v(t,u,e,!1):k(t,u)):v(t,u,e,!1))):i||(u.reading=!1)),!u.ended&&(u.needReadable||u.length<u.highWaterMark||0===u.length)}function v(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&x(t)),k(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=i.destroy,m.prototype._undestroy=i.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=d.from(t,e),e=""),n=!0),y(this,t,e,!1,n)},m.prototype.unshift=function(t){return y(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return h=h||t("string_decoder/").StringDecoder,this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var _=8388608;function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(_<=(n=t)?n=_:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var n}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),E(t)}function k(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function O(t){p("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():(n?function(t,e){var n=e.head,i=1,o=n.data;for(t-=o.length;n=n.next;){var r=n.data,s=t>r.length?r.length:t;if(s===r.length?o+=r:o+=r.slice(0,t),0==(t-=s)){s===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=r.slice(s);break}++i}return e.length-=i,o}:function(t,e){var n=d.allocUnsafe(t),i=e.head,o=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var r=i.data,s=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,s),0==(t-=s)){s===r.length?(++o,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i).data=r.slice(s);break}++o}return e.length-=o,n})(t,e),i}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(B,e,t))}function B(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}m.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),(0===e.length&&e.ended?M:x)(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&M(this),null;var i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(n,e))),null===(i=0<t?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==i&&this.emit("data",i),i},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,e);var l=e&&!1===e.end||t===n.stdout||t===n.stderr?w:c;function d(e,n){p("onunpipe"),e===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",_),t.removeListener("drain",h),t.removeListener("error",y),t.removeListener("unpipe",d),i.removeListener("end",c),i.removeListener("end",w),i.removeListener("data",m),b=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){p("onend"),t.end()}r.endEmitted?o.nextTick(l):i.once("end",l),t.on("unpipe",d);var u,h=(u=i,function(){var t=u._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(u,"data")&&(t.flowing=!0,E(u))});t.on("drain",h);var f,b=!1,g=!1;function m(e){p("ondata"),(g=!1)!==t.write(e)||g||((1===r.pipesCount&&r.pipes===t||1<r.pipesCount&&-1!==P(r.pipes,t))&&!b&&(p("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,g=!0),i.pause())}function y(e){p("onerror",e),w(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",_),w()}function _(){p("onfinish"),t.removeListener("close",v),w()}function w(){p("unpipe"),i.unpipe(t)}return i.on("data",m),f="error",e=y,"function"==typeof(l=t).prependListener?l.prependListener(f,e):l._events&&l._events[f]?s(l._events[f])?l._events[f].unshift(e):l._events[f]=[e,l._events[f]]:l.on(f,e),t.once("close",v),t.once("finish",_),t.emit("pipe",i),r.flowing||(p("pipe resume"),i.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<o;r++)i[r].emit("unpipe",this,n);return this}var s=P(e.pipes,t);return-1===s||(e.pipes.splice(s,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},m.prototype.addListener=m.prototype.on=function(t,e){return e=l.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&x(this):o.nextTick(O,this))),e},m.prototype.resume=function(){var t,e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,t=this,e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(I,t,e))),this},m.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e,n=this,i=this._readableState,o=!1;for(e in t.on("end",(function(){var t;p("wrapped end"),!i.decoder||i.ended||(t=i.decoder.end())&&t.length&&n.push(t),n.push(null)})),t.on("data",(function(e){p("wrapped data"),i.decoder&&(e=i.decoder.write(e)),i.objectMode&&null==e||(i.objectMode||e&&e.length)&&(n.push(e)||(o=!0,t.pause()))})),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var r=0;r<b.length;r++)t.on(b[r],this.emit.bind(this,b[r]));return this._read=function(e){p("wrapped _read",e),o&&(o=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=T}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":99,"./internal/streams/BufferList":104,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,events:48,inherits:85,isarray:87,"process-nextick-args":91,"safe-buffer":111,"string_decoder/":114,util:40}],102:[function(t,e,n){"use strict";e.exports=o;var i=t("./_stream_duplex");function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=e&&this.push(e),i(t),(t=this._readableState).reading=!1,(t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",r)}function r(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){s(t,e,n)})):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}(e=t("core-util-is")).inherits=t("inherits"),e.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;i.writecb=n,i.writechunk=t,i.writeencoding=e,i.transforming||(e=this._readableState,(i.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark))},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":99,"core-util-is":42,inherits:85}],103:[function(t,e,i){(function(n,i,o){"use strict";var r=t("process-nextick-args");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var o=i.callback;e.pendingcb--,o(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.exports=g;var a,l=!n.browser&&-1<["v0.10","v0.9."].indexOf(n.version.slice(0,5))?o:r.nextTick;g.WritableState=b,(o=t("core-util-is")).inherits=t("inherits");var d,c={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,p=i.Uint8Array||function(){};function f(){}function b(e,n){a=a||t("./_stream_duplex"),e=e||{};var i=n instanceof a;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,d=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(d||0===d)?d:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,c=(this.destroyed=!1)===e.decodeStrings,this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var e,i,o,s;i=t,s=(o=(e=n)._writableState).sync,t=o.writecb,function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(o),i?function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),x(t,e))}(e,o,s,i,t):((i=_(o))||o.corked||o.bufferProcessing||!o.bufferedRequest||v(e,o),s?l(y,e,o,i,t):y(e,o,i,t))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function g(e){if(a=a||t("./_stream_duplex"),!(d.call(g,this)||this instanceof a))return new g(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function m(t,e,n,i,o,r,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,r,e.onwrite),e.sync=!1}function y(t,e,n,i){var o;n||(o=t,0===(n=e).length&&n.needDrain&&(n.needDrain=!1,o.emit("drain"))),e.pendingcb--,i(),x(t,e)}function v(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,o=new Array(i);(i=e.corkedRequestsFree).entry=n;for(var r=0,a=!0;n;)(o[r]=n).isBuf||(a=!1),n=n.next,r+=1;o.allBuffers=a,m(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,d=n.encoding,c=n.callback;if(m(t,e,!1,e.objectMode?1:l.length,l,d,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),x(t,e)}))}function x(t,e){var n,i,o=_(e);return o&&(n=t,(i=e).prefinished||i.finalCalled||("function"==typeof n._final?(i.pendingcb++,i.finalCalled=!0,r.nextTick(w,n,i)):(i.prefinished=!0,n.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),o}i=t("./internal/streams/destroy"),o.inherits(g,u),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===g&&t&&t._writableState instanceof b}})):d=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var i,o,s,a,l,d,c=this._writableState,u=!1,b=!c.objectMode&&(o=t,h.isBuffer(o)||o instanceof p);return b&&!h.isBuffer(t)&&(s=t,t=h.from(s)),"function"==typeof e&&(n=e,e=null),e=b?"buffer":e||c.defaultEncoding,"function"!=typeof n&&(n=f),c.ended?(a=this,l=n,d=new Error("write after end"),a.emit("error",d),r.nextTick(l,d)):(b||(i=this,o=c,s=n,l=!(a=!0),null===(d=t)?l=new TypeError("May not write null values to stream"):"string"==typeof d||void 0===d||o.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(i.emit("error",l),r.nextTick(s,l),a=!1),a))&&(c.pendingcb++,u=function(t,e,n,i,o,r){n||(a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n)),e}(e,i,o),i!==a&&(n=!0,o="buffer",i=a));var s=e.objectMode?1:i.length;e.length+=s;var a,l=e.length<e.highWaterMark;return l||(e.needDrain=!0),e.writing||e.corked?(a=e.lastBufferedRequest,e.lastBufferedRequest={chunk:i,encoding:o,isBuf:n,callback:r,next:null},a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):m(t,e,!1,s,i,o,r),l}(this,c,b,t,e,n)),u},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||(e=this,i.ending=!0,x(e,i),n&&(i.finished?r.nextTick(n):e.once("finish",n)),i.ended=!0,e.writable=!1)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=i.destroy,g.prototype._undestroy=i.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":99,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,inherits:85,"process-nextick-args":91,"safe-buffer":111,timers:115,"util-deprecate":116}],104:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,o=t("util");function r(){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}e.exports=(r.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},r.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o=i.allocUnsafe(t>>>0),r=this.head,s=0;r;)e=o,n=s,r.data.copy(e,n),s+=r.data.length,r=r.next;return o},r),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":111,util:40}],105:[function(t,e,n){"use strict";var i=t("process-nextick-args");function o(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(o,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":91}],106:[function(t,e,n){e.exports=t("events").EventEmitter},{events:48}],107:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":108}],108:[function(t,e,n){(((n=e.exports=t("./lib/_stream_readable.js")).Stream=n).Readable=n).Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":99,"./lib/_stream_passthrough.js":100,"./lib/_stream_readable.js":101,"./lib/_stream_transform.js":102,"./lib/_stream_writable.js":103}],109:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":108}],110:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":103}],111:[function(t,e,n){var i=t("buffer"),o=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(r(i,n),n.Buffer=s),r(o,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=o(t),void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},{buffer:41}],112:[function(t,e,n){(function(e){!function(n){n.parser=function(t,e){return new r(t,e)},n.SAXParser=r,n.SAXStream=a,n.createStream=function(t,e){return new a(t,e)},n.MAX_BUFFER_LENGTH=65536;var i,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(t,e){if(!(this instanceof r))return new r(t,e);var i=this;!function(t){for(var e=0,n=o.length;e<n;e++)t[o[e]]=""}(i),i.q=i.c="",i.bufferCheckPosition=n.MAX_BUFFER_LENGTH,i.opt=e||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=C.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(n.XML_ENTITIES):Object.create(n.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(h)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),k(i,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}),r.prototype={end:function(){T(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return E(e,"Cannot write after close. Assign an onready handler.");if(null===t)return T(e);"object"==typeof t&&(t=t.toString());for(var i,r,s=0,a="";a=F(t,s++),e.c=a;)switch(e.trackPosition&&(e.position++,"\n"===a?(e.line++,e.column=0):e.column++),e.state){case C.BEGIN:if(e.state=C.BEGIN_WHITESPACE,"\ufeff"===a)continue;L(e,a);continue;case C.BEGIN_WHITESPACE:L(e,a);continue;case C.TEXT:if(e.sawRoot&&!e.closedRoot){for(var c=s-1;a&&"<"!==a&&"&"!==a;)(a=F(t,s++))&&e.trackPosition&&(e.position++,"\n"===a?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(c,s-1)}"<"!==a||e.sawRoot&&e.closedRoot&&!e.strict?(m(a)||e.sawRoot&&!e.closedRoot||M(e,"Text data outside of root node."),"&"===a?e.state=C.TEXT_ENTITY:e.textNode+=a):(e.state=C.OPEN_WAKA,e.startTagPosition=e.position);continue;case C.SCRIPT:"<"===a?e.state=C.SCRIPT_ENDING:e.script+=a;continue;case C.SCRIPT_ENDING:"/"===a?e.state=C.CLOSE_TAG:(e.script+="<"+a,e.state=C.SCRIPT);continue;case C.OPEN_WAKA:"!"===a?(e.state=C.SGML_DECL,e.sgmlDecl=""):m(a)||(v(p,a)?(e.state=C.OPEN_TAG,e.tagName=a):"/"===a?(e.state=C.CLOSE_TAG,e.tagName=""):"?"===a?(e.state=C.PROC_INST,e.procInstName=e.procInstBody=""):(M(e,"Unencoded <"),e.startTagPosition+1<e.position&&(c=e.position-e.startTagPosition,a=new Array(c).join(" ")+a),e.textNode+="<"+a,e.state=C.TEXT));continue;case C.SGML_DECL:(e.sgmlDecl+a).toUpperCase()===l?(S(e,"onopencdata"),e.state=C.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+a==="--"?(e.state=C.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+a).toUpperCase()===d?(e.state=C.DOCTYPE,(e.doctype||e.sawRoot)&&M(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===a?(S(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=C.TEXT):(y(a)&&(e.state=C.SGML_DECL_QUOTED),e.sgmlDecl+=a);continue;case C.SGML_DECL_QUOTED:a===e.q&&(e.state=C.SGML_DECL,e.q=""),e.sgmlDecl+=a;continue;case C.DOCTYPE:">"===a?(e.state=C.TEXT,S(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=a,"["===a?e.state=C.DOCTYPE_DTD:y(a)&&(e.state=C.DOCTYPE_QUOTED,e.q=a));continue;case C.DOCTYPE_QUOTED:e.doctype+=a,a===e.q&&(e.q="",e.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:e.doctype+=a,"]"===a?e.state=C.DOCTYPE:y(a)&&(e.state=C.DOCTYPE_DTD_QUOTED,e.q=a);continue;case C.DOCTYPE_DTD_QUOTED:e.doctype+=a,a===e.q&&(e.state=C.DOCTYPE_DTD,e.q="");continue;case C.COMMENT:"-"===a?e.state=C.COMMENT_ENDING:e.comment+=a;continue;case C.COMMENT_ENDING:"-"===a?(e.state=C.COMMENT_ENDED,e.comment=I(e.opt,e.comment),e.comment&&S(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+a,e.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==a?(M(e,"Malformed comment"),e.comment+="--"+a,e.state=C.COMMENT):e.state=C.TEXT;continue;case C.CDATA:"]"===a?e.state=C.CDATA_ENDING:e.cdata+=a;continue;case C.CDATA_ENDING:"]"===a?e.state=C.CDATA_ENDING_2:(e.cdata+="]"+a,e.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===a?(e.cdata&&S(e,"oncdata",e.cdata),S(e,"onclosecdata"),e.cdata="",e.state=C.TEXT):"]"===a?e.cdata+="]":(e.cdata+="]]"+a,e.state=C.CDATA);continue;case C.PROC_INST:"?"===a?e.state=C.PROC_INST_ENDING:m(a)?e.state=C.PROC_INST_BODY:e.procInstName+=a;continue;case C.PROC_INST_BODY:if(!e.procInstBody&&m(a))continue;"?"===a?e.state=C.PROC_INST_ENDING:e.procInstBody+=a;continue;case C.PROC_INST_ENDING:">"===a?(S(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=C.TEXT):(e.procInstBody+="?"+a,e.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:v(f,a)?e.tagName+=a:(function(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",n)}(e),">"===a?D(e):"/"===a?e.state=C.OPEN_TAG_SLASH:(m(a)||M(e,"Invalid character in tag name"),e.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===a?(D(e,!0),A(e)):(M(e,"Forward-slash in opening tag not followed by >"),e.state=C.ATTRIB);continue;case C.ATTRIB:if(m(a))continue;">"===a?D(e):"/"===a?e.state=C.OPEN_TAG_SLASH:v(p,a)?(e.attribName=a,e.attribValue="",e.state=C.ATTRIB_NAME):M(e,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===a?e.state=C.ATTRIB_VALUE:">"===a?(M(e,"Attribute without value"),e.attribValue=e.attribName,P(e),D(e)):m(a)?e.state=C.ATTRIB_NAME_SAW_WHITE:v(f,a)?e.attribName+=a:M(e,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===a)e.state=C.ATTRIB_VALUE;else{if(m(a))continue;M(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",S(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===a?D(e):v(p,a)?(e.attribName=a,e.state=C.ATTRIB_NAME):(M(e,"Invalid attribute name"),e.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(m(a))continue;y(a)?(e.q=a,e.state=C.ATTRIB_VALUE_QUOTED):(M(e,"Unquoted attribute value"),e.state=C.ATTRIB_VALUE_UNQUOTED,e.attribValue=a);continue;case C.ATTRIB_VALUE_QUOTED:if(a!==e.q){"&"===a?e.state=C.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=a;continue}P(e),e.q="",e.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:m(a)?e.state=C.ATTRIB:">"===a?D(e):"/"===a?e.state=C.OPEN_TAG_SLASH:v(p,a)?(M(e,"No whitespace between attributes"),e.attribName=a,e.attribValue="",e.state=C.ATTRIB_NAME):M(e,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!function(t){return">"===t||m(t)}(a)){"&"===a?e.state=C.ATTRIB_VALUE_ENTITY_U:e.attribValue+=a;continue}P(e),">"===a?D(e):e.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(e.tagName)">"===a?A(e):v(f,a)?e.tagName+=a:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=C.SCRIPT):(m(a)||M(e,"Invalid tagname in closing tag"),e.state=C.CLOSE_TAG_SAW_WHITE);else{if(m(a))continue;!function(t,e){return!v(t,e)}(p,a)?e.tagName=a:e.script?(e.script+="</"+a,e.state=C.SCRIPT):M(e,"Invalid tagname in closing tag.")}continue;case C.CLOSE_TAG_SAW_WHITE:if(m(a))continue;">"===a?A(e):M(e,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:switch(e.state){case C.TEXT_ENTITY:i=C.TEXT,r="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:i=C.ATTRIB_VALUE_QUOTED,r="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:i=C.ATTRIB_VALUE_UNQUOTED,r="attribValue"}";"===a?(e[r]+=function(t){var e,n=t.entity,i=n.toLowerCase(),o="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[i]?t.ENTITIES[i]:("#"===(n=i).charAt(0)&&(o="x"===n.charAt(1)?(n=n.slice(2),(e=parseInt(n,16)).toString(16)):(n=n.slice(1),(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||o.toLowerCase()!==n?(M(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}(e),e.entity="",e.state=i):v(e.entity.length?g:b,a)?e.entity+=a:(M(e,"Invalid character in entity name"),e[r]+="&"+e.entity+a,e.entity="",e.state=i);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),i=0,r=0,s=o.length;r<s;r++){var a=t[o[r]].length;if(e<a)switch(o[r]){case"textNode":O(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:E(t,"Max buffer length exceeded: "+o[r])}i=Math.max(i,a)}var l=n.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=l+t.position}(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;O(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{i=t("stream").Stream}catch(_){i=function(){}}var s=n.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function a(t,e){if(!(this instanceof a))return new a(t,e);i.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})}))}(a.prototype=Object.create(i.prototype,{constructor:{value:a}})).write=function(n){var i;return"function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)&&(this._decoder||(i=t("string_decoder").StringDecoder,this._decoder=new i("utf8")),n=this._decoder.write(n)),this._parser.write(n.toString()),this.emit("data",n),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),i.prototype.on.call(n,t,e)};var l="[CDATA[",d="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",h={xml:c,xmlns:u},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function y(t){return'"'===t||"'"===t}function v(t,e){return t.test(e)}var _,w,x,C=0;for(_ in n.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach((function(t){var e="number"==typeof(e=n.ENTITIES[t])?String.fromCharCode(e):e;n.ENTITIES[t]=e})),n.STATE)n.STATE[n.STATE[_]]=_;function k(t,e,n){t[e]&&t[e](n)}function S(t,e,n){t.textNode&&O(t),k(t,e,n)}function O(t){t.textNode=I(t.opt,t.textNode),t.textNode&&k(t,"ontext",t.textNode),t.textNode=""}function I(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function E(t,e){return O(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,k(t,"onerror",e),t}function T(t){return t.sawRoot&&!t.closedRoot&&M(t,"Unclosed root tag"),t.state!==C.BEGIN&&t.state!==C.BEGIN_WHITESPACE&&t.state!==C.TEXT&&E(t,"Unexpected end"),O(t),t.c="",t.closed=!0,k(t,"onend"),r.call(t,t.strict,t.opt),t}function M(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&E(t,e)}function B(t,e){var n=(i=t.indexOf(":")<0?["",t]:t.split(":"))[0],i=i[1];return e&&"xmlns"===t&&(n="xmlns",i=""),{prefix:n,local:i}}function P(t){var e,n,i;t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName)||(t.opt.xmlns?(i=(n=B(t.attribName,!0)).prefix,e=n.local,"xmlns"===i&&("xml"===e&&t.attribValue!==c?M(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue):"xmlns"===e&&t.attribValue!==u?M(t,"xmlns: prefix must be bound to "+u+"\nActual: "+t.attribValue):(n=t.tag,i=t.tags[t.tags.length-1]||t,n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[e]=t.attribValue)),t.attribList.push([t.attribName,t.attribValue])):(t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue}))),t.attribName=t.attribValue=""}function D(t,e){if(t.opt.xmlns){var n=t.tag,i=B(t.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(M(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=i.prefix),i=t.tags[t.tags.length-1]||t,n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){S(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,r=t.attribList.length;o<r;o++){var s,a=(c=t.attribList[o])[0],l=c[1],d=(s=B(a,!0)).prefix,c={name:a,value:l,prefix:d,local:c=s.local,uri:s=""!==d&&n.ns[d]||""};d&&"xmlns"!==d&&!s&&(M(t,"Unbound namespace prefix: "+JSON.stringify(d)),c.uri=d),t.tag.attributes[a]=c,S(t,"onattribute",c)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),S(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=C.TEXT:t.state=C.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function A(t){if(!t.tagName)return M(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=C.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=C.SCRIPT);S(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var i=n;e--&&t.tags[e].name!==i;)M(t,"Unexpected close tag");if(e<0)return M(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=C.TEXT);t.tagName=n;for(var o=t.tags.length;o-- >e;){var r=t.tag=t.tags.pop();t.tagName=t.tag.name,S(t,"onclosetag",t.tagName);var s,a={};for(s in r.ns)a[s]=r.ns[s];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&r.ns!==l.ns&&Object.keys(r.ns).forEach((function(e){var n=r.ns[e];S(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=C.TEXT}function L(t,e){"<"===e?(t.state=C.OPEN_WAKA,t.startTagPosition=t.position):m(e)||(M(t,"Non-whitespace before first tag."),t.textNode=e,t.state=C.TEXT)}function F(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}function q(){var t,e=[],n=-1,i=arguments.length;if(!i)return"";for(var o="";++n<i;){var r=Number(arguments[n]);if(!isFinite(r)||r<0||1114111<r||x(r)!==r)throw RangeError("Invalid code point: "+r);r<=65535?e.push(r):(t=55296+((r-=65536)>>10),r=r%1024+56320,e.push(t,r)),(n+1===i||16384<e.length)&&(o+=w.apply(null,e),e.length=0)}return o}C=n.STATE,String.fromCodePoint||(w=String.fromCharCode,x=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:q,configurable:!0,writable:!0}):String.fromCodePoint=q)}(void 0===n?this.sax={}:n)}).call(this,t("buffer").Buffer)},{buffer:41,stream:113,string_decoder:114}],113:[function(t,e,n){e.exports=o;var i=t("events").EventEmitter;function o(){i.call(this)}t("inherits")(o,i),o.Readable=t("readable-stream/readable.js"),o.Writable=t("readable-stream/writable.js"),o.Duplex=t("readable-stream/duplex.js"),o.Transform=t("readable-stream/transform.js"),o.PassThrough=t("readable-stream/passthrough.js"),(o.Stream=o).prototype.pipe=function(t,e){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function d(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",o),t.removeListener("drain",r),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",d),t.removeListener("error",d),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",d),t.on("error",d),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},{events:48,inherits:85,"readable-stream/duplex.js":98,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],114:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,o=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=r(t),this.encoding){case"utf16le":this.text=d,this.end=c,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t){var e,n,i=this.lastTotal-this.lastNeed;return void 0!==(n=this,n=128!=(192&(e=t)[0])?(n.lastNeed=0,""):1<n.lastNeed&&1<e.length?128!=(192&e[1])?(n.lastNeed=1,""):2<n.lastNeed&&2<e.length&&128!=(192&e[2])?(n.lastNeed=2,""):void 0:void 0)?n:this.lastNeed<=t.length?(t.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,i,0,t.length),void(this.lastNeed-=t.length))}function d(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var n=t.toString("utf16le",e);return n&&55296<=(e=n.charCodeAt(n.length-1))&&e<=56319?(this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)):n}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function u(t,e){var n=(t.length-e)%3;return 0==n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){return t=t&&t.length?this.write(t):"",this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}(n.StringDecoder=s).prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){return t=t&&t.length?this.write(t):"",this.lastNeed?t+"":t},s.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=a(e[i]);return 0<=o?(0<o&&(t.lastNeed=o-1),o):--i<n||-2===o?0:0<=(o=a(e[i]))?(0<o&&(t.lastNeed=o-2),o):--i<n||-2===o?0:0<=(o=a(e[i]))?(0<o&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);return this.lastNeed?(this.lastTotal=n,n=t.length-(n-this.lastNeed),t.copy(this.lastChar,0,n),t.toString("utf8",e,n)):t.toString("utf8",e)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":111}],115:[function(t,e,n){(function(e,i){var o=t("process/browser.js").nextTick,r=Function.prototype.apply,s=Array.prototype.slice,a={},l=0;function d(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new d(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new d(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,i=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,o((function(){a[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof i?i:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":92,timers:115}],116:[function(t,e,i){(function(t){function n(e){try{if(!t.localStorage)return}catch(e){return}return null!=(e=t.localStorage[e])&&"true"===String(e).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],118:[function(t,e,i){(function(e,n){var o=/%[sdj%]/g;i.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r<=n)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),l=i[n];n<r;l=i[++n])b(l)||!_(l)?s+=" "+l:s+=" "+a(l);return s},i.deprecate=function(t,o){if(y(n.process))return function(){return i.deprecate(t,o).apply(this,arguments)};if(!0===e.noDeprecation)return t;var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),r=!0}return t.apply(this,arguments)}};var r,s={};function a(t,e){var n={seen:[],stylize:d};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),f(e)?n.showHidden=e:e&&i._extend(n,e),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,t,n.depth)}function l(t,e){return(e=a.styles[e])?"["+a.colors[e][0]+"m"+t+"["+a.colors[e][1]+"m":t}function d(t,e){return t}function c(t,e,n){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e))return m(s=e.inspect(n,t))||(s=c(t,s,n)),s;var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):b(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var r,s=Object.keys(e),a=(r={},s.forEach((function(t,e){r[t]=!0})),r);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),x(e)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return u(e);if(0===s.length){if(C(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(v(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(x(e))return u(e)}o="";var d=!1;return l=["{","}"],p(e)&&(d=!0,l=["[","]"]),C(e)&&(o=" [Function"+(e.name?": "+e.name:"")+"]"),v(e)&&(o=" "+RegExp.prototype.toString.call(e)),w(e)&&(o=" "+Date.prototype.toUTCString.call(e)),x(e)&&(o=" "+u(e)),0!==s.length||d&&0!=e.length?n<0?v(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),s=d?function(t,e,n,i,o){for(var r=[],s=0,a=e.length;s<a;++s)I(e,String(s))?r.push(h(t,e,n,i,String(s),!0)):r.push("");return o.forEach((function(o){o.match(/^\d+$/)||r.push(h(t,e,n,i,o,!0))})),r}(t,e,n,a,s):s.map((function(i){return h(t,e,n,a,i,d)})),t.seen.pop(),function(t,e,n){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(s,o,l)):l[0]+o+l[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,o,r){var s,a;if((e=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),I(i,o)||(s="["+o+"]"),a||(t.seen.indexOf(e.value)<0?-1<(a=b(n)?c(t,e.value,null):c(t,e.value,n-1)).indexOf("\n")&&(a=r?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(r&&o.match(/^\d+$/))return a;s=(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function b(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function v(t){return _(t)&&"[object RegExp]"===k(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===k(t)}function x(t){return _(t)&&("[object Error]"===k(t)||t instanceof Error)}function C(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}i.debuglog=function(t){var n;return y(r)&&(r=e.env.NODE_DEBUG||""),t=t.toUpperCase(),s[t]||(new RegExp("\\b"+t+"\\b","i").test(r)?(n=e.pid,s[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}):s[t]=function(){}),s[t]},(i.inspect=a).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=f,i.isNull=b,i.isNullOrUndefined=function(t){return null==t},i.isNumber=g,i.isString=m,i.isSymbol=function(t){return"symbol"==typeof t},i.isUndefined=y,i.isRegExp=v,i.isObject=_,i.isDate=w,i.isError=x,i.isFunction=C,i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},i.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.log=function(){var t,e;console.log("%s - %s",(e=[S((t=new Date).getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),O[t.getMonth()],e].join(" ")),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":117,_process:92,inherits:85}],119:[function(t,e,n){(function(){"use strict";n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{}],120:[function(t,e,n){(function(){"use strict";var e,i,o,r,s,a={}.hasOwnProperty;function l(t){var e,n,o;for(e in this.options={},n=i[.2])a.call(n,e)&&(o=n[e],this.options[e]=o);for(e in t)a.call(t,e)&&(o=t[e],this.options[e]=o)}e=t("xmlbuilder"),i=t("./defaults").defaults,r=function(t){return"string"==typeof t&&(0<=t.indexOf("&")||0<=t.indexOf(">")||0<=t.indexOf("<"))},s=function(t){return"<![CDATA["+o(t)+"]]>"},o=function(t){return t.replace("]]>","]]]]><![CDATA[>")},n.Builder=(l.prototype.buildObject=function(t){var n,o,l,d=this.options.attrkey,c=this.options.charkey;return 1===Object.keys(t).length&&this.options.rootName===i[.2].rootName?t=t[o=Object.keys(t)[0]]:o=this.options.rootName,l=this,n=function(t,e){var i,o,u,h,p,f;if("object"!=typeof e)l.options.cdata&&r(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(h in e)if(a.call(e,h))for(p in o=e[h])u=o[p],t=n(t.ele(p),u).up()}else for(p in e)if(a.call(e,p))if(o=e[p],p===d){if("object"==typeof o)for(i in o)f=o[i],t=t.att(i,f)}else if(p===c)t=l.options.cdata&&r(o)?t.raw(s(o)):t.txt(o);else if(Array.isArray(o))for(h in o)a.call(o,h)&&(t=("string"==typeof(u=o[h])?l.options.cdata&&r(u)?t.ele(p).raw(s(u)):t.ele(p,u):n(t.ele(p),u)).up());else t="object"==typeof o?n(t.ele(p),o).up():"string"==typeof o&&l.options.cdata&&r(o)?t.ele(p).raw(s(o)).up():(null==o&&(o=""),t.ele(p,o.toString()).up());return t},o=e.create(o,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),n(o,t).end(this.options.renderOpts)},l)}).call(this)},{"./defaults":121,xmlbuilder:157}],121:[function(t,e,n){(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],122:[function(t,e,n){(function(){"use strict";function e(t,e){return function(){return t.apply(e,arguments)}}var i,o,r,s,a,l,d,c,u={}.hasOwnProperty;function h(t){var i,r,s;if(this.parseStringPromise=e(this.parseStringPromise,this),this.parseString=e(this.parseString,this),this.reset=e(this.reset,this),this.assignOrPush=e(this.assignOrPush,this),this.processAsync=e(this.processAsync,this),!(this instanceof n.Parser))return new n.Parser(t);for(i in this.options={},r=o[.2])u.call(r,i)&&(s=r[i],this.options[i]=s);for(i in t)u.call(t,i)&&(s=t[i],this.options[i]=s);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}d=t("sax"),r=t("events"),i=t("./bom"),l=t("./processors"),c=t("timers").setImmediate,o=t("./defaults").defaults,s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a=function(t,e,n){for(var i=0,o=t.length;i<o;i++)e=(0,t[i])(e,n);return e},n.Parser=(function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(h,r),h.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),c(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},h.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},h.prototype.reset=function(){var t,e,n,i,o,r,l,c,h;return this.removeAllListeners(),this.saxParser=d.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(o=this,function(t){if(o.saxParser.resume(),!o.saxParser.errThrown)return o.saxParser.errThrown=!0,o.emit("error",t)}),this.saxParser.onend=(r=this,function(){if(!r.saxParser.ended)return r.saxParser.ended=!0,r.emit("end",r.resultObject)}),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,i=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=(l=this,function(n){var o,r,s,d,c=Object.create(null);if(c[e]="",!l.options.ignoreAttrs)for(o in d=n.attributes)u.call(d,o)&&(t in c||l.options.mergeAttrs||(c[t]=Object.create(null)),r=l.options.attrValueProcessors?a(l.options.attrValueProcessors,n.attributes[o],o):n.attributes[o],s=l.options.attrNameProcessors?a(l.options.attrNameProcessors,o):o,l.options.mergeAttrs?l.assignOrPush(c,s,r):c[t][s]=r);return c["#name"]=l.options.tagNameProcessors?a(l.options.tagNameProcessors,n.name):n.name,l.options.xmlns&&(c[l.options.xmlnskey]={uri:n.uri,local:n.local}),i.push(c)}),this.saxParser.onclosetag=(c=this,function(){var t,n,o,r,l,d,h,p=i.pop(),f=p["#name"];if(c.options.explicitChildren&&c.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(t=p.cdata,delete p.cdata),d=i[i.length-1],p[e].match(/^\s*$/)&&!t?(l=p[e],delete p[e]):(c.options.trim&&(p[e]=p[e].trim()),c.options.normalize&&(p[e]=p[e].replace(/\s{2,}/g," ").trim()),p[e]=c.options.valueProcessors?a(c.options.valueProcessors,p[e],f):p[e],1===Object.keys(p).length&&e in p&&!c.EXPLICIT_CHARKEY&&(p=p[e])),s(p)&&(p="function"==typeof c.options.emptyTag?c.options.emptyTag():""!==c.options.emptyTag?c.options.emptyTag:l),null!=c.options.validator&&(h="/"+function(){for(var t=[],e=0,n=i.length;e<n;e++)o=i[e],t.push(o["#name"]);return t}().concat(f).join("/"),function(){try{p=c.options.validator(h,d&&d[f],p)}catch(t){return c.emit("error",t)}}()),c.options.explicitChildren&&!c.options.mergeAttrs&&"object"==typeof p)if(c.options.preserveChildrenOrder){if(d){for(n in d[c.options.childkey]=d[c.options.childkey]||[],r=Object.create(null),p)u.call(p,n)&&(r[n]=p[n]);d[c.options.childkey].push(r),delete p["#name"],1===Object.keys(p).length&&e in p&&!c.EXPLICIT_CHARKEY&&(p=p[e])}}else o=Object.create(null),c.options.attrkey in p&&(o[c.options.attrkey]=p[c.options.attrkey],delete p[c.options.attrkey]),!c.options.charsAsChildren&&c.options.charkey in p&&(o[c.options.charkey]=p[c.options.charkey],delete p[c.options.charkey]),0<Object.getOwnPropertyNames(p).length&&(o[c.options.childkey]=p),p=o;return 0<i.length?c.assignOrPush(d,f,p):(c.options.explicitRoot&&(l=p,(p=Object.create(null))[f]=l),c.resultObject=p,c.saxParser.ended=!0,c.emit("end",c.resultObject))}),n=function(t){var n,o=i[i.length-1];if(o)return o[e]+=t,h.options.explicitChildren&&h.options.preserveChildrenOrder&&h.options.charsAsChildren&&(h.options.includeWhiteChars||""!==t.replace(/\\n/g,"").trim())&&(o[h.options.childkey]=o[h.options.childkey]||[],(n={"#name":"__text__"})[e]=t,h.options.normalize&&(n[e]=n[e].replace(/\s{2,}/g," ").trim()),o[h.options.childkey].push(n)),o},(h=this).saxParser.ontext=n,this.saxParser.oncdata=function(t){if(t=n(t))return t.cdata=!0}},h.prototype.parseString=function(t,e){var n;null!=e&&"function"==typeof e&&(this.on("end",(function(t){return this.reset(),e(null,t)})),this.on("error",(function(t){return this.reset(),e(t)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=i.stripBOM(t),this.options.async?(this.remaining=t,c(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},h.prototype.parseStringPromise=function(t){return new Promise((e=this,function(n,i){return e.parseString(t,(function(t,e){return t?i(t):n(e)}))}));var e},h),n.parseString=function(t,e,i){var o,r;return null!=i?("function"==typeof i&&(o=i),"object"==typeof e&&(r=e)):("function"==typeof e&&(o=e),r={}),new n.Parser(r).parseString(t,o)},n.parseStringPromise=function(t,e){var i;return"object"==typeof e&&(i=e),new n.Parser(i).parseStringPromise(t)}}).call(this)},{"./bom":119,"./defaults":121,"./processors":123,events:48,sax:112,timers:115}],123:[function(t,e,n){(function(){"use strict";var t=new RegExp(/(?!xmlns)^.*:/);n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(e){return e.replace(t,"")},n.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},n.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},{}],124:[function(t,e,n){(function(){"use strict";var e,i,o,r,s={}.hasOwnProperty;function a(t){this.message=t}i=t("./defaults"),e=t("./builder"),o=t("./parser"),r=t("./processors"),n.defaults=i.defaults,n.processors=r,n.ValidationError=(function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(a,Error),a),n.Builder=e.Builder,n.Parser=o.Parser,n.parseString=o.parseString,n.parseStringPromise=o.parseStringPromise}).call(this)},{"./builder":120,"./defaults":121,"./parser":122,"./processors":123}],125:[function(t,e,n){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},{}],126:[function(t,e,n){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},{}],127:[function(t,e,n){(function(){var t=[].slice,n={}.hasOwnProperty,i=function(){var e,i,r,s,a=arguments[0],l=2<=arguments.length?t.call(arguments,1):[];if(o(Object.assign))Object.assign.apply(null,arguments);else for(e=0,r=l.length;e<r;e++)if(null!=(s=l[e]))for(i in s)n.call(s,i)&&(a[i]=s[i]);return a},o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},r=function(t){return!!t&&("function"==(t=typeof t)||"object"==t)},s=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},a=function(t){if(s(t))return!t.length;for(var e in t)if(n.call(t,e))return!1;return!0},l=function(t){var e,n;return r(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},d=function(t){return o(t.valueOf)?t.valueOf():t};e.exports.assign=i,e.exports.isFunction=o,e.exports.isObject=r,e.exports.isArray=s,e.exports.isEmpty=a,e.exports.isPlainObject=l,e.exports.getValue=d}).call(this)},{}],128:[function(t,e,n){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},{}],129:[function(t,e,n){(function(){var n;function i(t,e,i){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==e)throw new Error("Missing attribute name. "+this.debugInfo(e));this.name=this.stringify.name(e),this.value=this.stringify.attValue(i),this.type=n.Attribute,this.isId=!1,this.schemaTypeInfo=null}n=t("./NodeType"),t("./XMLNode"),e.exports=(Object.defineProperty(i.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(i.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(i.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"specified",{get:function(){return!0}}),i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},i.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},i.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&t.prefix===this.prefix&&t.localName===this.localName&&t.value===this.value},i)}).call(this)},{"./NodeType":126,"./XMLNode":148}],130:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=n.CData,this.value=this.stringify.cdata(e)}n=t("./NodeType"),i=t("./XMLCharacterData"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],131:[function(t,e,n){(function(){var n,i={}.hasOwnProperty;function o(t){o.__super__.constructor.call(this,t),this.value=""}n=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(o,n),Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(t){return!!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},o)}).call(this)},{"./XMLNode":148}],132:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=n.Comment,this.value=this.stringify.comment(e)}n=t("./NodeType"),i=t("./XMLCharacterData"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],133:[function(t,e,n){(function(){var n,i;function o(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new n,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}n=t("./XMLDOMErrorHandler"),i=t("./XMLDOMStringList"),e.exports=(Object.defineProperty(o.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}}),o.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},o.prototype.canSetParameter=function(t,e){return!0},o.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},o)}).call(this)},{"./XMLDOMErrorHandler":134,"./XMLDOMStringList":136}],134:[function(t,e,n){(function(){function t(){}e.exports=(t.prototype.handleError=function(t){throw new Error(t)},t)}).call(this)},{}],135:[function(t,e,n){(function(){function t(){}e.exports=(t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t)}).call(this)},{}],136:[function(t,e,n){(function(){function t(t){this.arr=t||[]}e.exports=(Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t)}).call(this)},{}],137:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e,i,o,s,a){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(e));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(e));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(e));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(e));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(e));this.elementName=this.stringify.name(e),this.type=n.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLNode":148}],138:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e,i){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name. "+this.debugInfo());i=i||"(#PCDATA)",Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(e),this.type=n.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLNode":148}],139:[function(t,e,n){(function(){var n,i,o,r={}.hasOwnProperty;function s(t,e,i,r){if(s.__super__.constructor.call(this,t),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==r)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!e,this.name=this.stringify.name(i),this.type=n.EntityDeclaration,o(r)){if(!r.pubID&&!r.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(r.pubID&&!r.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID)),null!=r.nData&&(this.nData=this.stringify.dtdNData(r.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(r),this.internal=!0}o=t("./Utility").isObject,i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,i),Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLNode":148}],140:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e,i){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD notation name. "+this.debugInfo(e));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(e));this.name=this.stringify.name(e),this.type=n.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLNode":148}],141:[function(t,e,n){(function(){var n,i,o,r={}.hasOwnProperty;function s(t,e,i,r){s.__super__.constructor.call(this,t),o(e)&&(e=(t=e).version,i=t.encoding,r=t.standalone),e=e||"1.0",this.type=n.Declaration,this.version=this.stringify.xmlVersion(e),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=r&&(this.standalone=this.stringify.xmlStandalone(r))}o=t("./Utility").isObject,i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,i),s.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLNode":148}],142:[function(t,e,n){(function(){var n,i,o,r,s,a,l,d,c={}.hasOwnProperty;function u(t,e,i){var o,r,s,a,l;if(u.__super__.constructor.call(this,t),this.type=n.DocType,t.children)for(r=0,s=(a=t.children).length;r<s;r++)if((o=a[r]).type===n.Element){this.name=o.name;break}this.documentObject=t,d(e)&&(e=(l=e).pubID,i=l.sysID),null==i&&(i=(l=[e,i])[0],e=l[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}d=t("./Utility").isObject,l=t("./XMLNode"),n=t("./NodeType"),i=t("./XMLDTDAttList"),r=t("./XMLDTDEntity"),o=t("./XMLDTDElement"),s=t("./XMLDTDNotation"),a=t("./XMLNamedNodeMap"),e.exports=(function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(u,l),Object.defineProperty(u.prototype,"entities",{get:function(){for(var t,e={},i=this.children,o=0,r=i.length;o<r;o++)(t=i[o]).type!==n.EntityDeclaration||t.pe||(e[t.name]=t);return new a(e)}}),Object.defineProperty(u.prototype,"notations",{get:function(){for(var t,e={},i=this.children,o=0,r=i.length;o<r;o++)(t=i[o]).type===n.NotationDeclaration&&(e[t.name]=t);return new a(e)}}),Object.defineProperty(u.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(u.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(u.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),u.prototype.element=function(t,e){return e=new o(this,t,e),this.children.push(e),this},u.prototype.attList=function(t,e,n,o,r){return r=new i(this,t,e,n,o,r),this.children.push(r),this},u.prototype.entity=function(t,e){return e=new r(this,!1,t,e),this.children.push(e),this},u.prototype.pEntity=function(t,e){return e=new r(this,!0,t,e),this.children.push(e),this},u.prototype.notation=function(t,e){return e=new s(this,t,e),this.children.push(e),this},u.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},u.prototype.ele=function(t,e){return this.element(t,e)},u.prototype.att=function(t,e,n,i,o){return this.attList(t,e,n,i,o)},u.prototype.ent=function(t,e){return this.entity(t,e)},u.prototype.pent=function(t,e){return this.pEntity(t,e)},u.prototype.not=function(t,e){return this.notation(t,e)},u.prototype.up=function(){return this.root()||this.documentObject},u.prototype.isEqualNode=function(t){return!!u.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.name===this.name&&t.publicId===this.publicId&&t.systemId===this.systemId},u)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLNamedNodeMap":147,"./XMLNode":148}],143:[function(t,e,n){(function(){var n,i,o,r,s,a,l,d={}.hasOwnProperty;function c(t){c.__super__.constructor.call(this,null),this.name="#document",this.type=n.Document,this.documentURI=null,this.domConfig=new i,(t=t||{}).writer||(t.writer=new s),this.options=t,this.stringify=new a(t)}l=t("./Utility").isPlainObject,o=t("./XMLDOMImplementation"),i=t("./XMLDOMConfiguration"),r=t("./XMLNode"),n=t("./NodeType"),a=t("./XMLStringifier"),s=t("./XMLStringWriter"),e.exports=(function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(c,r),Object.defineProperty(c.prototype,"implementation",{value:new o}),Object.defineProperty(c.prototype,"doctype",{get:function(){for(var t,e=this.children,i=0,o=e.length;i<o;i++)if((t=e[i]).type===n.DocType)return t;return null}}),Object.defineProperty(c.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(c.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(c.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(c.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].encoding:null}}),Object.defineProperty(c.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(c.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(c.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(c.prototype,"origin",{get:function(){return null}}),Object.defineProperty(c.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(c.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(c.prototype,"contentType",{get:function(){return null}}),c.prototype.end=function(t){var e={};return t?l(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},c.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},c.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},c)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLDOMConfiguration":133,"./XMLDOMImplementation":135,"./XMLNode":148,"./XMLStringWriter":153,"./XMLStringifier":154}],144:[function(t,e,n){(function(){var n,i,o,r,s,a,l,d,c,u,h,p,f,b,g,m,y,v,_,w,x,C,k,S={}.hasOwnProperty;function O(t,e,i){var o;this.name="?xml",this.type=n.Document,o={},(t=t||{}).writer?C(t.writer)&&(o=t.writer,t.writer=new m):t.writer=new m,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new y(t),this.onDataCallback=e||function(){},this.onEndCallback=i||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}k=t("./Utility"),x=k.isObject,w=k.isFunction,C=k.isPlainObject,_=k.getValue,n=t("./NodeType"),p=t("./XMLDocument"),f=t("./XMLElement"),r=t("./XMLCData"),s=t("./XMLComment"),g=t("./XMLRaw"),v=t("./XMLText"),b=t("./XMLProcessingInstruction"),u=t("./XMLDeclaration"),h=t("./XMLDocType"),a=t("./XMLDTDAttList"),d=t("./XMLDTDEntity"),l=t("./XMLDTDElement"),c=t("./XMLDTDNotation"),o=t("./XMLAttribute"),y=t("./XMLStringifier"),m=t("./XMLStringWriter"),i=t("./WriterState"),e.exports=(O.prototype.createChildNode=function(t){var e,i,o,r,s,a,l,d;switch(t.type){case n.CData:this.cdata(t.value);break;case n.Comment:this.comment(t.value);break;case n.Element:for(i in o={},l=t.attribs)S.call(l,i)&&(e=l[i],o[i]=e.value);this.node(t.name,o);break;case n.Dummy:this.dummy();break;case n.Raw:this.raw(t.value);break;case n.Text:this.text(t.value);break;case n.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,a=(d=t.children).length;s<a;s++)r=d[s],this.createChildNode(r),r.type===n.Element&&this.up();return this},O.prototype.dummy=function(){return this},O.prototype.node=function(t,e,n){var i;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=_(t),null==e&&(e={}),e=_(e),x(e)||(n=(i=[e,n])[0],e=i[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},O.prototype.element=function(t,e,i){var o,r,s,a,l,d;if(this.currentNode&&this.currentNode.type===n.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||x(t)||w(t))for(a=this.options.noValidation,this.options.noValidation=!0,(d=new p(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,r=0,s=(l=d.children).length;r<s;r++)o=l[r],this.createChildNode(o),o.type===n.Element&&this.up();else this.node(t,e,i);return this},O.prototype.attribute=function(t,e){var n,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=_(t)),x(t))for(n in t)S.call(t,n)&&(i=t[n],this.attribute(n,i));else w(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new o(this,t,""):null!=e&&(this.currentNode.attribs[t]=new o(this,t,e));return this},O.prototype.text=function(t){return this.openCurrent(),t=new v(this,t),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.cdata=function(t){return this.openCurrent(),t=new r(this,t),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.comment=function(t){return this.openCurrent(),t=new s(this,t),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.raw=function(t){return this.openCurrent(),t=new g(this,t),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.instruction=function(t,e){var n,i,o,r;if(this.openCurrent(),null!=t&&(t=_(t)),null!=e&&(e=_(e)),Array.isArray(t))for(n=0,r=t.length;n<r;n++)i=t[n],this.instruction(i);else if(x(t))for(i in t)S.call(t,i)&&(o=t[i],this.instruction(i,o));else w(e)&&(e=e.apply()),e=new b(this,t,e),this.onData(this.writer.processingInstruction(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},O.prototype.declaration=function(t,e,n){if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new u(this,t,e,n),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},O.prototype.dtdElement=function(t,e){return this.openCurrent(),e=new l(this,t,e),this.onData(this.writer.dtdElement(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.attList=function(t,e,n,i,o){return this.openCurrent(),o=new a(this,t,e,n,i,o),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.entity=function(t,e){return this.openCurrent(),e=new d(this,!1,t,e),this.onData(this.writer.dtdEntity(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.pEntity=function(t,e){return this.openCurrent(),e=new d(this,!0,t,e),this.onData(this.writer.dtdEntity(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.notation=function(t,e){return this.openCurrent(),e=new c(this,t,e),this.onData(this.writer.dtdNotation(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},O.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},O.prototype.end=function(){for(;0<=this.currentLevel;)this.up();return this.onEnd()},O.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},O.prototype.openNode=function(t){var e,o,r,s;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==n.Element||(this.root=t),o="",t.type===n.Element){for(r in this.writerOptions.state=i.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,s=t.attribs)S.call(s,r)&&(e=s[r],o+=this.writer.attribute(e,this.writerOptions,this.currentLevel));o+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=i.InsideTag}else this.writerOptions.state=i.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.children?(o+=" [",this.writerOptions.state=i.InsideTag):(this.writerOptions.state=i.CloseTag,o+=">"),o+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),t.isOpen=!0}},O.prototype.closeNode=function(t){var e;if(!t.isClosed)return e="",this.writerOptions.state=i.CloseTag,e=t.type===n.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=i.None,this.onData(e,this.currentLevel),t.isClosed=!0},O.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},O.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},O.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},O.prototype.ele=function(){return this.element.apply(this,arguments)},O.prototype.nod=function(t,e,n){return this.node(t,e,n)},O.prototype.txt=function(t){return this.text(t)},O.prototype.dat=function(t){return this.cdata(t)},O.prototype.com=function(t){return this.comment(t)},O.prototype.ins=function(t,e){return this.instruction(t,e)},O.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},O.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},O.prototype.e=function(t,e,n){return this.element(t,e,n)},O.prototype.n=function(t,e,n){return this.node(t,e,n)},O.prototype.t=function(t){return this.text(t)},O.prototype.d=function(t){return this.cdata(t)},O.prototype.c=function(t){return this.comment(t)},O.prototype.r=function(t){return this.raw(t)},O.prototype.i=function(t,e){return this.instruction(t,e)},O.prototype.att=function(){return(this.currentNode&&this.currentNode.type===n.DocType?this.attList:this.attribute).apply(this,arguments)},O.prototype.a=function(){return(this.currentNode&&this.currentNode.type===n.DocType?this.attList:this.attribute).apply(this,arguments)},O.prototype.ent=function(t,e){return this.entity(t,e)},O.prototype.pent=function(t,e){return this.pEntity(t,e)},O.prototype.not=function(t,e){return this.notation(t,e)},O)}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLAttribute":129,"./XMLCData":130,"./XMLComment":132,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDocument":143,"./XMLElement":146,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLStringWriter":153,"./XMLStringifier":154,"./XMLText":155}],145:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t){r.__super__.constructor.call(this,t),this.type=n.Dummy}i=t("./XMLNode"),n=t("./NodeType"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return""},r)}).call(this)},{"./NodeType":126,"./XMLNode":148}],146:[function(t,e,n){(function(){var n,i,o,r,s,a,l,d={}.hasOwnProperty;function c(t,e,i){var o,r,s,a;if(c.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(e),this.type=n.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),t.type===n.Document&&(this.isRoot=!0,(this.documentObject=t).rootObject=this,t.children))for(r=0,s=(a=t.children).length;r<s;r++)if((o=a[r]).type===n.DocType){o.name=this.name;break}}l=t("./Utility"),a=l.isObject,s=l.isFunction,r=l.getValue,l=t("./XMLNode"),n=t("./NodeType"),i=t("./XMLAttribute"),o=t("./XMLNamedNodeMap"),e.exports=(function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(c,l),Object.defineProperty(c.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(c.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(c.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new o(this.attribs)),this.attributeMap}}),c.prototype.clone=function(){var t,e,n,i=Object.create(this);for(e in i.isRoot&&(i.documentObject=null),i.attribs={},n=this.attribs)d.call(n,e)&&(t=n[e],i.attribs[e]=t.clone());return i.children=[],this.children.forEach((function(t){return((t=t.clone()).parent=i).children.push(t)})),i},c.prototype.attribute=function(t,e){var n,o;if(null!=t&&(t=r(t)),a(t))for(n in t)d.call(t,n)&&(o=t[n],this.attribute(n,o));else s(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new i(this,t,""):null!=e&&(this.attribs[t]=new i(this,t,e));return this},c.prototype.removeAttribute=function(t){var e,n,i;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=r(t),Array.isArray(t))for(n=0,i=t.length;n<i;n++)e=t[n],delete this.attribs[e];else delete this.attribs[t];return this},c.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},c.prototype.att=function(t,e){return this.attribute(t,e)},c.prototype.a=function(t,e){return this.attribute(t,e)},c.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},c.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},c.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},c.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},c.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.isEqualNode=function(t){var e,n,i;if(!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=n=0,i=this.attribs.length-1;0<=i?n<=i:i<=n;e=0<=i?++n:--n)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},c)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLAttribute":129,"./XMLNamedNodeMap":147,"./XMLNode":148}],147:[function(t,e,n){(function(){function t(t){this.nodes=t}e.exports=(Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e=this.nodes[t.nodeName];return this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e=this.nodes[t];return delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t)}).call(this)},{}],148:[function(t,e,n){(function(){var n,i,o,r,s,a,l,d,c,u,h,p,f,b,g,m,y,v={}.hasOwnProperty;function _(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,d||(d=t("./XMLElement"),o=t("./XMLCData"),r=t("./XMLComment"),s=t("./XMLDeclaration"),a=t("./XMLDocType"),h=t("./XMLRaw"),p=t("./XMLText"),u=t("./XMLProcessingInstruction"),l=t("./XMLDummy"),i=t("./NodeType"),c=t("./XMLNodeList"),t("./XMLNamedNodeMap"),n=t("./DocumentPosition"))}y=t("./Utility"),m=y.isObject,g=y.isFunction,b=y.isEmpty,f=y.getValue,n=c=i=l=u=p=h=a=s=r=o=d=null,e.exports=(Object.defineProperty(_.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(_.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(_.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(_.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(_.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(_.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(_.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(_.prototype,"previousSibling",{get:function(){var t=this.parent.children.indexOf(this);return this.parent.children[t-1]||null}}),Object.defineProperty(_.prototype,"nextSibling",{get:function(){var t=this.parent.children.indexOf(this);return this.parent.children[t+1]||null}}),Object.defineProperty(_.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(_.prototype,"textContent",{get:function(){var t,e,n,o,r;if(this.nodeType!==i.Element&&this.nodeType!==i.DocumentFragment)return null;for(r="",e=0,n=(o=this.children).length;e<n;e++)(t=o[e]).textContent&&(r+=t.textContent);return r},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),_.prototype.setParent=function(t){var e,n,i,o,r;for((this.parent=t)&&(this.options=t.options,this.stringify=t.stringify),r=[],n=0,i=(o=this.children).length;n<i;n++)e=o[n],r.push(e.setParent(this));return r},_.prototype.element=function(t,e,n){var i,o,r,s,a,l,d,c,u,h=null;if(null===e&&null==n&&(e=(c=[{},null])[0],n=c[1]),null==e&&(e={}),e=f(e),m(e)||(n=(c=[e,n])[0],e=c[1]),null!=t&&(t=f(t)),Array.isArray(t))for(r=0,l=t.length;r<l;r++)o=t[r],h=this.element(o);else if(g(t))h=this.element(t.apply());else if(m(t)){for(a in t)if(v.call(t,a))if(u=t[a],g(u)&&(u=u.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))h=this.attribute(a.substr(this.stringify.convertAttKey.length),u);else if(!this.options.separateArrayItems&&Array.isArray(u)&&b(u))h=this.dummy();else if(m(u)&&b(u))h=this.element(a);else if(this.options.keepNullNodes||null!=u)if(!this.options.separateArrayItems&&Array.isArray(u))for(s=0,d=u.length;s<d;s++)o=u[s],(i={})[a]=o,h=this.element(i);else m(u)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?h=this.element(u):(h=this.element(a)).element(u):h=this.element(a,u);else h=this.dummy()}else h=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==h)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return h},_.prototype.insertBefore=function(t,e,n){var i,o,r,s;if(null!=t&&t.type)return r=e,(o=t).setParent(this),r?(i=children.indexOf(r),s=children.splice(i),children.push(o),Array.prototype.push.apply(children,s)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),s=this.parent.children.splice(i),n=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,s),n},_.prototype.insertAfter=function(t,e,n){var i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),i=this.parent.children.splice(i+1),n=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,i),n},_.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},_.prototype.node=function(t,e,n){var i;return null!=t&&(t=f(t)),e=f(e=e||{}),m(e)||(n=(i=[e,n])[0],e=i[1]),e=new d(this,t,e),null!=n&&e.text(n),this.children.push(e),e},_.prototype.text=function(t){return m(t)&&this.element(t),t=new p(this,t),this.children.push(t),this},_.prototype.cdata=function(t){return t=new o(this,t),this.children.push(t),this},_.prototype.comment=function(t){return t=new r(this,t),this.children.push(t),this},_.prototype.commentBefore=function(t){var e=this.parent.children.indexOf(this);return e=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this},_.prototype.commentAfter=function(t){var e=this.parent.children.indexOf(this);return e=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this},_.prototype.raw=function(t){return t=new h(this,t),this.children.push(t),this},_.prototype.dummy=function(){return new l(this)},_.prototype.instruction=function(t,e){var n,i,o,r;if(null!=t&&(t=f(t)),null!=e&&(e=f(e)),Array.isArray(t))for(o=0,r=t.length;o<r;o++)n=t[o],this.instruction(n);else if(m(t))for(n in t)v.call(t,n)&&(i=t[n],this.instruction(n,i));else g(e)&&(e=e.apply()),e=new u(this,t,e),this.children.push(e);return this},_.prototype.instructionBefore=function(t,e){var n=this.parent.children.indexOf(this);return n=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},_.prototype.instructionAfter=function(t,e){var n=this.parent.children.indexOf(this);return n=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},_.prototype.declaration=function(t,e,n){var o=this.document();return n=new s(o,t,e,n),0!==o.children.length&&o.children[0].type===i.Declaration?o.children[0]=n:o.children.unshift(n),o.root()||o},_.prototype.dtd=function(t,e){for(var n,o,r,s,l=this.document(),d=new a(l,t,e),c=l.children,u=n=0,h=c.length;n<h;u=++n)if(c[u].type===i.DocType)return l.children[u]=d;for(u=o=0,r=(s=l.children).length;o<r;u=++o)if(s[u].isRoot)return l.children.splice(u,0,d),d;return l.children.push(d),d},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){for(var t=this;t;){if(t.type===i.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},_.prototype.document=function(){for(var t=this;t;){if(t.type===i.Document)return t;t=t.parent}},_.prototype.end=function(t){return this.document().end(t)},_.prototype.prev=function(){var t=this.parent.children.indexOf(this);if(t<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},_.prototype.next=function(){var t=this.parent.children.indexOf(this);if(-1===t||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},_.prototype.importDocument=function(t){return(t=t.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},_.prototype.debugInfo=function(t){var e;return null!=(t=t||this.name)||null!=(e=this.parent)&&e.name?null==t?"parent: <"+this.parent.name+">":null!=(e=this.parent)&&e.name?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},_.prototype.ele=function(t,e,n){return this.element(t,e,n)},_.prototype.nod=function(t,e,n){return this.node(t,e,n)},_.prototype.txt=function(t){return this.text(t)},_.prototype.dat=function(t){return this.cdata(t)},_.prototype.com=function(t){return this.comment(t)},_.prototype.ins=function(t,e){return this.instruction(t,e)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},_.prototype.e=function(t,e,n){return this.element(t,e,n)},_.prototype.n=function(t,e,n){return this.node(t,e,n)},_.prototype.t=function(t){return this.text(t)},_.prototype.d=function(t){return this.cdata(t)},_.prototype.c=function(t){return this.comment(t)},_.prototype.r=function(t){return this.raw(t)},_.prototype.i=function(t,e){return this.instruction(t,e)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(t){return this.importDocument(t)},_.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.hasChildNodes=function(){return 0!==this.children.length},_.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isSupported=function(t,e){return!0},_.prototype.hasAttributes=function(){return 0!==this.attribs.length},_.prototype.compareDocumentPosition=function(t){var e;return this===t?0:this.document()!==t.document()?(e=n.Disconnected|n.ImplementationSpecific,Math.random()<.5?e|=n.Preceding:e|=n.Following,e):this.isAncestor(t)?n.Contains|n.Preceding:this.isDescendant(t)?n.Contains|n.Following:this.isPreceding(t)?n.Preceding:n.Following},_.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isEqualNode=function(t){var e,n,i;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,i=this.children.length-1;0<=i?n<=i:i<=n;e=0<=i?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},_.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},_.prototype.isDescendant=function(t){for(var e,n=this.children,i=0,o=n.length;i<o;i++){if(t===(e=n[i]))return!0;if(e.isDescendant(t))return!0}return!1},_.prototype.isAncestor=function(t){return t.isDescendant(this)},_.prototype.isPreceding=function(t){var e=this.treePosition(t);return t=this.treePosition(this),-1!==e&&-1!==t&&e<t},_.prototype.isFollowing=function(t){var e=this.treePosition(t);return t=this.treePosition(this),-1!==e&&-1!==t&&t<e},_.prototype.treePosition=function(t){var e=0,n=!1;return this.foreachTreeNode(this.document(),(function(i){if(e++,!n&&i===t)return n=!0})),n?e:-1},_.prototype.foreachTreeNode=function(t,e){for(var n,i,o,r=0,s=(i=(t=t||this.document()).children).length;r<s;r++){if(o=e(n=i[r]))return o;if(o=this.foreachTreeNode(n,e))return o}},_)}).call(this)},{"./DocumentPosition":125,"./NodeType":126,"./Utility":127,"./XMLCData":130,"./XMLComment":132,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDummy":145,"./XMLElement":146,"./XMLNamedNodeMap":147,"./XMLNodeList":149,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLText":155}],149:[function(t,e,n){(function(){function t(t){this.nodes=t}e.exports=(Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t)}).call(this)},{}],150:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e,i){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing instruction target. "+this.debugInfo());this.type=n.ProcessingInstruction,this.target=this.stringify.insTarget(e),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}n=t("./NodeType"),i=t("./XMLCharacterData"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},r)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],151:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text. "+this.debugInfo());this.type=n.Raw,this.value=this.stringify.raw(e)}n=t("./NodeType"),i=t("./XMLNode"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},r)}).call(this)},{"./NodeType":126,"./XMLNode":148}],152:[function(t,e,n){(function(){var n,i,o,r={}.hasOwnProperty;function s(t,e){this.stream=t,s.__super__.constructor.call(this,e)}n=t("./NodeType"),o=t("./XMLWriterBase"),i=t("./WriterState"),e.exports=(function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,o),s.prototype.endline=function(t,e,n){return t.isLastRootNode&&e.state===i.CloseTag?"":s.__super__.endline.call(this,t,e,n)},s.prototype.document=function(t,e){for(var n,i,o,r,s,a,l=t.children,d=i=0,c=l.length;i<c;d=++i)(n=l[d]).isLastRootNode=d===t.children.length-1;for(e=this.filterOptions(e),a=[],o=0,r=(s=t.children).length;o<r;o++)n=s[o],a.push(this.writeChildNode(n,e,0));return a},s.prototype.attribute=function(t,e,n){return this.stream.write(s.__super__.attribute.call(this,t,e,n))},s.prototype.cdata=function(t,e,n){return this.stream.write(s.__super__.cdata.call(this,t,e,n))},s.prototype.comment=function(t,e,n){return this.stream.write(s.__super__.comment.call(this,t,e,n))},s.prototype.declaration=function(t,e,n){return this.stream.write(s.__super__.declaration.call(this,t,e,n))},s.prototype.docType=function(t,e,n){var o,r,s,a;if(n=n||0,this.openNode(t,e,n),e.state=i.OpenTag,this.stream.write(this.indent(t,e,n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,n)),e.state=i.InsideTag,r=0,s=(a=t.children).length;r<s;r++)o=a[r],this.writeChildNode(o,e,n+1);e.state=i.CloseTag,this.stream.write("]")}return e.state=i.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,n)),e.state=i.None,this.closeNode(t,e,n)},s.prototype.element=function(t,e,o){var s,a,l,d,c,u,h,p,f;for(h in o=o||0,this.openNode(t,e,o),e.state=i.OpenTag,this.stream.write(this.indent(t,e,o)+"<"+t.name),p=t.attribs)r.call(p,h)&&(s=p[h],this.attribute(s,e,o));if(d=0===(l=t.children.length)?null:t.children[0],0===l||t.children.every((function(t){return(t.type===n.Text||t.type===n.Raw)&&""===t.value})))e.allowEmpty?(this.stream.write(">"),e.state=i.CloseTag,this.stream.write("</"+t.name+">")):(e.state=i.CloseTag,this.stream.write(e.spaceBeforeSlash+"/>"));else if(!e.pretty||1!==l||d.type!==n.Text&&d.type!==n.Raw||null==d.value){for(this.stream.write(">"+this.endline(t,e,o)),e.state=i.InsideTag,c=0,u=(f=t.children).length;c<u;c++)a=f[c],this.writeChildNode(a,e,o+1);e.state=i.CloseTag,this.stream.write(this.indent(t,e,o)+"</"+t.name+">")}else this.stream.write(">"),e.state=i.InsideTag,e.suppressPrettyCount++,this.writeChildNode(d,e,o+1),e.suppressPrettyCount--,e.state=i.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,e,o)),e.state=i.None,this.closeNode(t,e,o)},s.prototype.processingInstruction=function(t,e,n){return this.stream.write(s.__super__.processingInstruction.call(this,t,e,n))},s.prototype.raw=function(t,e,n){return this.stream.write(s.__super__.raw.call(this,t,e,n))},s.prototype.text=function(t,e,n){return this.stream.write(s.__super__.text.call(this,t,e,n))},s.prototype.dtdAttList=function(t,e,n){return this.stream.write(s.__super__.dtdAttList.call(this,t,e,n))},s.prototype.dtdElement=function(t,e,n){return this.stream.write(s.__super__.dtdElement.call(this,t,e,n))},s.prototype.dtdEntity=function(t,e,n){return this.stream.write(s.__super__.dtdEntity.call(this,t,e,n))},s.prototype.dtdNotation=function(t,e,n){return this.stream.write(s.__super__.dtdNotation.call(this,t,e,n))},s)}).call(this)},{"./NodeType":126,"./WriterState":128,"./XMLWriterBase":156}],153:[function(t,e,n){(function(){var n,i={}.hasOwnProperty;function o(t){o.__super__.constructor.call(this,t)}n=t("./XMLWriterBase"),e.exports=(function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(o,n),o.prototype.document=function(t,e){var n,i,o,r,s;for(e=this.filterOptions(e),r="",i=0,o=(s=t.children).length;i<o;i++)n=s[i],r+=this.writeChildNode(n,e,0);return e.pretty&&r.slice(-e.newline.length)===e.newline&&(r=r.slice(0,-e.newline.length)),r},o)}).call(this)},{"./XMLWriterBase":156}],154:[function(t,e,n){(function(){function t(t,e){return function(){return t.apply(e,arguments)}}var n={}.hasOwnProperty;function i(e){var i,o,r;for(i in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e=e||{},this.options=e,this.options.version||(this.options.version="1.0"),o=e.stringify||{})n.call(o,i)&&(r=o[i],this[i]=r)}e.exports=(i.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},i.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},i.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},i.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},i.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},i.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},i.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},i.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},i.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},i.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},i.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(t){var e,n;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+n.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+n.index);return t},i.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},i.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},i.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},i)}).call(this)},{}],155:[function(t,e,n){(function(){var n,i,o={}.hasOwnProperty;function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=n.Text,this.value=this.stringify.text(e)}n=t("./NodeType"),i=t("./XMLCharacterData"),e.exports=(function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,i),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){for(var t,e="",n=this.previousSibling;n;)e=n.data+e,n=n.previousSibling;for(e+=this.data,t=this.nextSibling;t;)e+=t.data,t=t.nextSibling;return e}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},r.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],156:[function(t,e,n){(function(){var n,i,o,r={}.hasOwnProperty;function s(t){var e,n,i;for(e in t=t||{},n=(this.options=t).writer||{})r.call(n,e)&&(i=n[e],this["_"+e]=this[e],this[e]=i)}o=t("./Utility").assign,n=t("./NodeType"),t("./XMLDeclaration"),t("./XMLDocType"),t("./XMLCData"),t("./XMLComment"),t("./XMLElement"),t("./XMLRaw"),t("./XMLText"),t("./XMLProcessingInstruction"),t("./XMLDummy"),t("./XMLDTDAttList"),t("./XMLDTDElement"),t("./XMLDTDEntity"),t("./XMLDTDNotation"),i=t("./WriterState"),e.exports=(s.prototype.filterOptions=function(t){var e,n;return t=t||{},t=o({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(n=t.indent)?n:"  ",e.newline=null!=(n=t.newline)?n:"\n",e.offset=null!=(n=t.offset)?n:0,e.dontPrettyTextNodes=null!=(n=null!=(n=t.dontPrettyTextNodes)?n:t.dontprettytextnodes)?n:0,e.spaceBeforeSlash=null!=(t=null!=(n=t.spaceBeforeSlash)?n:t.spacebeforeslash)?t:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=i.None,e},s.prototype.indent=function(t,e,n){var i;return e.pretty&&!e.suppressPrettyCount&&e.pretty&&0<(i=(n||0)+e.offset+1)?new Array(i).join(e.indent):""},s.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},s.prototype.attribute=function(t,e,n){var i;return this.openAttribute(t,e,n),i=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),i},s.prototype.cdata=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<![CDATA[",e.state=i.InsideTag,o+=t.value,e.state=i.CloseTag,o+="]]>"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.comment=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"\x3c!-- ",e.state=i.InsideTag,o+=t.value,e.state=i.CloseTag,o+=" --\x3e"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.declaration=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<?xml",e.state=i.InsideTag,o+=' version="'+t.version+'"',null!=t.encoding&&(o+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(o+=' standalone="'+t.standalone+'"'),e.state=i.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.docType=function(t,e,n){var o,r,s,a,l;if(n=n||0,this.openNode(t,e,n),e.state=i.OpenTag,a=this.indent(t,e,n),a+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(a+=' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(a+=" [",a+=this.endline(t,e,n),e.state=i.InsideTag,r=0,s=(l=t.children).length;r<s;r++)o=l[r],a+=this.writeChildNode(o,e,n+1);e.state=i.CloseTag,a+="]"}return e.state=i.CloseTag,a+=e.spaceBeforeSlash+">",a+=this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),a},s.prototype.element=function(t,e,o){var s,a,l,d,c,u,h,p,f,b,g,m,y,v;for(f in o=o||0,b=!1,g="",this.openNode(t,e,o),e.state=i.OpenTag,g+=this.indent(t,e,o)+"<"+t.name,m=t.attribs)r.call(m,f)&&(s=m[f],g+=this.attribute(s,e,o));if(d=0===(l=t.children.length)?null:t.children[0],0===l||t.children.every((function(t){return(t.type===n.Text||t.type===n.Raw)&&""===t.value})))e.allowEmpty?(g+=">",e.state=i.CloseTag,g+="</"+t.name+">"+this.endline(t,e,o)):(e.state=i.CloseTag,g+=e.spaceBeforeSlash+"/>"+this.endline(t,e,o));else if(!e.pretty||1!==l||d.type!==n.Text&&d.type!==n.Raw||null==d.value){if(e.dontPrettyTextNodes)for(c=0,h=(y=t.children).length;c<h;c++)if(((a=y[c]).type===n.Text||a.type===n.Raw)&&null!=a.value){e.suppressPrettyCount++,b=!0;break}for(g+=">"+this.endline(t,e,o),e.state=i.InsideTag,u=0,p=(v=t.children).length;u<p;u++)a=v[u],g+=this.writeChildNode(a,e,o+1);e.state=i.CloseTag,g+=this.indent(t,e,o)+"</"+t.name+">",b&&e.suppressPrettyCount--,g+=this.endline(t,e,o),e.state=i.None}else g+=">",e.state=i.InsideTag,e.suppressPrettyCount++,b=!0,g+=this.writeChildNode(d,e,o+1),e.suppressPrettyCount--,b=!1,e.state=i.CloseTag,g+="</"+t.name+">"+this.endline(t,e,o);return this.closeNode(t,e,o),g},s.prototype.writeChildNode=function(t,e,i){switch(t.type){case n.CData:return this.cdata(t,e,i);case n.Comment:return this.comment(t,e,i);case n.Element:return this.element(t,e,i);case n.Raw:return this.raw(t,e,i);case n.Text:return this.text(t,e,i);case n.ProcessingInstruction:return this.processingInstruction(t,e,i);case n.Dummy:return"";case n.Declaration:return this.declaration(t,e,i);case n.DocType:return this.docType(t,e,i);case n.AttributeDeclaration:return this.dtdAttList(t,e,i);case n.ElementDeclaration:return this.dtdElement(t,e,i);case n.EntityDeclaration:return this.dtdEntity(t,e,i);case n.NotationDeclaration:return this.dtdNotation(t,e,i);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},s.prototype.processingInstruction=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<?",e.state=i.InsideTag,o+=t.target,t.value&&(o+=" "+t.value),e.state=i.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.raw=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n),e.state=i.InsideTag,o+=t.value,e.state=i.CloseTag,o+=this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.text=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n),e.state=i.InsideTag,o+=t.value,e.state=i.CloseTag,o+=this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.dtdAttList=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<!ATTLIST",e.state=i.InsideTag,o+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(o+=" "+t.defaultValueType),t.defaultValue&&(o+=' "'+t.defaultValue+'"'),e.state=i.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.dtdElement=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<!ELEMENT",e.state=i.InsideTag,o+=" "+t.name+" "+t.value,e.state=i.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.dtdEntity=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<!ENTITY",e.state=i.InsideTag,t.pe&&(o+=" %"),o+=" "+t.name,t.value?o+=' "'+t.value+'"':(t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.nData&&(o+=" NDATA "+t.nData)),e.state=i.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.dtdNotation=function(t,e,n){var o;return this.openNode(t,e,n),e.state=i.OpenTag,o=this.indent(t,e,n)+"<!NOTATION",e.state=i.InsideTag,o+=" "+t.name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?o+=' PUBLIC "'+t.pubID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),e.state=i.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=i.None,this.closeNode(t,e,n),o},s.prototype.openNode=function(t,e,n){},s.prototype.closeNode=function(t,e,n){},s.prototype.openAttribute=function(t,e,n){},s.prototype.closeAttribute=function(t,e,n){},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLCData":130,"./XMLComment":132,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDummy":145,"./XMLElement":146,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLText":155}],157:[function(t,e,n){(function(){var n=(c=t("./Utility")).assign,i=c.isFunction,o=t("./XMLDOMImplementation"),r=t("./XMLDocument"),s=t("./XMLDocumentCB"),a=t("./XMLStringWriter"),l=t("./XMLStreamWriter"),d=t("./NodeType"),c=t("./WriterState");e.exports.create=function(t,e,i,o){if(null==t)throw new Error("Root element needs a name.");return o=n({},e,i,o),t=(i=new r(o)).element(t),o.headless||(i.declaration(o),null==o.pubID&&null==o.sysID||i.dtd(o)),t},e.exports.begin=function(t,e,n){var o;return i(t)&&(e=(o=[t,e])[0],n=o[1],t={}),e?new s(t,e,n):new r(t)},e.exports.stringWriter=function(t){return new a(t)},e.exports.streamWriter=function(t,e){return new l(t,e)},e.exports.implementation=new o,e.exports.nodeType=d,e.exports.writerState=c}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLDOMImplementation":135,"./XMLDocument":143,"./XMLDocumentCB":144,"./XMLStreamWriter":152,"./XMLStringWriter":153}]},{},[1])(1)},9287:(t,e,n)=>{var i;
/*!
	query-string
	Parse and stringify URL query strings
	https://github.com/sindresorhus/query-string
	by Sindre Sorhus
	MIT License
*/!function(){"use strict";var o={parse:function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""))?t.trim().split("&").reduce((function(t,e){var n=e.replace(/\+/g," ").split("="),i=n[0],o=n[1];return i=decodeURIComponent(i),o=void 0===o?null:decodeURIComponent(o),t.hasOwnProperty(i)?Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o,t}),{}):{}},stringify:function(t){return t?Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)})).join("&"):""}};void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()},624:function(t){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=133)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),o=n(20),r=n(21),s=n(54),a=n(55),l=n(56),d=n(57),c=n(58),u=n(12),h=n(35),p=n(36),f=n(34),b=n(1),g={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:i.default,Format:o.default,Leaf:r.default,Embed:d.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:c.default,Attributor:{Attribute:u.default,Class:h.default,Style:p.default,Store:f.default}};e.default=g},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=r;var s,a={},l={},d={},c={};function u(t,e){var n;if(void 0===e&&(e=s.ANY),"string"==typeof t)n=c[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof t)t&s.LEVEL&s.BLOCK?n=c.block:t&s.LEVEL&s.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var o in i)if(n=l[i[o]])break;n=n||d[t.tagName]}return null==n?null:e&s.LEVEL&n.scope&&e&s.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(t,e){var n=u(t);if(null==n)throw new r("Unable to create "+t+" blot");var i=n,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(e);return new i(o,e)},e.find=function t(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:i?t(n.parentNode,i):null},e.query=u,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var i=e[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new r("Invalid definition");if("abstract"===i.blotName)throw new r("Cannot register abstract class");return c[i.blotName||i.attrName]=i,"string"==typeof i.keyName?a[i.keyName]=i:(null!=i.className&&(l[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(t){return t.toUpperCase()})):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach((function(t){null!=d[t]&&null!=i.className||(d[t]=i)})))),i}},function(t,e,n){var i=n(60),o=n(11),r=n(3),s=n(23),a=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=r(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(i){(t(i)?e:n).push(i)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+s.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+s.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],i=s.iterator(this.ops),o=0;o<e&&i.hasNext();){var r;o<t?r=i.next(t-o):(r=i.next(e-o),n.push(r)),o+=s.length(r)}return new l(n)},l.prototype.compose=function(t){var e=s.iterator(this.ops),n=s.iterator(t.ops),i=[],r=n.peek();if(null!=r&&"number"==typeof r.retain&&null==r.attributes){for(var a=r.retain;"insert"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),i.push(e.next());r.retain-a>0&&n.next(r.retain-a)}for(var d=new l(i);e.hasNext()||n.hasNext();)if("insert"===n.peekType())d.push(n.next());else if("delete"===e.peekType())d.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),u=e.next(c),h=n.next(c);if("number"==typeof h.retain){var p={};"number"==typeof u.retain?p.retain=c:p.insert=u.insert;var f=s.attributes.compose(u.attributes,h.attributes,"number"==typeof u.retain);if(f&&(p.attributes=f),d.push(p),!n.hasNext()&&o(d.ops[d.ops.length-1],p)){var b=new l(e.rest());return d.concat(b).chop()}}else"number"==typeof h.delete&&"number"==typeof u.retain&&d.push(h)}return d.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:a;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),r=new l,d=i(n[0],n[1],e),c=s.iterator(this.ops),u=s.iterator(t.ops);return d.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.INSERT:n=Math.min(u.peekLength(),e),r.push(u.next(n));break;case i.DELETE:n=Math.min(e,c.peekLength()),c.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),u.peekLength(),e);var a=c.next(n),l=u.next(n);o(a.insert,l.insert)?r.retain(n,s.attributes.diff(a.attributes,l.attributes)):r.push(l).delete(n)}e-=n}})),r.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var n=s.iterator(this.ops),i=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var r=n.peek(),a=s.length(r)-n.peekLength(),d="string"==typeof r.insert?r.insert.indexOf(e,a)-a:-1;if(d<0)i.push(n.next());else if(d>0)i.push(n.next(d));else{if(!1===t(i,n.next(1).attributes||{},o))return;o+=1,i=new l}}i.length()>0&&t(i,{},o)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=s.iterator(this.ops),i=s.iterator(t.ops),o=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),a=n.next(r),d=i.next(r);if(a.delete)continue;d.delete?o.push(d):o.retain(r,s.attributes.transform(a.attributes,d.attributes,e))}else o.retain(s.length(n.next()));return o.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=s.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<t||!e)&&(t+=o),i+=o):t-=Math.min(o,t-i)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},a=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,o=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!r)return!1;for(e in t);return void 0===e||n.call(t,e)},l=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},d=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(r)return r(t,e).value}return t[e]};t.exports=function t(){var e,n,i,o,r,c,u=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},h=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});h<p;++h)if(null!=(e=arguments[h]))for(n in e)i=d(u,n),u!==(o=d(e,n))&&(f&&o&&(a(o)||(r=s(o)))?(r?(r=!1,c=i&&s(i)?i:[]):c=i&&a(i)?i:{},l(u,{name:n,newValue:t(f,c,o)})):void 0!==o&&l(u,{name:n,newValue:o}));return u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=u(n(3)),s=u(n(2)),a=u(n(0)),l=u(n(18)),d=u(n(6)),c=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=a.default.query(t,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=a.default.create(g.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(a.default.Embed);b.scope=a.default.Scope.BLOCK_BLOT;var g=function(t){function e(t){h(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return f(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),m(e))}),new s.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,r){n<=0||(a.default.query(i,a.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,r):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,r),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var r=n.split("\n"),s=r.shift();s.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;r.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+s.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},r}}]),e}(a.default.Block);function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,r.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:m(t.parent,e))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[d.default,a.default.Embed,c.default],e.bubbleFormats=m,e.BlockEmbed=b,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(59);var s=g(n(2)),a=g(n(16)),l=g(n(8)),d=g(n(9)),c=g(n(0)),u=n(17),h=g(u),p=g(n(3)),f=g(n(10)),b=g(n(43));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(0,f.default)("quill"),v=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_(e,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t){t===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(t,e){var i=n.selection.lastRange,o=i&&0===i.length?i.index:void 0;w.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),f.default.level(t)}},{key:"find",value:function(t){return t.__quill||c.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&y.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach((function(i){n.register(i,t[i],e)}))}else null==this.imports[t]||i||y.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?c.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),r(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,r=x(t,e,n),s=o(r,4);return t=s[0],e=s[1],n=s[3],w.call(this,(function(){return i.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var i=n.getSelection(!0),o=new s.default;if(null==i)return o;if(c.default.query(t,c.default.Scope.BLOCK))o=n.editor.formatLine(i.index,i.length,m({},t,e));else{if(0===i.length)return n.selection.format(t,e),o;o=n.editor.formatText(i.index,i.length,m({},t,e))}return n.setSelection(i,l.default.sources.SILENT),o}),i)}},{key:"formatLine",value:function(t,e,n,i,r){var s,a=this,l=x(t,e,n,i,r),d=o(l,4);return t=d[0],e=d[1],s=d[2],r=d[3],w.call(this,(function(){return a.editor.formatLine(t,e,s)}),r,t,0)}},{key:"formatText",value:function(t,e,n,i,r){var s,a=this,l=x(t,e,n,i,r),d=o(l,4);return t=d[0],e=d[1],s=d[2],r=d[3],w.call(this,(function(){return a.editor.formatText(t,e,s)}),r,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),i=o(n,2);return t=i[0],e=i[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),i=o(n,2);return t=i[0],e=i[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return w.call(this,(function(){return o.editor.insertEmbed(e,n,i)}),r,e)}},{key:"insertText",value:function(t,e,n,i,r){var s,a=this,l=x(t,0,n,i,r),d=o(l,4);return t=d[0],s=d[2],r=d[3],w.call(this,(function(){return a.editor.insertText(t,e,s)}),r,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,r=x(t,e,n),s=o(r,4);return t=s[0],e=s[1],n=s[3],w.call(this,(function(){return i.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){t=new s.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),r=o.ops[o.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),i.compose(o)}),n)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var r=x(e,n,i),s=o(r,4);e=s[0],n=s[1],i=s[3],this.selection.setRange(new u.Range(e,n),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return t=new s.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function _(t,e){if((e=(0,p.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==v.DEFAULTS.theme){if(e.theme=v.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=b.default;var n=(0,p.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=v.import("modules/"+e);return null==n?y.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,p.default)(!0,{},v.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function w(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new s.default;var o=null==n?null:this.getSelection(),r=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==i?o=C(o,a,e):0!==i&&(o=C(o,n,i,e)),this.setSelection(o,l.default.sources.SILENT)),a.length()>0){var d,c,u=[l.default.events.TEXT_CHANGE,a,r,e];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(u)),e!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,u)}return a}function x(t,e,n,o,r){var s={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":i(n))?(s=n,r=o):"string"==typeof n&&(null!=o?s[n]=o:r=n),[t,e,s,r=r||l.default.sources.API]}function C(t,e,n,i){if(null==t)return null;var r=void 0,a=void 0;if(e instanceof s.default){var d=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,i!==l.default.sources.USER)})),c=o(d,2);r=c[0],a=c[1]}else{var h=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&i===l.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),p=o(h,2);r=p[0],a=p[1]}return new u.Range(r,a-r)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=l.default.events,v.sources=l.default.sources,v.version="1.3.7",v.imports={delta:s.default,parchment:c.default,"core/module":d.default,"core/theme":b.default},e.expandConfig=_,e.overload=x,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=a(n(7)),s=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"formatAt",value:function(t,n,i,r){if(e.compare(this.statics.blotName,i)<0&&s.default.query(i,s.default.Scope.BLOT)){var a=this.isolate(t,n);r&&a.wrap(i,r)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),o=e.order.indexOf(n);return i>=0||o>=0?i-o:t===n?0:t<n?-1:1}}]),e}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,r.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(0),r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default.Text);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=s(n(77));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"emit",value:function(){a.log.apply(a,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach((function(e){var i=e.node,o=e.handler;(t.target===i||i.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(r.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};i.DEFAULTS={},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function r(t){if(i.indexOf(t)<=i.indexOf(o)){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(e=console)[t].apply(e,r)}}function s(t){return i.reduce((function(e,n){return e[n]=r.bind(console,n,t),e}),{})}r.level=s.level=function(t){o=t},e.default=s},function(t,e,n){var i=n(37),o=n(62),r=n(63),s=n(71),a=n(72),l=n(76),d=Date.prototype.getTime;function c(t,e,n){var p=n||{};return!!(p.strict?r(t,e):t===e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?p.strict?r(t,e):t==e:function(t,e,n){var r,p;if(typeof t!=typeof e)return!1;if(u(t)||u(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t)!==o(e))return!1;var f=s(t),b=s(e);if(f!==b)return!1;if(f||b)return t.source===e.source&&a(t)===a(e);if(l(t)&&l(e))return d.call(t)===d.call(e);var g=h(t),m=h(e);if(g!==m)return!1;if(g||m){if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(typeof t!=typeof e)return!1;try{var y=i(t),v=i(e)}catch(t){return!1}if(y.length!==v.length)return!1;for(y.sort(),v.sort(),r=y.length-1;r>=0;r--)if(y[r]!=v[r])return!1;for(r=y.length-1;r>=0;r--)if(!c(t[p=y[r]],e[p],n))return!1;return!0}(t,e,p))}function u(t){return null==t}function h(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|o:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";var i=n(37),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,l=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),d=function(t,e,n,i){var o;(!(e in t)||"function"==typeof(o=i)&&"[object Function]"===r.call(o)&&i())&&(l?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},r=i(e);o&&(r=s.call(r,Object.getOwnPropertySymbols(e)));for(var a=0;a<r.length;a+=1)d(t,r[a],e[r[a]],n[r[a]])};c.supportsDescriptors=!!l,t.exports=c},function(t,e,n){"use strict";var i=n(65);t.exports=Function.prototype.bind||i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=u(n(2)),a=u(n(0)),l=u(n(4)),d=u(n(6)),c=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),e}(d.default);b.blotName="code",b.tagName="CODE";var g=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new s.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(c.default,this.length()-1),s=i(o,1)[0];null!=s&&s.deleteAt(s.length()-1,1),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,o){if(0!==n&&null!=a.default.query(i,a.default.Scope.BLOCK)&&(i!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var r=this.newlineIndex(t);if(!(r<0||r>=t+n)){var s=this.newlineIndex(t,!0)+1,l=r-s+1,d=this.isolate(s,l),c=d.next;d.format(i,o),c instanceof e&&c.formatAt(0,t-s+n-l,i,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(c.default,t),r=i(o,2),s=r[0],a=r[1];s.insertAt(a,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=a.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof a.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",e.Code=b,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=m(n(2)),a=m(n(23)),l=m(n(0)),d=m(n(15)),c=m(n(27)),u=n(4),h=m(u),p=m(n(18)),f=m(n(24)),b=m(n(11)),g=m(n(3));function m(t){return t&&t.__esModule?t:{default:t}}var y=/^[ -~]*$/,v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return r(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,f.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,f.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new s.default)}(t)).reduce((function(t,s){var d=s.retain||s.delete||s.insert.length||1,c=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var p=s.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),t>=r&&!p.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,p);var f=e.scroll.line(t),b=o(f,2),m=b[0],y=b[1],v=(0,g.default)({},(0,u.bubbleFormats)(m));if(m instanceof h.default){var _=m.descendant(l.default.Leaf,y),w=o(_,1)[0];v=(0,g.default)(v,(0,u.bubbleFormats)(w))}c=a.default.attributes.diff(v,c)||{}}else if("object"===i(s.insert)){var x=Object.keys(s.insert)[0];if(null==x)return t;e.scroll.insertAt(t,x,s.insert[x])}r+=d}return Object.keys(c).forEach((function(n){e.scroll.formatAt(t,d,n,c[n])})),t+d}),0),t.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var r=n.scroll.lines(t,Math.max(e,1)),s=e;r.forEach((function(e){var r=e.length();if(e instanceof d.default){var a=t-e.offset(n.scroll),l=e.newlineIndex(a+s)-a+1;e.formatAt(a,l,o,i[o])}else e.format(o,i[o]);s-=r}))}})),this.scroll.optimize(),this.update((new s.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(o){n.scroll.formatAt(t,e,o,i[o])})),this.update((new s.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new s.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach((function(t){var e=o(t,1)[0];e instanceof h.default?n.push(e):e instanceof l.default.Leaf&&i.push(e)})):(n=this.scroll.lines(t,e),i=this.scroll.descendants(l.default.Leaf,t,e));var r=[n,i].map((function(t){if(0===t.length)return{};for(var e=(0,u.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,u.bubbleFormats)(n),e)}return e}));return g.default.apply(g.default,r)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach((function(o){n.scroll.formatAt(t,e.length,o,i[o])})),this.update((new s.default).retain(t).insert(e,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===h.default.blotName&&!(t.children.length>1)&&t.children.head instanceof p.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),r=o(i,2),a=r[0],l=r[1],c=0,u=new s.default;null!=a&&(c=a instanceof d.default?a.newlineIndex(l)-l+1:a.length()-l,u=a.delta().slice(l,l+c-1).insert("\n"));var h=this.getContents(t,e+c).diff((new s.default).insert(n).concat(u)),p=(new s.default).retain(t).concat(h);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(y)&&l.default.find(e[0].target)){var o=l.default.find(e[0].target),r=(0,u.bubbleFormats)(o),a=o.offset(this.scroll),d=e[0].oldValue.replace(c.default.CONTENTS,""),h=(new s.default).insert(d),p=(new s.default).insert(o.value());t=(new s.default).retain(a).concat(h.diff(p,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,r):t.push(e)}),new s.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,b.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce((function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n}),{})}e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),s=u(n(24)),a=u(n(11)),l=u(n(8)),d=u(n(10)),c=n(78);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=(0,d.default)("quill:selection"),b=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),this.index=e,this.length=n},g=function(){function t(e,n){var i=this;p(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,r=n.startOffset,s=n.endNode,a=n.endOffset;i.setNativeRange(o,r,s,a)}})),this.update(l.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!r.default.query(t,r.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=r.default.find(n.start.node,!1);if(null==i)return;if(i instanceof r.default.Leaf){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,r=this.scroll.leaf(t),s=i(r,2),a=s[0],l=s[1];if(null==a)return null;var d=a.position(l,!0),c=i(d,2);o=c[0],l=c[1];var u=document.createRange();if(e>0){u.setStart(o,l);var h=this.scroll.leaf(t+e),p=i(h,2);if(a=p[0],l=p[1],null==a)return null;var f=a.position(l,!0),b=i(f,2);return o=b[0],l=b[1],u.setEnd(o,l),u.getBoundingClientRect()}var g="left",m=void 0;return o instanceof Text?(l<o.data.length?(u.setStart(o,l),u.setEnd(o,l+1)):(u.setStart(o,l-1),u.setEnd(o,l),g="right"),m=u.getBoundingClientRect()):(m=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:m.top+m.height,height:m.height,left:m[g],right:m[g],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var t=null;if(this.root.getRootNode()&&this.root.getRootNode()instanceof ShadowRoot)t=(0,c.getRange)(this.root.getRootNode());else{var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;t=e.getRangeAt(0)}if(null==t)return null;var n=this.normalizeNative(t);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map((function(t){var n=i(t,2),o=n[0],s=n[1],a=r.default.find(o,!0),l=a.offset(e.scroll);return 0===s?l:a instanceof r.default.Container?l+a.length():l+a.index(o,s)})),s=Math.min(Math.max.apply(Math,h(o)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(h(o)));return new b(a,s-a)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],r=this.scroll.length();return n.forEach((function(t,n){t=Math.min(r-1,t);var s,a=e.scroll.leaf(t),l=i(a,2),d=l[0],c=l[1],u=d.position(c,0!==n),h=i(u,2);s=h[0],c=h[1],o.push(s,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,r=this.scroll.line(Math.min(e.index,o)),s=i(r,1)[0],a=s;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,o));a=i(l,1)[0]}if(null!=s&&null!=a){var d=t.getBoundingClientRect();n.top<d.top?t.scrollTop-=d.top-n.top:n.bottom>d.bottom&&(t.scrollTop+=n.bottom-d.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=t){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;(null==s||o||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||i!==s.endOffset)&&("BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode),(0,c.setRange)(this.root,r,t,e,n,i))}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(n=e,e=!1),f.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,h(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),o=i(n,2),r=o[0],d=o[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(e,this.lastRange)){var c;!this.composing&&null!=d&&d.native.collapsed&&d.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(e),t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),t}();function m(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=b,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(0),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default.Embed);a.blotName="break",a.tagName="BR",e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),s=n(33),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=d(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof a.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var i=this.children.find(n),o=i[0],r=i[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,r]:o instanceof e?o.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],r=i;return this.children.forEachAt(n,i,(function(n,i,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,i,r))),r-=s})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,i)}))},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),o=i[0],r=i[1];if(o)o.insertAt(r,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),o=i[0],r=i[1],s=[[this,t]];return o instanceof e?s.concat(o.path(r,n)):(null!=o&&s.push([o,r]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,i,o){t=t.split(i,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],o=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),i.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var i=d(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}))},e}(s.default);function d(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),s=n(34),a=n(19),l=n(1),d=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new s.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=l.query(t);n instanceof r.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===i.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,i){var o=t.prototype.wrap.call(this,n,i);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(a.default);e.default=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(33),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=s.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){"use strict";(function(e){var i=e.Symbol,o=n(68);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&o()}}).call(e,n(67))},function(t,e,n){var i=n(11),o=n(3),r={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=o(!0,{},e);for(var r in n||(i=Object.keys(i).reduce((function(t,e){return null!=i[e]&&(t[e]=i[e]),t}),{})),t)void 0!==t[r]&&void 0===e[r]&&(i[r]=t[r]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,o){return i(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce((function(n,i){return void 0===t[i]&&(n[i]=e[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new s(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function s(t){this.ops=t,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=r.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t.exports=r},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{i=Promise}catch(t){i=function(){}}function o(r,a,l,d,c){"object"==typeof a&&(l=a.depth,d=a.prototype,c=a.includeNonEnumerable,a=a.circular);var u=[],h=[],p="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===l&&(l=1/0),function r(l,f){if(null===l)return null;if(0===f)return l;var b,g;if("object"!=typeof l)return l;if(t(l,e))b=new e;else if(t(l,n))b=new n;else if(t(l,i))b=new i((function(t,e){l.then((function(e){t(r(e,f-1))}),(function(t){e(r(t,f-1))}))}));else if(o.__isArray(l))b=[];else if(o.__isRegExp(l))b=new RegExp(l.source,s(l)),l.lastIndex&&(b.lastIndex=l.lastIndex);else if(o.__isDate(l))b=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return b=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(b),b;t(l,Error)?b=Object.create(l):void 0===d?(g=Object.getPrototypeOf(l),b=Object.create(g)):(b=Object.create(d),g=d)}if(a){var m=u.indexOf(l);if(-1!=m)return h[m];u.push(l),h.push(b)}for(var y in t(l,e)&&l.forEach((function(t,e){var n=r(e,f-1),i=r(t,f-1);b.set(n,i)})),t(l,n)&&l.forEach((function(t){var e=r(t,f-1);b.add(e)})),l){var v;g&&(v=Object.getOwnPropertyDescriptor(g,y)),v&&null==v.set||(b[y]=r(l[y],f-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var w=_[y];(!(C=Object.getOwnPropertyDescriptor(l,w))||C.enumerable||c)&&(b[w]=r(l[w],f-1),C.enumerable||Object.defineProperty(b,w,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(l);for(y=0;y<x.length;y++){var C,k=x[y];(C=Object.getOwnPropertyDescriptor(l,k))&&C.enumerable||(b[k]=r(l[k],f-1),Object.defineProperty(b,k,{enumerable:!1}))}}return b}(r,l)}function r(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=r,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===r(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===r(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===r(t)},o.__getRegExpFlags=s,o}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=p(n(0)),a=p(n(8)),l=n(4),d=p(l),c=p(n(18)),u=p(n(15)),h=p(n(28));function p(t){return t&&t.__esModule?t:{default:t}}function f(t){return t instanceof d.default||t instanceof l.BlockEmbed}var b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),s=i(o,2),a=s[0],d=s[1],h=this.line(t+n),p=i(h,1)[0];if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=p&&a!==p&&d>0){if(a instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(a instanceof u.default){var f=a.newlineIndex(a.length(),!0);if(f>-1&&(a=a.split(f+1))===p)return void this.optimize()}else if(p instanceof u.default){var b=p.newlineIndex(0);b>-1&&p.split(b+1)}var g=p.children.head instanceof c.default?null:p.children.head;a.moveChildren(p,g),a.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,i,o){(null==this.whitelist||this.whitelist[i])&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==s.default.query(n,s.default.Scope.BLOCK)){var o=s.default.create(this.statics.defaultChild);this.appendChild(o),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,i)}else{var a=s.default.create(n,i);this.appendChild(a)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===s.default.Scope.INLINE_BLOT){var i=s.default.create(this.statics.defaultChild);i.appendChild(t),t=i}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(f,t)}},{key:"lines",value:function(){return function t(e,n,i){var o=[],r=i;return e.children.forEachAt(n,i,(function(e,n,i){f(e)?o.push(e):e instanceof s.default.Container&&(o=o.concat(t(e,n,r))),r-=i})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=a.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,t),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,t)}}}]),e}(s.default.Scroll);b.blotName="scroll",b.className="ql-editor",b.tagName="DIV",b.defaultChild="block",b.allowedChildren=[d.default,l.BlockEmbed,h.default],e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=b(n(24)),a=b(n(11)),l=b(n(3)),d=b(n(2)),c=b(n(23)),u=b(n(0)),h=b(n(5)),p=b(n(10)),f=b(n(9));function b(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=(0,p.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])})),i.addBinding({key:e.keys.ENTER,shiftKey:null},k),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},w),i.addBinding({key:e.keys.DELETE},{collapsed:!0},x)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},C),i.addBinding({key:e.keys.DELETE},{collapsed:!1},C),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"match",value:function(t,e){return e=I(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),r(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=I(t);if(null==i||null==i.key)return m.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,s=(t.bindings[r]||[]).filter((function(t){return e.match(n,t)}));if(0!==s.length){var l=t.quill.getSelection();if(null!=l&&t.quill.hasFocus()){var d=t.quill.getLine(l.index),c=o(d,2),h=c[0],p=c[1],f=t.quill.getLeaf(l.index),b=o(f,2),g=b[0],m=b[1],y=0===l.length?[g,m]:t.quill.getLeaf(l.index+l.length),v=o(y,2),_=v[0],w=v[1],x=g instanceof u.default.Text?g.value().slice(0,m):"",C=_ instanceof u.default.Text?_.value().slice(w):"",k={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:t.quill.getFormat(l),offset:p,prefix:x,suffix:C};s.some((function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==k.format[t]})))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,a.default)(e.format[t],k.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix)||null!=e.suffix&&!e.suffix.test(k.suffix)||!0===e.handler.call(t,l,k))}))&&n.preventDefault()}}}}))}}]),e}(f.default);function _(t,e){var n,i=t===v.keys.LEFT?"prefix":"suffix";return g(n={key:t,shiftKey:e,altKey:null},i,/^$/),g(n,"handler",(function(n){var i=n.index;t===v.keys.RIGHT&&(i+=n.length+1);var r=this.quill.getLeaf(i);return!(o(r,1)[0]instanceof u.default.Embed&&(t===v.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),1))})),n}function w(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=o(n,1)[0],r={};if(0===e.offset){var s=this.quill.getLine(t.index-1),a=o(s,1)[0];if(null!=a&&a.length()>1){var l=i.formats(),d=this.quill.getFormat(t.index-1,1);r=c.default.attributes.diff(l,d)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-u,u,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index-u,u,r,h.default.sources.USER),this.quill.focus()}}function x(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},r=0,s=this.quill.getLine(t.index),a=o(s,1)[0];if(e.offset>=a.length()-1){var l=this.quill.getLine(t.index+1),d=o(l,1)[0];if(d){var u=a.formats(),p=this.quill.getFormat(t.index,1);i=c.default.attributes.diff(u,p)||{},r=d.length()}}this.quill.deleteText(t.index,n,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+r-1,n,i,h.default.sources.USER)}}function C(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),o=e[e.length-1].formats();n=c.default.attributes.diff(o,i)||{}}this.quill.deleteText(t,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,h.default.sources.USER),this.quill.setSelection(t.index,h.default.sources.SILENT),this.quill.focus()}function k(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce((function(t,n){return u.default.query(n,u.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",i,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],h.default.sources.USER))}))}function S(t){return{key:v.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=u.default.query("code-block"),i=e.index,r=e.length,s=this.quill.scroll.descendant(n,i),a=o(s,2),l=a[0],d=a[1];if(null!=l){var c=this.quill.getIndex(l),p=l.newlineIndex(d,!0)+1,f=l.newlineIndex(c+d+r),b=l.domNode.textContent.slice(p,f).split("\n");d=0,b.forEach((function(e,o){t?(l.insertAt(p+d,n.TAB),d+=n.TAB.length,0===o?i+=n.TAB.length:r+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(p+d,n.TAB.length),d-=n.TAB.length,0===o?i-=n.TAB.length:r-=n.TAB.length),d+=e.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(i,r,h.default.sources.SILENT)}}}}function O(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],h.default.sources.USER)}}}function I(t){if("string"==typeof t||"number"==typeof t)return I({key:t});if("object"===(void 0===t?"undefined":i(t))&&(t=(0,s.default)(t,!1)),"string"==typeof t.key)if(null!=v.keys[t.key.toUpperCase()])t.key=v.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[y]=t.shortKey,delete t.shortKey),t}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:O("bold"),italic:O("italic"),underline:O("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,h.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new d.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,h.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,h.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],r=n[1],s=(0,l.default)({},i.formats(),{list:"checked"}),a=(new d.default).retain(t.index).insert("\n",s).retain(i.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=o(n,2),r=i[0],s=i[1],a=(new d.default).retain(t.index).insert("\n",e.format).retain(r.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),r=o(i,2),s=r[0],a=r[1];if(a>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",h.default.sources.USER),this.quill.history.cutoff();var c=(new d.default).retain(t.index-a).delete(n+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,h.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],r=n[1],s=(new d.default).retain(t.index+i.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":_(v.keys.LEFT,!1),"embed left shift":_(v.keys.LEFT,!0),"embed right":_(v.keys.RIGHT,!1),"embed right shift":_(v.keys.RIGHT,!0)}},e.default=v,e.SHORTKEY=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=l(n(0)),a=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"value",value:function(){}}]),r(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var i=this,r=0;null!=i&&i.statics.scope!==s.default.Scope.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=e.CONTENTS.length,i.optimize(),i.formatAt(r,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,r=void 0,l=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var d=[t,n.start.offset,n.end.offset];o=d[0],r=d[1],l=d[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof a.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var u=[r,l].map((function(t){return Math.max(0,Math.min(o.data.length,t-1))})),h=i(u,2);return r=h[0],l=h[1],{startNode:o,startOffset:r,endNode:o,endOffset:l}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(s.default.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(0)),o=n(4),r=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default.Container);a.allowedChildren=[r.default,o.BlockEmbed,a],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(0),a=(i=s)&&i.__esModule?i:{default:i},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),c=new l("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=l,e.ColorClass=d,e.ColorStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(6),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return l(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);function l(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=a,e.sanitize=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(26)),s=a(n(131));function a(t){return t&&t.__esModule?t:{default:t}}var l=0;function d(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case r.default.keys.ENTER:n.togglePicker();break;case r.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case r.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case r.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=s.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(n(0)),o=m(n(5)),r=n(4),s=m(r),a=m(n(18)),l=m(n(28)),d=m(n(27)),c=m(n(44)),u=m(n(6)),h=m(n(25)),p=m(n(7)),f=m(n(79)),b=m(n(51)),g=m(n(26));function m(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":s.default,"blots/block/embed":r.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":d.default,"blots/embed":c.default,"blots/inline":u.default,"blots/scroll":h.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":b.default,"modules/keyboard":g.default}),i.default.register(s.default,a.default,d.default,u.default,h.default,p.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var r=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&o)r.wrap(n,o);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var s=i.create(this.statics.scope);r.wrap(s),s.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?i.create("text",e):i.create(e,n),r=this.split(t);this.parent.insertBefore(o,r)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(35),r=n(36),s=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=o.default.keys(this.domNode),a=r.default.keys(this.domNode);e.concat(n).concat(a).forEach((function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function r(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){r(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(r(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function r(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[r(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[r(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[r(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){"use strict";var i=Array.prototype.slice,o=n(38),r=Object.keys,s=r?function(t){return r(t)}:n(61),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?a(i.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,n){"use strict";var i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},function(t,e,n){"use strict";var i=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!i(t)||!i(e))}},function(t,e,n){"use strict";var i=n(39);t.exports=function(){return"function"==typeof Object.is?Object.is:i}},function(t,e,n){"use strict";var i=Object,o=TypeError;t.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var i=n(41),o=n(13).supportsDescriptors,r=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=r(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=a(n(0)),s=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l="\ufeff",d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(l).join("");if(t===this.leftGuard)if(this.prev instanceof s.default){var o=this.prev.length();this.prev.insertAt(o,i),e={startNode:this.prev.domNode,startOffset:o+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=l,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}}))}}]),e}(r.default.Embed);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,o=n(0),r=(i=o)&&i.__esModule?i:{default:i},s={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new r.default.Attributor.Attribute("align","align",s),l=new r.default.Attributor.Class("align","ql-align",s),d=new r.default.Attributor.Style("align","text-align",s);e.AlignAttribute=a,e.AlignClass=l,e.AlignStyle=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,o=n(0),r=(i=o)&&i.__esModule?i:{default:i},s=n(29),a=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,o=n(0),r=(i=o)&&i.__esModule?i:{default:i},s={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},a=new r.default.Attributor.Attribute("direction","dir",s),l=new r.default.Attributor.Class("direction","ql-direction",s),d=new r.default.Attributor.Style("direction","direction",s);e.DirectionAttribute=a,e.DirectionClass=l,e.DirectionStyle=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(0),a=(i=s)&&i.__esModule?i:{default:i},l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",l),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style),u=new c("font","font-family",l);e.FontStyle=u,e.FontClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,o=n(0),r=(i=o)&&i.__esModule?i:{default:i},s=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=a},function(t,e,n){"use strict";t.exports={align:{"":n(100),center:n(101),right:n(102),justify:n(103)},background:n(104),blockquote:n(105),bold:n(106),clean:n(107),code:n(82),"code-block":n(82),color:n(108),direction:{"":n(109),rtl:n(110)},float:{center:n(111),full:n(112),left:n(113),right:n(114)},formula:n(115),header:{1:n(116),2:n(117)},italic:n(118),image:n(119),indent:{"+1":n(120),"-1":n(121)},link:n(122),list:{ordered:n(123),bullet:n(124),check:n(125)},script:{sub:n(126),super:n(127)},strike:n(128),underline:n(129),video:n(130)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=s(n(0)),r=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(r.default.events.EDITOR_CHANGE,(function(t,e,n,o){t!==r.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&o!==r.default.sources.USER?i.transform(e):i.record(e,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],r.default.sources.USER),this.ignoreChange=!1;var i=l(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(s(n(9)).default);function l(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}(t)&&(n-=1),n}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=a,e.getLastChangeIndex=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=f(n(3)),s=f(n(2)),a=f(n(8)),l=f(n(26)),d=f(n(43)),c=f(n(83)),u=f(n(84)),h=f(n(31)),p=f(n(85));function f(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],w=["1","2","3",!1],x=["small",!1,"large","huge"],C=function(t){function e(t,n){b(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),i}return m(e,t),i(e,[{key:"addModule",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&S(t,y),new u.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&S(t,v,"background"===n?"#ffffff":"#000000"),new c.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?S(t,_):t.classList.contains("ql-header")?S(t,w):t.classList.contains("ql-size")&&S(t,x)),new h.default(t)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(d.default);C.DEFAULTS=(0,r.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new s.default).retain(i.index).delete(i.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(i.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(t){function e(t,n){b(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return m(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,a.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!n)break;var o=this.quill.getSelection(!0);if(null!=o){var r=o.index+o.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(p.default);function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)}))}e.BaseTooltip=k,e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,i=this.iterator();n=i();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i,o=this.find(t),r=o[0],s=t-o[1],a=this.iterator(r);(i=a())&&s<t+e;){var l=i.length();t>s?n(i,t-s,Math.min(e,s+l-t)):n(i,0,Math.min(l,t+e-s)),s+=l}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,i=this.iterator();n=i();)e=t(e,n);return e},t}();e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),s=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,o){this.update(),t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[s.DATA_KEY].mutations&&(t.domNode[s.DATA_KEY].mutations=[]),e&&a(t.parent))},l=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof r.default&&t.children.forEach(l),t.optimize(n))},d=e,c=0;d.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach((function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=s.find(t,!1);a(e,!1),e instanceof r.default&&e.children.forEach((function(t){a(t,!1)}))}))):"attributes"===t.type&&a(e.prev)),a(e))})),this.children.forEach(l),o=(d=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=s.find(t.target,!0);return null==e?null:null==e.domNode[s.DATA_KEY].mutations?(e.domNode[s.DATA_KEY].mutations=[t],e):(e.domNode[s.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==i&&null!=t.domNode[s.DATA_KEY]&&t.update(t.domNode[s.DATA_KEY].mutations||[],n)})),null!=this.domNode[s.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r.default);e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach((function(t){t instanceof r.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,i,o){null!=this.formats()[i]||s.query(i,s.Scope.ATTRIBUTE)?this.isolate(e,n).format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(r.default);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var i=s.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,o){null!=s.query(i,s.Scope.BLOCK)?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=s.query(n,s.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var o=this.split(e),r=s.create(n,i);o.parent.insertBefore(r,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(r.default);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,o){0===e&&n===this.length()?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(21).default);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=s.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,i=1,o=0;function r(t,e,c){if(t==e)return t?[[o,t]]:[];(c<0||t.length<c)&&(c=null);var h=a(t,e),p=t.substring(0,h);h=l(t=t.substring(h),e=e.substring(h));var f=t.substring(t.length-h),b=function(t,e){var d;if(!t)return[[i,e]];if(!e)return[[n,t]];var c=t.length>e.length?t:e,u=t.length>e.length?e:t,h=c.indexOf(u);if(-1!=h)return d=[[i,c.substring(0,h)],[o,u],[i,c.substring(h+u.length)]],t.length>e.length&&(d[0][0]=d[2][0]=n),d;if(1==u.length)return[[n,t],[i,e]];var p=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function o(t,e,n){for(var i,o,r,s,d=t.substring(n,n+Math.floor(t.length/4)),c=-1,u="";-1!=(c=e.indexOf(d,c+1));){var h=a(t.substring(n),e.substring(c)),p=l(t.substring(0,n),e.substring(0,c));u.length<p+h&&(u=e.substring(c-p,c)+e.substring(c,c+h),i=t.substring(0,n-p),o=t.substring(n+h),r=e.substring(0,c-p),s=e.substring(c+h))}return 2*u.length>=t.length?[i,o,r,s,u]:null}var r,s,d,c,u,h=o(n,i,Math.ceil(n.length/4)),p=o(n,i,Math.ceil(n.length/2));if(!h&&!p)return null;r=p?h&&h[4].length>p[4].length?h:p:h,t.length>e.length?(s=r[0],d=r[1],c=r[2],u=r[3]):(c=r[0],u=r[1],s=r[2],d=r[3]);var f=r[4];return[s,d,c,u,f]}(t,e);if(p){var f=p[0],b=p[1],g=p[2],m=p[3],y=p[4],v=r(f,g),_=r(b,m);return v.concat([[o,y]],_)}return function(t,e){for(var o=t.length,r=e.length,a=Math.ceil((o+r)/2),l=a,d=2*a,c=new Array(d),u=new Array(d),h=0;h<d;h++)c[h]=-1,u[h]=-1;c[l+1]=0,u[l+1]=0;for(var p=o-r,f=p%2!=0,b=0,g=0,m=0,y=0,v=0;v<a;v++){for(var _=-v+b;_<=v-g;_+=2){for(var w=l+_,x=(I=_==-v||_!=v&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-_;I<o&&x<r&&t.charAt(I)==e.charAt(x);)I++,x++;if(c[w]=I,I>o)g+=2;else if(x>r)b+=2;else if(f&&(S=l+p-_)>=0&&S<d&&-1!=u[S]&&I>=(k=o-u[S]))return s(t,e,I,x)}for(var C=-v+m;C<=v-y;C+=2){for(var k,S=l+C,O=(k=C==-v||C!=v&&u[S-1]<u[S+1]?u[S+1]:u[S-1]+1)-C;k<o&&O<r&&t.charAt(o-k-1)==e.charAt(r-O-1);)k++,O++;if(u[S]=k,k>o)y+=2;else if(O>r)m+=2;else if(!f){var I;if((w=l+p-C)>=0&&w<d&&-1!=c[w])if(x=l+(I=c[w])-w,I>=(k=o-k))return s(t,e,I,x)}}}return[[n,t],[i,e]]}(t,e)}(t=t.substring(0,t.length-h),e=e.substring(0,e.length-h));return p&&b.unshift([o,p]),f&&b.push([o,f]),d(b),null!=c&&(b=function(t,e){var i=function(t,e){if(0===e)return[o,t];for(var i=0,r=0;r<t.length;r++){var s=t[r];if(s[0]===n||s[0]===o){var a=i+s[1].length;if(e===a)return[r+1,t];if(e<a){t=t.slice();var l=e-i,d=[s[0],s[1].slice(0,l)],c=[s[0],s[1].slice(l)];return t.splice(r,1,d,c),[r+1,t]}i=a}}throw new Error("cursor_pos is out of bounds!")}(t,e),r=i[1],s=i[0],a=r[s],l=r[s+1];if(null==a)return t;if(a[0]!==o)return t;if(null!=l&&a[1]+l[1]===l[1]+a[1])return r.splice(s,2,l,a),u(r,s,2);if(null!=l&&0===l[1].indexOf(a[1])){r.splice(s,2,[l[0],a[1]],[0,a[1]]);var d=l[1].slice(a[1].length);return d.length>0&&r.splice(s+2,0,[l[0],d]),u(r,s,3)}return t}(b,c)),b=function(t){for(var e=!1,r=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},s=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},a=2;a<t.length;a+=1)t[a-2][0]===o&&s(t[a-2][1])&&t[a-1][0]===n&&r(t[a-1][1])&&t[a][0]===i&&r(t[a][1])&&(e=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));if(!e)return t;var l=[];for(a=0;a<t.length;a+=1)t[a][1].length>0&&l.push(t[a]);return l}(b)}function s(t,e,n,i){var o=t.substring(0,n),s=e.substring(0,i),a=t.substring(n),l=e.substring(i),d=r(o,s),c=r(a,l);return d.concat(c)}function a(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(r,o)==e.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(t.length-o,t.length-r)==e.substring(e.length-o,e.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function d(t){t.push([o,""]);for(var e,r=0,s=0,c=0,u="",h="";r<t.length;)switch(t[r][0]){case i:c++,h+=t[r][1],r++;break;case n:s++,u+=t[r][1],r++;break;case o:s+c>1?(0!==s&&0!==c&&(0!==(e=a(h,u))&&(r-s-c>0&&t[r-s-c-1][0]==o?t[r-s-c-1][1]+=h.substring(0,e):(t.splice(0,0,[o,h.substring(0,e)]),r++),h=h.substring(e),u=u.substring(e)),0!==(e=l(h,u))&&(t[r][1]=h.substring(h.length-e)+t[r][1],h=h.substring(0,h.length-e),u=u.substring(0,u.length-e))),0===s?t.splice(r-c,s+c,[i,h]):0===c?t.splice(r-s,s+c,[n,u]):t.splice(r-s-c,s+c,[n,u],[i,h]),r=r-s-c+(s?1:0)+(c?1:0)+1):0!==r&&t[r-1][0]==o?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,c=0,s=0,u="",h=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(r=1;r<t.length-1;)t[r-1][0]==o&&t[r+1][0]==o&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),p=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),p=!0)),r++;p&&d(t)}var c=r;function u(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var o=t[i],r=t[i+1];o[0]===r[1]&&t.splice(i,2,[o[0],o[1]+r[1]])}return t}c.INSERT=i,c.DELETE=n,c.EQUAL=o,t.exports=c},function(t,e,n){"use strict";var i;if(!Object.keys){var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=n(38),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),d=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();i=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===r.call(t),i=s(t),a=e&&"[object String]"===r.call(t),h=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=d&&n;if(a&&t.length>0&&!o.call(t,0))for(var b=0;b<t.length;++b)h.push(String(b));if(i&&t.length>0)for(var g=0;g<t.length;++g)h.push(String(g));else for(var m in t)f&&"prototype"===m||!o.call(t,m)||h.push(String(m));if(l)for(var y=function(t){if("undefined"==typeof window||!p)return u(t);try{return u(t)}catch(t){return!1}}(t),v=0;v<c.length;++v)y&&"constructor"===c[v]||!o.call(t,c[v])||h.push(c[v]);return h}}t.exports=i},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,r=function(t){return!(i&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o.call(t)},s=function(t){return!!r(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o.call(t)&&"[object Function]"===o.call(t.callee)},a=function(){return r(arguments)}();r.isLegacyArguments=s,t.exports=a?r:s},function(t,e,n){"use strict";var i=n(13),o=n(64),r=n(39),s=n(40),a=n(70),l=o(s(),Object);i(l,{getPolyfill:s,implementation:r,shim:a}),t.exports=l},function(t,e,n){"use strict";var i=n(14),o=n(66),r=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||i.call(s,r),l=o("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(){return a(i,s,arguments)};var d=function(){return a(i,r,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d},function(t,e,n){"use strict";var i=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,r=i.call(arguments,1),s=Math.max(0,e.length-r.length),a=[],l=0;l<s;l++)a.push("$"+l);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var o=e.apply(this,r.concat(i.call(arguments)));return Object(o)===o?o:this}return e.apply(t,r.concat(i.call(arguments)))})),e.prototype){var d=function(){};d.prototype=e.prototype,n.prototype=new d,d.prototype=null}return n}},function(t,e,n){"use strict";var i,o=SyntaxError,r=Function,s=TypeError,a=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var d=function(){throw new s},c=l?function(){try{return d}catch(t){try{return l(arguments,"callee").get}catch(t){return d}}}():d,u=n(22)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=a("async function* () {}"),f=p?p.prototype:i,b=f?f.prototype:i,g="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":b?h(b):i,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):i,"%Symbol%":u?Symbol:i,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(14),_=n(69),w=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),C=v.call(Function.call,String.prototype.replace),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g;t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n,i=(n=[],C(t,k,(function(t,e,i,o){n[n.length]=i?C(o,S,"$1"):e||t})),n),r=i.length>0?i[0]:"",a=function(t,e){var n,i=t;if(_(y,i)&&(i="%"+(n=y[i])[0]+"%"),_(m,i)){var r=m[i];if(void 0===r&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new o("intrinsic "+t+" does not exist!")}("%"+r+"%",e),d=a.name,c=a.value,u=!1,h=a.alias;h&&(r=h[0],x(i,w([0,1],h)));for(var p=1,f=!0;p<i.length;p+=1){var b=i[p];if("constructor"!==b&&f||(u=!0),_(m,d="%"+(r+="."+b)+"%"))c=m[d];else if(null!=c){if(l&&p+1>=i.length){var g=l(c,b);if(f=!!g,!e&&!(b in c))throw new s("base intrinsic for "+t+" exists, but the property is not available.");c=f&&"get"in g&&!("originalValue"in g.get)?g.get:c[b]}else f=_(c,b),c=c[b];f&&!u&&(m[d]=c)}}return c}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var i=n(14);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var i=n(40),o=n(13);t.exports=function(){var t=i();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var i,o,r,s,a=n(22)()&&"symbol"==typeof Symbol.toStringTag;if(a){i=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),r={};var l=function(){throw r};s={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var d=Object.prototype.toString,c=Object.getOwnPropertyDescriptor;t.exports=a?function(t){if(!t||"object"!=typeof t)return!1;var e=c(t,"lastIndex");if(!e||!i(e,"value"))return!1;try{o(t,s)}catch(t){return t===r}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===d.call(t)}},function(t,e,n){"use strict";var i=n(13),o=n(73),r=n(41),s=n(42),a=n(75),l=o(r);i(l,{getPolyfill:s,implementation:r,shim:a}),t.exports=l},function(t,e,n){"use strict";var i=n(14),o=n(74),r=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||i.call(s,r),l=o("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(){return a(i,s,arguments)};var d=function(){return a(i,r,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d},function(t,e,n){"use strict";var i,o=TypeError,r=Object.getOwnPropertyDescriptor;if(r)try{r({},"")}catch(t){r=null}var s=function(){throw new o},a=r?function(){try{return s}catch(t){try{return r(arguments,"callee").get}catch(t){return s}}}():s,l=n(22)(),d=Object.getPrototypeOf||function(t){return t.__proto__},c=i,u=i,h=i,p=i,f="undefined"==typeof Uint8Array?i:d(Uint8Array),b={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?d([][Symbol.iterator]()):i,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":i,"%AsyncGenerator%":i,"%AsyncGeneratorFunction%":h,"%AsyncGeneratorPrototype%":i,"%AsyncIteratorPrototype%":p&&l&&Symbol.asyncIterator?p[Symbol.asyncIterator]():i,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?i:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?i:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?i:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?i:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":i,"%GeneratorFunction%":c,"%GeneratorPrototype%":i,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?i:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?i:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?i:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?d(d([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%JSONParse%":"object"==typeof JSON?JSON.parse:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?d((new Map)[Symbol.iterator]()):i,"%MapPrototype%":"undefined"==typeof Map?i:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%PromisePrototype%":"undefined"==typeof Promise?i:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?i:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?i:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?i:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?i:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?d((new Set)[Symbol.iterator]()):i,"%SetPrototype%":"undefined"==typeof Set?i:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?d(""[Symbol.iterator]()):i,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:i,"%SymbolPrototype%":l?Symbol.prototype:i,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":f,"%TypedArrayPrototype%":f?f.prototype:i,"%TypeError%":o,"%TypeErrorPrototype%":o.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?i:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?i:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?i:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?i:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?i:WeakSet.prototype},g=n(14).call(Function.call,String.prototype.replace),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g;t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n,i=(n=[],g(t,m,(function(t,e,i,o){n[n.length]=i?g(o,y,"$1"):e||t})),n),s=function(t,e){if(!(t in b))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===b[t]&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return b[t]}("%"+(i.length>0?i[0]:"")+"%",e),a=1;a<i.length;a+=1)if(null!=s)if(r&&a+1>=i.length){var l=r(s,i[a]);if(!e&&!(i[a]in s))throw new o("base intrinsic for "+t+" exists, but the property is not available.");s=l&&"get"in l&&!("originalValue"in l.get)?l.get:s[i[a]]}else s=s[i[a]];return s}},function(t,e,n){"use strict";var i=n(13).supportsDescriptors,o=n(42),r=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,l=Object.getPrototypeOf,d=/a/;t.exports=function(){if(!i||!l)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=l(d),n=r(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";var i=Date.prototype.getDay,o=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(r?function(t){try{return i.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t,e){var n=i?i+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var r=0,s=o.length,a=new Array(s);r<s;r++)a[r]=o[r].fn;return a},s.prototype.emit=function(t,e,n,o,r,s){var a=i?i+t:t;if(!this._events[a])return!1;var l,d,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,o),!0;case 5:return c.fn.call(c.context,e,n,o,r),!0;case 6:return c.fn.call(c.context,e,n,o,r,s),!0}for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c.fn.apply(c.context,l)}else{var h,p=c.length;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,e);break;case 3:c[d].fn.call(c[d].context,e,n);break;case 4:c[d].fn.call(c[d].context,e,n,o);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];c[d].fn.apply(c[d].context,l)}}return!0},s.prototype.on=function(t,e,n){var o=new r(e,n||this),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var l=0,d=[],c=a.length;l<c;l++)(a[l].fn!==e||r&&!a[l].once||n&&a[l].context!==n)&&d.push(a[l]);d.length?this._events[s]=1===d.length?d[0]:d:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,void 0!==t&&(t.exports=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findCaretFocus=h,e.setRange=function(t,e,n,i,o,r){if(a&&t.getRootNode()instanceof ShadowRoot)e.setBaseAndExtent(n,i,o,r),m.set(t.getRootNode(),y(t)),setTimeout((function(){m.delete(t.getRootNode())}));else{var s=document.createRange();s.setStart(n,i),s.setEnd(o,r),e.removeAllRanges(),e.addRange(s)}},e.getRange=y;var i=!1,o="attachShadow"in Element.prototype&&"getRootNode"in Element.prototype,r=!(!o||!document.createElement("div").attachShadow({mode:"open"}).getSelection),s=window.ShadyDOM&&window.ShadyDOM.inUse,a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,l=!o||s||!r&&!a,d=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|script|source|style|template|track|wbr)$/,c=e.eventName="-shadow-selectionchange",u=[Node.ELEMENT_NODE,Node.TEXT_NODE,Node.DOCUMENT_FRAGMENT_NODE];function h(t,e){if(!e)return null;var n=[],i=function(t){for(var e=0;e<t.length;++e)t[e].shadowRoot&&n.push(t[e].shadowRoot)};for(e instanceof Element&&e.shadowRoot&&n.push(e.shadowRoot),i(e.childNodes);;){var o=n.shift();if(!o)break;for(var r=0;r<o.childNodes.length;++r)if(t.containsNode(o.childNodes[r],!0))return o;i(o.querySelectorAll("*"))}return null}function p(t,e,n){var o,r=e.childNodes;if(!r)return e;for(var s=0;s<r.length;++s){var a=r[n?s:r.length-1-s];if(o=a,u.includes(o.nodeType)){if(i&&console.debug("checking child",a,"IsLeft",n),t.containsNode(a,!0)){if(t.containsNode(a,!1))return i&&console.info("found child",a),a;var l=a instanceof Element?a.localName:"";if(!l||!d.exec(l))return i&&console.info("descending child",a),p(t,a,n)}i&&console.info(e,"does NOT contain",a)}}return e}var f={node:null,offset:-1};function b(t,e,n){for(var i=e;null!=(e=g(e,n))&&e.contains(i););return!!e&&e instanceof Element&&t.containsNode(e,!0)}function g(t,e){if(!e&&t)return t.previousSibling||t.parentNode||null;for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}return null}!function(){if(r||l)return document.addEventListener("selectionchange",(function(){document.dispatchEvent(new CustomEvent(c))})),function(){};var t=!1;document.addEventListener("selectionchange",(function(){if(!t){t=!0;var e=window.getSelection();if(e&&"Caret"===e.type){var n=h(e,e.anchorNode);if(n instanceof window.ShadowRoot){var i=y(n);if(i){var o=i.startContainer,r=i.startOffset;f={node:o,offset:r}}}}document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),window.requestAnimationFrame((function(){t=!1}))}}))}();var m=new Map;function y(t){if(s){var e=document.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}if(l){var n=document.getSelection();return n&&n.containsNode(t,!0)?n.getRangeAt(0):null}if(r){var o=t.getSelection();return o.rangeCount?o.getRangeAt(0):null}var a=m.get(t);if(a)return a;var d=function(t){var e=window.getSelection();if(!e||"None"===e.type)return{range:null,type:"none"};if("Caret"!==e.type&&"Range"!==e.type)throw new TypeError("unexpected type: "+e.type);var n=p(e,t,!0);if(n===t)return i&&console.warn("internal selection bail because leftNode=root"),{range:null,mode:"none"};var o=document.createRange(),r=null,s=void 0;if("Range"===e.type&&(s=function(t,e,n){if("Range"===t.type){var o=function(){return t.toString().length},r=o();i&&console.info('initial selection: "'+t.toString()+'"');var s=void 0;return t.modify("extend","forward","character"),s=o(),i&&console.info('forward selection: "'+t.toString()+'"'),s>r||b(t,n,!0)?(i&&console.info("got forward >, moving right"),t.modify("extend","backward","character"),!0):s<r||!t.containsNode(e)?(i&&console.info("got forward <, moving left"),t.modify("extend","backward","character"),!1):(t.modify("extend","backward","character"),s=o(),i&&console.info('backward selection: "'+t.toString()+'"'),s>r||b(t,e,!1)?(i&&console.info("got backwards >, moving left"),t.modify("extend","forward","character"),!1):s<r||!t.containsNode(n)?(i&&console.info("got backwards <, moving right"),t.modify("extend","forward","character"),!0):void 0)}}(e,n,r=p(e,t,!1)),void 0===s)){o.setStart(n,0);var a=r.childNodes.length;return r instanceof Text&&(a=r.length),o.setEnd(r,a),{range:o,mode:"all"}}var l=e.toString().length,d=0,c=0;if(null===r);else if(r.nodeType===Node.TEXT_NODE){for(var u=r,h=u.textContent||"",g=u.nextSibling,m=h.length-1;m>=0;--m)if(u.splitText(m),e.toString().length!==l){c=m+1;break}for(u.insertData(u.length,h.substr(u.length));u.nextSibling!==g;)u.nextSibling.remove()}if(n.nodeType===Node.TEXT_NODE){var y=n;y!==r&&(y.appendData("?"),e.collapseToStart(),e.modify("extend","right","character"));for(var v=y.textContent||"",_=y.nextSibling,w=y===r?c:v.length-1;w>=0;--w)if(y.splitText(w),""===e.toString()){d=w;break}for(y.insertData(y.length,v.substr(y.length));y.nextSibling!==_;)y.nextSibling.remove();n!==r&&y.deleteData(y.length-1,1),null===r&&(r=n,c=d)}else null===r&&(r=n);return 1===l&&f&&f.node===n&&f.offset>d&&s&&(s=!1),!0===s?(e.collapse(n,d),e.extend(r,c)):!1===s?(e.collapse(r,c),e.extend(n,d)):e.setPosition(n,d),o.setStart(n,d),o.setEnd(r,c),{range:o,mode:"normal"}}(t);return m.set(t,d.range),window.setTimeout((function(){m.delete(t)}),0),i&&console.debug("getRange got",d),d.range}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=v(n(3)),a=v(n(2)),l=v(n(0)),d=v(n(5)),c=v(n(10)),u=v(n(9)),h=n(45),p=n(46),f=v(n(15)),b=n(29),g=n(47),m=n(48),y=n(49);function v(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=(0,c.default)("quill:clipboard"),x="__ql-matcher",C=[[Node.TEXT_NODE,q],[Node.TEXT_NODE,L],["br",function(t,e){return T(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,function(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===E(t).fontStyle&&(n.italic=!0),i.fontWeight&&(E(t).fontWeight.startsWith("bold")||parseInt(E(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=I(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new a.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=l.default.query(t);if(null==n||"list-item"!==n.blotName||!T(e,"\n"))return e;for(var i=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(l.default.query(o)||{}).blotName&&(i+=1),o=o.parentNode;return i<=0?e:e.compose((new a.default).retain(e.length()-1).retain(1,{indent:i}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new a.default}]],k=[h.AlignAttribute,g.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),S=[h.AlignStyle,p.BackgroundStyle,b.ColorStyle,g.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),O=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],C.concat(i.options.matchers).forEach((function(t){var e=o(t,2),r=e[0],s=e[1];(n.matchVisual||s!==F)&&i.addMatcher(r,s)})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(n,_({},f.default.blotName,e[f.default.blotName]))}var i=this.prepareMatching(),r=o(i,2),s=r[0],l=r[1],d=B(this.container,s,l);return T(d,"\n")&&null==d.ops[d.ops.length-1].attributes&&(d=d.compose((new a.default).retain(d.length()-1).delete(1))),w.log("convert",this.container.innerHTML,d),this.container.innerHTML="",d}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,d.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new a.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),d.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new a.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(d.default.sources.SILENT),setTimeout((function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,d.default.sources.USER),e.quill.setSelection(i.length()-n.length,d.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(i){var r=o(i,2),s=r[0],a=r[1];switch(s){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(s),(function(t){t[x]=t[x]||[],t[x].push(a)}))}})),[e,n]}}]),e}(u.default);function I(t,e,n){return"object"===(void 0===e?"undefined":i(e))?Object.keys(e).reduce((function(t,n){return I(t,n,e[n])}),t):t.reduce((function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,s.default)({},_({},e,n),i.attributes))}),new a.default)}function E(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function T(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var o=t.ops[i];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function M(t){if(0===t.childNodes.length)return!1;var e=E(t);return["block","list-item"].indexOf(e.display)>-1}function B(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new a.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(i,o){var r=B(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(r=e.reduce((function(t,e){return e(o,t)}),r),r=(o[x]||[]).reduce((function(t,e){return e(o,t)}),r)),i.concat(r)}),new a.default):new a.default}function P(t,e,n){return I(n,t,!0)}function D(t,e){var n=l.default.Attributor.Attribute.keys(t),i=l.default.Attributor.Class.keys(t),o=l.default.Attributor.Style.keys(t),r={};return n.concat(i).concat(o).forEach((function(e){var n=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(t),r[n.attrName])||(null==(n=k[e])||n.attrName!==e&&n.keyName!==e||(r[n.attrName]=n.value(t)||void 0),null==(n=S[e])||n.attrName!==e&&n.keyName!==e||(n=S[e],r[n.attrName]=n.value(t)||void 0))})),Object.keys(r).length>0&&(e=I(e,r)),e}function A(t,e){var n=l.default.query(t);if(null==n)return e;if(n.prototype instanceof l.default.Embed){var i={},o=n.value(t);null!=o&&(i[n.blotName]=o,e=(new a.default).insert(i,n.formats(t)))}else"function"==typeof n.formats&&(e=I(e,n.blotName,n.formats(t)));return e}function L(t,e){return T(e,"\n")||(M(t)||e.length()>0&&t.nextSibling&&M(t.nextSibling))&&e.insert("\n"),e}function F(t,e){if(M(t)&&null!=t.nextElementSibling&&!T(e,"\n\n")){var n=t.offsetHeight+parseFloat(E(t).marginTop)+parseFloat(E(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function q(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!E(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&M(t.parentNode)||null!=t.previousSibling&&M(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&M(t.parentNode)||null!=t.nextSibling&&M(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}O.DEFAULTS={matchers:[],matchVisual:!0},e.default=O,e.matchAttributor=D,e.matchBlot=A,e.matchNewline=L,e.matchSpacing=F,e.matchText=q},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(6),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);a.blotName="bold",a.tagName=["STRONG","B"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(2)),s=c(n(0)),a=c(n(5)),l=c(n(10)),d=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var h=(0,l.default)("quill:toolbar"),p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(r.options.container)){var s=document.createElement("div");b(s,r.options.container),t.container.parentNode.insertBefore(s,t.container),r.container=s}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach((function(t){r.addHandler(t,r.options.handlers[t])})),[].forEach.call(r.container.querySelectorAll("button, select"),(function(t){r.attach(t)})),r.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e){t===a.default.events.SELECTION_CHANGE&&r.update(e)})),r.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){var t=r.quill.selection.getRange(),e=i(t,1)[0];r.update(e)})),r):(o=h.error("Container required for toolbar",r.options),u(r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,t);if(null==s.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,(function(o){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var d=t.options[t.selectedIndex];l=!d.hasAttribute("selected")&&(d.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),u=i(c,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;e.quill.updateContents((new r.default).retain(u.index).delete(u.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,l)),a.default.sources.USER)}else e.quill.format(n,l,a.default.sources.USER);e.update(u)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var o=i(n,2),r=o[0],s=o[1];if("SELECT"===s.tagName){var a=void 0;if(null==t)a=null;else if(null==e[r])a=s.querySelector("option[selected]");else if(!Array.isArray(e[r])){var l=e[r];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==t)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var d=e[r]===s.getAttribute("value")||null!=e[r]&&e[r].toString()===s.getAttribute("value")||null==e[r]&&!s.getAttribute("value");s.classList.toggle("ql-active",d)}else s.classList.toggle("ql-active",null!=e[r])}))}}]),e}(d.default);function f(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function b(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)f(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)})),t.appendChild(i)}(n,e,i):f(n,e,i)}})),t.appendChild(n)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=s.default.query(e,s.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,a.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",a.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",t,a.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",i+o,a.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,a.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,a.default.sources.USER):this.quill.format("list","unchecked",a.default.sources.USER):this.quill.format("list",t,a.default.sources.USER)}}},e.default=p,e.addControls=b},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(31),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"buildItem",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(31),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),r=0;if(o.right>i.right&&(r=i.right-o.right,this.root.style.left=e+r+"px"),o.left<i.left&&(r=i.left-o.left,this.root.style.left=e+r+"px"),o.bottom>i.bottom){var s=o.bottom-o.top,a=t.bottom-t.top+s;this.root.style.top=n-a+"px",this.root.classList.add("ql-flip")}return r}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=p(n(3)),a=p(n(8)),l=n(52),d=p(l),c=p(n(30)),u=n(17),h=p(n(50));function p(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(t){function e(t,n){f(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return g(e,t),r(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default),this.tooltip=new v(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(d.default);y.DEFAULTS=(0,s.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(t){function e(t,n){f(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return g(e,t),r(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,a.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(e,n,o){if(null!=e){if(0===e.length&&o===a.default.sources.USER){var r=t.quill.scroll.descendant(c.default,e.index),s=i(r,2),l=s[0],d=s[1];if(null!=l){t.linkRange=new u.Range(e.index-d,l.length());var h=c.default.formats(l.domNode);return t.preview.textContent=h,t.preview.setAttribute("href",h),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=L(n(32)),o=n(45),r=n(47),s=n(88),a=L(n(89)),l=L(n(90)),d=n(91),c=L(d),u=n(46),h=n(29),p=n(48),f=n(49),b=L(n(80)),g=L(n(92)),m=L(n(30)),y=L(n(93)),v=L(n(94)),_=L(n(95)),w=L(n(96)),x=L(n(97)),C=n(15),k=L(C),S=L(n(98)),O=L(n(99)),I=L(n(81)),E=L(n(50)),T=L(n(31)),M=L(n(83)),B=L(n(84)),P=L(n(85)),D=L(n(132)),A=L(n(86));function L(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":o.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":s.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":a.default,"formats/code-block":k.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":b.default,"formats/code":C.Code,"formats/italic":g.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":x.default,"formats/list/item":d.ListItem,"modules/formula":S.default,"modules/syntax":O.default,"modules/toolbar":I.default,"themes/bubble":D.default,"themes/snow":A.default,"ui/icons":E.default,"ui/picker":T.default,"ui/icon-picker":B.default,"ui/color-picker":M.default,"ui/tooltip":P.default},!0),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(0),a=(i=s)&&i.__esModule?i:{default:i},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class),d=new l("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(4),r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default);r.blotName="blockquote",r.tagName="blockquote",e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=l(n(0)),s=l(n(4)),a=l(n(28));function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return d(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"format",value:function(t,n){t!==p.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(r.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(s.default);h.blotName="list-item",h.tagName="LI";var p=function(t){function e(t){d(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),o=r.default.find(e.target);"checked"===i?o.format("list","unchecked"):"unchecked"===i&&o.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return u(e,t),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof h)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),r=this.split(i);r.parent.insertBefore(t,r)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=r.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(a.default);p.blotName="list",p.scope=r.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[h],e.ListItem=h,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(80),r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default);r.blotName="italic",r.tagName=["EM","I"],e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(6),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);a.blotName="script",a.tagName=["SUB","SUP"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(6),r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default);r.blotName="strike",r.tagName="S",e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(6),r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default);r.blotName="underline",r.tagName="U",e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(0),a=(i=s)&&i.__esModule?i:{default:i},l=n(30),d=["alt","height","width"],c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,l.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);c.blotName="image",c.tagName="IMG",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},s=n(4),a=n(30),l=(i=a)&&i.__esModule?i:{default:i},d=["height","width"],c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return l.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=l(n(44)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return d(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,null,[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(r.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var p=function(t){function e(){d(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return u(e,t),i(e,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),e}(a.default);e.FormulaBlot=h,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},r=l(n(0)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return d(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(n(15)).default);h.className="ql-syntax";var p=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),f=function(t){function e(t,n){d(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return i.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){i.highlight(),o=null}),i.options.interval)})),i.highlight(),i}return u(e,t),i(e,null,[{key:"register",value:function(){s.default.register(p,!0),s.default.register(h,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=e&&this.quill.setSelection(e,s.default.sources.SILENT)}}}]),e}(a.default);f.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=h,e.CodeToken=p,e.default=f},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(3)),s=u(n(8)),a=n(52),l=u(a),d=n(17),c=u(n(50));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return f(e,t),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),c.default)}}]),e}(l.default);g.DEFAULTS=(0,r.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(t){function e(t,n){h(this,e);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===s.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===s.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var r=i.quill.getLines(e.index,e.length);if(1===r.length)i.position(i.quill.getBounds(e));else{var a=r[r.length-1],l=i.quill.getIndex(a),c=Math.min(a.length()-1,e.index+e.length-l),u=i.quill.getBounds(new d.Range(l,c));i.position(u)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(e,t),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}(a.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=m,e.default=g},function(t,e,n){t.exports=n(87)}]).default},t.exports=e()},9845:(t,e,n)=>{"use strict";n.d(e,{x:()=>D});var i=n(6813),o=n(3885),r=n(233),s=n(4473);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const a=/:host\(:dir\((ltr|rtl)\)\)/g,l=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,d=/:dir\((?:ltr|rtl)\)/,c=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),u=[];let h=null,p="";function f(){p=document.documentElement.getAttribute("dir")}function b(t){if(!t.__autoDirOptOut){t.setAttribute("dir",p)}}function g(){f(),p=document.documentElement.getAttribute("dir");for(let t=0;t<u.length;t++)b(u[t])}const m=(0,s.o)((t=>{c||h||(f(),h=new MutationObserver(g),h.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=(0,r.Q)(t);class n extends e{static _processStyleText(t,n){return t=e._processStyleText.call(this,t,n),!c&&d.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}static _replaceDirInCssText(t){let e=t;return e=e.replace(a,':host([dir="$1"])'),e=e.replace(l,':host([dir="$2"]) $1'),e}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(h&&h.takeRecords().length&&g(),u.push(this),b(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=u.indexOf(this);t>-1&&u.splice(t,1)}}}return n.__activateDir=!1,n}));n(707);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function y(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?y():window.addEventListener("DOMContentLoaded",y);var v=n(7593),_=n(8042),w=n(8373),x=n(6008),C=n(1871),k=n(2019);n(5115);
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const S=window.ShadyDOM,O=window.ShadyCSS;function I(t,e){return(0,k.r)(t).getRootNode()===e}var E=n(7948);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const T="disable-upgrade",M=t=>{for(;t;){const e=Object.getOwnPropertyDescriptor(t,"observedAttributes");if(e)return e.get;t=Object.getPrototypeOf(t.prototype).constructor}return()=>[]};(0,s.o)((t=>{const e=(0,i.SH)(t);let n=M(e);return class extends e{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return n.call(this).concat(T)}_initializeProperties(){this.hasAttribute(T)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(t){return super._canApplyPropertyDefault(t)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(t))}attributeChangedCallback(t,e,n,i){t==T?this.__isUpgradeDisabled&&null==n&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,(0,k.r)(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(t,e,n,i)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}}));var B=n(3120);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const P="disable-upgrade";window.ShadyCSS;const D=(0,s.o)((t=>{const e=(0,o._)((0,i.SH)(t)),n=i.PP?e:m(e),r=M(n),s={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class a extends n{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(t,e,n){(this.__dataAttributes&&this.__dataAttributes[t]||t===P)&&this.attributeChangedCallback(t,e,n,null)}setAttribute(t,e){if(E.j8&&!this._legacyForceObservedAttributes){const n=this.getAttribute(t);super.setAttribute(t,e),this.__attributeReaction(t,n,String(e))}else super.setAttribute(t,e)}removeAttribute(t){if(E.j8&&!this._legacyForceObservedAttributes){const e=this.getAttribute(t);super.removeAttribute(t),this.__attributeReaction(t,e,null)}else super.removeAttribute(t)}static get observedAttributes(){return E.j8&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],(0,B.z2)(this.prototype)),this.__observedAttributes):r.call(this).concat(P)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(t){return super._canApplyPropertyDefault(t)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(t))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(t,e,n,i){e!==n&&(t==P?this.__isUpgradeDisabled&&null==n&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,(0,k.r)(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(t,e,n,i),this.attributeChanged(t,e,n)))}attributeChanged(t,e,n){}_initializeProperties(){if(E.nL&&this.hasAttribute(P))this.__isUpgradeDisabled=!0;else{let t=Object.getPrototypeOf(this);t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))||(this._registered(),t.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),E.j8&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const t=this.attributes;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.__attributeReaction(n.name,null,n.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(t){return this._serializeValue(t)}deserialize(t,e){return this._deserializeValue(t,e)}reflectPropertyToAttribute(t,e,n){this._propertyToAttribute(t,e,n)}serializeValueToAttribute(t,e,n){this._valueToNodeAttribute(n||this,t,e)}extend(t,e){if(!t||!e)return t||e;let n=Object.getOwnPropertyNames(e);for(let i,o=0;o<n.length&&(i=n[o]);o++){let n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}return t}mixin(t,e){for(let n in e)t[n]=e[n];return t}chainObject(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}instanceTemplate(t){let e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}fire(t,e,n){n=n||{},e=null==e?{}:e;let i=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});i.detail=e;let o=n.node||this;return(0,k.r)(o).dispatchEvent(i),i}listen(t,e,n){t=t||this;let i=this.__boundListeners||(this.__boundListeners=new WeakMap),o=i.get(t);o||(o={},i.set(t,o));let r=e+n;o[r]||(o[r]=this._addMethodEventListenerToNode(t,e,n,this))}unlisten(t,e,n){t=t||this;let i=this.__boundListeners&&this.__boundListeners.get(t),o=e+n,r=i&&i[o];r&&(this._removeEventListenerFromNode(t,e,r),i[o]=null)}setScrollDirection(t,e){(0,_.BP)(e||this,s[t]||"auto")}$$(t){return this.root.querySelector(t)}get domHost(){let t=(0,k.r)(this).getRootNode();return t instanceof DocumentFragment?t.host:t}distributeContent(){const t=(0,v.vz)(this);window.ShadyDOM&&t.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return(0,v.vz)(this).getEffectiveChildNodes()}queryDistributedElements(t){return(0,v.vz)(this).queryDistributedElements(t)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let t=this.getEffectiveChildNodes(),e=[];for(let n,i=0;n=t[i];i++)n.nodeType!==Node.COMMENT_NODE&&e.push(n.textContent);return e.join("")}queryEffectiveChildren(t){let e=this.queryDistributedElements(t);return e&&e[0]}queryAllEffectiveChildren(t){return this.queryDistributedElements(t)}getContentChildNodes(t){let e=this.root.querySelector(t||"slot");return e?(0,v.vz)(e).getDistributedNodes():[]}getContentChildren(t){return this.getContentChildNodes(t).filter((function(t){return t.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(t){const e=this;return e!==t&&(0,k.r)(e).contains(t)&&(0,k.r)(e).getRootNode()===(0,k.r)(t).getRootNode()}isLocalDescendant(t){return this.root===(0,k.r)(t).getRootNode()}scopeSubtree(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!S||!O)return null;if(!S.handlesDynamicScoping)return null;const n=O.ScopingShim;if(!n)return null;const i=n.scopeForNode(t),o=(0,k.r)(t).getRootNode(),r=t=>{if(!I(t,o))return;const e=Array.from(S.nativeMethods.querySelectorAll.call(t,"*"));e.push(t);for(let t=0;t<e.length;t++){const r=e[t];if(!I(r,o))continue;const s=n.currentScopeForNode(r);s!==i&&(""!==s&&n.unscopeNode(r,s),n.scopeNode(r,i))}};if(r(t),e){const e=new MutationObserver((t=>{for(let e=0;e<t.length;e++){const n=t[e];for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];e.nodeType===Node.ELEMENT_NODE&&r(e)}}}));return e.observe(t,{childList:!0,subtree:!0}),e}return null}(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}getComputedStyleValue(t){return(window.getComputedStyle(this).getPropertyValue(t)||"").trim()}debounce(t,e,n){return this._debouncers=this._debouncers||{},this._debouncers[t]=w.dx.debounce(this._debouncers[t],n>0?x.Wc.after(n):x.YA,e.bind(this))}isDebouncerActive(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];return!(!e||!e.isActive())}flushDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.flush()}cancelDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.cancel()}async(t,e){return e>0?x.Wc.run(t.bind(this),e):~x.YA.run(t.bind(this))}cancelAsync(t){t<0?x.YA.cancel(~t):x.Wc.cancel(t)}create(t,e){let n=document.createElement(t);if(e)if(n.setProperties)n.setProperties(e);else for(let t in e)n[t]=e[t];return n}elementMatches(t,e){return(0,v.Ku)(e||this,t)}toggleAttribute(t,e){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(e=!n.hasAttribute(t)),e?((0,k.r)(n).setAttribute(t,""),!0):((0,k.r)(n).removeAttribute(t),!1)}toggleClass(t,e,n){n=n||this,1==arguments.length&&(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t)}transform(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}translate3d(t,e,n,i){i=i||this,this.transform("translate3d("+t+","+e+","+n+")",i)}arrayDelete(t,e){let n;if(Array.isArray(t)){if(n=t.indexOf(e),n>=0)return t.splice(n,1)}else{if(n=(0,C.U2)(this,t).indexOf(e),n>=0)return this.splice(t,n,1)}return null}_logger(t,e){switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":console[t](...e)}}_log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("log",e)}_warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("warn",e)}_error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logger("error",e)}_logf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return["[%s::%s]",this.is,t,...n]}}return a.prototype.is="",a}))},2558:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=2558,t.exports=e}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(8042);__webpack_require__(4127);const e={"/preview":{comp:"sb-docgen-preview",mod:"docgen/sb-docgen-preview/DocgenPreview.route.js"}},n={"/le":{comp:"sb-line-editor",mod:"quotes/pages/sb-line-editor/LineEditor.route.js"}},i={"/lookup":{comp:"sb-asset-lookup",mod:"assets/selection/routes/sb-asset-lookup/AssetLookup.route.js"},"/upgrade":{comp:"sb-asset-upgrade",mod:"assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js"}},o={"/helloworld":{comp:"hello-world",mod:"examples/hello-world/HelloWorld.js"}},r={"/lookup":{comp:"sb-contract-lookup",mod:"contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js"}},s={"/lookup":{comp:"sb-subscription-lookup",mod:"subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js"}},a={"/dl":{comp:"sb-dynamic-lookup",mod:"products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js"},"/lookup":{comp:"sb-product-lookup",mod:"products/selection/routes/sb-product-lookup/ProductLookup.route.js"},"/ol":{comp:"sb-option-lookup",mod:"products/config/routes/sb-option-lookup/OptionLookup.route.js"},"/pc":{comp:"sb-product-config",mod:"products/config/routes/sb-product-config/ProductConfig.route.js"}},l={"/lookup":{comp:"sb-favorite-lookup",mod:"favorites/sb-favorite-lookup/FavoriteLookup.route.js"}},d={"/lookup":{comp:"sb-recommendation-lookup",mod:"recommendations/sb-recommendation-lookup/RecommendationLookup.route.js"}};var c=__webpack_require__(1929),u=__webpack_require__(4799);__webpack_require__(1361);class h{static init(t,u,p,f){let b={};return b["/examples"]=o,b["/docgen"]=e,b["/quote"]=n,b["/product"]=a,b["/favorite"]=l,b["/asset"]=i,b["/contract"]=r,b["/subscription"]=s,b["/recommend"]=d,t.allRoutes=b,Promise.all([c.I.init(p),h._initIntlLocale(f.intl,p.locale)])}static _initIntlLocale(t,e){return new Promise((function(n,i){let o=new XMLHttpRequest,r=t+"/locale-data/json/"+e+".json";o.open("GET",r),o.onerror=function(t){i(new Error("Cannot get locale data: "+t))},o.ontimeout=function(t){i(new Error("Timeout for locale data"))},o.onload=function(){if(o.responseText)try{let t=JSON.parse(o.responseText);u.o.addLocaleData(t),Intl&&Intl.__addLocaleData&&Intl.__addLocaleData(JSON.parse(o.responseText)),n(t)}catch(n){var t=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),r=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="There was an error parsing the "+e+" locale. Use a different locale or contact your Salesforce admin.";r.messages=[s],t.show=!1,i(new Error("Cannot parse locale data"))}else{t=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),r=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="The "+e+" locale isn't supported. Use a different locale or contact your Salesforce admin.";r.messages=[s],t.show=!1,i(new Error("Cannot understand locale data: "+o.statusText))}},o.send()}))}}let p=null;(0,t.z2)({name:"hold",deps:["mousedown","mouseup","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["hold"],mouseup:function(t){return this.up(t)},touchend:function(t){return this.up(t.changedTouches[0],t)},up:function(t){return clearTimeout(p),!1},mousedown:function(t){return this.down(t)},touchstart:function(t){return this.down(t.changedTouches[0],t)},down:function(e,n){return p=setTimeout((function(){(0,t.nJ)(e).dispatchEvent(new CustomEvent("hold",{detail:{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:n}}))}),1e3),!1}});var f=__webpack_require__(5178),b=__webpack_require__(6634),g=__webpack_require__(8529);__webpack_require__(4040);window.sb=window.sb||{};let{userSettings:m,userTheme:y,currentPage:v,labels:_,resources:w,vfSessionId:x}=window.__vfsettings||{},C=v.parameters.id||v.parameters.newid||"",k=C.substring(0,15);function S(){const t=document.querySelector("#bodyCell");if(t){const e=document.querySelector("#globalHeaderBar")?166:130,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t.style.minHeight=n-e+"px";const i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t.style.maxWidth=i-12+"px"}}function O(t,e){return new Promise(((n,i)=>{!function o(r){e()?n():r<100?window.setTimeout((function(){o(++r)}),100):i("TIMEOUT: "+t+" not ready after 10 seconds")}(0)}))}function I(){return T().then((t=>{const e=new b.K(t.instanceUrl);document.addEventListener("click",(()=>e.startTransaction()),!0),document.addEventListener("sf-qle-data-changed",(t=>{const n=t.detail&&t.detail.quote&&t.detail.quote.lineItems&&t.detail.quote.lineItems.length;e.addExternalLogMetrics({quoteLine:n||0})}),!0)}))}function E(){return k?T().then((t=>{new b.K(t.instanceUrl).startTransaction();const e=new window.SB.QuoteDAO(m.developerPrefix,t).loadEditorModel(k);f.C.add("LineEditor",k,e,"promise")})):Promise.resolve()}function T(){const t={instanceUrl:m.inCommunity?m.orgUrl:m.orgInstanceUrl};return new g.y(m.developerPrefix).getConnection(t)}window.sb.vfSessionId=x,window.sb.visibilityStateStart=document.visibilityState,window.sb.labels=_,window.sb.mode=Object.freeze({debugMode:m.debugMode}),window.sb.userSettings=m,window.addEventListener("load",S),window.addEventListener("resize",S),function(){const t=navigator.userAgent.match(/Tablet|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Mobi/i),e=navigator.userAgent.match(/Tablet PC/i);t&&!e?document.querySelector("#pw").style.display="block":document.querySelector("#sbPageContainer").classList.add("--desktop")}(),Object.keys(window.sb.labels).forEach((t=>{if(t.includes("&")||t.includes("<")||t.includes(">")){const e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");window.sb.labels[e]=window.sb.labels[t],delete window.sb.labels[t]}})),function(){const t={intl:w.sb_i18n_cldr},e=document.querySelector("#sbPageContainer");if(y){let t=document.head.querySelector("dom-module#sb-common-styles template"),n=t?t.content.querySelector("style"):null;n&&(n.innerText+=window.atob(y));const i=e.shadowRoot.querySelector("#topLevelStyle");i&&(i.innerText+=window.atob(y))}const n=window.sb.pageReady.then((()=>h.init(e,null,m,t))),i=O("JSQC",(()=>window.SB&&window.SB.JSQC)),o=O("JSAR",(()=>window.SB&&window.SB.JSARServices)),r=i.then(I),s=i.then(E);Promise.all([n,i,o,r,s]).then((()=>{document.querySelector("body").removeAttribute("unresolved");const t=window.location.hash;window.location.hash="",e.route=window.location.hash.length>1?window.location.hash.slice(1):t||("true"===v.parameters.selectContract?function(){const t=v.parameters.action;if(t){const e=v.parameters.selectedAssetIds;return"contract/lookup?accId="+C+"&action="+t+"&selectedAssetIds="+e}return C?"contract/lookup?qId="+C:null}():function(){const t=""===v.parameters.cmd?"":"&cmd=".concat(v.parameters.cmd);return C?"quote/le?qId="+C+t:null}())||"/product/search",document.querySelector("#pw").style.display="none";v.parameters.themeDocId&&e.classList.add("showTemplatePreviewMode")}))}()})()})();
//# sourceMappingURL=http://localhost:9000/pkg/main/default/staticresources/bundle.js.map